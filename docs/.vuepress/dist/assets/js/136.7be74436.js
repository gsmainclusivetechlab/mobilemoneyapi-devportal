(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{542:function(t,a,s){"use strict";s.r(a);var e=s(20),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("side-code-panel"),t._v(" "),s("h1",{attrs:{id:"about-use-case-scenarios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#about-use-case-scenarios"}},[t._v("#")]),t._v(" About Use Case Scenarios")]),t._v(" "),s("p",[t._v("The GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.")]),t._v(" "),s("h2",{attrs:{id:"payee-initiated-merchant-payment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payee-initiated-merchant-payment"}},[t._v("#")]),t._v(" Payee-Initiated Merchant Payment")]),t._v(" "),s("p",[t._v("In this example, an asynchronous payment flow is used with a final callback. The merchant initiates the request and will be credited when the payer approves the request.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\n  sequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    participant Payer  \n    Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing"),s("br"),t._v("to the MMP. The MMP will return the Request State object"),s("br"),t._v("to indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object)\n    deactivate Merchant\n    Mobile Money Provider->>Payer: Obtain Customer Authorisation\n    activate Payer\n    Note right of Payer: (2) The Payer is requested to the MMP to"),s("br"),t._v("authorise the payment. This can be"),s("br"),t._v("achieved through a number of means"),s("br"),t._v("including USSD Push and One Time Code."),s("br"),t._v("OpenId can also be used for Payer authorisation.\n    Payer--\x3e>Mobile Money Provider: (Authorised)\n    deactivate Payer\n    activate Merchant\n    Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object)\n    Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the"),s("br"),t._v("transaction has been successfully completed"),s("br"),t._v("by returning the final representation of the"),s("br"),t._v("transaction.\n    Merchant--\x3e>Mobile Money Provider: HTTP 204\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/type/merchantpay\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200.00"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debitParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creditParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RWF"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDcGEr4",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDLNh",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"payee-initiated-merchant-payment-failure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payee-initiated-merchant-payment-failure"}},[t._v("#")]),t._v(" Payee-Initiated Merchant Payment Failure")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[t._v("\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n"),s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    participant Payer  \n    Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing"),s("br"),t._v("to the MMP. The MMP will return the Request State object"),s("br"),t._v("to indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object)\n    deactivate Merchant\n    Mobile Money Provider->>Payer: Obtain Customer Authorisation\n    activate Payer\n    Note right of Payer: (2) The Payer is requested to the MMP to"),s("br"),t._v("authorise the payment. This can be"),s("br"),t._v("achieved through a number of means"),s("br"),t._v("including USSD Push and One Time Code."),s("br"),t._v("OpenId can also be used for Payer authorisation.\n    Payer--\x3e>Mobile Money Provider: (Authorised)\n    deactivate Payer\n    activate Merchant\n    Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object)\n    Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the"),s("br"),t._v("transaction has been successfully completed"),s("br"),t._v("by returning the final representation of the"),s("br"),t._v("transaction.\n    Merchant--\x3e>Mobile Money Provider: HTTP 204\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/type/merchantpay\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200.00"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debitParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creditParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RWF"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("h2",{attrs:{id:"payee-initiated-merchant-payment-using-the-polling-method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payee-initiated-merchant-payment-using-the-polling-method"}},[t._v("#")]),t._v(" Payee-Initiated Merchant Payment using the Polling Method")]),t._v(" "),s("p",[t._v("In this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    participant Payer\n    Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing"),s("br"),t._v("to the MMP. The MMP will return the Request State object"),s("br"),t._v("to indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object)\n    deactivate Merchant      \n    par\n        loop \n            activate Merchant\n            Merchant->>Mobile Money Provider: GET /requeststates/{serverCorrelationId}\n            Note right of Mobile Money Provider: (2) The Merchant polls the MMP for the Request State until the"),s("br"),t._v("transaction is authorised or declined or until the polling limit"),s("br"),t._v("is reached.\n            Mobile Money Provider--\x3e>Merchant: HTTP 200 (Request State Object)\n        end\n    and\n        Mobile Money Provider->>Payer: Obtain Customer Authorisation\n        activate Payer\n        Note right of Payer: (3) The Payer is requested to the MMP to"),s("br"),t._v("authorise the payment. This can be"),s("br"),t._v("achieved through a number of means"),s("br"),t._v("including USSD Push and One Time Code."),s("br"),t._v("OpenId can also be used for Payer"),s("br"),t._v("authorisation.\n        Payer--\x3e>Mobile Money Provider: (Authorised)\n    end\n    deactivate Merchant\n    deactivate Payer\n    deactivate Mobile Money Provider\n    opt\n        activate Mobile Money Provider\n        activate Merchant\n        Merchant->>Mobile Money Provider: GET /transactions/transactionsReference\n        Note right of Mobile Money Provider: (4) The Merchant can use the objectReference returned in the"),s("br"),t._v("Request State to retrieve a representation of the complete"),s("br"),t._v("payment transaction.\n        Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Object)\n    end    \n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/type/merchantpay\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200.00"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debitParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creditParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RWF"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDcGEvL",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDLXR",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"payer-initiated-merchant-payment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payer-initiated-merchant-payment"}},[t._v("#")]),t._v(" Payer-Initiated Merchant Payment")]),t._v(" "),s("p",[t._v("In this example, an asynchronous payment flow is used with a final callback. The payer initiates the request and will be debited upon successful completion of the request.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Payer  \n    participant Mobile Money Provider  \n    participant Merchant\n    Payer->>Mobile Money Provider: POST /transactions/type/merchantpay\n    activate Payer\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the"),s("br"),t._v("payment request for processing to the MMP. The MMP will"),s("br"),t._v("return the Request State object to indicate that the request"),s("br"),t._v("is 'pending'.\n    Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object)\n    deactivate Payer   \n    Mobile Money Provider->>Payer: PUT {Callback URL} (transactions Object)\n    activate Payer\n    Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the"),s("br"),t._v("payment has been successfully completed"),s("br"),t._v("by returning the final representation of the"),s("br"),t._v("transaction.\n    Payer--\x3e>Mobile Money Provider: HTTP 204  \n    deactivate Payer\n    activate Merchant\n    Mobile Money Provider->>Merchant: Notify\n    Note right of Merchant: (3) The MMP notifies the merchant tha the"),s("br"),t._v("payment has successfully compeleted.\n    deactivate Mobile Money Provider\n    deactivate Merchant\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/type/merchantpay\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200.00"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debitParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creditParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RWF"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDcGEvP",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDLXU",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"payer-initiated-merchant-payment-failure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payer-initiated-merchant-payment-failure"}},[t._v("#")]),t._v(" Payer-Initiated Merchant Payment Failure")]),t._v(" "),s("p",[t._v("In this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Payer  \n    participant Mobile Money Provider  \n    participant Merchant\n    Payer->>Mobile Money Provider: POST /transactions/type/merchantpay\n    activate Payer\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the"),s("br"),t._v("payment request for processing to the MMP. The MMP will"),s("br"),t._v("return the Request State object to indicate that the request"),s("br"),t._v("is 'pending'.\n    Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object)\n    deactivate Payer  \n    Mobile Money Provider->>Payer: PUT {Callback URL} (Error Object)\n    activate Payer\n    Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the"),s("br"),t._v("payment has been failed and returns the error"),s("br"),t._v("object detailing the reason for failure.\n    Payer--\x3e>Mobile Money Provider: HTTP 204   \n    deactivate Payer\n    activate Merchant\n    Mobile Money Provider->>Merchant: Notify\n    Note right of Merchant: (3) The MMP notifies the merchant tha the"),s("br"),t._v("payment has failed.\n    deactivate Mobile Money Provider\n    deactivate Merchant\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/type/merchantpay\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200.00"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debitParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creditParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RWF"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("h2",{attrs:{id:"payee-initiated-merchant-payment-using-a-pre-authorised-payment-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#payee-initiated-merchant-payment-using-a-pre-authorised-payment-code"}},[t._v("#")]),t._v(" Payee-Initiated Merchant Payment using a Pre-authorised Payment Code")]),t._v(" "),s("p",[t._v("In this example the /authorisationcodes API is used to obtain a pre-authorised payment code. This in turn is presented by the payer to the merchant who initiates the payment request. Both flows in the diagram result in a callback. This flow is primarily used for payment on delivery use cases.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Payer  \n    participant Merchant\n    participant Mobile Money Provider    \n    Payer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes\n    activate Payer\n    activate Mobile Money Provider \n    Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits"),s("br"),t._v("the request to generate an authorisation code to the"),s("br"),t._v("MMP. The MMP will return the Request State object to"),s("br"),t._v("indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object)\n    Mobile Money Provider->>Payer: PUT {Callback URL} (Authorisation Code Object)\n    Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the"),s("br"),t._v("request has been successfully completed by"),s("br"),t._v("returing the final representation of the"),s("br"),t._v("authorisation code.\n    Payer--\x3e>Mobile Money Provider: HTTP 204\n    deactivate Payer\n    deactivate Mobile Money Provider    \n    Note right of Payer: (3) The Payer communicates the code to the merchant. This"),s("br"),t._v("can be via QR code or by verbally communicating the code. \n    Payer->>Merchant: Communicates Code Verbally or via QR Presentment\n    activate Payer\n    activate Merchant\n    activate Mobile Money Provider \n    Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay\n    Note right of Mobile Money Provider: (4) The Merchant submits the payment request for"),s("br"),t._v("processing to the MMP. The request will contain the"),s("br"),t._v("authorisation code. The MMP will return the Request"),s("br"),t._v("State object to indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object)\n    deactivate Merchant\n    Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object)\n    activate Merchant\n    Note right of Mobile Money Provider: (5) The MMP informs the Merchant that the"),s("br"),t._v("transaction has been successfully completed by"),s("br"),t._v("returning the final representation of the"),s("br"),t._v("transaction.\n    Merchant--\x3e>Mobile Money Provider: HTTP 204\n    deactivate Payer\n    deactivate Merchant\n    deactivate Mobile Money Provider \n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./accounts/accountid/2000/authorisationcodes\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"requestDate"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-07-03T10:43:27.405Z"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GBP"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1000.00"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22222222")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDcGEzm",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDLTA",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"merchant-payment-refund"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#merchant-payment-refund"}},[t._v("#")]),t._v(" Merchant Payment Refund")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("p",[t._v("Merchants can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.")]),t._v(" "),s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    Merchant->>Mobile Money Provider: POST /transactions/type/adjustment\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant submits the refund request for processing to"),s("br"),t._v("the MMP. The MMP will return the Request State object to"),s("br"),t._v("indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object)\n    Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object)\n    Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the"),s("br"),t._v("refund has been successfully completed by"),s("br"),t._v("returning the final representation of the refund.\n    Merchant--\x3e>Mobile Money Provider: HTTP 204\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/type/adjustment\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"200.00"')]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debitParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creditParty"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountid"')]),t._v(",\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2999"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currency"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RWF"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDcGEzq",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDLJG",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"merchant-payment-reversal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#merchant-payment-reversal"}},[t._v("#")]),t._v(" Merchant Payment Reversal")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("p",[t._v("In some failure scenarios, a merchant may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.")]),t._v(" "),s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    Merchant->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant submits the reversal request for processing"),s("br"),t._v("to the MMP - passing the reference of the transaction that"),s("br"),t._v("is to be reversed. The MMP will return the Request State"),s("br"),t._v("object to indicate that the request is 'pending'.\n    Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object)\n    Mobile Money Provider->>Merchant: PUT {Callback URL} (Reversal Object)\n    Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the"),s("br"),t._v("reversal has been successfully completed by"),s("br"),t._v("returning the final representation of the"),s("br"),t._v("reversal transaction.\n    Merchant--\x3e>Mobile Money Provider: HTTP 204\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("POST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-CorrelationID"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your UUID here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Callback-URL"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Please enter your callback URL here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n---\nBody Parameters:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reversal"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDcGF59",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDLJK",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"obtain-a-merchant-balance"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#obtain-a-merchant-balance"}},[t._v("#")]),t._v(" Obtain a Merchant Balance")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) Obtain the balance of the"),s("br"),t._v("requested account.\n    Mobile Money Provider--\x3e>Merchant: HTTP 200 (Balance Object)\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("GET "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./accounts/accountid/2000/balance\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDdiZFV",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoDL9Q",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"retrieve-payments-for-a-merchant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#retrieve-payments-for-a-merchant"}},[t._v("#")]),t._v(" Retrieve Payments for a Merchant")]),t._v(" "),s("p",[t._v("This diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant requests up to"),s("br"),t._v("20 transactions for the"),s("br"),t._v("account from the MMP.\n    Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40)\n    Note right of Mobile Money Provider: (2) The MMP returns an array of"),s("br"),t._v("20 transactions and indicates"),s("br"),t._v("via a response header that"),s("br"),t._v("there are 40 records"),s("br"),t._v("available in total.    \n    Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20\n    Note right of Mobile Money Provider: (3) The Merchant requests the"),s("br"),t._v("remaining transactions for"),s("br"),t._v("the account from the MMP.\n    Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40)\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("GET "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./accounts/accountid/2000/transactions?offset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("limit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n---\nPARAMS:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"offset"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(",\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDdiZFX",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoF1w6",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"check-for-service-availability"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-for-service-availability"}},[t._v("#")]),t._v(" Check for Service Availability")]),t._v(" "),s("p",[t._v("The Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    Merchant->>Mobile Money Provider: GET /heartbeat\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) The Merchant requests the availability"),s("br"),t._v("of the service from the MMP.\n    Mobile Money Provider--\x3e>Merchant: HTTP 200 (Heartbeat Object)\n    Note right of Mobile Money Provider: (2) The MMP returns the availability of"),s("br"),t._v("the service - available, unavailable"),s("br"),t._v("or degraded.\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("GET "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./heartbeat\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDamF7p",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzCQbS8z",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])]),t._v(" "),s("h2",{attrs:{id:"retrieve-a-missing-api-response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#retrieve-a-missing-api-response"}},[t._v("#")]),t._v(" Retrieve a Missing API Response")]),t._v(" "),s("p",[t._v("This API can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.")]),t._v(" "),s("div",{staticClass:"has-code-panel-block"},[s("mermaid",[t._v("\nsequenceDiagram\n    participant Merchant\n    participant Mobile Money Provider \n    Merchant->>Mobile Money Provider: GET /responses{clientCorrelationId}\n    activate Merchant\n    activate Mobile Money Provider\n    Note right of Mobile Money Provider: (1) Using the Merchant's"),s("br"),t._v("clientCorrelationId, a request for the"),s("br"),t._v("missing API response is sent.\n    Mobile Money Provider--\x3e>Merchant: HTTP 200 (Responses Object) \n    Note right of Mobile Money Provider: (2) A Responses object is returned"),s("br"),t._v("containing a link to the missing"),s("br"),t._v("resource.  \n    Merchant->>Mobile Money Provider: GET /{link}\n    Note right of Mobile Money Provider: (3) The Merchant uses the link to obtain"),s("br"),t._v("a representation of the missing"),s("br"),t._v("resource.\n    Mobile Money Provider--\x3e>Merchant: HTTP 200 (Requested Object)\n    deactivate Merchant\n    deactivate Mobile Money Provider\n")]),t._v(" "),s("div",{staticClass:"code-panel-block-holder"},[s("code-group",[s("code-block",{attrs:{title:"View"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("GET "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("./responses/Please enter your UUID here\n")])])])])],1)],1),t._v(" "),s("code-block",{attrs:{title:"Code"}},[s("code-group",[s("code-block",{attrs:{title:"POST"}},[s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require_once")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"mm-api.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Api")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("Transfers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TransferId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResponseException")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetErrorDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[t._v("API"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Libraries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("?>")])]),t._v("\n")])])])])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"buttons-holder content-center"},[s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TWDamF7v",target:"_blank"}},[t._v("Open Postman Collection")]),t._v(" "),s("a",{staticClass:"btn btn--accent",attrs:{href:"https://documenter.getpostman.com/view/4336524/TzJoF1rj",target:"_blank"}},[t._v("Open Postman Collection with Authentication")])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);