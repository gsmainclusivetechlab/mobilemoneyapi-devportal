(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{594:function(e,t,n){"use strict";n.r(t);var i=n(17),r=Object(i.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[[n("h2",{attrs:{id:"introduction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),n("p",[e._v("The Account Linking Mobile Money APIs allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. Conversely, mobile money providers can use the APIs to link their customers mobile money accounts to financial service providers.")]),e._v(" "),n("p",[e._v("For further reading, please refer to the following:")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("Getting Started")]),e._v(". Specifies the design principles, behaviours, and error handling of the Mobile Money API.")]),e._v(" "),n("li",[n("strong",[e._v("API Service Definition")]),e._v(". Documents all Mobile Money API endpoints, fields, objects, and enumerations.\nAll documentation can be found on the "),n("RouterLink",{attrs:{to:"/api-versions-1.2/"}},[e._v("GSMA Mobile Money API Developer Portal")]),e._v(".")],1)]),e._v(" "),n("h2",{attrs:{id:"intended-audience"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#intended-audience"}},[e._v("#")]),e._v(" Intended Audience")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("Audience")])]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("Usage")])]),e._v(" "),n("th",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("Role")])])])]),e._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("FSP - Mobile Money Providers")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("- To understand how to implement the Mobile Money API to accept account linking requests from other financial service providers.")]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("API Provider")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}}),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("- To understand how to implement the Mobile Money API to request linking of accounts to other financial service providers.")]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("API Consumer")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("strong",[e._v("FSP Banks and Microfinance Institutions")])]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("- To understand how to implement the Mobile Money API to accept account linking requests mobile money providers.")]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("API Provider")])]),e._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}}),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("- To understand how to implement the Mobile Money API to request linking of accounts to mobile money providers.")]),e._v(" "),n("td",{staticStyle:{"text-align":"left"}},[e._v("API Consumer")])])])]),e._v(" "),n("h3",{staticClass:"h3"},[e._v("Use case scenarios")]),e._v(" "),n("accordion",[n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nSetup an Account Link\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("This diagram illustrates the setting-up of an account link. The requesting FSP initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FPS\n    participant FSP \n    participant Account Holder  \n    Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links\n    activate Requesting FPS\n    activate FSP\n    Note right of FSP: (1) The requesting FPS submits the debit mandate request for"),n("br"),e._v("processing to the FSP. The FSP will return the Request"),n("br"),e._v("State object to indicate that the request is 'pending'.\n    FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object)\n    FSP->>Account Holder: Obtain Customer Authorisation\n    activate Account Holder\n    Note right of Account Holder: (2) The account holder is requested by the"),n("br"),e._v("FSP to authorise the link. This can be"),n("br"),e._v("achieved through a number of means"),n("br"),e._v("including USSD Push and One Time Code."),n("br"),e._v("OpenId can also be used to secure"),n("br"),e._v("customer authorisation.\n    Account Holder--\x3e>FSP: (Authorised)   \n    deactivate Account Holder\n    FSP->>Requesting FPS: PUT {Callback URL} (Debit Mandates Object)\n    Note right of FSP: (3) The FSP informs the requesting FPS that the"),n("br"),e._v("link has been successfully created by"),n("br"),e._v("returning the final representation of the link.\n    Requesting FPS--\x3e>FSP: HTTP 204\n    deactivate Requesting FPS\n    deactivate FSP \n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nSetup an Account Link Failure\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("In this diagram, the account holder declines to provide authorisation to setup the account link. The requesting FSP receives a callback containing an error object detailing the reason for failure.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FPS\n    participant FSP \n    participant Account Holder  \n    Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links\n    activate Requesting FPS\n    activate FSP\n    Note right of FSP: (1) The requesting FPS submits the debit mandate request for"),n("br"),e._v("processing to the FSP. The FSP will return the Request"),n("br"),e._v("State object to indicate that the request is 'pending'.\n    FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object)\n    FSP->>Account Holder: Obtain Customer Authorisation\n    activate Account Holder\n    Note right of Account Holder: (2) The account holder declines the link"),n("br"),e._v("request.\n    Account Holder--\x3e>FSP: (Declined)   \n    deactivate Account Holder\n    FSP->>Requesting FPS: PUT {Callback URL} (Error Object)\n    Note right of FSP: (3) The FSP informs the requesting FPS that the"),n("br"),e._v("link has been declined by returning an error"),n("br"),e._v("object.\n    Requesting FPS--\x3e>FSP: HTTP 204\n    deactivate Requesting FPS\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nPerform a Transfer for a Linked Account\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("In this diagram, the requesting FSP initiates a transfer to the FSP using an established link.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP \n    Requesting FSP->>FSP: POST /transactions/type/transfer\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) The requesting FSP submits the transfer request for"),n("br"),e._v("processing to the FSP, ensuring that a link reference"),n("br"),e._v("is provided for the transfer. The FSP will return the Request"),n("br"),e._v("State object to indicate that the request is 'pending'.\n    FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object)  \n    deactivate Requesting FSP\n    FSP->>Requesting FSP: PUT {Callback URL} (Transactions Object)\n    activate Requesting FSP\n    Note right of FSP: (2) The FSP informs the requesting FSP that the"),n("br"),e._v("transfer has been successfully completed by"),n("br"),e._v("returning the final representation of the"),n("br"),e._v("transaction.\n    Requesting FSP--\x3e>FSP: HTTP 204\n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nPerform a Transfer for a Linked Account - Failure\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("In this diagram, the requesting FSP initiates a transfer to the FSP using an established link. The FSP is unable to process the transfer and returns a callback containing the error object.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP \n    Requesting FSP->>FSP: POST /transactions/type/transfer\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) The requesting FSP submits the transfer request for"),n("br"),e._v("processing to the FSP, ensuring that a link reference is"),n("br"),e._v("provided for the transfer. The FSP will return the Request"),n("br"),e._v("State object to indicate that the request is 'pending'.\n    FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) \n    deactivate Requesting FSP\n    FSP->>Requesting FSP: PUT {Callback URL} (Error Object)\n    activate Requesting FSP\n    Note right of FSP: (2) The FSP informs the requesting FSP that the"),n("br"),e._v("transfer has failed and returns the error object"),n("br"),e._v("detailing the reason for failure.\n    Requesting FSP--\x3e>FSP: HTTP 204\n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nPerform a Transfer using an Account Link via the Polling Method\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("In this example, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the transfer request.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP \n    Requesting FSP->>FSP: POST /transactions/type/transfer\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) The requesting FSP submits the transfer request for"),n("br"),e._v("processing to the FSP, ensuring that a link reference is"),n("br"),e._v("provided for the transfer. The FSP will return the Request"),n("br"),e._v("State object to indicate that the request is 'pending'.\n    FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object)  \n    deactivate Requesting FSP\n    loop\n        activate Requesting FSP\n        Requesting FSP->>FSP: GET /requeststates/{serverCorrelationId}\n        Note right of FSP: (2) The requesting FSP polls the FSP for the Request State"),n("br"),e._v("until the transaction is authorised or declied or until the"),n("br"),e._v("polling limit is reached.\n        FSP--\x3e>Requesting FSP: HTTP 200 (Request State Object)\n    end  \n    deactivate FSP\n    opt\n        activate FSP\n        Requesting FSP->>FSP: GET /transactions/transactionReference\n        Note right of FSP: (3) The requesting FSP can use the objectReference returned in"),n("br"),e._v("the Request State to retrieve a representation of the"),n("br"),e._v("completed transfer.\n        FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Object)\n    end\n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nPerform a Transfer Reversal\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("In some failure scenarios, a requesting FSP may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP \n    Requesting FSP->>FSP: POST /transactions/{original transaction reference}/reversals\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) The requesting FSP submits the reversal request for"),n("br"),e._v("processing to the FSP - passing the reference of the"),n("br"),e._v("transaction that is to be reversed. The FSP will return the"),n("br"),e._v("Request State object to indicate that the request is"),n("br"),e._v("'pending'.\n    FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object)\n    FSP->>Requesting FSP: PUT {Callback URL} (Reversal Object)\n    Note right of FSP: (2) The FSP informs the Requesting FSP that the"),n("br"),e._v("reversal has been successfully completed by"),n("br"),e._v("returning the final representation of the"),n("br"),e._v("reversal transaction.\n    Requesting FSP--\x3e>FSP: HTTP 204\n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nObtain a Financial Service Provider Balance\n")]},proxy:!0},{key:"body",fn:function(){return[n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP   \n    Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) Obtain the balance of the"),n("br"),e._v("requested account.\n    FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) \n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nRetrieve Transfers for a Financial Service Provider\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("This diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP \n    Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) The requesting FSP requests"),n("br"),e._v("up to 20 transactions for the"),n("br"),e._v("account from the FSP.\n    FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40)\n    Note right of FSP: (2) The FSP returns an array of"),n("br"),e._v("20 transactions and indicates"),n("br"),e._v("via a response header that"),n("br"),e._v("there are 40 records"),n("br"),e._v("available in total.   \n    Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20\n    Note right of FSP: (3) The requesting FSP requests"),n("br"),e._v("the remaining transactions for"),n("br"),e._v("the account from the FSP.\n    FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40)\n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nCheck for Service Availability\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("The Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP \n    Requesting FSP->>FSP: GET /heartbeat\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) The requesting FSP requests the"),n("br"),e._v("availability of the service from the FSP.\n    FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object)\n    Note right of FSP: (2) The FSP returns the availability of"),n("br"),e._v("the service - available, unavailable"),n("br"),e._v("or degraded.    \n    deactivate Requesting FSP\n    deactivate FSP\n")])]},proxy:!0}])}),e._v(" "),n("accordion-item",{attrs:{businessPage:""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\nRetrieve a Missing API Response\n")]},proxy:!0},{key:"body",fn:function(){return[n("p",[e._v("This API can be used by the requesting FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.")]),e._v(" "),n("mermaid",[e._v("\nsequenceDiagram\n    participant Requesting FSP\n    participant FSP    \n    Requesting FSP->>FSP: GET /responses{clientCorrelationId}\n    activate Requesting FSP\n    activate FSP\n    Note right of FSP: (1) Using the requesting FSP's"),n("br"),e._v("clientCorrelationId, a request for the"),n("br"),e._v("missing API response is sent.\n    FSP--\x3e>Requesting FSP: HTTP 200 (Responses Object)\n    Note right of FSP: (2) A Responses object is returned"),n("br"),e._v("containing a link to the missing"),n("br"),e._v("resource.   \n    Requesting FSP->>FSP: GET /{link}\n    Note right of FSP: (3) The requesting FSP uses the link to"),n("br"),e._v("obtain a representation of the missing"),n("br"),e._v("resource.\n    FSP--\x3e>Requesting FSP: HTTP 200 (Requested Object)   \n    deactivate FSP\n    deactivate Requesting FSP\n")])]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null);t.default=r.exports}}]);