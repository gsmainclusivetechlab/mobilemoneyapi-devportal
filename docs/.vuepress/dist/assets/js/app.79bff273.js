(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(e){function t(t){for(var i,o,s=t[0],c=t[1],d=t[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(t);h.length;)h.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={4:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"assets/js/"+({}[e]||e)+"."+{1:"ace62fdd",2:"d8e65219",3:"79def781",5:"5753d2ed",6:"2a2fb87f",7:"5cd93bbc",8:"aacd2c70",9:"32e11a3e",10:"b14b6d4e",11:"b7cf47da",12:"a1e5a216",13:"c9c5a7c8",14:"3d4a9ab7",15:"a09d54a9",16:"5f3fc12d",17:"832d4a68",18:"69d6722f",19:"41c715eb",20:"68d69a5d",21:"8aa87995",22:"33766afc",23:"b029a003",24:"a366a024",25:"afb17f2c",26:"a52aae87",27:"c7a5711b",28:"29a2d5ae",29:"2dc1fa20",30:"7bf41da0",31:"4b48f264",32:"ecfdc26a",33:"7cce5e0e",34:"2fbd4316",35:"1e31ebf5",36:"946d976f",37:"cf9d4a4c",38:"af4fcfb7",39:"b8fc3e3d",40:"2d490539",41:"5a713477",42:"a18391b0",43:"68069491",44:"aff0a3c2",45:"9edd43a2",46:"3615b86b",47:"90d39bd7",48:"ba000abb",49:"289c4025",50:"1d7bcb34",51:"d92ca96f",52:"cdd5aacc",53:"0bcab60f",54:"ba2854f2",55:"ccf83be1",56:"f91ca500",57:"9fc5a96c",58:"c0696f86",59:"1713cd0a",60:"e3b61ab7",61:"f4d5abc1",62:"02763a03",63:"97db5f70",64:"9ec05ed7",65:"a5d2aee5",66:"7aa5fe00",67:"b83de7b4",68:"1679b692",69:"ca458f82",70:"a9d60b68",71:"26fda74a",72:"64186407",73:"e34423aa",74:"72cb3b51",75:"2e4f0fde",76:"176b02b3",77:"3e69c9e1",78:"ea8aa2a4",79:"8e76280d",80:"6a14040d",81:"408648dc",82:"e36b7b72",83:"3b42d631",84:"506f6431",85:"155cc26c",86:"949cdce1",87:"cdc30a9a",88:"e5a7e595",89:"35fb1724",90:"705c64be",91:"decd3811",92:"960d9666",93:"35c6f0a6",94:"a99a6413",95:"6d51771e",96:"053dbfbf",97:"0eb5ee01",98:"4489f0b2",99:"e8714757",100:"6ebb3136",101:"358026b7",102:"0486cf86",103:"f6f693b4",104:"5d29c332",105:"c39b8766",106:"7ae4c2dc",107:"b04be1da",108:"34892ae3",109:"9739210e",110:"c3225f76",111:"c916a87b",112:"a5506368",113:"8e6045a7",114:"878d769f",115:"319ab546",116:"cbfd9faa",117:"6b2156a5",118:"72286124",119:"a971141f",120:"b182e5aa",121:"101bc98e",122:"9b1c5272",123:"93051a4e",124:"5c352ebb",125:"0886e83f",126:"dc374a9b",127:"db47478c",128:"44bc03f7",129:"c96028ed",130:"6e05050a",131:"de7f0265",132:"51d2207c",133:"9ddd0939",134:"6b177266",135:"39a0ca71",136:"538260b2",137:"3f1e57d8",138:"21207658",139:"7f424711",140:"2f415380",141:"951f3df8",142:"0ff1d954",143:"9d71aabe",144:"bdfffece",145:"9be24367",146:"5e6aa33c",147:"1dc50e6c",148:"ef9cd0cf",149:"8f59345d",150:"a2e638b3",151:"9207f95f"}[e]+".js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}r[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=c;a.push([241,0]),n()}([function(e,t,n){"use strict";n.r(t);var i={components:{Footer:n(215).a},computed:{layout:function(){return this.$page.path?this.$frontmatter.layout?this.$frontmatter.layout:"Layout":"NotFound"}}},r=n(24),a=Object(r.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"global-layout"}},[t(this.layout,{tag:"component"}),this._v(" "),t("Footer")],1)}),[],!1,null,null,null);t.default=a.exports},function(e,t,n){"use strict";n.r(t);
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function r(e){return null==e}function a(e){return null!=e}function o(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function c(e){return null!==e&&"object"==typeof e}var d=Object.prototype.toString;function l(e){return"[object Object]"===d.call(e)}function u(e){return"[object RegExp]"===d.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function m(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var b=v("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function P(e,t){return y.call(e,t)}function T(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var M=/-(\w)/g,S=T((function(e){return e.replace(M,(function(e,t){return t?t.toUpperCase():""}))})),w=T((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),q=/\B([A-Z])/g,A=T((function(e){return e.replace(q,"-$1").toLowerCase()}));var k=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function j(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function I(e,t){for(var n in t)e[n]=t[n];return e}function O(e){for(var t={},n=0;n<e.length;n++)e[n]&&I(t,e[n]);return t}function x(e,t,n){}var R=function(e,t,n){return!1},C=function(e){return e};function F(e,t){if(e===t)return!0;var n=c(e),i=c(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return e.length===t.length&&e.every((function(e,n){return F(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||a)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((function(n){return F(e[n],t[n])}))}catch(e){return!1}}function D(e,t){for(var n=0;n<e.length;n++)if(F(e[n],t))return n;return-1}function E(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var N=["component","directive","filter"],H=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:x,parsePlatformTagName:C,mustUseProp:R,async:!0,_lifecycleHooks:H},_=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function B(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var L=new RegExp("[^"+_.source+".$_\\d]");var z,G="__proto__"in{},$="undefined"!=typeof window,V="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=V&&WXEnvironment.platform.toLowerCase(),Y=$&&window.navigator.userAgent.toLowerCase(),J=Y&&/msie|trident/.test(Y),X=Y&&Y.indexOf("msie 9.0")>0,W=Y&&Y.indexOf("edge/")>0,Z=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===K),Q=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),ee={}.watch,te=!1;if($)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){te=!0}}),window.addEventListener("test-passive",null,ne)}catch(e){}var ie=function(){return void 0===z&&(z=!$&&!V&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),z},re=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var oe,se="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);oe="undefined"!=typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=x,de=0,le=function(){this.id=de++,this.subs=[]};le.prototype.addSub=function(e){this.subs.push(e)},le.prototype.removeSub=function(e){g(this.subs,e)},le.prototype.depend=function(){le.target&&le.target.addDep(this)},le.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},le.target=null;var ue=[];function he(e){ue.push(e),le.target=e}function pe(){ue.pop(),le.target=ue[ue.length-1]}var me=function(e,t,n,i,r,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fe={child:{configurable:!0}};fe.child.get=function(){return this.componentInstance},Object.defineProperties(me.prototype,fe);var ve=function(e){void 0===e&&(e="");var t=new me;return t.text=e,t.isComment=!0,t};function be(e){return new me(void 0,void 0,void 0,String(e))}function ge(e){var t=new me(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ye=Array.prototype,Pe=Object.create(ye);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=ye[e];B(Pe,e,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a}))}));var Te=Object.getOwnPropertyNames(Pe),Me=!0;function Se(e){Me=e}var we=function(e){this.value=e,this.dep=new le,this.vmCount=0,B(e,"__ob__",this),Array.isArray(e)?(G?function(e,t){e.__proto__=t}(e,Pe):function(e,t,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];B(e,a,t[a])}}(e,Pe,Te),this.observeArray(e)):this.walk(e)};function qe(e,t){var n;if(c(e)&&!(e instanceof me))return P(e,"__ob__")&&e.__ob__ instanceof we?n=e.__ob__:Me&&!ie()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new we(e)),t&&n&&n.vmCount++,n}function Ae(e,t,n,i,r){var a=new le,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,c=o&&o.set;s&&!c||2!==arguments.length||(n=e[t]);var d=!r&&qe(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return le.target&&(a.depend(),d&&(d.dep.depend(),Array.isArray(t)&&Ie(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||s&&!c||(c?c.call(e,t):n=t,d=!r&&qe(t),a.notify())}})}}function ke(e,t,n){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Ae(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function je(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||P(e,t)&&(delete e[t],n&&n.dep.notify())}}function Ie(e){for(var t=void 0,n=0,i=e.length;n<i;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ie(t)}we.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Ae(e,t[n])},we.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)qe(e[t])};var Oe=U.optionMergeStrategies;function xe(e,t){if(!t)return e;for(var n,i,r,a=se?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(i=e[n],r=t[n],P(e,n)?i!==r&&l(i)&&l(r)&&xe(i,r):ke(e,n,r));return e}function Re(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?xe(i,r):r}:t?e?function(){return xe("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Ce(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Fe(e,t,n,i){var r=Object.create(e||null);return t?I(r,t):r}Oe.data=function(e,t,n){return n?Re(e,t,n):t&&"function"!=typeof t?e:Re(e,t)},H.forEach((function(e){Oe[e]=Ce})),N.forEach((function(e){Oe[e+"s"]=Fe})),Oe.watch=function(e,t,n,i){if(e===ee&&(e=void 0),t===ee&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var a in I(r,e),t){var o=r[a],s=t[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Oe.props=Oe.methods=Oe.inject=Oe.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return I(r,e),t&&I(r,t),r},Oe.provide=Re;var De=function(e,t){return void 0===t?e:t};function Ee(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,a={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(a[S(r)]={type:null});else if(l(n))for(var o in n)r=n[o],a[S(o)]=l(r)?r:{type:r};else 0;e.props=a}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var a in n){var o=n[a];i[a]=l(o)?I({from:a},o):{from:o}}else 0}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=Ee(e,t.extends,n)),t.mixins))for(var i=0,r=t.mixins.length;i<r;i++)e=Ee(e,t.mixins[i],n);var a,o={};for(a in e)s(a);for(a in t)P(e,a)||s(a);function s(i){var r=Oe[i]||De;o[i]=r(e[i],t[i],n,i)}return o}function Ne(e,t,n,i){if("string"==typeof n){var r=e[t];if(P(r,n))return r[n];var a=S(n);if(P(r,a))return r[a];var o=w(a);return P(r,o)?r[o]:r[n]||r[a]||r[o]}}function He(e,t,n,i){var r=t[e],a=!P(n,e),o=n[e],s=Be(Boolean,r.type);if(s>-1)if(a&&!P(r,"default"))o=!1;else if(""===o||o===A(e)){var c=Be(String,r.type);(c<0||s<c)&&(o=!0)}if(void 0===o){o=function(e,t,n){if(!P(t,"default"))return;var i=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof i&&"Function"!==Ue(t.type)?i.call(e):i}(i,r,e);var d=Me;Se(!0),qe(o),Se(d)}return o}function Ue(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function _e(e,t){return Ue(e)===Ue(t)}function Be(e,t){if(!Array.isArray(t))return _e(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(_e(t[n],e))return n;return-1}function Le(e,t,n){he();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(i,e,t,n))return}catch(e){Ge(e,i,"errorCaptured hook")}}Ge(e,t,n)}finally{pe()}}function ze(e,t,n,i,r){var a;try{(a=n?e.apply(t,n):e.call(t))&&!a._isVue&&p(a)&&!a._handled&&(a.catch((function(e){return Le(e,i,r+" (Promise/async)")})),a._handled=!0)}catch(e){Le(e,i,r)}return a}function Ge(e,t,n){if(U.errorHandler)try{return U.errorHandler.call(null,e,t,n)}catch(t){t!==e&&$e(t,null,"config.errorHandler")}$e(e,t,n)}function $e(e,t,n){if(!$&&!V||"undefined"==typeof console)throw e;console.error(e)}var Ve,Ke=!1,Ye=[],Je=!1;function Xe(){Je=!1;var e=Ye.slice(0);Ye.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ae(Promise)){var We=Promise.resolve();Ve=function(){We.then(Xe),Z&&setTimeout(x)},Ke=!0}else if(J||"undefined"==typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ve="undefined"!=typeof setImmediate&&ae(setImmediate)?function(){setImmediate(Xe)}:function(){setTimeout(Xe,0)};else{var Ze=1,Qe=new MutationObserver(Xe),et=document.createTextNode(String(Ze));Qe.observe(et,{characterData:!0}),Ve=function(){Ze=(Ze+1)%2,et.data=String(Ze)},Ke=!0}function tt(e,t){var n;if(Ye.push((function(){if(e)try{e.call(t)}catch(e){Le(e,t,"nextTick")}else n&&n(t)})),Je||(Je=!0,Ve()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var nt=new oe;function it(e){!function e(t,n){var i,r,a=Array.isArray(t);if(!a&&!c(t)||Object.isFrozen(t)||t instanceof me)return;if(t.__ob__){var o=t.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(i=t.length;i--;)e(t[i],n);else for(r=Object.keys(t),i=r.length;i--;)e(t[r[i]],n)}(e,nt),nt.clear()}var rt=T((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function at(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return ze(i,null,arguments,t,"v-on handler");for(var r=i.slice(),a=0;a<r.length;a++)ze(r[a],null,e,t,"v-on handler")}return n.fns=e,n}function ot(e,t,n,i,a,s){var c,d,l,u;for(c in e)d=e[c],l=t[c],u=rt(c),r(d)||(r(l)?(r(d.fns)&&(d=e[c]=at(d,s)),o(u.once)&&(d=e[c]=a(u.name,d,u.capture)),n(u.name,d,u.capture,u.passive,u.params)):d!==l&&(l.fns=d,e[c]=l));for(c in t)r(e[c])&&i((u=rt(c)).name,t[c],u.capture)}function st(e,t,n){var i;e instanceof me&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function c(){n.apply(this,arguments),g(i.fns,c)}r(s)?i=at([c]):a(s.fns)&&o(s.merged)?(i=s).fns.push(c):i=at([s,c]),i.merged=!0,e[t]=i}function ct(e,t,n,i,r){if(a(t)){if(P(t,n))return e[n]=t[n],r||delete t[n],!0;if(P(t,i))return e[n]=t[i],r||delete t[i],!0}return!1}function dt(e){return s(e)?[be(e)]:Array.isArray(e)?function e(t,n){var i,c,d,l,u=[];for(i=0;i<t.length;i++)r(c=t[i])||"boolean"==typeof c||(d=u.length-1,l=u[d],Array.isArray(c)?c.length>0&&(lt((c=e(c,(n||"")+"_"+i))[0])&&lt(l)&&(u[d]=be(l.text+c[0].text),c.shift()),u.push.apply(u,c)):s(c)?lt(l)?u[d]=be(l.text+c):""!==c&&u.push(be(c)):lt(c)&&lt(l)?u[d]=be(l.text+c.text):(o(t._isVList)&&a(c.tag)&&r(c.key)&&a(n)&&(c.key="__vlist"+n+"_"+i+"__"),u.push(c)));return u}(e):void 0}function lt(e){return a(e)&&a(e.text)&&!1===e.isComment}function ut(e,t){if(e){for(var n=Object.create(null),i=se?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){for(var o=e[a].from,s=t;s;){if(s._provided&&P(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in e[a]){var c=e[a].default;n[a]="function"==typeof c?c.call(t):c}else 0}}return n}}function ht(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var a=e[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,c=n[s]||(n[s]=[]);"template"===a.tag?c.push.apply(c,a.children||[]):c.push(a)}}for(var d in n)n[d].every(pt)&&delete n[d];return n}function pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function mt(e,t,n){var r,a=Object.keys(t).length>0,o=e?!!e.$stable:!a,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==i&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=ft(t,c,e[c]))}else r={};for(var d in t)d in r||(r[d]=vt(t,d));return e&&Object.isExtensible(e)&&(e._normalized=r),B(r,"$stable",o),B(r,"$key",s),B(r,"$hasNormal",a),r}function ft(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:dt(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function vt(e,t){return function(){return e[t]}}function bt(e,t){var n,i,r,o,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,r=e.length;i<r;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(c(e))if(se&&e[Symbol.iterator]){n=[];for(var d=e[Symbol.iterator](),l=d.next();!l.done;)n.push(t(l.value,n.length)),l=d.next()}else for(o=Object.keys(e),n=new Array(o.length),i=0,r=o.length;i<r;i++)s=o[i],n[i]=t(e[s],s,i);return a(n)||(n=[]),n._isVList=!0,n}function gt(e,t,n,i){var r,a=this.$scopedSlots[e];a?(n=n||{},i&&(n=I(I({},i),n)),r=a(n)||t):r=this.$slots[e]||t;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function yt(e){return Ne(this.$options,"filters",e)||C}function Pt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Tt(e,t,n,i,r){var a=U.keyCodes[t]||n;return r&&i&&!U.keyCodes[t]?Pt(r,i):a?Pt(a,e):i?A(i)!==t:void 0}function Mt(e,t,n,i,r){if(n)if(c(n)){var a;Array.isArray(n)&&(n=O(n));var o=function(o){if("class"===o||"style"===o||b(o))a=e;else{var s=e.attrs&&e.attrs.type;a=i||U.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=S(o),d=A(o);c in a||d in a||(a[o]=n[o],r&&((e.on||(e.on={}))["update:"+o]=function(e){n[o]=e}))};for(var s in n)o(s)}else;return e}function St(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||qt(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i}function wt(e,t,n){return qt(e,"__once__"+t+(n?"_"+n:""),!0),e}function qt(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&At(e[i],t+"_"+i,n);else At(e,t,n)}function At(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function kt(e,t){if(t)if(l(t)){var n=e.on=e.on?I({},e.on):{};for(var i in t){var r=n[i],a=t[i];n[i]=r?[].concat(r,a):a}}else;return e}function jt(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var a=e[r];Array.isArray(a)?jt(a,t,n):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return i&&(t.$key=i),t}function It(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function Ot(e,t){return"string"==typeof e?t+e:e}function xt(e){e._o=wt,e._n=f,e._s=m,e._l=bt,e._t=gt,e._q=F,e._i=D,e._m=St,e._f=yt,e._k=Tt,e._b=Mt,e._v=be,e._e=ve,e._u=jt,e._g=kt,e._d=It,e._p=Ot}function Rt(e,t,n,r,a){var s,c=this,d=a.options;P(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var l=o(d._compiled),u=!l;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||i,this.injections=ut(d.inject,r),this.slots=function(){return c.$slots||mt(e.scopedSlots,c.$slots=ht(n,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return mt(e.scopedSlots,this.slots())}}),l&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=mt(e.scopedSlots,this.$slots)),d._scopeId?this._c=function(e,t,n,i){var a=Ut(s,e,t,n,i,u);return a&&!Array.isArray(a)&&(a.fnScopeId=d._scopeId,a.fnContext=r),a}:this._c=function(e,t,n,i){return Ut(s,e,t,n,i,u)}}function Ct(e,t,n,i,r){var a=ge(e);return a.fnContext=n,a.fnOptions=i,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function Ft(e,t){for(var n in t)e[S(n)]=t[n]}xt(Rt.prototype);var Dt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Dt.prepatch(n,n)}else{(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;a(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new e.componentOptions.Ctor(n)}(e,Jt)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,a){0;var o=r.data.scopedSlots,s=e.$scopedSlots,c=!!(o&&!o.$stable||s!==i&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),d=!!(a||e.$options._renderChildren||c);e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r);if(e.$options._renderChildren=a,e.$attrs=r.data.attrs||i,e.$listeners=n||i,t&&e.$options.props){Se(!1);for(var l=e._props,u=e.$options._propKeys||[],h=0;h<u.length;h++){var p=u[h],m=e.$options.props;l[p]=He(p,m,t,e)}Se(!0),e.$options.propsData=t}n=n||i;var f=e.$options._parentListeners;e.$options._parentListeners=n,Yt(e,n,f),d&&(e.$slots=ht(a,r.context),e.$forceUpdate());0}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Qt(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,tn.push(t)):Zt(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(n&&(t._directInactive=!0,Wt(t)))return;if(!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)e(t.$children[i]);Qt(t,"deactivated")}}(t,!0):t.$destroy())}},Et=Object.keys(Dt);function Nt(e,t,n,s,d){if(!r(e)){var l=n.$options._base;if(c(e)&&(e=l.extend(e)),"function"==typeof e){var u;if(r(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var n=Bt;n&&a(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n);if(o(e.loading)&&a(e.loadingComp))return e.loadingComp;if(n&&!a(e.owners)){var i=e.owners=[n],s=!0,d=null,l=null;n.$on("hook:destroyed",(function(){return g(i,n)}));var u=function(e){for(var t=0,n=i.length;t<n;t++)i[t].$forceUpdate();e&&(i.length=0,null!==d&&(clearTimeout(d),d=null),null!==l&&(clearTimeout(l),l=null))},h=E((function(n){e.resolved=Lt(n,t),s?i.length=0:u(!0)})),m=E((function(t){a(e.errorComp)&&(e.error=!0,u(!0))})),f=e(h,m);return c(f)&&(p(f)?r(e.resolved)&&f.then(h,m):p(f.component)&&(f.component.then(h,m),a(f.error)&&(e.errorComp=Lt(f.error,t)),a(f.loading)&&(e.loadingComp=Lt(f.loading,t),0===f.delay?e.loading=!0:d=setTimeout((function(){d=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,u(!1))}),f.delay||200)),a(f.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&m(null)}),f.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}(u=e,l)))return function(e,t,n,i,r){var a=ve();return a.asyncFactory=e,a.asyncMeta={data:t,context:n,children:i,tag:r},a}(u,t,n,s,d);t=t||{},Mn(e),a(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var r=t.on||(t.on={}),o=r[i],s=t.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(r[i]=[s].concat(o)):r[i]=s}(e.options,t);var h=function(e,t,n){var i=t.options.props;if(!r(i)){var o={},s=e.attrs,c=e.props;if(a(s)||a(c))for(var d in i){var l=A(d);ct(o,c,d,l,!0)||ct(o,s,d,l,!1)}return o}}(t,e);if(o(e.options.functional))return function(e,t,n,r,o){var s=e.options,c={},d=s.props;if(a(d))for(var l in d)c[l]=He(l,d,t||i);else a(n.attrs)&&Ft(c,n.attrs),a(n.props)&&Ft(c,n.props);var u=new Rt(n,c,o,r,e),h=s.render.call(null,u._c,u);if(h instanceof me)return Ct(h,n,u.parent,s,u);if(Array.isArray(h)){for(var p=dt(h)||[],m=new Array(p.length),f=0;f<p.length;f++)m[f]=Ct(p[f],n,u.parent,s,u);return m}}(e,h,t,n,s);var m=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Et.length;n++){var i=Et[n],r=t[i],a=Dt[i];r===a||r&&r._merged||(t[i]=r?Ht(a,r):a)}}(t);var v=e.options.name||d;return new me("vue-component-"+e.cid+(v?"-"+v:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:h,listeners:m,tag:d,children:s},u)}}}function Ht(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function Ut(e,t,n,i,d,l){return(Array.isArray(n)||s(n))&&(d=i,i=n,n=void 0),o(l)&&(d=2),function(e,t,n,i,s){if(a(n)&&a(n.__ob__))return ve();a(n)&&a(n.is)&&(t=n.is);if(!t)return ve();0;Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);2===s?i=dt(i):1===s&&(i=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(i));var d,l;if("string"==typeof t){var u;l=e.$vnode&&e.$vnode.ns||U.getTagNamespace(t),d=U.isReservedTag(t)?new me(U.parsePlatformTagName(t),n,i,void 0,void 0,e):n&&n.pre||!a(u=Ne(e.$options,"components",t))?new me(t,n,i,void 0,void 0,e):Nt(u,n,e,i,t)}else d=Nt(t,n,e,i);return Array.isArray(d)?d:a(d)?(a(l)&&function e(t,n,i){t.ns=n,"foreignObject"===t.tag&&(n=void 0,i=!0);if(a(t.children))for(var s=0,c=t.children.length;s<c;s++){var d=t.children[s];a(d.tag)&&(r(d.ns)||o(i)&&"svg"!==d.tag)&&e(d,n,i)}}(d,l),a(n)&&function(e){c(e.style)&&it(e.style);c(e.class)&&it(e.class)}(n),d):ve()}(e,t,n,i,d)}var _t,Bt=null;function Lt(e,t){return(e.__esModule||se&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function zt(e){return e.isComment&&e.asyncFactory}function Gt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(a(n)&&(a(n.componentOptions)||zt(n)))return n}}function $t(e,t){_t.$on(e,t)}function Vt(e,t){_t.$off(e,t)}function Kt(e,t){var n=_t;return function i(){var r=t.apply(null,arguments);null!==r&&n.$off(e,i)}}function Yt(e,t,n){_t=e,ot(t,n||{},$t,Vt,Kt,e),_t=void 0}var Jt=null;function Xt(e){var t=Jt;return Jt=e,function(){Jt=t}}function Wt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Zt(e,t){if(t){if(e._directInactive=!1,Wt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Zt(e.$children[n]);Qt(e,"activated")}}function Qt(e,t){he();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,a=n.length;r<a;r++)ze(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),pe()}var en=[],tn=[],nn={},rn=!1,an=!1,on=0;var sn=0,cn=Date.now;if($&&!J){var dn=window.performance;dn&&"function"==typeof dn.now&&cn()>document.createEvent("Event").timeStamp&&(cn=function(){return dn.now()})}function ln(){var e,t;for(sn=cn(),an=!0,en.sort((function(e,t){return e.id-t.id})),on=0;on<en.length;on++)(e=en[on]).before&&e.before(),t=e.id,nn[t]=null,e.run();var n=tn.slice(),i=en.slice();on=en.length=tn.length=0,nn={},rn=an=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Zt(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Qt(i,"updated")}}(i),re&&U.devtools&&re.emit("flush")}var un=0,hn=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++un,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new oe,this.newDepIds=new oe,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!L.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=x)),this.value=this.lazy?void 0:this.get()};hn.prototype.get=function(){var e;he(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Le(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&it(e),pe(),this.cleanupDeps()}return e},hn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},hn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},hn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==nn[t]){if(nn[t]=!0,an){for(var n=en.length-1;n>on&&en[n].id>e.id;)n--;en.splice(n+1,0,e)}else en.push(e);rn||(rn=!0,tt(ln))}}(this)},hn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){Le(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},hn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},hn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},hn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var pn={enumerable:!0,configurable:!0,get:x,set:x};function mn(e,t,n){pn.get=function(){return this[t][n]},pn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,pn)}function fn(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&Se(!1);var a=function(a){r.push(a);var o=He(a,t,n,e);Ae(i,a,o),a in e||mn(e,"_props",a)};for(var o in t)a(o);Se(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?x:k(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;l(t=e._data="function"==typeof t?function(e,t){he();try{return e.call(t,t)}catch(e){return Le(e,t,"data()"),{}}finally{pe()}}(t,e):t||{})||(t={});var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);for(;r--;){var a=n[r];0,i&&P(i,a)||(o=void 0,36!==(o=(a+"").charCodeAt(0))&&95!==o&&mn(e,"_data",a))}var o;qe(t,!0)}(e):qe(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=ie();for(var r in t){var a=t[r],o="function"==typeof a?a:a.get;0,i||(n[r]=new hn(e,o||x,x,vn)),r in e||bn(e,r,a)}}(e,t.computed),t.watch&&t.watch!==ee&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Pn(e,n,i[r]);else Pn(e,n,i)}}(e,t.watch)}var vn={lazy:!0};function bn(e,t,n){var i=!ie();"function"==typeof n?(pn.get=i?gn(t):yn(n),pn.set=x):(pn.get=n.get?i&&!1!==n.cache?gn(t):yn(n.get):x,pn.set=n.set||x),Object.defineProperty(e,t,pn)}function gn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),le.target&&t.depend(),t.value}}function yn(e){return function(){return e.call(this,this)}}function Pn(e,t,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}var Tn=0;function Mn(e){var t=e.options;if(e.super){var n=Mn(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&I(e.extendOptions,i),(t=e.options=Ee(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Sn(e){this._init(e)}function wn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var a=e.name||n.options.name;var o=function(e){this._init(e)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=t++,o.options=Ee(n.options,e),o.super=n,o.options.props&&function(e){var t=e.options.props;for(var n in t)mn(e.prototype,"_props",n)}(o),o.options.computed&&function(e){var t=e.options.computed;for(var n in t)bn(e.prototype,n,t[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,N.forEach((function(e){o[e]=n[e]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=e,o.sealedOptions=I({},o.options),r[i]=o,o}}function qn(e){return e&&(e.Ctor.options.name||e.tag)}function An(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function kn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var a in n){var o=n[a];if(o){var s=qn(o.componentOptions);s&&!t(s)&&jn(n,a,i,r)}}}function jn(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,g(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Tn++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Ee(Mn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Yt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=ht(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,n,i,r){return Ut(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return Ut(e,t,n,i,r,!0)};var a=n&&n.data;Ae(e,"$attrs",a&&a.attrs||i,null,!0),Ae(e,"$listeners",t._parentListeners||i,null,!0)}(t),Qt(t,"beforeCreate"),function(e){var t=ut(e.$options.inject,e);t&&(Se(!1),Object.keys(t).forEach((function(n){Ae(e,n,t[n])})),Se(!0))}(t),fn(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),Qt(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Sn),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=ke,e.prototype.$delete=je,e.prototype.$watch=function(e,t,n){if(l(t))return Pn(this,e,t,n);(n=n||{}).user=!0;var i=new hn(this,e,t,n);if(n.immediate)try{t.call(this,i.value)}catch(e){Le(e,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Sn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,a=e.length;r<a;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var a,o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;for(var s=o.length;s--;)if((a=o[s])===t||a.fn===t){o.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?j(n):n;for(var i=j(arguments,1),r='event handler for "'+e+'"',a=0,o=n.length;a<o;a++)ze(n[a],t,i,t,r)}return t}}(Sn),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,a=Xt(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Qt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Qt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Sn),function(e){xt(e.prototype),e.prototype.$nextTick=function(e){return tt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=mt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{Bt=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){Le(n,t,"render"),e=t._vnode}finally{Bt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof me||(e=ve()),e.parent=r,e}}(Sn);var In=[String,RegExp,Array],On={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:In,exclude:In,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)jn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){kn(e,(function(e){return An(t,e)}))})),this.$watch("exclude",(function(t){kn(e,(function(e){return!An(t,e)}))}))},render:function(){var e=this.$slots.default,t=Gt(e),n=t&&t.componentOptions;if(n){var i=qn(n),r=this.include,a=this.exclude;if(r&&(!i||!An(r,i))||a&&i&&An(a,i))return t;var o=this.cache,s=this.keys,c=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;o[c]?(t.componentInstance=o[c].componentInstance,g(s,c),s.push(c)):(o[c]=t,s.push(c),this.max&&s.length>parseInt(this.max)&&jn(o,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return U}};Object.defineProperty(e,"config",t),e.util={warn:ce,extend:I,mergeOptions:Ee,defineReactive:Ae},e.set=ke,e.delete=je,e.nextTick=tt,e.observable=function(e){return qe(e),e},e.options=Object.create(null),N.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,I(e.options.components,On),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=j(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Ee(this.options,e),this}}(e),wn(e),function(e){N.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:ie}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:Rt}),Sn.version="2.6.12";var xn=v("style,class"),Rn=v("input,textarea,option,select,progress"),Cn=v("contenteditable,draggable,spellcheck"),Fn=v("events,caret,typing,plaintext-only"),Dn=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),En="http://www.w3.org/1999/xlink",Nn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Hn=function(e){return Nn(e)?e.slice(6,e.length):""},Un=function(e){return null==e||!1===e};function _n(e){for(var t=e.data,n=e,i=e;a(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=Bn(i.data,t));for(;a(n=n.parent);)n&&n.data&&(t=Bn(t,n.data));return function(e,t){if(a(e)||a(t))return Ln(e,zn(t));return""}(t.staticClass,t.class)}function Bn(e,t){return{staticClass:Ln(e.staticClass,t.staticClass),class:a(e.class)?[e.class,t.class]:t.class}}function Ln(e,t){return e?t?e+" "+t:e:t||""}function zn(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,r=e.length;i<r;i++)a(t=zn(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):c(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Gn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},$n=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Vn=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Kn=function(e){return $n(e)||Vn(e)};var Yn=Object.create(null);var Jn=v("text,number,password,search,email,tel,url");var Xn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Gn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Wn={create:function(e,t){Zn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Zn(e,!0),Zn(t))},destroy:function(e){Zn(e,!0)}};function Zn(e,t){var n=e.data.ref;if(a(n)){var i=e.context,r=e.componentInstance||e.elm,o=i.$refs;t?Array.isArray(o[n])?g(o[n],r):o[n]===r&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(r)<0&&o[n].push(r):o[n]=[r]:o[n]=r}}var Qn=new me("",{},[]),ei=["create","activate","update","remove","destroy"];function ti(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=a(n=e.data)&&a(n=n.attrs)&&n.type,r=a(n=t.data)&&a(n=n.attrs)&&n.type;return i===r||Jn(i)&&Jn(r)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function ni(e,t,n){var i,r,o={};for(i=t;i<=n;++i)a(r=e[i].key)&&(o[r]=i);return o}var ii={create:ri,update:ri,destroy:function(e){ri(e,Qn)}};function ri(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,a=e===Qn,o=t===Qn,s=oi(e.data.directives,e.context),c=oi(t.data.directives,t.context),d=[],l=[];for(n in c)i=s[n],r=c[n],i?(r.oldValue=i.value,r.oldArg=i.arg,ci(r,"update",t,e),r.def&&r.def.componentUpdated&&l.push(r)):(ci(r,"bind",t,e),r.def&&r.def.inserted&&d.push(r));if(d.length){var u=function(){for(var n=0;n<d.length;n++)ci(d[n],"inserted",t,e)};a?st(t,"insert",u):u()}l.length&&st(t,"postpatch",(function(){for(var n=0;n<l.length;n++)ci(l[n],"componentUpdated",t,e)}));if(!a)for(n in s)c[n]||ci(s[n],"unbind",e,e,o)}(e,t)}var ai=Object.create(null);function oi(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=ai),r[si(i)]=i,i.def=Ne(t.$options,"directives",i.name);return r}function si(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function ci(e,t,n,i,r){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,i,r)}catch(i){Le(i,n.context,"directive "+e.name+" "+t+" hook")}}var di=[Wn,ii];function li(e,t){var n=t.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,o,s=t.elm,c=e.data.attrs||{},d=t.data.attrs||{};for(i in a(d.__ob__)&&(d=t.data.attrs=I({},d)),d)o=d[i],c[i]!==o&&ui(s,i,o);for(i in(J||W)&&d.value!==c.value&&ui(s,"value",d.value),c)r(d[i])&&(Nn(i)?s.removeAttributeNS(En,Hn(i)):Cn(i)||s.removeAttribute(i))}}function ui(e,t,n){e.tagName.indexOf("-")>-1?hi(e,t,n):Dn(t)?Un(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Cn(t)?e.setAttribute(t,function(e,t){return Un(t)||"false"===t?"false":"contenteditable"===e&&Fn(t)?t:"true"}(t,n)):Nn(t)?Un(n)?e.removeAttributeNS(En,Hn(t)):e.setAttributeNS(En,t,n):hi(e,t,n)}function hi(e,t,n){if(Un(n))e.removeAttribute(t);else{if(J&&!X&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var pi={create:li,update:li};function mi(e,t){var n=t.elm,i=t.data,o=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var s=_n(t),c=n._transitionClasses;a(c)&&(s=Ln(s,zn(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var fi,vi={create:mi,update:mi};function bi(e,t,n){var i=fi;return function r(){var a=t.apply(null,arguments);null!==a&&Pi(e,r,n,i)}}var gi=Ke&&!(Q&&Number(Q[1])<=53);function yi(e,t,n,i){if(gi){var r=sn,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}fi.addEventListener(e,t,te?{capture:n,passive:i}:n)}function Pi(e,t,n,i){(i||fi).removeEventListener(e,t._wrapper||t,n)}function Ti(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};fi=t.elm,function(e){if(a(e.__r)){var t=J?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}a(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),ot(n,i,yi,Pi,bi,t.context),fi=void 0}}var Mi,Si={create:Ti,update:Ti};function wi(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,o=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};for(n in a(c.__ob__)&&(c=t.data.domProps=I({},c)),s)n in c||(o[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=i;var d=r(i)?"":String(i);qi(o,d)&&(o.value=d)}else if("innerHTML"===n&&Vn(o.tagName)&&r(o.innerHTML)){(Mi=Mi||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var l=Mi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}else if(i!==s[n])try{o[n]=i}catch(e){}}}}function qi(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(a(i)){if(i.number)return f(n)!==f(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var Ai={create:wi,update:wi},ki=T((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function ji(e){var t=Ii(e.style);return e.staticStyle?I(e.staticStyle,t):t}function Ii(e){return Array.isArray(e)?O(e):"string"==typeof e?ki(e):e}var Oi,xi=/^--/,Ri=/\s*!important$/,Ci=function(e,t,n){if(xi.test(t))e.style.setProperty(t,n);else if(Ri.test(n))e.style.setProperty(A(t),n.replace(Ri,""),"important");else{var i=Di(t);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)e.style[i]=n[r];else e.style[i]=n}},Fi=["Webkit","Moz","ms"],Di=T((function(e){if(Oi=Oi||document.createElement("div").style,"filter"!==(e=S(e))&&e in Oi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Fi.length;n++){var i=Fi[n]+t;if(i in Oi)return i}}));function Ei(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var o,s,c=t.elm,d=i.staticStyle,l=i.normalizedStyle||i.style||{},u=d||l,h=Ii(t.data.style)||{};t.data.normalizedStyle=a(h.__ob__)?I({},h):h;var p=function(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=ji(r.data))&&I(i,n);(n=ji(e.data))&&I(i,n);for(var a=e;a=a.parent;)a.data&&(n=ji(a.data))&&I(i,n);return i}(t,!0);for(s in u)r(p[s])&&Ci(c,s,"");for(s in p)(o=p[s])!==u[s]&&Ci(c,s,null==o?"":o)}}var Ni={create:Ei,update:Ei},Hi=/\s+/;function Ui(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Hi).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function _i(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Hi).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Bi(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&I(t,Li(e.name||"v")),I(t,e),t}return"string"==typeof e?Li(e):void 0}}var Li=T((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),zi=$&&!X,Gi="transition",$i="transitionend",Vi="animation",Ki="animationend";zi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Gi="WebkitTransition",$i="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Vi="WebkitAnimation",Ki="webkitAnimationEnd"));var Yi=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Ji(e){Yi((function(){Yi(e)}))}function Xi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Ui(e,t))}function Wi(e,t){e._transitionClasses&&g(e._transitionClasses,t),_i(e,t)}function Zi(e,t,n){var i=er(e,t),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s="transition"===r?$i:Ki,c=0,d=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++c>=o&&d()};setTimeout((function(){c<o&&d()}),a+1),e.addEventListener(s,l)}var Qi=/\b(transform|all)(,|$)/;function er(e,t){var n,i=window.getComputedStyle(e),r=(i[Gi+"Delay"]||"").split(", "),a=(i[Gi+"Duration"]||"").split(", "),o=tr(r,a),s=(i[Vi+"Delay"]||"").split(", "),c=(i[Vi+"Duration"]||"").split(", "),d=tr(s,c),l=0,u=0;return"transition"===t?o>0&&(n="transition",l=o,u=a.length):"animation"===t?d>0&&(n="animation",l=d,u=c.length):u=(n=(l=Math.max(o,d))>0?o>d?"transition":"animation":null)?"transition"===n?a.length:c.length:0,{type:n,timeout:l,propCount:u,hasTransform:"transition"===n&&Qi.test(i[Gi+"Property"])}}function tr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return nr(t)+nr(e[n])})))}function nr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ir(e,t){var n=e.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Bi(e.data.transition);if(!r(i)&&!a(n._enterCb)&&1===n.nodeType){for(var o=i.css,s=i.type,d=i.enterClass,l=i.enterToClass,u=i.enterActiveClass,h=i.appearClass,p=i.appearToClass,m=i.appearActiveClass,v=i.beforeEnter,b=i.enter,g=i.afterEnter,y=i.enterCancelled,P=i.beforeAppear,T=i.appear,M=i.afterAppear,S=i.appearCancelled,w=i.duration,q=Jt,A=Jt.$vnode;A&&A.parent;)q=A.context,A=A.parent;var k=!q._isMounted||!e.isRootInsert;if(!k||T||""===T){var j=k&&h?h:d,I=k&&m?m:u,O=k&&p?p:l,x=k&&P||v,R=k&&"function"==typeof T?T:b,C=k&&M||g,F=k&&S||y,D=f(c(w)?w.enter:w);0;var N=!1!==o&&!X,H=or(R),U=n._enterCb=E((function(){N&&(Wi(n,O),Wi(n,I)),U.cancelled?(N&&Wi(n,j),F&&F(n)):C&&C(n),n._enterCb=null}));e.data.show||st(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,U)})),x&&x(n),N&&(Xi(n,j),Xi(n,I),Ji((function(){Wi(n,j),U.cancelled||(Xi(n,O),H||(ar(D)?setTimeout(U,D):Zi(n,s,U)))}))),e.data.show&&(t&&t(),R&&R(n,U)),N||H||U()}}}function rr(e,t){var n=e.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Bi(e.data.transition);if(r(i)||1!==n.nodeType)return t();if(!a(n._leaveCb)){var o=i.css,s=i.type,d=i.leaveClass,l=i.leaveToClass,u=i.leaveActiveClass,h=i.beforeLeave,p=i.leave,m=i.afterLeave,v=i.leaveCancelled,b=i.delayLeave,g=i.duration,y=!1!==o&&!X,P=or(p),T=f(c(g)?g.leave:g);0;var M=n._leaveCb=E((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Wi(n,l),Wi(n,u)),M.cancelled?(y&&Wi(n,d),v&&v(n)):(t(),m&&m(n)),n._leaveCb=null}));b?b(S):S()}function S(){M.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),h&&h(n),y&&(Xi(n,d),Xi(n,u),Ji((function(){Wi(n,d),M.cancelled||(Xi(n,l),P||(ar(T)?setTimeout(M,T):Zi(n,s,M)))}))),p&&p(n,M),y||P||M())}}function ar(e){return"number"==typeof e&&!isNaN(e)}function or(e){if(r(e))return!1;var t=e.fns;return a(t)?or(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function sr(e,t){!0!==t.data.show&&ir(t)}var cr=function(e){var t,n,i={},c=e.modules,d=e.nodeOps;for(t=0;t<ei.length;++t)for(i[ei[t]]=[],n=0;n<c.length;++n)a(c[n][ei[t]])&&i[ei[t]].push(c[n][ei[t]]);function l(e){var t=d.parentNode(e);a(t)&&d.removeChild(t,e)}function u(e,t,n,r,s,c,l){if(a(e.elm)&&a(c)&&(e=c[l]=ge(e)),e.isRootInsert=!s,!function(e,t,n,r){var s=e.data;if(a(s)){var c=a(e.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(e,!1),a(e.componentInstance))return h(e,t),p(n,e.elm,r),o(c)&&function(e,t,n,r){var o,s=e;for(;s.componentInstance;)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](Qn,s);t.push(s);break}p(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var u=e.data,f=e.children,v=e.tag;a(v)?(e.elm=e.ns?d.createElementNS(e.ns,v):d.createElement(v,e),g(e),m(e,f,t),a(u)&&b(e,t),p(n,e.elm,r)):o(e.isComment)?(e.elm=d.createComment(e.text),p(n,e.elm,r)):(e.elm=d.createTextNode(e.text),p(n,e.elm,r))}}function h(e,t){a(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,f(e)?(b(e,t),g(e)):(Zn(e),t.push(e))}function p(e,t,n){a(e)&&(a(n)?d.parentNode(n)===e&&d.insertBefore(e,t,n):d.appendChild(e,t))}function m(e,t,n){if(Array.isArray(t)){0;for(var i=0;i<t.length;++i)u(t[i],n,e.elm,null,!0,t,i)}else s(e.text)&&d.appendChild(e.elm,d.createTextNode(String(e.text)))}function f(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return a(e.tag)}function b(e,n){for(var r=0;r<i.create.length;++r)i.create[r](Qn,e);a(t=e.data.hook)&&(a(t.create)&&t.create(Qn,e),a(t.insert)&&n.push(e))}function g(e){var t;if(a(t=e.fnScopeId))d.setStyleScope(e.elm,t);else for(var n=e;n;)a(t=n.context)&&a(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t),n=n.parent;a(t=Jt)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)&&d.setStyleScope(e.elm,t)}function y(e,t,n,i,r,a){for(;i<=r;++i)u(n[i],a,e,t,!1,n,i)}function P(e){var t,n,r=e.data;if(a(r))for(a(t=r.hook)&&a(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(a(t=e.children))for(n=0;n<e.children.length;++n)P(e.children[n])}function T(e,t,n){for(;t<=n;++t){var i=e[t];a(i)&&(a(i.tag)?(M(i),P(i)):l(i.elm))}}function M(e,t){if(a(t)||a(e.data)){var n,r=i.remove.length+1;for(a(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&l(e)}return n.listeners=t,n}(e.elm,r),a(n=e.componentInstance)&&a(n=n._vnode)&&a(n.data)&&M(n,t),n=0;n<i.remove.length;++n)i.remove[n](e,t);a(n=e.data.hook)&&a(n=n.remove)?n(e,t):t()}else l(e.elm)}function S(e,t,n,i){for(var r=n;r<i;r++){var o=t[r];if(a(o)&&ti(e,o))return r}}function w(e,t,n,s,c,l){if(e!==t){a(t.elm)&&a(s)&&(t=s[c]=ge(t));var h=t.elm=e.elm;if(o(e.isAsyncPlaceholder))a(t.asyncFactory.resolved)?k(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,m=t.data;a(m)&&a(p=m.hook)&&a(p=p.prepatch)&&p(e,t);var v=e.children,b=t.children;if(a(m)&&f(t)){for(p=0;p<i.update.length;++p)i.update[p](e,t);a(p=m.hook)&&a(p=p.update)&&p(e,t)}r(t.text)?a(v)&&a(b)?v!==b&&function(e,t,n,i,o){var s,c,l,h=0,p=0,m=t.length-1,f=t[0],v=t[m],b=n.length-1,g=n[0],P=n[b],M=!o;for(0;h<=m&&p<=b;)r(f)?f=t[++h]:r(v)?v=t[--m]:ti(f,g)?(w(f,g,i,n,p),f=t[++h],g=n[++p]):ti(v,P)?(w(v,P,i,n,b),v=t[--m],P=n[--b]):ti(f,P)?(w(f,P,i,n,b),M&&d.insertBefore(e,f.elm,d.nextSibling(v.elm)),f=t[++h],P=n[--b]):ti(v,g)?(w(v,g,i,n,p),M&&d.insertBefore(e,v.elm,f.elm),v=t[--m],g=n[++p]):(r(s)&&(s=ni(t,h,m)),r(c=a(g.key)?s[g.key]:S(g,t,h,m))?u(g,i,e,f.elm,!1,n,p):ti(l=t[c],g)?(w(l,g,i,n,p),t[c]=void 0,M&&d.insertBefore(e,l.elm,f.elm)):u(g,i,e,f.elm,!1,n,p),g=n[++p]);h>m?y(e,r(n[b+1])?null:n[b+1].elm,n,p,b,i):p>b&&T(t,h,m)}(h,v,b,n,l):a(b)?(a(e.text)&&d.setTextContent(h,""),y(h,null,b,0,b.length-1,n)):a(v)?T(v,0,v.length-1):a(e.text)&&d.setTextContent(h,""):e.text!==t.text&&d.setTextContent(h,t.text),a(m)&&a(p=m.hook)&&a(p=p.postpatch)&&p(e,t)}}}function q(e,t,n){if(o(n)&&a(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var A=v("attrs,class,staticClass,staticStyle,key");function k(e,t,n,i){var r,s=t.tag,c=t.data,d=t.children;if(i=i||c&&c.pre,t.elm=e,o(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(a(c)&&(a(r=c.hook)&&a(r=r.init)&&r(t,!0),a(r=t.componentInstance)))return h(t,n),!0;if(a(s)){if(a(d))if(e.hasChildNodes())if(a(r=c)&&a(r=r.domProps)&&a(r=r.innerHTML)){if(r!==e.innerHTML)return!1}else{for(var l=!0,u=e.firstChild,p=0;p<d.length;p++){if(!u||!k(u,d[p],n,i)){l=!1;break}u=u.nextSibling}if(!l||u)return!1}else m(t,d,n);if(a(c)){var f=!1;for(var v in c)if(!A(v)){f=!0,b(t,n);break}!f&&c.class&&it(c.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!r(t)){var c,l=!1,h=[];if(r(e))l=!0,u(t,h);else{var p=a(e.nodeType);if(!p&&ti(e,t))w(e,t,h,null,null,s);else{if(p){if(1===e.nodeType&&e.hasAttribute("data-server-rendered")&&(e.removeAttribute("data-server-rendered"),n=!0),o(n)&&k(e,t,h))return q(t,h,!0),e;c=e,e=new me(d.tagName(c).toLowerCase(),{},[],void 0,c)}var m=e.elm,v=d.parentNode(m);if(u(t,h,m._leaveCb?null:v,d.nextSibling(m)),a(t.parent))for(var b=t.parent,g=f(t);b;){for(var y=0;y<i.destroy.length;++y)i.destroy[y](b);if(b.elm=t.elm,g){for(var M=0;M<i.create.length;++M)i.create[M](Qn,b);var S=b.data.hook.insert;if(S.merged)for(var A=1;A<S.fns.length;A++)S.fns[A]()}else Zn(b);b=b.parent}a(v)?T([e],0,0):a(e.tag)&&P(e)}}return q(t,h,l),t.elm}a(e)&&P(e)}}({nodeOps:Xn,modules:[pi,vi,Si,Ai,Ni,$?{create:sr,activate:sr,remove:function(e,t){!0!==e.data.show?rr(e,t):t()}}:{}].concat(di)});X&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&vr(e,"input")}));var dr={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?st(n,"postpatch",(function(){dr.componentUpdated(e,t,n)})):lr(e,t,n.context),e._vOptions=[].map.call(e.options,pr)):("textarea"===n.tag||Jn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",mr),e.addEventListener("compositionend",fr),e.addEventListener("change",fr),X&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){lr(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,pr);if(r.some((function(e,t){return!F(e,i[t])})))(e.multiple?t.value.some((function(e){return hr(e,r)})):t.value!==t.oldValue&&hr(t.value,r))&&vr(e,"change")}}};function lr(e,t,n){ur(e,t,n),(J||W)&&setTimeout((function(){ur(e,t,n)}),0)}function ur(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,c=e.options.length;s<c;s++)if(o=e.options[s],r)a=D(i,pr(o))>-1,o.selected!==a&&(o.selected=a);else if(F(pr(o),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function hr(e,t){return t.every((function(t){return!F(t,e)}))}function pr(e){return"_value"in e?e._value:e.value}function mr(e){e.target.composing=!0}function fr(e){e.target.composing&&(e.target.composing=!1,vr(e.target,"input"))}function vr(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function br(e){return!e.componentInstance||e.data&&e.data.transition?e:br(e.componentInstance._vnode)}var gr={model:dr,show:{bind:function(e,t,n){var i=t.value,r=(n=br(n)).data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,ir(n,(function(){e.style.display=a}))):e.style.display=i?a:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=br(n)).data&&n.data.transition?(n.data.show=!0,i?ir(n,(function(){e.style.display=e.__vOriginalDisplay})):rr(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},yr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Pr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Pr(Gt(t.children)):e}function Tr(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var a in r)t[S(a)]=r[a];return t}function Mr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Sr=function(e){return e.tag||zt(e)},wr=function(e){return"show"===e.name},qr={name:"transition",props:yr,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Sr)).length){0;var i=this.mode;0;var r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var a=Pr(r);if(!a)return r;if(this._leaving)return Mr(e,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var c=(a.data||(a.data={})).transition=Tr(this),d=this._vnode,l=Pr(d);if(a.data.directives&&a.data.directives.some(wr)&&(a.data.show=!0),l&&l.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(a,l)&&!zt(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var u=l.data.transition=I({},c);if("out-in"===i)return this._leaving=!0,st(u,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Mr(e,r);if("in-out"===i){if(zt(a))return d;var h,p=function(){h()};st(c,"afterEnter",p),st(c,"enterCancelled",p),st(u,"delayLeave",(function(e){h=e}))}}return r}}},Ar=I({tag:String,moveClass:String},yr);function kr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function jr(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ir(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}delete Ar.mode;var Or={Transition:qr,TransitionGroup:{props:Ar,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Xt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=Tr(this),s=0;s<r.length;s++){var c=r[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))a.push(c),n[c.key]=c,(c.data||(c.data={})).transition=o;else;}if(i){for(var d=[],l=[],u=0;u<i.length;u++){var h=i[u];h.data.transition=o,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?d.push(h):l.push(h)}this.kept=e(t,null,d),this.removed=l}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(kr),e.forEach(jr),e.forEach(Ir),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;Xi(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener($i,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener($i,e),n._moveCb=null,Wi(n,t))})}})))},methods:{hasMove:function(e,t){if(!zi)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){_i(n,e)})),Ui(n,t),n.style.display="none",this.$el.appendChild(n);var i=er(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Sn.config.mustUseProp=function(e,t,n){return"value"===n&&Rn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Sn.config.isReservedTag=Kn,Sn.config.isReservedAttr=xn,Sn.config.getTagNamespace=function(e){return Vn(e)?"svg":"math"===e?"math":void 0},Sn.config.isUnknownElement=function(e){if(!$)return!0;if(Kn(e))return!1;if(e=e.toLowerCase(),null!=Yn[e])return Yn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Yn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Yn[e]=/HTMLUnknownElement/.test(t.toString())},I(Sn.options.directives,gr),I(Sn.options.components,Or),Sn.prototype.__patch__=$?cr:x,Sn.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=ve),Qt(e,"beforeMount"),i=function(){e._update(e._render(),n)},new hn(e,i,x,{before:function(){e._isMounted&&!e._isDestroyed&&Qt(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Qt(e,"mounted")),e}(this,e=e&&$?function(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}(e):void 0,t)},$&&setTimeout((function(){U.devtools&&re&&re.emit("init",Sn)}),0),t.default=Sn},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(129);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"s",(function(){return c})),n.d(t,"D",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"C",(function(){return h})),n.d(t,"q",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"t",(function(){return f})),n.d(t,"n",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"w",(function(){return g})),n.d(t,"u",(function(){return y})),n.d(t,"y",(function(){return P})),n.d(t,"A",(function(){return T})),n.d(t,"c",(function(){return M})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"o",(function(){return q})),n.d(t,"a",(function(){return A})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return j})),n.d(t,"z",(function(){return I})),n.d(t,"x",(function(){return O})),n.d(t,"r",(function(){return x})),n.d(t,"p",(function(){return R})),n.d(t,"b",(function(){return C})),n.d(t,"B",(function(){return F})),n.d(t,"j",(function(){return D}));n(22),n(31);var i="https://ius2ab8yjf.execute-api.eu-west-2.amazonaws.com/portal",r="/users/v1/{endpoint}",a="/developers/v1/{endpoint}",o="/admin/v1/{endpoint}",s="id_token",c="refresh_token",d="x_user_token",l="CONFIRMED",u=86400,h=["Active","Inactive","Blocked"],p=["Publish","Unpublish"],m=r.replace("{endpoint}","login"),f=r.replace("{endpoint}","register"),v=r.replace("{endpoint}","logout"),b=r.replace("{endpoint}","forgot-password"),g=r.replace("{endpoint}","{userName}/reset-password"),y=r.replace("{endpoint}","reset-password-confirmation"),P=r.replace("{endpoint}","refresh-token"),T=r.replace("{endpoint}","{userName}"),M=a.replace("{endpoint}","apps?userName={userName}"),S=a.replace("{endpoint}","apps"),w=a.replace("{endpoint}","{userName}/apps/{appId}"),q="/usage-plans/v1/{endpoint}".replace("{endpoint}","plans"),A=o.replace("{endpoint}","profile"),k=o.replace("{endpoint}","developers"),j=o.replace("{endpoint}","{userName}"),I=o.replace("{endpoint}","role/{userName}"),O=o.replace("{endpoint}","disable-enable-user/{userName}"),x="/usage-plans/v1/{endpoint}".replace("{endpoint}","plans/publish"),R=a.replace("{endpoint}","usage-plan/searchbykeyword?searchValue={value}"),C=a.replace("{endpoint}","apps/searchbykeyword?searchField={field}&searchValue={value}"),F="USERNAME_ALREADY_REGISTERED",D="EMAIL_ALREADY_REGISTERED"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return l}));var i="allApplications",r="allUsers",a="allPlans",o="myApplications",s="auth",c="codePanel",d="user",l="pagination"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(100),n(45),n(47),n(352),n(42),n(43),n(168),n(353),n(129);var i=n(2);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return l}));var i="SET_DATA",r="SET_LOGGED_USER",a="SET_ACTIVE_CODE_BLOCK",o="SET_SELECTED_APPLICATION",s="CLEAR_SELECTED_APPLICATION",c="ADD_TOKEN",d="SET_CURRENT_PAGE",l="CLEAR_USER_DATA"},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return h})),n.d(t,"c",(function(){return p}));var i="GET_DATA",r="REMOVE_ITEM",a="UPDATE_ROLE",o="SET_USER_STATUS",s="SIGN_IN",c="LOG_OUT",d="POST_APP",l="UPDATE_APP_BY_ID",u="CHANGE_PUBLISHED_STATE",h="UPDATE_USER_DATA",p="GET_DATA_WITH_SEARCH"},function(e,t,n){var i=n(16),r=n(51).f,a=n(36),o=n(32),s=n(107),c=n(156),d=n(99);e.exports=function(e,t){var n,l,u,h,p,m=e.target,f=e.global,v=e.stat;if(n=f?i:v?i[m]||s(m,{}):(i[m]||{}).prototype)for(l in t){if(h=t[l],u=e.noTargetGet?(p=r(n,l))&&p.value:n[l],!d(f?l:m+(v?".":"#")+l,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;c(h,u)}(e.sham||u&&u.sham)&&a(h,"sham",!0),o(n,l,h,e)}}},function(e,t,n){"use strict";var i=n(10),r=n(2),a=n(46),o=n(5),s=n(11),c=n(14),d=(n(38),n(42),n(43),n(368),n(18),n(54),n(132),n(133),n(22),n(31),n(130)),l=n.n(d),u=n(3),h=n(19),p=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"updateRefreshToken",value:function(){var e=this;return new Promise((function(t,n){var i=h.a.getValue(u.s);h.a.removeValues(u.l,u.D),f.removeTokens(),e.updateTokens(i).then((function(e){var n=e.data,i=n.AccessToken,r=n.ExpiresIn,a=n.IdToken,o=n.refreshToken;return h.a.setValueWithExpires(u.l,a,r),h.a.setValueWithExpires(u.D,i,r),h.a.setValueWithExpires(u.s,o,0,30),f.setTokens(),t()})).catch((function(e){return h.a.removeValues(u.s),n(e)}))}))}},{key:"updateTokens",value:function(e){return f.setHeadersForOneRequest({refresh_token:e}).post(u.y)}}]),e}(),m=function(){function e(){Object(s.a)(this,e),this.headers={Accept:"application/json"},this.setTokens(),this.requestWait=!1,this.requestsQueue=[],this.headersForOneRequest={}}var t,n,d,m;return Object(c.a)(e,[{key:"getHeaders",value:function(){return this.headers}},{key:"setHeadersForOneRequest",value:function(e){return this.headersForOneRequest=Object(o.a)(Object(o.a)({},this.headersForOneRequest),e),this}},{key:"clearHeadersForOneRequest",value:function(){this.headersForOneRequest={}}},{key:"onAccessTokenFetched",value:function(){var e=h.a.getValues([u.l],[u.D]),t=Object(a.a)(e,2),n=t[0],i=t[1];this.requestsQueue.forEach((function(e){return e(n,i)})),this.requestsQueue.splice(0,this.requestsQueue.length)}},{key:"setTokens",value:function(){var e=h.a.getValues(u.D,u.l),t=Object(a.a)(e,2),n=t[0],i=t[1];n&&i&&(this.headers=Object(o.a)(Object(o.a)({},this.headers),{},{Authorization:"Bearer ".concat(i),x_user_token:n}),this.initClient())}},{key:"removeTokens",value:function(){delete this.headers.Authorization,delete this.headers.x_user_token}},{key:"addSubscriber",value:function(e){this.requestsQueue.push(e)}},{key:"initClient",value:function(){var e=this;return this.client=l.a.create({baseURL:u.e,headers:Object(o.a)(Object(o.a)({},this.getHeaders()),this.headersForOneRequest)}),this.client.interceptors.response.use((function(e){var t,n;return e.data.error?Promise.reject(null==e||null===(t=e.data)||void 0===t||null===(n=t.errorDescription)||void 0===n?void 0:n.name):e}),(function(t){var n=t.request.responseURL;if(401===t.response.status&&h.a.getValue(u.s)&&!n.includes(u.y)){var i=t.config,a=Object(o.a)({},i);return e.requestWait||(e.requestWait=!0,p.updateRefreshToken(a).then((function(){e.onAccessTokenFetched(),e.requestWait=!1})).catch((function(e){return window.location.replace("/login/"),Promise.reject(e)}))),new Promise((function(t){e.addSubscriber((function(e,n){a.headers=Object(o.a)(Object(o.a)({},a.headers),Object(r.a)({Authorization:"Bearer "+e},u.D,n)),t(l()(a))}))}))}return 401===t.response.status&&t.config.url!==u.m&&window.location.replace("/login/"),Promise.reject(t)})),this.client}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.initClient(),this.clearHeadersForOneRequest(),this.client.request(e)}},{key:"get",value:(m=Object(i.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object(o.a)({method:"GET",url:t},n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"post",value:(d=Object(i.a)(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object(o.a)({method:"POST",url:t,data:n},i)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return d.apply(this,arguments)})},{key:"put",value:(n=Object(i.a)(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object(o.a)({method:"PUT",url:t,data:n},i)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,i){return n.apply(this,arguments)})},{key:"delete",value:(t=Object(i.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object(o.a)({method:"DELETE",url:t},n)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}],[{key:"create",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),f=t.a=m.create()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(18);function i(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(142);var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("/")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return p}));var i="GET_ALL_APPS",r="GET_COMPANY_BY_USERNAME",a="GET_ALL_USERS",o="GET_ALL_MY_APPS",s="GET_TOKEN_NEXT_PAGE",c="GET_TOKEN_PREV_PAGE",d="GET_CURRENT_PAGE",l="GET_PUBLISHED_USAGE_PLANS",u="GET_PLANS_WITH_STATE",h="GET_USER_NAME",p="GET_USER_ROLE"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(129);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,t,n){var i=n(16),r=n(82),a=n(27),o=n(83),s=n(109),c=n(153),d=r("wks"),l=i.Symbol,u=c?l:l&&l.withoutSetter||o;e.exports=function(e){return a(d,e)&&(s||"string"==typeof d[e])||(s&&a(l,e)?d[e]=l[e]:d[e]=u("Symbol."+e)),d[e]}},function(e,t,n){var i=n(116),r=n(32),a=n(251);i||r(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";n(34),n(42),n(43);var i=n(76),r=n.n(i),a=n(3);t.a={getValue:function(e){return r.a.get(e)},getValues:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.map((function(t){return e.getValue(t)}))},setValue:function(e,t){r.a.set(e,t,{sameSite:"strict"})},setValueWithExpires:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.a.set(e,t,{expires:i||n/a.v,sameSite:"strict"})},removeValues:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){r.a.remove(e)}))}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(15);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){"use strict";var i=n(8),r=n(105);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,t,n){var i=n(20);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";function i(e,t,n,i,r,a,o,s){var c,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):r&&(c=s?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(e,t){return c.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:d}}n.d(t,"a",(function(){return i}))},function(e,t,n){var i=n(21),r=n(151),a=n(23),o=n(80),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var i=n(147).charAt,r=n(55),a=n(138),o=r.set,s=r.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(28),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(i(e),t)}},function(e,t,n){var i=n(49);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";var i=n(202),r=Object.prototype.toString;function a(e){return"[object Array]"===r.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:d,isStream:function(e){return s(e)&&d(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,i){c(t[i])&&c(n)?t[i]=e(t[i],n):c(n)?t[i]=e({},n):a(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return t},extend:function(e,t,n){return l(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){var i=n(16),r=n(167),a=n(143),o=n(36),s=n(17),c=s("iterator"),d=s("toStringTag"),l=a.values;for(var u in r){var h=i[u],p=h&&h.prototype;if(p){if(p[c]!==l)try{o(p,c,l)}catch(e){p[c]=l}if(p[d]||o(p,d,u),r[u])for(var m in a)if(p[m]!==a[m])try{o(p,m,a[m])}catch(e){p[m]=a[m]}}}},function(e,t,n){"use strict";var i=n(225),r=n(23),a=n(35),o=n(62),s=n(49),c=n(229),d=n(257),l=n(226),u=Math.max,h=Math.min;i("replace",2,(function(e,t,n,i){var p=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=i.REPLACE_KEEPS_$0,f=p?"$":"$0";return[function(n,i){var r=s(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!p&&m||"string"==typeof i&&-1===i.indexOf(f)){var s=n(t,e,this,i);if(s.done)return s.value}var v=r(e),b=String(this),g="function"==typeof i;g||(i=String(i));var y=v.global;if(y){var P=v.unicode;v.lastIndex=0}for(var T=[];;){var M=l(v,b);if(null===M)break;if(T.push(M),!y)break;""===String(M[0])&&(v.lastIndex=c(b,a(v.lastIndex),P))}for(var S,w="",q=0,A=0;A<T.length;A++){M=T[A];for(var k=String(M[0]),j=u(h(o(M.index),b.length),0),I=[],O=1;O<M.length;O++)I.push(void 0===(S=M[O])?S:String(S));var x=M.groups;if(g){var R=[k].concat(I,j,b);void 0!==x&&R.push(x);var C=String(i.apply(void 0,R))}else C=d(k,b,j,I,x,i);j>=q&&(w+=b.slice(q,j)+C,q=j+k.length)}return w+b.slice(q)}]}))},function(e,t,n){var i=n(16),r=n(36),a=n(27),o=n(107),s=n(113),c=n(55),d=c.get,l=c.enforce,u=String(String).split("String");(e.exports=function(e,t,n,s){var c,d=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||r(n,"name",t),(c=l(n)).source||(c.source=u.join("string"==typeof t?t:""))),e!==i?(d?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=n:r(e,t,n)):h?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||s(this)}))},function(e,t,n){var i=n(66),r=n(49);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";var i=n(8),r=n(56).map;i({target:"Array",proto:!0,forced:!n(72)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(62),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(21),r=n(25),a=n(63);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(11),r=n(14),a=(n(18),n(222)),o=n(1),s=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"openDialog",value:function(){return new Promise((function(e){var t=(new(o.default.extend(a.default))).$mount();document.body.appendChild(t.$el),t.$on("close",(function(n){t.$destroy(),t.$el.remove(),e(n)}))}))}}]),e}()},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof u?t:u,a=Object.create(r.prototype),o=new S(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return q()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=P(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=d(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function u(){}function h(){}function p(){}var m={};m[r]=function(){return this};var f=Object.getPrototypeOf,v=f&&f(f(w([])));v&&v!==t&&n.call(v,r)&&(m=v);var b=p.prototype=u.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var i;this._invoke=function(r,a){function o(){return new t((function(i,o){!function i(r,a,o,s){var c=d(e[r],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(c.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}}function P(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,l;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function w(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:q}}function q(){return{value:void 0,done:!0}}return h.prototype=b.constructor=p,p.constructor=h,h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new y(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(b),s(b,o,"Generator"),b[r]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=w,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var i=n(179),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},function(e,t,n){"use strict";var i=n(8),r=n(172);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){var i=n(16),r=n(167),a=n(172),o=n(36);for(var s in r){var c=i[s],d=c&&c.prototype;if(d&&d.forEach!==a)try{o(d,"forEach",a)}catch(e){d.forEach=a}}},function(e,t,n){var i=n(152),r=n(16),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){"use strict";var i=n(8),r=n(16),a=n(44),o=n(50),s=n(21),c=n(109),d=n(153),l=n(15),u=n(27),h=n(64),p=n(20),m=n(23),f=n(28),v=n(33),b=n(80),g=n(63),y=n(61),P=n(68),T=n(81),M=n(255),S=n(114),w=n(51),q=n(25),A=n(86),k=n(36),j=n(32),I=n(82),O=n(85),x=n(69),R=n(83),C=n(17),F=n(174),D=n(175),E=n(77),N=n(55),H=n(56).forEach,U=O("hidden"),_=C("toPrimitive"),B=N.set,L=N.getterFor("Symbol"),z=Object.prototype,G=r.Symbol,$=a("JSON","stringify"),V=w.f,K=q.f,Y=M.f,J=A.f,X=I("symbols"),W=I("op-symbols"),Z=I("string-to-symbol-registry"),Q=I("symbol-to-string-registry"),ee=I("wks"),te=r.QObject,ne=!te||!te.prototype||!te.prototype.findChild,ie=s&&l((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=V(z,t);i&&delete z[t],K(e,t,n),i&&e!==z&&K(z,t,i)}:K,re=function(e,t){var n=X[e]=y(G.prototype);return B(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ae=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},oe=function(e,t,n){e===z&&oe(W,t,n),m(e);var i=b(t,!0);return m(n),u(X,i)?(n.enumerable?(u(e,U)&&e[U][i]&&(e[U][i]=!1),n=y(n,{enumerable:g(0,!1)})):(u(e,U)||K(e,U,g(1,{})),e[U][i]=!0),ie(e,i,n)):K(e,i,n)},se=function(e,t){m(e);var n=v(t),i=P(n).concat(ue(n));return H(i,(function(t){s&&!ce.call(n,t)||oe(e,t,n[t])})),e},ce=function(e){var t=b(e,!0),n=J.call(this,t);return!(this===z&&u(X,t)&&!u(W,t))&&(!(n||!u(this,t)||!u(X,t)||u(this,U)&&this[U][t])||n)},de=function(e,t){var n=v(e),i=b(t,!0);if(n!==z||!u(X,i)||u(W,i)){var r=V(n,i);return!r||!u(X,i)||u(n,U)&&n[U][i]||(r.enumerable=!0),r}},le=function(e){var t=Y(v(e)),n=[];return H(t,(function(e){u(X,e)||u(x,e)||n.push(e)})),n},ue=function(e){var t=e===z,n=Y(t?W:v(e)),i=[];return H(n,(function(e){!u(X,e)||t&&!u(z,e)||i.push(X[e])})),i};(c||(j((G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===z&&n.call(W,e),u(this,U)&&u(this[U],t)&&(this[U][t]=!1),ie(this,t,g(1,e))};return s&&ne&&ie(z,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return L(this).tag})),j(G,"withoutSetter",(function(e){return re(R(e),e)})),A.f=ce,q.f=oe,w.f=de,T.f=M.f=le,S.f=ue,F.f=function(e){return re(C(e),e)},s&&(K(G.prototype,"description",{configurable:!0,get:function(){return L(this).description}}),o||j(z,"propertyIsEnumerable",ce,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),H(P(ee),(function(e){D(e)})),i({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=String(e);if(u(Z,t))return Z[t];var n=G(t);return Z[t]=n,Q[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(u(Q,e))return Q[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?y(e):se(y(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:de}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:le,getOwnPropertySymbols:ue}),i({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(f(e))}}),$)&&i({target:"JSON",stat:!0,forced:!c||l((function(){var e=G();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))}))},{stringify:function(e,t,n){for(var i,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(i=t,(p(t)||void 0!==e)&&!ae(e))return h(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!ae(t))return t}),r[1]=t,$.apply(null,r)}});G.prototype[_]||k(G.prototype,_,G.prototype.valueOf),E(G,"Symbol"),x[U]=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(101);n(45),n(52),n(18),n(73),n(26),n(30);var i=n(60);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var i=n(8),r=n(56).filter;i({target:"Array",proto:!0,forced:!n(72)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(101);var i=n(75);n(45),n(52),n(18),n(73),n(26),n(30),n(176);var r=n(60);function a(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=!1},function(e,t,n){var i=n(21),r=n(86),a=n(63),o=n(33),s=n(80),c=n(27),d=n(151),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=o(e),t=s(t,!0),d)try{return l(e,t)}catch(e){}if(c(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var i=n(8),r=n(21),a=n(16),o=n(27),s=n(20),c=n(25).f,d=n(156),l=a.Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};d(h,l);var p=h.prototype=l.prototype;p.constructor=h;var m=p.toString,f="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(u,e))return"";var n=f?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:h})}},function(e,t,n){var i=n(276),r=n(279);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){var i=n(21),r=n(25).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in a)&&r(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var i,r,a,o=n(242),s=n(16),c=n(20),d=n(36),l=n(27),u=n(106),h=n(85),p=n(69),m=s.WeakMap;if(o||u.state){var f=u.state||(u.state=new m),v=f.get,b=f.has,g=f.set;i=function(e,t){if(b.call(f,e))throw new TypeError("Object already initialized");return t.facade=e,g.call(f,e,t),t},r=function(e){return v.call(f,e)||{}},a=function(e){return b.call(f,e)}}else{var y=h("state");p[y]=!0,i=function(e,t){if(l(e,y))throw new TypeError("Object already initialized");return t.facade=e,d(e,y,t),t},r=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(78),r=n(66),a=n(28),o=n(35),s=n(104),c=[].push,d=function(e){var t=1==e,n=2==e,d=3==e,l=4==e,u=6==e,h=7==e,p=5==e||u;return function(m,f,v,b){for(var g,y,P=a(m),T=r(P),M=i(f,v,3),S=o(T.length),w=0,q=b||s,A=t?q(m,S):n||h?q(m,0):void 0;S>w;w++)if((p||w in T)&&(y=M(g=T[w],w,P),e))if(t)A[w]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:c.call(A,g)}else switch(e){case 4:return!1;case 7:c.call(A,g)}return u?-1:d||l?l:A}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},function(e,t,n){"use strict";var i=n(15);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(98),n(18),n(54),n(176),n(26);var i=n(75);function r(e,t){if(e){if("string"==typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},function(e,t,n){var i,r=n(23),a=n(144),o=n(112),s=n(69),c=n(155),d=n(108),l=n(85),u=l("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=i?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=d("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete m.prototype[o[n]];return m()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[u]=e):n=m(),void 0===t?n:a(n,t)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(58);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(74),r=n(261),a=n(262),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):a(e)}},function(e,t,n){var i=n(15),r=n(58),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var i,r,a=n(16),o=n(84),s=a.process,c=s&&s.versions,d=c&&c.v8;d?r=(i=d.split("."))[0]<4?1:i[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},function(e,t,n){var i=n(154),r=n(112);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(80),r=n(25),a=n(63);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var i=n(15),r=n(17),a=n(67),o=r("species");e.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){n(175)("iterator")},function(e,t,n){var i=n(41).Symbol;e.exports=i},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}return function t(n,i){function r(t,r,a){if("undefined"!=typeof document){"number"==typeof(a=e({},i,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},r=0;r<t.length;r++){var a=t[r].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(i[s]=n.read(o,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(e,t,n){var i=n(25).f,r=n(27),a=n(17)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){var i=n(40);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var i=n(8),r=n(56).find,a=n(103),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},function(e,t,n){var i=n(20);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(154),r=n(112).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(50),r=n(106);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.1",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){var i=n(44);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i=n(82),r=n(83),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(23),r=n(243);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return i(n),r(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var i=n(58),r=n(16);e.exports="process"==i(r.process)},function(e,t,n){var i=n(266),r=n(267),a=n(268),o=n(269),s=n(270);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(181);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(53)(Object,"create");e.exports=i},function(e,t,n){var i=n(288);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var i=n(127);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";var i=n(29),r=n(374),a=n(204),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,d={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(205)),c),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){d.headers[e]=i.merge(o)})),e.exports=d},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){var i,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(r="function"==typeof(i=function(){var e,t,n={version:"0.2.0"},i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,t,n){return e<t?t:e>n?n:e}function a(e){return 100*(-1+e)}n.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(i[t]=n);return this},n.status=null,n.set=function(e){var t=n.isStarted();e=r(e,i.minimum,1),n.status=1===e?null:e;var c=n.render(!t),d=c.querySelector(i.barSelector),l=i.speed,u=i.easing;return c.offsetWidth,o((function(t){""===i.positionUsing&&(i.positionUsing=n.getPositioningCSS()),s(d,function(e,t,n){var r;return(r="translate3d"===i.positionUsing?{transform:"translate3d("+a(e)+"%,0,0)"}:"translate"===i.positionUsing?{transform:"translate("+a(e)+"%,0)"}:{"margin-left":a(e)+"%"}).transition="all "+t+"ms "+n,r}(e,l,u)),1===e?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){n.remove(),t()}),l)}),l)):setTimeout(t,l)})),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout((function(){n.status&&(n.trickle(),e())}),i.trickleSpeed)};return i.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var t=n.status;return t?("number"!=typeof e&&(e=(1-t)*r(Math.random()*t,.1,.95)),t=r(t+e,0,.994),n.set(t)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},e=0,t=0,n.promise=function(i){return i&&"resolved"!==i.state()?(0===t&&n.start(),e++,t++,i.always((function(){0==--t?(e=0,n.done()):n.set((e-t)/e)})),this):this},n.render=function(e){if(n.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=i.template;var r,o=t.querySelector(i.barSelector),c=e?"-100":a(n.status||0),l=document.querySelector(i.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),i.showSpinner||(r=t.querySelector(i.spinnerSelector))&&h(r),l!=document.body&&d(l,"nprogress-custom-parent"),l.appendChild(t),t},n.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(i.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),s=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()})),t[n]||(t[n]=function(t){var n=document.body.style;if(t in n)return t;for(var i,r=e.length,a=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((i=e[r]+a)in n)return i;return t}(n))}function i(e,t,i){t=n(t),e.style[t]=i}return function(e,t){var n,r,a=arguments;if(2==a.length)for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&i(e,n,r);else i(e,a[1],a[2])}}();function c(e,t){return("string"==typeof e?e:u(e)).indexOf(" "+t+" ")>=0}function d(e,t){var n=u(e),i=n+t;c(n,t)||(e.className=i.substring(1))}function l(e,t){var n,i=u(e);c(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function u(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return n})?i.call(t,n,t,e):i)||(e.exports=r)},function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return P}));var i=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var n,i=(n=function(t){return t.original===e},t.filter(n)[0]);if(i)return i.copy;var a=Array.isArray(e)?[]:{};return t.push({original:e,copy:a}),Object.keys(e).forEach((function(n){a[n]=r(e[n],t)})),a}function a(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function o(e){return null!==e&&"object"==typeof e}var s=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(e,t){this._children[e]=t},s.prototype.removeChild=function(e){delete this._children[e]},s.prototype.getChild=function(e){return this._children[e]},s.prototype.hasChild=function(e){return e in this._children},s.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},s.prototype.forEachChild=function(e){a(this._children,e)},s.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},s.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},s.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(s.prototype,c);var d=function(e){this.register([],e,!1)};d.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},d.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},d.prototype.update=function(e){!function e(t,n,i){0;if(n.update(i),i.modules)for(var r in i.modules){if(!n.getChild(r))return void 0;e(t.concat(r),n.getChild(r),i.modules[r])}}([],this.root,e)},d.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new s(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r);t.modules&&a(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},d.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},d.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var l;var u=function(e){var t=this;void 0===e&&(e={}),!l&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(e,t){return o.call(a,e,t)},this.commit=function(e,t,n){return s.call(a,e,t,n)},this.strict=r;var c=this._modules.root.state;v(this,c,[],this._modules.root),f(this,c),n.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:l.config.devtools)&&function(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){i.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},h={state:{configurable:!0}};function p(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function m(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;v(e,n,[],e._modules.root,!0),f(e,n,t)}function f(e,t,n){var i=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,o={};a(r,(function(t,n){o[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var s=l.config.silent;l.config.silent=!0,e._vm=new l({data:{$$state:t},computed:o}),l.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),i&&(n&&e._withCommit((function(){i._data.$$state=null})),l.nextTick((function(){return i.$destroy()})))}function v(e,t,n,i,r){var a=!n.length,o=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=i),!a&&!r){var s=b(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){l.set(s,c,i.state)}))}var d=i.context=function(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var a=g(n,i,r),o=a.payload,s=a.options,c=a.type;return s&&s.root||(c=t+c),e.dispatch(c,o)},commit:i?e.commit:function(n,i,r){var a=g(n,i,r),o=a.payload,s=a.options,c=a.type;s&&s.root||(c=t+c),e.commit(c,o,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return b(e.state,n)}}}),r}(e,o,n);i.forEachMutation((function(t,n){!function(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,i.state,t)}))}(e,o+n,t,d)})),i.forEachAction((function(t,n){var i=t.root?n:o+n,r=t.handler||t;!function(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push((function(t){var r,a=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(r=a)&&"function"==typeof r.then||(a=Promise.resolve(a)),e._devtoolHook?a.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):a}))}(e,i,r,d)})),i.forEachGetter((function(t,n){!function(e,t,n,i){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)}}(e,o+n,t,d)})),i.forEachChild((function(i,a){v(e,t,n.concat(a),i,r)}))}function b(e,t){return t.reduce((function(e,t){return e[t]}),e)}function g(e,t,n){return o(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function y(e){l&&e===l||
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(l=e)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(e){0},u.prototype.commit=function(e,t,n){var i=this,r=g(e,t,n),a=r.type,o=r.payload,s=(r.options,{type:a,payload:o}),c=this._mutations[a];c&&(this._withCommit((function(){c.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(s,i.state)})))},u.prototype.dispatch=function(e,t){var n=this,i=g(e,t),r=i.type,a=i.payload,o={type:r,payload:a},s=this._actions[r];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(e){0}var c=s.length>1?Promise.all(s.map((function(e){return e(a)}))):s[0](a);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(e){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(e){0}t(e)}))}))}},u.prototype.subscribe=function(e,t){return p(e,this._subscribers,t)},u.prototype.subscribeAction=function(e,t){return p("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},u.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch((function(){return e(i.state,i.getters)}),t,n)},u.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},u.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),v(this,this.state,e,this._modules.get(e),n.preserveState),f(this,this.state)},u.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=b(t.state,e.slice(0,-1));l.delete(n,e[e.length-1])})),m(this)},u.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},u.prototype.hotUpdate=function(e){this._modules.update(e),m(this,!0)},u.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(u.prototype,h);var P=q((function(e,t){var n={};return w(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=A(this.$store,"mapState",e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0})),n})),T=q((function(e,t){var n={};return w(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var a=A(this.$store,"mapMutations",e);if(!a)return;i=a.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),M=q((function(e,t){var n={};return w(t).forEach((function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||A(this.$store,"mapGetters",e))return this.$store.getters[r]},n[i].vuex=!0})),n})),S=q((function(e,t){var n={};return w(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var a=A(this.$store,"mapActions",e);if(!a)return;i=a.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n}));function w(e){return function(e){return Array.isArray(e)||o(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function q(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function A(e,t,n){return e._modulesNamespaceMap[n]}function k(e,t,n){var i=n?e.groupCollapsed:e.group;try{i.call(e,t)}catch(n){e.log(t)}}function j(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function I(){var e=new Date;return" @ "+O(e.getHours(),2)+":"+O(e.getMinutes(),2)+":"+O(e.getSeconds(),2)+"."+O(e.getMilliseconds(),3)}function O(e,t){return n="0",i=t-e.toString().length,new Array(i+1).join(n)+e;var n,i}var x={Store:u,install:y,version:"3.6.2",mapState:P,mapMutations:T,mapGetters:M,mapActions:S,createNamespacedHelpers:function(e){return{mapState:P.bind(null,e),mapGetters:M.bind(null,e),mapMutations:T.bind(null,e),mapActions:S.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var a=e.mutationTransformer;void 0===a&&(a=function(e){return e});var o=e.actionFilter;void 0===o&&(o=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var d=e.logActions;void 0===d&&(d=!0);var l=e.logger;return void 0===l&&(l=console),function(e){var u=r(e.state);void 0!==l&&(c&&e.subscribe((function(e,o){var s=r(o);if(n(e,u,s)){var c=I(),d=a(e),h="mutation "+e.type+c;k(l,h,t),l.log("%c prev state","color: #9E9E9E; font-weight: bold",i(u)),l.log("%c mutation","color: #03A9F4; font-weight: bold",d),l.log("%c next state","color: #4CAF50; font-weight: bold",i(s)),j(l)}u=s})),d&&e.subscribeAction((function(e,n){if(o(e,n)){var i=I(),r=s(e),a="action "+e.type+i;k(l,a,t),l.log("%c action","color: #03A9F4; font-weight: bold",r),j(l)}})))}}};t.a=x},function(e,t,n){"use strict";var i=n(8),r=n(20),a=n(64),o=n(111),s=n(35),c=n(33),d=n(71),l=n(17),u=n(72)("slice"),h=l("species"),p=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!u},{slice:function(e,t){var n,i,l,u=c(this),f=s(u.length),v=o(e,f),b=o(void 0===t?f:t,f);if(a(u)&&("function"!=typeof(n=u.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(u,v,b);for(i=new(void 0===n?Array:n)(m(b-v,0)),l=0;v<b;v++,l++)v in u&&d(i,l,u[v]);return i.length=l,i}})},function(e,t,n){var i=n(15),r=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==d||n!=c&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},function(e,t,n){var i=n(8),r=n(28),a=n(68);i({target:"Object",stat:!0,forced:n(15)((function(){a(1)}))},{keys:function(e){return a(r(e))}})},function(e,t,n){n(8)({target:"Array",stat:!0},{isArray:n(64)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(11),r=n(14),a=(n(22),n(31),n(9)),o=n(3),s=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"signUp",value:function(e){return a.a.post(o.t,e)}},{key:"signIn",value:function(e){return a.a.post(o.m,e)}},{key:"setNewPassword",value:function(e,t){return a.a.put(o.w.replace("{userName}",e),t)}},{key:"forgotPassword",value:function(e){return a.a.post(o.k,e)}},{key:"forgotPasswordConfirmation",value:function(e){return a.a.post(o.u,e)}},{key:"logOut",value:function(e){return a.a.post(o.n,e)}}]),e}()},function(e,t,n){var i=n(17),r=n(61),a=n(25),o=i("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){var i=n(20),r=n(64),a=n(17)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var i,r,a=n(118),o=n(149),s=n(82),c=RegExp.prototype.exec,d=s("native-string-replace",String.prototype.replace),l=c,u=(i=/a/,r=/b*/g,c.call(i,"a"),c.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||h)&&(l=function(e){var t,n,i,r,o=this,s=h&&o.sticky,l=a.call(o),m=o.source,f=0,v=e;return s&&(-1===(l=l.replace("y","")).indexOf("g")&&(l+="g"),v=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(m="(?: "+m+")",v=" "+v,f++),n=new RegExp("^(?:"+m+")",l)),p&&(n=new RegExp("^"+m+"$(?!\\s)",l)),u&&(t=o.lastIndex),i=c.call(s?n:o,v),s?i?(i.input=i.input.slice(f),i[0]=i[0].slice(f),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:u&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),p&&i&&i.length>1&&d.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),e.exports=l},function(e,t,n){var i=n(16),r=n(107),a=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=a},function(e,t,n){var i=n(16),r=n(36);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(16),r=n(20),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var i=n(67),r=n(15);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i=n(33),r=n(35),a=n(111),o=function(e){return function(t,n,o){var s,c=i(t),d=r(c.length),l=a(o,d);if(e&&n!=n){for(;d>l;)if((s=c[l++])!=s)return!0}else for(;d>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var i=n(62),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i=n(106),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(27),r=n(28),a=n(85),o=n(159),s=a("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var i={};i[n(17)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){"use strict";var i=n(40),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var i=n(23);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var i=n(260),r=n(59),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var i=n(53)(n(41),"Map");e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var i=n(280),r=n(287),a=n(289),o=n(290),s=n(291);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var i=n(39),r=n(127),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var i=n(65),r=n(59);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(8),r=n(21);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(25).f})},function(e,t,n){e.exports=n(369)},function(e,t,n){var i=n(8),r=n(16),a=n(84),o=[].slice,s=function(e){return function(t,n){var i=arguments.length>2,r=i?o.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(a)},{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(e,t,n){"use strict";var i=n(8),r=n(110).includes,a=n(103);i({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){"use strict";var i=n(8),r=n(170),a=n(49);i({target:"String",proto:!0,forced:!n(171)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(8),r=n(15),a=n(64),o=n(20),s=n(28),c=n(35),d=n(71),l=n(104),u=n(72),h=n(17),p=n(67),m=h("isConcatSpreadable"),f=p>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=u("concat"),b=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};i({target:"Array",proto:!0,forced:!f||!v},{concat:function(e){var t,n,i,r,a,o=s(this),u=l(o,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(b(a=-1===t?o:arguments[t])){if(h+(r=c(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in a&&d(u,h,a[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");d(u,h++,a)}return u.length=h,u}})},function(e,t,n){"use strict";var i=n(8),r=n(56).some;i({target:"Array",proto:!0,forced:!n(57)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(23),r=n(161),a=n(35),o=n(78),s=n(140),c=n(162),d=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,u,h,p,m,f,v,b=n&&n.that,g=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),T=o(t,b,1+g+P),M=function(e){return l&&c(l),new d(!0,e)},S=function(e){return g?(i(e),P?T(e[0],e[1],M):T(e[0],e[1])):P?T(e,M):T(e)};if(y)l=e;else{if("function"!=typeof(u=s(e)))throw TypeError("Target is not iterable");if(r(u)){for(h=0,p=a(e.length);p>h;h++)if((m=S(e[h]))&&m instanceof d)return m;return new d(!1)}l=u.call(e)}for(f=l.next;!(v=f.call(l)).done;){try{m=S(v.value)}catch(e){throw c(l),e}if("object"==typeof m&&m&&m instanceof d)return m}return new d(!1)}},function(e,t,n){"use strict";var i=n(8),r=n(110).indexOf,a=n(57),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,c=a("indexOf");i({target:"Array",proto:!0,forced:s||!c},{indexOf:function(e){return s?o.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(8),r=n(234),a=n(115),o=n(87),s=n(77),c=n(36),d=n(32),l=n(17),u=n(50),h=n(70),p=n(158),m=p.IteratorPrototype,f=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b=function(){return this};e.exports=function(e,t,n,l,p,g,y){r(n,t,l);var P,T,M,S=function(e){if(e===p&&j)return j;if(!f&&e in A)return A[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},w=t+" Iterator",q=!1,A=e.prototype,k=A[v]||A["@@iterator"]||p&&A[p],j=!f&&k||S(p),I="Array"==t&&A.entries||k;if(I&&(P=a(I.call(new e)),m!==Object.prototype&&P.next&&(u||a(P)===m||(o?o(P,m):"function"!=typeof P[v]&&c(P,v,b)),s(P,w,!0,!0),u&&(h[w]=b))),"values"==p&&k&&"values"!==k.name&&(q=!0,j=function(){return k.call(this)}),u&&!y||A[v]===j||c(A,v,j),h[t]=j,p)if(T={values:S("values"),keys:g?j:S("keys"),entries:S("entries")},y)for(M in T)(f||q||!(M in A))&&d(A,M,T[M]);else i({target:t,proto:!0,forced:f||q},T);return T}},function(e,t,n){"use strict";var i=n(44),r=n(25),a=n(17),o=n(21),s=a("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(145),r=n(70),a=n(17)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(17)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(8),r=n(66),a=n(33),o=n(57),s=[].join,c=r!=Object,d=o("join",",");i({target:"Array",proto:!0,forced:c||!d},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(33),r=n(103),a=n(70),o=n(55),s=n(138),c=o.set,d=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(21),r=n(25),a=n(23),o=n(68);e.exports=i?Object.defineProperties:function(e,t){a(e);for(var n,i=o(t),s=i.length,c=0;s>c;)r.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var i=n(116),r=n(58),a=n(17)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i=n(23),r=n(40),a=n(17)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[a])?t:r(n)}},function(e,t,n){var i=n(62),r=n(49),a=function(e){return function(t,n){var a,o,s=String(r(t)),c=i(n),d=s.length;return c<0||c>=d?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===d||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var i=n(20),r=n(58),a=n(17)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){"use strict";var i=n(15);function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var i=n(21),r=n(15),a=n(108);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(16);e.exports=i},function(e,t,n){var i=n(109);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(27),r=n(33),a=n(110).indexOf,o=n(69);e.exports=function(e,t){var n,s=r(e),c=0,d=[];for(n in s)!i(o,n)&&i(s,n)&&d.push(n);for(;t.length>c;)i(s,n=t[c++])&&(~a(d,n)||d.push(n));return d}},function(e,t,n){var i=n(44);e.exports=i("document","documentElement")},function(e,t,n){var i=n(27),r=n(157),a=n(51),o=n(25);e.exports=function(e,t){for(var n=r(t),s=o.f,c=a.f,d=0;d<n.length;d++){var l=n[d];i(e,l)||s(e,l,c(t,l))}}},function(e,t,n){var i=n(44),r=n(81),a=n(114),o=n(23);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var i,r,a,o=n(15),s=n(115),c=n(36),d=n(27),l=n(17),u=n(50),h=l("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(r=s(s(a)))!==Object.prototype&&(i=r):p=!0);var m=null==i||o((function(){var e={};return i[h].call(e)!==e}));m&&(i={}),u&&!m||d(i,h)||c(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var i=n(15);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(16);e.exports=i.Promise},function(e,t,n){var i=n(17),r=n(70),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){var i=n(23);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},function(e,t,n){var i,r,a,o=n(16),s=n(15),c=n(78),d=n(155),l=n(108),u=n(164),h=n(88),p=o.location,m=o.setImmediate,f=o.clearImmediate,v=o.process,b=o.MessageChannel,g=o.Dispatch,y=0,P={},T=function(e){if(P.hasOwnProperty(e)){var t=P[e];delete P[e],t()}},M=function(e){return function(){T(e)}},S=function(e){T(e.data)},w=function(e){o.postMessage(e+"",p.protocol+"//"+p.host)};m&&f||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return P[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},f=function(e){delete P[e]},h?i=function(e){v.nextTick(M(e))}:g&&g.now?i=function(e){g.now(M(e))}:b&&!u?(a=(r=new b).port2,r.port1.onmessage=S,i=c(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&p&&"file:"!==p.protocol&&!s(w)?(i=w,o.addEventListener("message",S,!1)):i="onreadystatechange"in l("script")?function(e){d.appendChild(l("script")).onreadystatechange=function(){d.removeChild(this),T(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:m,clear:f}},function(e,t,n){var i=n(84);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},function(e,t,n){var i=n(23),r=n(20),a=n(117);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(8),r=n(21),a=n(157),o=n(33),s=n(51),c=n(71);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),r=s.f,d=a(i),l={},u=0;d.length>u;)void 0!==(n=r(i,t=d[u++]))&&c(l,t,n);return l}})},function(e,t,n){var i=n(8),r=n(15),a=n(28),o=n(115),s=n(159);i({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){var i=n(148);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var i=n(56).forEach,r=n(57)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var i=n(15);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var i=n(17);t.f=i},function(e,t,n){var i=n(152),r=n(27),a=n(174),o=n(25).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(8),r=n(237);i({target:"Array",stat:!0,forced:!n(141)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){n(8)({target:"Object",stat:!0,sham:!n(21)},{create:n(61)})},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},function(e,t,n){var i=n(89),r=n(271),a=n(272),o=n(273),s=n(274),c=n(275);function d(e){var t=this.__data__=new i(e);this.size=t.size}d.prototype.clear=r,d.prototype.delete=a,d.prototype.get=o,d.prototype.has=s,d.prototype.set=c,e.exports=d},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(65),r=n(121);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var i=n(292),r=n(59);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,a,o,e,s))}},function(e,t,n){var i=n(186),r=n(295),a=n(187);e.exports=function(e,t,n,o,s,c){var d=1&n,l=e.length,u=t.length;if(l!=u&&!(d&&u>l))return!1;var h=c.get(e),p=c.get(t);if(h&&p)return h==t&&p==e;var m=-1,f=!0,v=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++m<l;){var b=e[m],g=t[m];if(o)var y=d?o(g,b,m,t,e,c):o(b,g,m,e,t,c);if(void 0!==y){if(y)continue;f=!1;break}if(v){if(!r(t,(function(e,t){if(!a(v,t)&&(b===e||s(b,e,n,o,c)))return v.push(t)}))){f=!1;break}}else if(b!==g&&!s(b,g,n,o,c)){f=!1;break}}return c.delete(e),c.delete(t),f}},function(e,t,n){var i=n(122),r=n(293),a=n(294);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,e.exports=o},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var i=n(305),r=n(311),a=n(192);e.exports=function(e){return a(e)?i(e):r(e)}},function(e,t,n){(function(e){var i=n(41),r=n(307),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c}).call(this,n(124)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var i=n(308),r=n(309),a=n(310),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},function(e,t,n){var i=n(182),r=n(125);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,n){var i=n(53)(n(41),"Set");e.exports=i},function(e,t,n){var i=n(121);e.exports=function(e){return e==e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var i=n(197),r=n(93);e.exports=function(e,t){for(var n=0,a=(t=i(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:void 0}},function(e,t,n){var i=n(39),r=n(126),a=n(322),o=n(325);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:a(o(e))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(29);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(i.isURLSearchParams(t))a=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,n){"use strict";var i=n(29),r=n(375),a=n(376),o=n(203),s=n(377),c=n(380),d=n(381),l=n(206),u=n(94),h=n(95);e.exports=function(e){return new Promise((function(t,n){var p,m=e.data,f=e.headers,v=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(m)&&delete f["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",P=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(y+":"+P)}var T=s(e.baseURL,e.url);function M(){if(g){var i="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,a={data:v&&"text"!==v&&"json"!==v?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:e,request:g};r((function(e){t(e),b()}),(function(e){n(e),b()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(T,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=M:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(M)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||u.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},i.isStandardBrowserEnv()){var S=(e.withCredentials||d(T))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(f[e.xsrfHeaderName]=S)}"setRequestHeader"in g&&i.forEach(f,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete f[t]:g.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),v&&"json"!==v&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),m||(m=null),g.send(m)}))}},function(e,t,n){"use strict";var i=n(204);e.exports=function(e,t,n,r,a){var o=new Error(e);return i(o,t,n,r,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var i=n(29);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function c(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var d={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=d[e]||a,r=t(e);i.isUndefined(r)&&t!==c||(n[e]=r)})),n}},function(e,t){e.exports={version:"0.24.0"}},function(e,t,n){(function(e){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",d="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",f="[object Number]",v="[object Object]",b="[object RegExp]",g="[object Set]",y="[object String]",P="[object Symbol]",T="[object WeakMap]",M="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",q="[object Float64Array]",A="[object Int8Array]",k="[object Int16Array]",j="[object Int32Array]",I="[object Uint8Array]",O="[object Uint16Array]",x="[object Uint32Array]",R=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,E=/[&<>"']/g,N=RegExp(D.source),H=RegExp(E.source),U=/<%-([\s\S]+?)%>/g,_=/<%([\s\S]+?)%>/g,B=/<%=([\s\S]+?)%>/g,L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,V=RegExp($.source),K=/^\s+/,Y=/\s/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,W=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Q=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,de=/($^)/,le=/['\n\r\u2028\u2029\\]/g,ue="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",me="["+he+"]",fe="["+ue+"]",ve="\\d+",be="[\\u2700-\\u27bf]",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+he+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Pe="\\ud83c[\\udffb-\\udfff]",Te="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",we="[A-Z\\xc0-\\xd6\\xd8-\\xde]",qe="(?:"+ge+"|"+ye+")",Ae="(?:"+we+"|"+ye+")",ke="(?:"+fe+"|"+Pe+")"+"?",je="[\\ufe0e\\ufe0f]?"+ke+("(?:\\u200d(?:"+[Te,Me,Se].join("|")+")[\\ufe0e\\ufe0f]?"+ke+")*"),Ie="(?:"+[be,Me,Se].join("|")+")"+je,Oe="(?:"+[Te+fe+"?",fe,Me,Se,pe].join("|")+")",xe=RegExp("['’]","g"),Re=RegExp(fe,"g"),Ce=RegExp(Pe+"(?="+Pe+")|"+Oe+je,"g"),Fe=RegExp([we+"?"+ge+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[me,we,"$"].join("|")+")",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[me,we+qe,"$"].join("|")+")",we+"?"+qe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",we+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Ie].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+ue+"\\ufe0e\\ufe0f]"),Ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],He=-1,Ue={};Ue[w]=Ue[q]=Ue[A]=Ue[k]=Ue[j]=Ue[I]=Ue["[object Uint8ClampedArray]"]=Ue[O]=Ue[x]=!0,Ue[s]=Ue[c]=Ue[M]=Ue[d]=Ue[S]=Ue[l]=Ue[u]=Ue[h]=Ue[m]=Ue[f]=Ue[v]=Ue[b]=Ue[g]=Ue[y]=Ue[T]=!1;var _e={};_e[s]=_e[c]=_e[M]=_e[S]=_e[d]=_e[l]=_e[w]=_e[q]=_e[A]=_e[k]=_e[j]=_e[m]=_e[f]=_e[v]=_e[b]=_e[g]=_e[y]=_e[P]=_e[I]=_e["[object Uint8ClampedArray]"]=_e[O]=_e[x]=!0,_e[u]=_e[h]=_e[T]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Le=parseFloat,ze=parseInt,Ge="object"==typeof global&&global&&global.Object===Object&&global,$e="object"==typeof self&&self&&self.Object===Object&&self,Ve=Ge||$e||Function("return this")(),Ke=t&&!t.nodeType&&t,Ye=Ke&&"object"==typeof e&&e&&!e.nodeType&&e,Je=Ye&&Ye.exports===Ke,Xe=Je&&Ge.process,We=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Ze=We&&We.isArrayBuffer,Qe=We&&We.isDate,et=We&&We.isMap,tt=We&&We.isRegExp,nt=We&&We.isSet,it=We&&We.isTypedArray;function rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function ot(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function dt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function lt(e,t){return!!(null==e?0:e.length)&&Pt(e,t,0)>-1}function ut(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ht(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function pt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function mt(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function ft(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function vt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var bt=wt("length");function gt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function yt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function Pt(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):yt(e,Mt,n)}function Tt(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function Mt(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?kt(e,t)/n:NaN}function wt(e){return function(t){return null==t?void 0:t[e]}}function qt(e){return function(t){return null==e?void 0:e[t]}}function At(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function kt(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function jt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function It(e){return e?e.slice(0,Kt(e)+1).replace(K,""):e}function Ot(e){return function(t){return e(t)}}function xt(e,t){return ht(t,(function(t){return e[t]}))}function Rt(e,t){return e.has(t)}function Ct(e,t){for(var n=-1,i=e.length;++n<i&&Pt(t,e[n],0)>-1;);return n}function Ft(e,t){for(var n=e.length;n--&&Pt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Et=qt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Nt=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ht(e){return"\\"+Be[e]}function Ut(e){return De.test(e)}function _t(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Bt(e,t){return function(n){return e(t(n))}}function Lt(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[r++]=n)}return o}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Gt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function $t(e){return Ut(e)?function(e){var t=Ce.lastIndex=0;for(;Ce.test(e);)++t;return t}(e):bt(e)}function Vt(e){return Ut(e)?function(e){return e.match(Ce)||[]}(e):function(e){return e.split("")}(e)}function Kt(e){for(var t=e.length;t--&&Y.test(e.charAt(t)););return t}var Yt=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Jt=function e(t){var n,i=(t=null==t?Ve:Jt.defaults(Ve.Object(),t,Jt.pick(Ve,Ne))).Array,Y=t.Date,ue=t.Error,he=t.Function,pe=t.Math,me=t.Object,fe=t.RegExp,ve=t.String,be=t.TypeError,ge=i.prototype,ye=he.prototype,Pe=me.prototype,Te=t["__core-js_shared__"],Me=ye.toString,Se=Pe.hasOwnProperty,we=0,qe=(n=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=Pe.toString,ke=Me.call(me),je=Ve._,Ie=fe("^"+Me.call(Se).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=Je?t.Buffer:void 0,Ce=t.Symbol,De=t.Uint8Array,Be=Oe?Oe.allocUnsafe:void 0,Ge=Bt(me.getPrototypeOf,me),$e=me.create,Ke=Pe.propertyIsEnumerable,Ye=ge.splice,Xe=Ce?Ce.isConcatSpreadable:void 0,We=Ce?Ce.iterator:void 0,bt=Ce?Ce.toStringTag:void 0,qt=function(){try{var e=ea(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Xt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Wt=Y&&Y.now!==Ve.Date.now&&Y.now,Zt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Qt=pe.ceil,en=pe.floor,tn=me.getOwnPropertySymbols,nn=Oe?Oe.isBuffer:void 0,rn=t.isFinite,an=ge.join,on=Bt(me.keys,me),sn=pe.max,cn=pe.min,dn=Y.now,ln=t.parseInt,un=pe.random,hn=ge.reverse,pn=ea(t,"DataView"),mn=ea(t,"Map"),fn=ea(t,"Promise"),vn=ea(t,"Set"),bn=ea(t,"WeakMap"),gn=ea(me,"create"),yn=bn&&new bn,Pn={},Tn=ka(pn),Mn=ka(mn),Sn=ka(fn),wn=ka(vn),qn=ka(bn),An=Ce?Ce.prototype:void 0,kn=An?An.valueOf:void 0,jn=An?An.toString:void 0;function In(e){if($o(e)&&!Fo(e)&&!(e instanceof Cn)){if(e instanceof Rn)return e;if(Se.call(e,"__wrapped__"))return ja(e)}return new Rn(e)}var On=function(){function e(){}return function(t){if(!Go(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function xn(){}function Rn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Cn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function En(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new En;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Dn(e);this.size=t.size}function Un(e,t){var n=Fo(e),i=!n&&Co(e),r=!n&&!i&&Ho(e),a=!n&&!i&&!r&&Qo(e),o=n||i||r||a,s=o?jt(e.length,ve):[],c=s.length;for(var d in e)!t&&!Se.call(e,d)||o&&("length"==d||r&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||sa(d,c))||s.push(d);return s}function _n(e){var t=e.length;return t?e[Ni(0,t-1)]:void 0}function Bn(e,t){return wa(gr(e),Xn(t,0,e.length))}function Ln(e){return wa(gr(e))}function zn(e,t,n){(void 0!==n&&!Oo(e[t],n)||void 0===n&&!(t in e))&&Yn(e,t,n)}function Gn(e,t,n){var i=e[t];Se.call(e,t)&&Oo(i,n)&&(void 0!==n||t in e)||Yn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Oo(e[n][0],t))return n;return-1}function Vn(e,t,n,i){return ti(e,(function(e,r,a){t(i,e,n(e),a)})),i}function Kn(e,t){return e&&yr(t,Ts(t),e)}function Yn(e,t,n){"__proto__"==t&&qt?qt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Jn(e,t){for(var n=-1,r=t.length,a=i(r),o=null==e;++n<r;)a[n]=o?void 0:vs(e,t[n]);return a}function Xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Wn(e,t,n,i,r,a){var o,c=1&t,u=2&t,T=4&t;if(n&&(o=r?n(e,i,r,a):n(e)),void 0!==o)return o;if(!Go(e))return e;var R=Fo(e);if(R){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return gr(e,o)}else{var C=ia(e),F=C==h||C==p;if(Ho(e))return hr(e,c);if(C==v||C==s||F&&!r){if(o=u||F?{}:aa(e),!c)return u?function(e,t){return yr(e,na(e),t)}(e,function(e,t){return e&&yr(t,Ms(t),e)}(o,e)):function(e,t){return yr(e,ta(e),t)}(e,Kn(o,e))}else{if(!_e[C])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case M:return pr(e);case d:case l:return new i(+e);case S:return function(e,t){var n=t?pr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case w:case q:case A:case k:case j:case I:case"[object Uint8ClampedArray]":case O:case x:return mr(e,n);case m:return new i;case f:case y:return new i(e);case b:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return new i;case P:return r=e,kn?me(kn.call(r)):{}}var r}(e,C,c)}}a||(a=new Hn);var D=a.get(e);if(D)return D;a.set(e,o),Xo(e)?e.forEach((function(i){o.add(Wn(i,t,n,i,e,a))})):Vo(e)&&e.forEach((function(i,r){o.set(r,Wn(i,t,n,r,e,a))}));var E=R?void 0:(T?u?Kr:Vr:u?Ms:Ts)(e);return ot(E||e,(function(i,r){E&&(i=e[r=i]),Gn(o,r,Wn(i,t,n,r,e,a))})),o}function Zn(e,t,n){var i=n.length;if(null==e)return!i;for(e=me(e);i--;){var r=n[i],a=t[r],o=e[r];if(void 0===o&&!(r in e)||!a(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new be(r);return Pa((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,a=lt,o=!0,s=e.length,c=[],d=t.length;if(!s)return c;n&&(t=ht(t,Ot(n))),i?(a=ut,o=!1):t.length>=200&&(a=Rt,o=!1,t=new Nn(t));e:for(;++r<s;){var l=e[r],u=null==n?l:n(l);if(l=i||0!==l?l:0,o&&u==u){for(var h=d;h--;)if(t[h]===u)continue e;c.push(l)}else a(t,u,i)||c.push(l)}return c}In.templateSettings={escape:U,evaluate:_,interpolate:B,variable:"",imports:{_:In}},In.prototype=xn.prototype,In.prototype.constructor=In,Rn.prototype=On(xn.prototype),Rn.prototype.constructor=Rn,Cn.prototype=On(xn.prototype),Cn.prototype.constructor=Cn,Fn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Fn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Fn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:Se.call(t,e)},Fn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Dn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Dn.prototype.has=function(e){return $n(this.__data__,e)>-1},Dn.prototype.set=function(e,t){var n=this.__data__,i=$n(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},En.prototype.clear=function(){this.size=0,this.__data__={hash:new Fn,map:new(mn||Dn),string:new Fn}},En.prototype.delete=function(e){var t=Zr(this,e).delete(e);return this.size-=t?1:0,t},En.prototype.get=function(e){return Zr(this,e).get(e)},En.prototype.has=function(e){return Zr(this,e).has(e)},En.prototype.set=function(e,t){var n=Zr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Nn.prototype.add=Nn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Dn){var i=n.__data__;if(!mn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new En(i)}return n.set(e,t),this.size=n.size,this};var ti=Mr(di),ni=Mr(li,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(void 0===s?o==o&&!Zo(o):n(o,s)))var s=o,c=a}return c}function ai(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function oi(e,t,n,i,r){var a=-1,o=e.length;for(n||(n=oa),r||(r=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?oi(s,t-1,n,i,r):pt(r,s):i||(r[r.length]=s)}return r}var si=Sr(),ci=Sr(!0);function di(e,t){return e&&si(e,t,Ts)}function li(e,t){return e&&ci(e,t,Ts)}function ui(e,t){return dt(t,(function(t){return Bo(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[Aa(t[n++])];return n&&n==i?e:void 0}function pi(e,t,n){var i=t(e);return Fo(e)?i:pt(i,n(e))}function mi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":bt&&bt in me(e)?function(e){var t=Se.call(e,bt),n=e[bt];try{e[bt]=void 0;var i=!0}catch(e){}var r=Ae.call(e);i&&(t?e[bt]=n:delete e[bt]);return r}(e):function(e){return Ae.call(e)}(e)}function fi(e,t){return e>t}function vi(e,t){return null!=e&&Se.call(e,t)}function bi(e,t){return null!=e&&t in me(e)}function gi(e,t,n){for(var r=n?ut:lt,a=e[0].length,o=e.length,s=o,c=i(o),d=1/0,l=[];s--;){var u=e[s];s&&t&&(u=ht(u,Ot(t))),d=cn(u.length,d),c[s]=!n&&(t||a>=120&&u.length>=120)?new Nn(s&&u):void 0}u=e[0];var h=-1,p=c[0];e:for(;++h<a&&l.length<d;){var m=u[h],f=t?t(m):m;if(m=n||0!==m?m:0,!(p?Rt(p,f):r(l,f,n))){for(s=o;--s;){var v=c[s];if(!(v?Rt(v,f):r(e[s],f,n)))continue e}p&&p.push(f),l.push(m)}}return l}function yi(e,t,n){var i=null==(e=va(e,t=cr(t,e)))?e:e[Aa(Ua(t))];return null==i?void 0:rt(i,e,n)}function Pi(e){return $o(e)&&mi(e)==s}function Ti(e,t,n,i,r){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,i,r,a){var o=Fo(e),h=Fo(t),p=o?c:ia(e),T=h?c:ia(t),w=(p=p==s?v:p)==v,q=(T=T==s?v:T)==v,A=p==T;if(A&&Ho(e)){if(!Ho(t))return!1;o=!0,w=!1}if(A&&!w)return a||(a=new Hn),o||Qo(e)?Gr(e,t,n,i,r,a):function(e,t,n,i,r,a,o){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!a(new De(e),new De(t)));case d:case l:case f:return Oo(+e,+t);case u:return e.name==t.name&&e.message==t.message;case b:case y:return e==t+"";case m:var s=_t;case g:var c=1&i;if(s||(s=zt),e.size!=t.size&&!c)return!1;var h=o.get(e);if(h)return h==t;i|=2,o.set(e,t);var p=Gr(s(e),s(t),i,r,a,o);return o.delete(e),p;case P:if(kn)return kn.call(e)==kn.call(t)}return!1}(e,t,p,n,i,r,a);if(!(1&n)){var k=w&&Se.call(e,"__wrapped__"),j=q&&Se.call(t,"__wrapped__");if(k||j){var I=k?e.value():e,O=j?t.value():t;return a||(a=new Hn),r(I,O,n,i,a)}}if(!A)return!1;return a||(a=new Hn),function(e,t,n,i,r,a){var o=1&n,s=Vr(e),c=s.length,d=Vr(t).length;if(c!=d&&!o)return!1;var l=c;for(;l--;){var u=s[l];if(!(o?u in t:Se.call(t,u)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);var f=o;for(;++l<c;){u=s[l];var v=e[u],b=t[u];if(i)var g=o?i(b,v,u,t,e,a):i(v,b,u,e,t,a);if(!(void 0===g?v===b||r(v,b,n,i,a):g)){m=!1;break}f||(f="constructor"==u)}if(m&&!f){var y=e.constructor,P=t.constructor;y==P||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof P&&P instanceof P||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,i,r,a)}(e,t,n,i,Ti,r))}function Mi(e,t,n,i){var r=n.length,a=r,o=!i;if(null==e)return!a;for(e=me(e);r--;){var s=n[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){var c=(s=n[r])[0],d=e[c],l=s[1];if(o&&s[2]){if(void 0===d&&!(c in e))return!1}else{var u=new Hn;if(i)var h=i(d,l,c,e,t,u);if(!(void 0===h?Ti(l,d,3,i,u):h))return!1}}return!0}function Si(e){return!(!Go(e)||(t=e,qe&&qe in t))&&(Bo(e)?Ie:ae).test(ka(e));var t}function wi(e){return"function"==typeof e?e:null==e?Ks:"object"==typeof e?Fo(e)?Oi(e[0],e[1]):Ii(e):nc(e)}function qi(e){if(!ha(e))return on(e);var t=[];for(var n in me(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ai(e){if(!Go(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=ha(e),n=[];for(var i in e)("constructor"!=i||!t&&Se.call(e,i))&&n.push(i);return n}function ki(e,t){return e<t}function ji(e,t){var n=-1,r=Eo(e)?i(e.length):[];return ti(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Ii(e){var t=Qr(e);return 1==t.length&&t[0][2]?ma(t[0][0],t[0][1]):function(n){return n===e||Mi(n,e,t)}}function Oi(e,t){return da(e)&&pa(t)?ma(Aa(e),t):function(n){var i=vs(n,e);return void 0===i&&i===t?bs(n,e):Ti(t,i,3)}}function xi(e,t,n,i,r){e!==t&&si(t,(function(a,o){if(r||(r=new Hn),Go(a))!function(e,t,n,i,r,a,o){var s=ga(e,n),c=ga(t,n),d=o.get(c);if(d)return void zn(e,n,d);var l=a?a(s,c,n+"",e,t,o):void 0,u=void 0===l;if(u){var h=Fo(c),p=!h&&Ho(c),m=!h&&!p&&Qo(c);l=c,h||p||m?Fo(s)?l=s:No(s)?l=gr(s):p?(u=!1,l=hr(c,!0)):m?(u=!1,l=mr(c,!0)):l=[]:Yo(c)||Co(c)?(l=s,Co(s)?l=ss(s):Go(s)&&!Bo(s)||(l=aa(c))):u=!1}u&&(o.set(c,l),r(l,c,i,a,o),o.delete(c));zn(e,n,l)}(e,t,o,n,xi,i,r);else{var s=i?i(ga(e,o),a,o+"",e,t,r):void 0;void 0===s&&(s=a),zn(e,o,s)}}),Ms)}function Ri(e,t){var n=e.length;if(n)return sa(t+=t<0?n:0,n)?e[t]:void 0}function Ci(e,t,n){t=t.length?ht(t,(function(e){return Fo(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Ks];var i=-1;return t=ht(t,Ot(Wr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(ji(e,(function(e,n,r){return{criteria:ht(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,a=t.criteria,o=r.length,s=n.length;for(;++i<o;){var c=fr(r[i],a[i]);if(c){if(i>=s)return c;var d=n[i];return c*("desc"==d?-1:1)}}return e.index-t.index}(e,t,n)}))}function Fi(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],s=hi(e,o);n(s,o)&&Li(a,cr(o,e),s)}return a}function Di(e,t,n,i){var r=i?Tt:Pt,a=-1,o=t.length,s=e;for(e===t&&(t=gr(t)),n&&(s=ht(e,Ot(n)));++a<o;)for(var c=0,d=t[a],l=n?n(d):d;(c=r(s,l,c,i))>-1;)s!==e&&Ye.call(s,c,1),Ye.call(e,c,1);return e}function Ei(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;sa(r)?Ye.call(e,r,1):er(e,r)}}return e}function Ni(e,t){return e+en(un()*(t-e+1))}function Hi(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Ui(e,t){return Ta(fa(e,t,Ks),e+"")}function _i(e){return _n(Os(e))}function Bi(e,t){var n=Os(e);return wa(n,Xn(t,0,n.length))}function Li(e,t,n,i){if(!Go(e))return e;for(var r=-1,a=(t=cr(t,e)).length,o=a-1,s=e;null!=s&&++r<a;){var c=Aa(t[r]),d=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var l=s[c];void 0===(d=i?i(l,c,s):void 0)&&(d=Go(l)?l:sa(t[r+1])?[]:{})}Gn(s,c,d),s=s[c]}return e}var zi=yn?function(e,t){return yn.set(e,t),e}:Ks,Gi=qt?function(e,t){return qt(e,"toString",{configurable:!0,enumerable:!1,value:Gs(t),writable:!0})}:Ks;function $i(e){return wa(Os(e))}function Vi(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=i(a);++r<a;)o[r]=e[r+t];return o}function Ki(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Yi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!Zo(o)&&(n?o<=t:o<t)?i=a+1:r=a}return r}return Ji(e,t,Ks,n)}function Ji(e,t,n,i){var r=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!=t,s=null===t,c=Zo(t),d=void 0===t;r<a;){var l=en((r+a)/2),u=n(e[l]),h=void 0!==u,p=null===u,m=u==u,f=Zo(u);if(o)var v=i||m;else v=d?m&&(i||h):s?m&&h&&(i||!p):c?m&&h&&!p&&(i||!f):!p&&!f&&(i?u<=t:u<t);v?r=l+1:a=l}return cn(a,4294967294)}function Xi(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!Oo(s,c)){var c=s;a[r++]=0===o?0:o}}return a}function Wi(e){return"number"==typeof e?e:Zo(e)?NaN:+e}function Zi(e){if("string"==typeof e)return e;if(Fo(e))return ht(e,Zi)+"";if(Zo(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=lt,a=e.length,o=!0,s=[],c=s;if(n)o=!1,r=ut;else if(a>=200){var d=t?null:Hr(e);if(d)return zt(d);o=!1,r=Rt,c=new Nn}else c=t?[]:s;e:for(;++i<a;){var l=e[i],u=t?t(l):l;if(l=n||0!==l?l:0,o&&u==u){for(var h=c.length;h--;)if(c[h]===u)continue e;t&&c.push(u),s.push(l)}else r(c,u,n)||(c!==s&&c.push(u),s.push(l))}return s}function er(e,t){return null==(e=va(e,t=cr(t,e)))||delete e[Aa(Ua(t))]}function tr(e,t,n,i){return Li(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?Vi(e,i?0:a,i?a+1:r):Vi(e,i?a+1:0,i?r:a)}function ir(e,t){var n=e;return n instanceof Cn&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=e[a],c=-1;++c<r;)c!=a&&(o[a]=ei(o[a]||s,e[c],t,n));return Qi(oi(o,1),t,n)}function ar(e,t,n){for(var i=-1,r=e.length,a=t.length,o={};++i<r;){var s=i<a?t[i]:void 0;n(o,e[i],s)}return o}function or(e){return No(e)?e:[]}function sr(e){return"function"==typeof e?e:Ks}function cr(e,t){return Fo(e)?e:da(e,t)?[e]:qa(cs(e))}var dr=Ui;function lr(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Vi(e,t,n)}var ur=Xt||function(e){return Ve.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=Be?Be(n):new e.constructor(n);return e.copy(i),i}function pr(e){var t=new e.constructor(e.byteLength);return new De(t).set(new De(e)),t}function mr(e,t){var n=t?pr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,a=Zo(e),o=void 0!==t,s=null===t,c=t==t,d=Zo(t);if(!s&&!d&&!a&&e>t||a&&o&&c&&!s&&!d||i&&o&&c||!n&&c||!r)return 1;if(!i&&!a&&!d&&e<t||d&&n&&r&&!i&&!a||s&&n&&r||!o&&r||!c)return-1}return 0}function vr(e,t,n,r){for(var a=-1,o=e.length,s=n.length,c=-1,d=t.length,l=sn(o-s,0),u=i(d+l),h=!r;++c<d;)u[c]=t[c];for(;++a<s;)(h||a<o)&&(u[n[a]]=e[a]);for(;l--;)u[c++]=e[a++];return u}function br(e,t,n,r){for(var a=-1,o=e.length,s=-1,c=n.length,d=-1,l=t.length,u=sn(o-c,0),h=i(u+l),p=!r;++a<u;)h[a]=e[a];for(var m=a;++d<l;)h[m+d]=t[d];for(;++s<c;)(p||a<o)&&(h[m+n[s]]=e[a++]);return h}function gr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function yr(e,t,n,i){var r=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),r?Yn(n,s,c):Gn(n,s,c)}return n}function Pr(e,t){return function(n,i){var r=Fo(n)?at:Vn,a=t?t():{};return r(n,e,Wr(i,2),a)}}function Tr(e){return Ui((function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&ca(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),t=me(t);++i<r;){var s=n[i];s&&e(t,s,i,a)}return t}))}function Mr(e,t){return function(n,i){if(null==n)return n;if(!Eo(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=me(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function Sr(e){return function(t,n,i){for(var r=-1,a=me(t),o=i(t),s=o.length;s--;){var c=o[e?s:++r];if(!1===n(a[c],c,a))break}return t}}function wr(e){return function(t){var n=Ut(t=cs(t))?Vt(t):void 0,i=n?n[0]:t.charAt(0),r=n?lr(n,1).join(""):t.slice(1);return i[e]()+r}}function qr(e){return function(t){return mt(Bs(Cs(t).replace(xe,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),i=e.apply(n,t);return Go(i)?i:n}}function kr(e){return function(t,n,i){var r=me(t);if(!Eo(t)){var a=Wr(n,3);t=Ts(t),n=function(e){return a(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[a?t[o]:o]:void 0}}function jr(e){return $r((function(t){var n=t.length,i=n,a=Rn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new be(r);if(a&&!s&&"wrapper"==Jr(o))var s=new Rn([],!0)}for(i=s?i:n;++i<n;){var c=Jr(o=t[i]),d="wrapper"==c?Yr(o):void 0;s=d&&la(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?s[Jr(d[0])].apply(s,d[3]):1==o.length&&la(o)?s[c]():s.thru(o)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Fo(i))return s.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}}))}function Ir(e,t,n,r,a,o,s,c,d,l){var u=128&t,h=1&t,p=2&t,m=24&t,f=512&t,v=p?void 0:Ar(e);return function b(){for(var g=arguments.length,y=i(g),P=g;P--;)y[P]=arguments[P];if(m)var T=Xr(b),M=Dt(y,T);if(r&&(y=vr(y,r,a,m)),o&&(y=br(y,o,s,m)),g-=M,m&&g<l){var S=Lt(y,T);return Er(e,t,Ir,b.placeholder,n,y,S,c,d,l-g)}var w=h?n:this,q=p?w[e]:e;return g=y.length,c?y=ba(y,c):f&&g>1&&y.reverse(),u&&d<g&&(y.length=d),this&&this!==Ve&&this instanceof b&&(q=v||Ar(q)),q.apply(w,y)}}function Or(e,t){return function(n,i){return function(e,t,n,i){return di(e,(function(e,r,a){t(i,n(e),r,a)})),i}(n,e,t(i),{})}}function xr(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Zi(n),i=Zi(i)):(n=Wi(n),i=Wi(i)),r=e(n,i)}return r}}function Rr(e){return $r((function(t){return t=ht(t,Ot(Wr())),Ui((function(n){var i=this;return e(t,(function(e){return rt(e,i,n)}))}))}))}function Cr(e,t){var n=(t=void 0===t?" ":Zi(t)).length;if(n<2)return n?Hi(t,e):t;var i=Hi(t,Qt(e/$t(t)));return Ut(t)?lr(Vt(i),0,e).join(""):i.slice(0,e)}function Fr(e){return function(t,n,r){return r&&"number"!=typeof r&&ca(t,n,r)&&(n=r=void 0),t=is(t),void 0===n?(n=t,t=0):n=is(n),function(e,t,n,r){for(var a=-1,o=sn(Qt((t-e)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:is(r),e)}}function Dr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Er(e,t,n,i,r,a,o,s,c,d){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var u=[e,t,r,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,s,c,d],h=n.apply(void 0,u);return la(e)&&ya(h,u),h.placeholder=i,Ma(h,e,t)}function Nr(e){var t=pe[e];return function(e,n){if(e=os(e),(n=null==n?0:cn(rs(n),292))&&rn(e)){var i=(cs(e)+"e").split("e");return+((i=(cs(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Hr=vn&&1/zt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Zs;function Ur(e){return function(t){var n=ia(t);return n==m?_t(t):n==g?Gt(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function _r(e,t,n,o,s,c,d,l){var u=2&t;if(!u&&"function"!=typeof e)throw new be(r);var h=o?o.length:0;if(h||(t&=-97,o=s=void 0),d=void 0===d?d:sn(rs(d),0),l=void 0===l?l:rs(l),h-=s?s.length:0,64&t){var p=o,m=s;o=s=void 0}var f=u?void 0:Yr(e),v=[e,t,n,o,s,p,m,c,d,l];if(f&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?vr(d,c,t[4]):c,e[4]=d?Lt(e[3],a):t[4]}(c=t[5])&&(d=e[5],e[5]=d?br(d,c,t[6]):c,e[6]=d?Lt(e[5],a):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(v,f),e=v[0],t=v[1],n=v[2],o=v[3],s=v[4],!(l=v[9]=void 0===v[9]?u?0:e.length:sn(v[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var r=Ar(e);return function a(){for(var o=arguments.length,s=i(o),c=o,d=Xr(a);c--;)s[c]=arguments[c];var l=o<3&&s[0]!==d&&s[o-1]!==d?[]:Lt(s,d);if((o-=l.length)<n)return Er(e,t,Ir,a.placeholder,void 0,s,l,void 0,void 0,n-o);var u=this&&this!==Ve&&this instanceof a?r:e;return rt(u,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ir.apply(void 0,v):function(e,t,n,r){var a=1&t,o=Ar(e);return function t(){for(var s=-1,c=arguments.length,d=-1,l=r.length,u=i(l+c),h=this&&this!==Ve&&this instanceof t?o:e;++d<l;)u[d]=r[d];for(;c--;)u[d++]=arguments[++s];return rt(h,a?n:this,u)}}(e,t,n,o);else var b=function(e,t,n){var i=1&t,r=Ar(e);return function t(){var a=this&&this!==Ve&&this instanceof t?r:e;return a.apply(i?n:this,arguments)}}(e,t,n);return Ma((f?zi:ya)(b,v),e,t)}function Br(e,t,n,i){return void 0===e||Oo(e,Pe[n])&&!Se.call(i,n)?t:e}function Lr(e,t,n,i,r,a){return Go(e)&&Go(t)&&(a.set(t,e),xi(e,t,void 0,Lr,a),a.delete(t)),e}function zr(e){return Yo(e)?void 0:e}function Gr(e,t,n,i,r,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var d=a.get(e),l=a.get(t);if(d&&l)return d==t&&l==e;var u=-1,h=!0,p=2&n?new Nn:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var m=e[u],f=t[u];if(i)var v=o?i(f,m,u,t,e,a):i(m,f,u,e,t,a);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!vt(t,(function(e,t){if(!Rt(p,t)&&(m===e||r(m,e,n,i,a)))return p.push(t)}))){h=!1;break}}else if(m!==f&&!r(m,f,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function $r(e){return Ta(fa(e,void 0,Fa),e+"")}function Vr(e){return pi(e,Ts,ta)}function Kr(e){return pi(e,Ms,na)}var Yr=yn?function(e){return yn.get(e)}:Zs;function Jr(e){for(var t=e.name+"",n=Pn[t],i=Se.call(Pn,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function Xr(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Wr(){var e=In.iteratee||Ys;return e=e===Ys?wi:e,arguments.length?e(arguments[0],arguments[1]):e}function Zr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=Ts(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,pa(r)]}return t}function ea(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var ta=tn?function(e){return null==e?[]:(e=me(e),dt(tn(e),(function(t){return Ke.call(e,t)})))}:ac,na=tn?function(e){for(var t=[];e;)pt(t,ta(e)),e=Ge(e);return t}:ac,ia=mi;function ra(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,a=!1;++i<r;){var o=Aa(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&zo(r)&&sa(o,r)&&(Fo(e)||Co(e))}function aa(e){return"function"!=typeof e.constructor||ha(e)?{}:On(Ge(e))}function oa(e){return Fo(e)||Co(e)||!!(Xe&&e&&e[Xe])}function sa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function ca(e,t,n){if(!Go(n))return!1;var i=typeof t;return!!("number"==i?Eo(n)&&sa(t,n.length):"string"==i&&t in n)&&Oo(n[t],e)}function da(e,t){if(Fo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Zo(e))||(z.test(e)||!L.test(e)||null!=t&&e in me(t))}function la(e){var t=Jr(e),n=In[t];if("function"!=typeof n||!(t in Cn.prototype))return!1;if(e===n)return!0;var i=Yr(n);return!!i&&e===i[0]}(pn&&ia(new pn(new ArrayBuffer(1)))!=S||mn&&ia(new mn)!=m||fn&&"[object Promise]"!=ia(fn.resolve())||vn&&ia(new vn)!=g||bn&&ia(new bn)!=T)&&(ia=function(e){var t=mi(e),n=t==v?e.constructor:void 0,i=n?ka(n):"";if(i)switch(i){case Tn:return S;case Mn:return m;case Sn:return"[object Promise]";case wn:return g;case qn:return T}return t});var ua=Te?Bo:oc;function ha(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function pa(e){return e==e&&!Go(e)}function ma(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function fa(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=sn(r.length-t,0),s=i(o);++a<o;)s[a]=r[t+a];a=-1;for(var c=i(t+1);++a<t;)c[a]=r[a];return c[t]=n(s),rt(e,this,c)}}function va(e,t){return t.length<2?e:hi(e,Vi(t,0,-1))}function ba(e,t){for(var n=e.length,i=cn(t.length,n),r=gr(e);i--;){var a=t[i];e[i]=sa(a,n)?r[a]:void 0}return e}function ga(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ya=Sa(zi),Pa=Zt||function(e,t){return Ve.setTimeout(e,t)},Ta=Sa(Gi);function Ma(e,t,n){var i=t+"";return Ta(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return ot(o,(function(n){var i="_."+n[0];t&n[1]&&!lt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(W):[]}(i),n)))}function Sa(e){var t=0,n=0;return function(){var i=dn(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wa(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var a=Ni(n,r),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var qa=function(e){var t=wo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,(function(e,n,i,r){t.push(i?r.replace(ee,"$1"):n||e)})),t}));function Aa(e){if("string"==typeof e||Zo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ka(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ja(e){if(e instanceof Cn)return e.clone();var t=new Rn(e.__wrapped__,e.__chain__);return t.__actions__=gr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ia=Ui((function(e,t){return No(e)?ei(e,oi(t,1,No,!0)):[]})),Oa=Ui((function(e,t){var n=Ua(t);return No(n)&&(n=void 0),No(e)?ei(e,oi(t,1,No,!0),Wr(n,2)):[]})),xa=Ui((function(e,t){var n=Ua(t);return No(n)&&(n=void 0),No(e)?ei(e,oi(t,1,No,!0),void 0,n):[]}));function Ra(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:rs(n);return r<0&&(r=sn(i+r,0)),yt(e,Wr(t,3),r)}function Ca(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=rs(n),r=n<0?sn(i+r,0):cn(r,i-1)),yt(e,Wr(t,3),r,!0)}function Fa(e){return(null==e?0:e.length)?oi(e,1):[]}function Da(e){return e&&e.length?e[0]:void 0}var Ea=Ui((function(e){var t=ht(e,or);return t.length&&t[0]===e[0]?gi(t):[]})),Na=Ui((function(e){var t=Ua(e),n=ht(e,or);return t===Ua(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gi(n,Wr(t,2)):[]})),Ha=Ui((function(e){var t=Ua(e),n=ht(e,or);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gi(n,void 0,t):[]}));function Ua(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var _a=Ui(Ba);function Ba(e,t){return e&&e.length&&t&&t.length?Di(e,t):e}var La=$r((function(e,t){var n=null==e?0:e.length,i=Jn(e,t);return Ei(e,ht(t,(function(e){return sa(e,n)?+e:e})).sort(fr)),i}));function za(e){return null==e?e:hn.call(e)}var Ga=Ui((function(e){return Qi(oi(e,1,No,!0))})),$a=Ui((function(e){var t=Ua(e);return No(t)&&(t=void 0),Qi(oi(e,1,No,!0),Wr(t,2))})),Va=Ui((function(e){var t=Ua(e);return t="function"==typeof t?t:void 0,Qi(oi(e,1,No,!0),void 0,t)}));function Ka(e){if(!e||!e.length)return[];var t=0;return e=dt(e,(function(e){if(No(e))return t=sn(e.length,t),!0})),jt(t,(function(t){return ht(e,wt(t))}))}function Ya(e,t){if(!e||!e.length)return[];var n=Ka(e);return null==t?n:ht(n,(function(e){return rt(t,void 0,e)}))}var Ja=Ui((function(e,t){return No(e)?ei(e,t):[]})),Xa=Ui((function(e){return rr(dt(e,No))})),Wa=Ui((function(e){var t=Ua(e);return No(t)&&(t=void 0),rr(dt(e,No),Wr(t,2))})),Za=Ui((function(e){var t=Ua(e);return t="function"==typeof t?t:void 0,rr(dt(e,No),void 0,t)})),Qa=Ui(Ka);var eo=Ui((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ya(e,n)}));function to(e){var t=In(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=$r((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Jn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Cn&&sa(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Rn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var ro=Pr((function(e,t,n){Se.call(e,n)?++e[n]:Yn(e,n,1)}));var ao=kr(Ra),oo=kr(Ca);function so(e,t){return(Fo(e)?ot:ti)(e,Wr(t,3))}function co(e,t){return(Fo(e)?st:ni)(e,Wr(t,3))}var lo=Pr((function(e,t,n){Se.call(e,n)?e[n].push(t):Yn(e,n,[t])}));var uo=Ui((function(e,t,n){var r=-1,a="function"==typeof t,o=Eo(e)?i(e.length):[];return ti(e,(function(e){o[++r]=a?rt(t,e,n):yi(e,t,n)})),o})),ho=Pr((function(e,t,n){Yn(e,n,t)}));function po(e,t){return(Fo(e)?ht:ji)(e,Wr(t,3))}var mo=Pr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var fo=Ui((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ca(e,t[0],t[1])?t=[]:n>2&&ca(t[0],t[1],t[2])&&(t=[t[0]]),Ci(e,oi(t,1),[])})),vo=Wt||function(){return Ve.Date.now()};function bo(e,t,n){return t=n?void 0:t,_r(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function go(e,t){var n;if("function"!=typeof t)throw new be(r);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var yo=Ui((function(e,t,n){var i=1;if(n.length){var r=Lt(n,Xr(yo));i|=32}return _r(e,i,t,n,r)})),Po=Ui((function(e,t,n){var i=3;if(n.length){var r=Lt(n,Xr(Po));i|=32}return _r(t,i,e,n,r)}));function To(e,t,n){var i,a,o,s,c,d,l=0,u=!1,h=!1,p=!0;if("function"!=typeof e)throw new be(r);function m(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function f(e){return l=e,c=Pa(b,t),u?m(e):s}function v(e){var n=e-d;return void 0===d||n>=t||n<0||h&&e-l>=o}function b(){var e=vo();if(v(e))return g(e);c=Pa(b,function(e){var n=t-(e-d);return h?cn(n,o-(e-l)):n}(e))}function g(e){return c=void 0,p&&i?m(e):(i=a=void 0,s)}function y(){var e=vo(),n=v(e);if(i=arguments,a=this,d=e,n){if(void 0===c)return f(d);if(h)return ur(c),c=Pa(b,t),m(d)}return void 0===c&&(c=Pa(b,t)),s}return t=os(t)||0,Go(n)&&(u=!!n.leading,o=(h="maxWait"in n)?sn(os(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==c&&ur(c),l=0,i=d=a=c=void 0},y.flush=function(){return void 0===c?s:g(vo())},y}var Mo=Ui((function(e,t){return Qn(e,1,t)})),So=Ui((function(e,t,n){return Qn(e,os(t)||0,n)}));function wo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new be(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(wo.Cache||En),n}function qo(e){if("function"!=typeof e)throw new be(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}wo.Cache=En;var Ao=dr((function(e,t){var n=(t=1==t.length&&Fo(t[0])?ht(t[0],Ot(Wr())):ht(oi(t,1),Ot(Wr()))).length;return Ui((function(i){for(var r=-1,a=cn(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return rt(e,this,i)}))})),ko=Ui((function(e,t){return _r(e,32,void 0,t,Lt(t,Xr(ko)))})),jo=Ui((function(e,t){return _r(e,64,void 0,t,Lt(t,Xr(jo)))})),Io=$r((function(e,t){return _r(e,256,void 0,void 0,void 0,t)}));function Oo(e,t){return e===t||e!=e&&t!=t}var xo=Dr(fi),Ro=Dr((function(e,t){return e>=t})),Co=Pi(function(){return arguments}())?Pi:function(e){return $o(e)&&Se.call(e,"callee")&&!Ke.call(e,"callee")},Fo=i.isArray,Do=Ze?Ot(Ze):function(e){return $o(e)&&mi(e)==M};function Eo(e){return null!=e&&zo(e.length)&&!Bo(e)}function No(e){return $o(e)&&Eo(e)}var Ho=nn||oc,Uo=Qe?Ot(Qe):function(e){return $o(e)&&mi(e)==l};function _o(e){if(!$o(e))return!1;var t=mi(e);return t==u||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Yo(e)}function Bo(e){if(!Go(e))return!1;var t=mi(e);return t==h||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Lo(e){return"number"==typeof e&&e==rs(e)}function zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Go(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var Vo=et?Ot(et):function(e){return $o(e)&&ia(e)==m};function Ko(e){return"number"==typeof e||$o(e)&&mi(e)==f}function Yo(e){if(!$o(e)||mi(e)!=v)return!1;var t=Ge(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==ke}var Jo=tt?Ot(tt):function(e){return $o(e)&&mi(e)==b};var Xo=nt?Ot(nt):function(e){return $o(e)&&ia(e)==g};function Wo(e){return"string"==typeof e||!Fo(e)&&$o(e)&&mi(e)==y}function Zo(e){return"symbol"==typeof e||$o(e)&&mi(e)==P}var Qo=it?Ot(it):function(e){return $o(e)&&zo(e.length)&&!!Ue[mi(e)]};var es=Dr(ki),ts=Dr((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Eo(e))return Wo(e)?Vt(e):gr(e);if(We&&e[We])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[We]());var t=ia(e);return(t==m?_t:t==g?zt:Os)(e)}function is(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=is(e),n=t%1;return t==t?n?t-n:t:0}function as(e){return e?Xn(rs(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Zo(e))return NaN;if(Go(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Go(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=It(e);var n=re.test(e);return n||oe.test(e)?ze(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function ss(e){return yr(e,Ms(e))}function cs(e){return null==e?"":Zi(e)}var ds=Tr((function(e,t){if(ha(t)||Eo(t))yr(t,Ts(t),e);else for(var n in t)Se.call(t,n)&&Gn(e,n,t[n])})),ls=Tr((function(e,t){yr(t,Ms(t),e)})),us=Tr((function(e,t,n,i){yr(t,Ms(t),e,i)})),hs=Tr((function(e,t,n,i){yr(t,Ts(t),e,i)})),ps=$r(Jn);var ms=Ui((function(e,t){e=me(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&ca(t[0],t[1],r)&&(i=1);++n<i;)for(var a=t[n],o=Ms(a),s=-1,c=o.length;++s<c;){var d=o[s],l=e[d];(void 0===l||Oo(l,Pe[d])&&!Se.call(e,d))&&(e[d]=a[d])}return e})),fs=Ui((function(e){return e.push(void 0,Lr),rt(ws,void 0,e)}));function vs(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function bs(e,t){return null!=e&&ra(e,t,bi)}var gs=Or((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Gs(Ks)),ys=Or((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Wr),Ps=Ui(yi);function Ts(e){return Eo(e)?Un(e):qi(e)}function Ms(e){return Eo(e)?Un(e,!0):Ai(e)}var Ss=Tr((function(e,t,n){xi(e,t,n)})),ws=Tr((function(e,t,n,i){xi(e,t,n,i)})),qs=$r((function(e,t){var n={};if(null==e)return n;var i=!1;t=ht(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),yr(e,Kr(e),n),i&&(n=Wn(n,7,zr));for(var r=t.length;r--;)er(n,t[r]);return n}));var As=$r((function(e,t){return null==e?{}:function(e,t){return Fi(e,t,(function(t,n){return bs(e,n)}))}(e,t)}));function ks(e,t){if(null==e)return{};var n=ht(Kr(e),(function(e){return[e]}));return t=Wr(t),Fi(e,n,(function(e,n){return t(e,n[0])}))}var js=Ur(Ts),Is=Ur(Ms);function Os(e){return null==e?[]:xt(e,Ts(e))}var xs=qr((function(e,t,n){return t=t.toLowerCase(),e+(n?Rs(t):t)}));function Rs(e){return _s(cs(e).toLowerCase())}function Cs(e){return(e=cs(e))&&e.replace(ce,Et).replace(Re,"")}var Fs=qr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ds=qr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Es=wr("toLowerCase");var Ns=qr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Hs=qr((function(e,t,n){return e+(n?" ":"")+_s(t)}));var Us=qr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),_s=wr("toUpperCase");function Bs(e,t,n){return e=cs(e),void 0===(t=n?void 0:t)?function(e){return Ee.test(e)}(e)?function(e){return e.match(Fe)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Ls=Ui((function(e,t){try{return rt(e,void 0,t)}catch(e){return _o(e)?e:new ue(e)}})),zs=$r((function(e,t){return ot(t,(function(t){t=Aa(t),Yn(e,t,yo(e[t],e))})),e}));function Gs(e){return function(){return e}}var $s=jr(),Vs=jr(!0);function Ks(e){return e}function Ys(e){return wi("function"==typeof e?e:Wn(e,1))}var Js=Ui((function(e,t){return function(n){return yi(n,e,t)}})),Xs=Ui((function(e,t){return function(n){return yi(e,n,t)}}));function Ws(e,t,n){var i=Ts(t),r=ui(t,i);null!=n||Go(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=ui(t,Ts(t)));var a=!(Go(n)&&"chain"in n&&!n.chain),o=Bo(e);return ot(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),r=n.__actions__=gr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,pt([this.value()],arguments))})})),e}function Zs(){}var Qs=Rr(ht),ec=Rr(ct),tc=Rr(vt);function nc(e){return da(e)?wt(Aa(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Fr(),rc=Fr(!0);function ac(){return[]}function oc(){return!1}var sc=xr((function(e,t){return e+t}),0),cc=Nr("ceil"),dc=xr((function(e,t){return e/t}),1),lc=Nr("floor");var uc,hc=xr((function(e,t){return e*t}),1),pc=Nr("round"),mc=xr((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new be(r);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=bo,In.assign=ds,In.assignIn=ls,In.assignInWith=us,In.assignWith=hs,In.at=ps,In.before=go,In.bind=yo,In.bindAll=zs,In.bindKey=Po,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Fo(e)?e:[e]},In.chain=to,In.chunk=function(e,t,n){t=(n?ca(e,t,n):void 0===t)?1:sn(rs(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,s=i(Qt(r/t));a<r;)s[o++]=Vi(e,a,a+=t);return s},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return pt(Fo(n)?gr(n):[n],oi(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Wr();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new be(r);return[n(e[0]),e[1]]})):[],Ui((function(n){for(var i=-1;++i<t;){var r=e[i];if(rt(r[0],this,n))return rt(r[1],this,n)}}))},In.conforms=function(e){return function(e){var t=Ts(e);return function(n){return Zn(n,e,t)}}(Wn(e,1))},In.constant=Gs,In.countBy=ro,In.create=function(e,t){var n=On(e);return null==t?n:Kn(n,t)},In.curry=function e(t,n,i){var r=_r(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.curryRight=function e(t,n,i){var r=_r(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.debounce=To,In.defaults=ms,In.defaultsDeep=fs,In.defer=Mo,In.delay=So,In.difference=Ia,In.differenceBy=Oa,In.differenceWith=xa,In.drop=function(e,t,n){var i=null==e?0:e.length;return i?Vi(e,(t=n||void 0===t?1:rs(t))<0?0:t,i):[]},In.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Vi(e,0,(t=i-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?nr(e,Wr(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?nr(e,Wr(t,3),!0):[]},In.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ca(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=rs(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:rs(i))<0&&(i+=r),i=n>i?0:as(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},In.filter=function(e,t){return(Fo(e)?dt:ai)(e,Wr(t,3))},In.flatMap=function(e,t){return oi(po(e,t),1)},In.flatMapDeep=function(e,t){return oi(po(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),oi(po(e,t),n)},In.flatten=Fa,In.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:rs(t)):[]},In.flip=function(e){return _r(e,512)},In.flow=$s,In.flowRight=Vs,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},In.functions=function(e){return null==e?[]:ui(e,Ts(e))},In.functionsIn=function(e){return null==e?[]:ui(e,Ms(e))},In.groupBy=lo,In.initial=function(e){return(null==e?0:e.length)?Vi(e,0,-1):[]},In.intersection=Ea,In.intersectionBy=Na,In.intersectionWith=Ha,In.invert=gs,In.invertBy=ys,In.invokeMap=uo,In.iteratee=Ys,In.keyBy=ho,In.keys=Ts,In.keysIn=Ms,In.map=po,In.mapKeys=function(e,t){var n={};return t=Wr(t,3),di(e,(function(e,i,r){Yn(n,t(e,i,r),e)})),n},In.mapValues=function(e,t){var n={};return t=Wr(t,3),di(e,(function(e,i,r){Yn(n,i,t(e,i,r))})),n},In.matches=function(e){return Ii(Wn(e,1))},In.matchesProperty=function(e,t){return Oi(e,Wn(t,1))},In.memoize=wo,In.merge=Ss,In.mergeWith=ws,In.method=Js,In.methodOf=Xs,In.mixin=Ws,In.negate=qo,In.nthArg=function(e){return e=rs(e),Ui((function(t){return Ri(t,e)}))},In.omit=qs,In.omitBy=function(e,t){return ks(e,qo(Wr(t)))},In.once=function(e){return go(2,e)},In.orderBy=function(e,t,n,i){return null==e?[]:(Fo(t)||(t=null==t?[]:[t]),Fo(n=i?void 0:n)||(n=null==n?[]:[n]),Ci(e,t,n))},In.over=Qs,In.overArgs=Ao,In.overEvery=ec,In.overSome=tc,In.partial=ko,In.partialRight=jo,In.partition=mo,In.pick=As,In.pickBy=ks,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},In.pull=_a,In.pullAll=Ba,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Di(e,t,Wr(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Di(e,t,void 0,n):e},In.pullAt=La,In.range=ic,In.rangeRight=rc,In.rearg=Io,In.reject=function(e,t){return(Fo(e)?dt:ai)(e,qo(Wr(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=Wr(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return Ei(e,r),n},In.rest=function(e,t){if("function"!=typeof e)throw new be(r);return Ui(e,t=void 0===t?t:rs(t))},In.reverse=za,In.sampleSize=function(e,t,n){return t=(n?ca(e,t,n):void 0===t)?1:rs(t),(Fo(e)?Bn:Bi)(e,t)},In.set=function(e,t,n){return null==e?e:Li(e,t,n)},In.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Li(e,t,n,i)},In.shuffle=function(e){return(Fo(e)?Ln:$i)(e)},In.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ca(e,t,n)?(t=0,n=i):(t=null==t?0:rs(t),n=void 0===n?i:rs(n)),Vi(e,t,n)):[]},In.sortBy=fo,In.sortedUniq=function(e){return e&&e.length?Xi(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Xi(e,Wr(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&ca(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=cs(e))&&("string"==typeof t||null!=t&&!Jo(t))&&!(t=Zi(t))&&Ut(e)?lr(Vt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new be(r);return t=null==t?0:sn(rs(t),0),Ui((function(n){var i=n[t],r=lr(n,0,t);return i&&pt(r,i),rt(e,this,r)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Vi(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Vi(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},In.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Vi(e,(t=i-(t=n||void 0===t?1:rs(t)))<0?0:t,i):[]},In.takeRightWhile=function(e,t){return e&&e.length?nr(e,Wr(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?nr(e,Wr(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new be(r);return Go(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),To(e,t,{leading:i,maxWait:t,trailing:a})},In.thru=no,In.toArray=ns,In.toPairs=js,In.toPairsIn=Is,In.toPath=function(e){return Fo(e)?ht(e,Aa):Zo(e)?[e]:gr(qa(cs(e)))},In.toPlainObject=ss,In.transform=function(e,t,n){var i=Fo(e),r=i||Ho(e)||Qo(e);if(t=Wr(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:Go(e)&&Bo(a)?On(Ge(e)):{}}return(r?ot:di)(e,(function(e,i,r){return t(n,e,i,r)})),n},In.unary=function(e){return bo(e,1)},In.union=Ga,In.unionBy=$a,In.unionWith=Va,In.uniq=function(e){return e&&e.length?Qi(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qi(e,Wr(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},In.unset=function(e,t){return null==e||er(e,t)},In.unzip=Ka,In.unzipWith=Ya,In.update=function(e,t,n){return null==e?e:tr(e,t,sr(n))},In.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,sr(n),i)},In.values=Os,In.valuesIn=function(e){return null==e?[]:xt(e,Ms(e))},In.without=Ja,In.words=Bs,In.wrap=function(e,t){return ko(sr(t),e)},In.xor=Xa,In.xorBy=Wa,In.xorWith=Za,In.zip=Qa,In.zipObject=function(e,t){return ar(e||[],t||[],Gn)},In.zipObjectDeep=function(e,t){return ar(e||[],t||[],Li)},In.zipWith=eo,In.entries=js,In.entriesIn=Is,In.extend=ls,In.extendWith=us,Ws(In,In),In.add=sc,In.attempt=Ls,In.camelCase=xs,In.capitalize=Rs,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Xn(os(e),t,n)},In.clone=function(e){return Wn(e,4)},In.cloneDeep=function(e){return Wn(e,5)},In.cloneDeepWith=function(e,t){return Wn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Wn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Zn(e,t,Ts(t))},In.deburr=Cs,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=dc,In.endsWith=function(e,t,n){e=cs(e),t=Zi(t);var i=e.length,r=n=void 0===n?i:Xn(rs(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},In.eq=Oo,In.escape=function(e){return(e=cs(e))&&H.test(e)?e.replace(E,Nt):e},In.escapeRegExp=function(e){return(e=cs(e))&&V.test(e)?e.replace($,"\\$&"):e},In.every=function(e,t,n){var i=Fo(e)?ct:ii;return n&&ca(e,t,n)&&(t=void 0),i(e,Wr(t,3))},In.find=ao,In.findIndex=Ra,In.findKey=function(e,t){return gt(e,Wr(t,3),di)},In.findLast=oo,In.findLastIndex=Ca,In.findLastKey=function(e,t){return gt(e,Wr(t,3),li)},In.floor=lc,In.forEach=so,In.forEachRight=co,In.forIn=function(e,t){return null==e?e:si(e,Wr(t,3),Ms)},In.forInRight=function(e,t){return null==e?e:ci(e,Wr(t,3),Ms)},In.forOwn=function(e,t){return e&&di(e,Wr(t,3))},In.forOwnRight=function(e,t){return e&&li(e,Wr(t,3))},In.get=vs,In.gt=xo,In.gte=Ro,In.has=function(e,t){return null!=e&&ra(e,t,vi)},In.hasIn=bs,In.head=Da,In.identity=Ks,In.includes=function(e,t,n,i){e=Eo(e)?e:Os(e),n=n&&!i?rs(n):0;var r=e.length;return n<0&&(n=sn(r+n,0)),Wo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Pt(e,t,n)>-1},In.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:rs(n);return r<0&&(r=sn(i+r,0)),Pt(e,t,r)},In.inRange=function(e,t,n){return t=is(t),void 0===n?(n=t,t=0):n=is(n),function(e,t,n){return e>=cn(t,n)&&e<sn(t,n)}(e=os(e),t,n)},In.invoke=Ps,In.isArguments=Co,In.isArray=Fo,In.isArrayBuffer=Do,In.isArrayLike=Eo,In.isArrayLikeObject=No,In.isBoolean=function(e){return!0===e||!1===e||$o(e)&&mi(e)==d},In.isBuffer=Ho,In.isDate=Uo,In.isElement=function(e){return $o(e)&&1===e.nodeType&&!Yo(e)},In.isEmpty=function(e){if(null==e)return!0;if(Eo(e)&&(Fo(e)||"string"==typeof e||"function"==typeof e.splice||Ho(e)||Qo(e)||Co(e)))return!e.length;var t=ia(e);if(t==m||t==g)return!e.size;if(ha(e))return!qi(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return Ti(e,t)},In.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?Ti(e,t,void 0,n):!!i},In.isError=_o,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Bo,In.isInteger=Lo,In.isLength=zo,In.isMap=Vo,In.isMatch=function(e,t){return e===t||Mi(e,t,Qr(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Mi(e,t,Qr(t),n)},In.isNaN=function(e){return Ko(e)&&e!=+e},In.isNative=function(e){if(ua(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Ko,In.isObject=Go,In.isObjectLike=$o,In.isPlainObject=Yo,In.isRegExp=Jo,In.isSafeInteger=function(e){return Lo(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Xo,In.isString=Wo,In.isSymbol=Zo,In.isTypedArray=Qo,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return $o(e)&&ia(e)==T},In.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==mi(e)},In.join=function(e,t){return null==e?"":an.call(e,t)},In.kebabCase=Fs,In.last=Ua,In.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=rs(n))<0?sn(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):yt(e,Mt,r,!0)},In.lowerCase=Ds,In.lowerFirst=Es,In.lt=es,In.lte=ts,In.max=function(e){return e&&e.length?ri(e,Ks,fi):void 0},In.maxBy=function(e,t){return e&&e.length?ri(e,Wr(t,2),fi):void 0},In.mean=function(e){return St(e,Ks)},In.meanBy=function(e,t){return St(e,Wr(t,2))},In.min=function(e){return e&&e.length?ri(e,Ks,ki):void 0},In.minBy=function(e,t){return e&&e.length?ri(e,Wr(t,2),ki):void 0},In.stubArray=ac,In.stubFalse=oc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?Ri(e,rs(t)):void 0},In.noConflict=function(){return Ve._===this&&(Ve._=je),this},In.noop=Zs,In.now=vo,In.pad=function(e,t,n){e=cs(e);var i=(t=rs(t))?$t(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Cr(en(r),n)+e+Cr(Qt(r),n)},In.padEnd=function(e,t,n){e=cs(e);var i=(t=rs(t))?$t(e):0;return t&&i<t?e+Cr(t-i,n):e},In.padStart=function(e,t,n){e=cs(e);var i=(t=rs(t))?$t(e):0;return t&&i<t?Cr(t-i,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(cs(e).replace(K,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ca(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=is(e),void 0===t?(t=e,e=0):t=is(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=un();return cn(e+r*(t-e+Le("1e-"+((r+"").length-1))),t)}return Ni(e,t)},In.reduce=function(e,t,n){var i=Fo(e)?mt:At,r=arguments.length<3;return i(e,Wr(t,4),n,r,ti)},In.reduceRight=function(e,t,n){var i=Fo(e)?ft:At,r=arguments.length<3;return i(e,Wr(t,4),n,r,ni)},In.repeat=function(e,t,n){return t=(n?ca(e,t,n):void 0===t)?1:rs(t),Hi(cs(e),t)},In.replace=function(){var e=arguments,t=cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var a=null==e?void 0:e[Aa(t[i])];void 0===a&&(i=r,a=n),e=Bo(a)?a.call(e):a}return e},In.round=pc,In.runInContext=e,In.sample=function(e){return(Fo(e)?_n:_i)(e)},In.size=function(e){if(null==e)return 0;if(Eo(e))return Wo(e)?$t(e):e.length;var t=ia(e);return t==m||t==g?e.size:qi(e).length},In.snakeCase=Ns,In.some=function(e,t,n){var i=Fo(e)?vt:Ki;return n&&ca(e,t,n)&&(t=void 0),i(e,Wr(t,3))},In.sortedIndex=function(e,t){return Yi(e,t)},In.sortedIndexBy=function(e,t,n){return Ji(e,t,Wr(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Yi(e,t);if(i<n&&Oo(e[i],t))return i}return-1},In.sortedLastIndex=function(e,t){return Yi(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Ji(e,t,Wr(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Yi(e,t,!0)-1;if(Oo(e[n],t))return n}return-1},In.startCase=Hs,In.startsWith=function(e,t,n){return e=cs(e),n=null==n?0:Xn(rs(n),0,e.length),t=Zi(t),e.slice(n,n+t.length)==t},In.subtract=mc,In.sum=function(e){return e&&e.length?kt(e,Ks):0},In.sumBy=function(e,t){return e&&e.length?kt(e,Wr(t,2)):0},In.template=function(e,t,n){var i=In.templateSettings;n&&ca(e,t,n)&&(t=void 0),e=cs(e),t=us({},t,i,Br);var r,a,o=us({},t.imports,i.imports,Br),s=Ts(o),c=xt(o,s),d=0,l=t.interpolate||de,u="__p += '",h=fe((t.escape||de).source+"|"+l.source+"|"+(l===B?te:de).source+"|"+(t.evaluate||de).source+"|$","g"),p="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++He+"]")+"\n";e.replace(h,(function(t,n,i,o,s,c){return i||(i=o),u+=e.slice(d,c).replace(le,Ht),n&&(r=!0,u+="' +\n__e("+n+") +\n'"),s&&(a=!0,u+="';\n"+s+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=c+t.length,t})),u+="';\n";var m=Se.call(t,"variable")&&t.variable;if(m){if(Q.test(m))throw new ue("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(a?u.replace(R,""):u).replace(C,"$1").replace(F,"$1;"),u="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var f=Ls((function(){return he(s,p+"return "+u).apply(void 0,c)}));if(f.source=u,_o(f))throw f;return f},In.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=jt(i,t=Wr(t));++n<e;)t(n);return r},In.toFinite=is,In.toInteger=rs,In.toLength=as,In.toLower=function(e){return cs(e).toLowerCase()},In.toNumber=os,In.toSafeInteger=function(e){return e?Xn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=cs,In.toUpper=function(e){return cs(e).toUpperCase()},In.trim=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return It(e);if(!e||!(t=Zi(t)))return e;var i=Vt(e),r=Vt(t);return lr(i,Ct(i,r),Ft(i,r)+1).join("")},In.trimEnd=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return e.slice(0,Kt(e)+1);if(!e||!(t=Zi(t)))return e;var i=Vt(e);return lr(i,0,Ft(i,Vt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Zi(t)))return e;var i=Vt(e);return lr(i,Ct(i,Vt(t))).join("")},In.truncate=function(e,t){var n=30,i="...";if(Go(t)){var r="separator"in t?t.separator:r;n="length"in t?rs(t.length):n,i="omission"in t?Zi(t.omission):i}var a=(e=cs(e)).length;if(Ut(e)){var o=Vt(e);a=o.length}if(n>=a)return e;var s=n-$t(i);if(s<1)return i;var c=o?lr(o,0,s).join(""):e.slice(0,s);if(void 0===r)return c+i;if(o&&(s+=c.length-s),Jo(r)){if(e.slice(s).search(r)){var d,l=c;for(r.global||(r=fe(r.source,cs(ne.exec(r))+"g")),r.lastIndex=0;d=r.exec(l);)var u=d.index;c=c.slice(0,void 0===u?s:u)}}else if(e.indexOf(Zi(r),s)!=s){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},In.unescape=function(e){return(e=cs(e))&&N.test(e)?e.replace(D,Yt):e},In.uniqueId=function(e){var t=++we;return cs(e)+t},In.upperCase=Us,In.upperFirst=_s,In.each=so,In.eachRight=co,In.first=Da,Ws(In,(uc={},di(In,(function(e,t){Se.call(In.prototype,t)||(uc[t]=e)})),uc),{chain:!1}),In.VERSION="4.17.21",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),ot(["drop","take"],(function(e,t){Cn.prototype[e]=function(n){n=void 0===n?1:sn(rs(n),0);var i=this.__filtered__&&!t?new Cn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Cn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Cn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Cn.prototype[e]=function(){return this[n](1).value()[0]}})),ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Cn.prototype[e]=function(){return this.__filtered__?new Cn(this):this[n](1)}})),Cn.prototype.compact=function(){return this.filter(Ks)},Cn.prototype.find=function(e){return this.filter(e).head()},Cn.prototype.findLast=function(e){return this.reverse().find(e)},Cn.prototype.invokeMap=Ui((function(e,t){return"function"==typeof e?new Cn(this):this.map((function(n){return yi(n,e,t)}))})),Cn.prototype.reject=function(e){return this.filter(qo(Wr(e)))},Cn.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Cn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Cn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Cn.prototype.toArray=function(){return this.take(4294967295)},di(Cn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=In[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);r&&(In.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,s=t instanceof Cn,c=o[0],d=s||Fo(t),l=function(e){var t=r.apply(In,pt([e],o));return i&&u?t[0]:t};d&&n&&"function"==typeof c&&1!=c.length&&(s=d=!1);var u=this.__chain__,h=!!this.__actions__.length,p=a&&!u,m=s&&!h;if(!a&&d){t=m?t:new Cn(this);var f=e.apply(t,o);return f.__actions__.push({func:no,args:[l],thisArg:void 0}),new Rn(f,u)}return p&&m?e.apply(this,o):(f=this.thru(l),p?i?f.value()[0]:f.value():f)})})),ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ge[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Fo(r)?r:[],e)}return this[n]((function(n){return t.apply(Fo(n)?n:[],e)}))}})),di(Cn.prototype,(function(e,t){var n=In[t];if(n){var i=n.name+"";Se.call(Pn,i)||(Pn[i]=[]),Pn[i].push({name:t,func:n})}})),Pn[Ir(void 0,2).name]=[{name:"wrapper",func:void 0}],Cn.prototype.clone=function(){var e=new Cn(this.__wrapped__);return e.__actions__=gr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gr(this.__views__),e},Cn.prototype.reverse=function(){if(this.__filtered__){var e=new Cn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Cn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Fo(e),i=t<0,r=n?e.length:0,a=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=cn(t,e+o);break;case"takeRight":e=sn(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=a.start,s=a.end,c=s-o,d=i?s:o-1,l=this.__iteratees__,u=l.length,h=0,p=cn(c,this.__takeCount__);if(!n||!i&&r==c&&p==c)return ir(e,this.__actions__);var m=[];e:for(;c--&&h<p;){for(var f=-1,v=e[d+=t];++f<u;){var b=l[f],g=b.iteratee,y=b.type,P=g(v);if(2==y)v=P;else if(!P){if(1==y)continue e;break e}}m[h++]=v}return m},In.prototype.at=io,In.prototype.chain=function(){return to(this)},In.prototype.commit=function(){return new Rn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof xn;){var i=ja(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Cn){var t=e;return this.__actions__.length&&(t=new Cn(this)),(t=t.reverse()).__actions__.push({func:no,args:[za],thisArg:void 0}),new Rn(t,this.__chain__)}return this.thru(za)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,We&&(In.prototype[We]=function(){return this}),In}();Ve._=Jt,void 0===(i=function(){return Jt}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(124)(e))},function(e,t,n){n(8)({target:"Object",stat:!0},{setPrototypeOf:n(87)})},function(e,t,n){var i=n(8),r=n(44),a=n(40),o=n(23),s=n(20),c=n(61),d=n(390),l=n(15),u=r("Reflect","construct"),h=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!l((function(){u((function(){}))})),m=h||p;i({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(p&&!h)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(d.apply(e,i))}var r=n.prototype,l=c(s(r)?r:Object.prototype),m=Function.apply.call(e,l,t);return s(m)?m:l}})},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(227);var i={name:"Footer",computed:{getCurrentYear:function(){return(new Date).getFullYear()}}},r=(n(357),n(24)),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer main-footer"},[n("div",{staticClass:"main-footer__content-holder"},[n("ul",{staticClass:"nav-links can-hide"},e._l(e.$site.themeConfig.footer,(function(t){return n("li",{staticClass:"nav-item"},[t.target?n("a",{staticClass:"nav-link",attrs:{href:t.link,target:"_blank"}},[e._v("\n          "+e._s(t.text)+"\n        ")]):n("router-link",{staticClass:"nav-link",attrs:{to:t.link}},[e._v(e._s(t.text)+"\n        ")])],1)})),0),e._v(" "),n("div",{staticClass:"copyright"},[e._v(" Copyright © "+e._s(e.getCurrentYear)+" GSMA. GSM and the GSM Logo are registered and owned by the GSMA.")])])])}),[],!1,null,null,null);t.a=a.exports},function(e,t,n){var i=n(258),r=n(263),a=n(334),o=n(342),s=n(351),c=n(238),d=a((function(e){var t=c(e);return s(t)&&(t=void 0),o(i(e,1,s,!0),r(t,2))}));e.exports=d},function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,i=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:i.prototype.scroll||s,scrollIntoView:i.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,o=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?m.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;m.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=h(this),i=n.getBoundingClientRect(),a=this.getBoundingClientRect();n!==t.body?(m.call(this,n,n.scrollLeft+a.left-i.left,n.scrollTop+a.top-i.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):e.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(e,t){return"Y"===t?e.clientHeight+o<e.scrollHeight:"X"===t?e.clientWidth+o<e.scrollWidth:void 0}function l(t,n){var i=e.getComputedStyle(t,null)["overflow"+n];return"auto"===i||"scroll"===i}function u(e){var t=d(e,"Y")&&l(e,"Y"),n=d(e,"X")&&l(e,"X");return t||n}function h(e){for(;e!==t.body&&!1===u(e);)e=e.parentNode||e.host;return e}function p(t){var n,i,r,o,s=(a()-t.startTime)/468;o=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*o)),i=t.startX+(t.x-t.startX)*n,r=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,i,r),i===t.x&&r===t.y||e.requestAnimationFrame(p.bind(e,t))}function m(n,i,o){var c,d,l,u,h=a();n===t.body?(c=e,d=e.scrollX||e.pageXOffset,l=e.scrollY||e.pageYOffset,u=r.scroll):(c=n,d=n.scrollLeft,l=n.scrollTop,u=s),p({scrollable:c,method:u,startTime:h,startX:d,startY:l,x:i,y:o})}}}}()},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}([function(e,t,n){var i=n(4),r=n(5),a=n(6);e.exports=function(e){return i(e)||r(e)||a()}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var i=n(2);n.n(i).a},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(1),o=n.n(a),s=n(3),c=n.n(s),d={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(e){var t=this;this.autoscroll&&e&&this.$nextTick((function(){return t.maybeAdjustScroll()}))}},methods:{maybeAdjustScroll:function(){var e,t=(null===(e=this.$refs.dropdownMenu)||void 0===e?void 0:e.children[this.typeAheadPointer])||!1;if(t){var n=this.getDropdownViewport(),i=t.getBoundingClientRect(),r=i.top,a=i.bottom,o=i.height;if(r<n.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(a>n.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(n.height-o)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},l={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}}},methods:{typeAheadUp:function(){for(var e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown:function(){for(var e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect:function(){var e=this.filteredOptions[this.typeAheadPointer];e&&this.select(e)}}},u={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(e){this.mutableLoading=e}},methods:{toggleLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==e?!this.mutableLoading:e}}};function h(e,t,n,i,r,a,o,s){var c,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(e,t){return c.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:d}}var p={Deselect:h({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[t("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[t("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports},m={inserted:function(e,t,n){var i=n.context;if(i.appendToBody){var r=i.$refs.toggle.getBoundingClientRect(),a=r.height,o=r.top,s=r.left,c=r.width,d=window.scrollX||window.pageXOffset,l=window.scrollY||window.pageYOffset;e.unbindPosition=i.calculatePosition(e,i,{width:c+"px",left:d+s+"px",top:l+o+a+"px"}),document.body.appendChild(e)}},unbind:function(e,t,n){n.context.appendToBody&&(e.unbindPosition&&"function"==typeof e.unbindPosition&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},f=0;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={components:b({},p),directives:{appendToBody:m},mixins:[d,l,u],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(e){return e}},selectable:{type:Function,default:function(e){return!0}},getOptionLabel:{type:Function,default:function(e){return"object"===o()(e)?e.hasOwnProperty(this.label)?e[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(e),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):e}},getOptionKey:{type:Function,default:function(e){if("object"!==o()(e))return e;try{return e.hasOwnProperty("id")?e.id:function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),JSON.stringify(t)}(e)}catch(t){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",e,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(e,t,n){return(t||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(e,t){var n=this;return e.filter((function(e){var i=n.getOptionLabel(e);return"number"==typeof i&&(i=i.toString()),n.filterBy(e,i,t)}))}},createOption:{type:Function,default:function(e){return"object"===o()(this.optionList[0])?c()({},this.label,e):e}},resetOnOptionsChange:{default:!1,validator:function(e){return["function","boolean"].includes(o()(e))}},clearSearchOnBlur:{type:Function,default:function(e){var t=e.clearSearchOnSelect,n=e.multiple;return t&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(e,t){return e}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(e,t,n){var i=n.width,r=n.top,a=n.left;e.style.top=r,e.style.left=a,e.style.width=i}},dropdownShouldOpen:{type:Function,default:function(e){var t=e.noDrop,n=e.open,i=e.mutableLoading;return!t&&n&&!i}},uid:{type:[String,Number],default:function(){return++f}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var e=this.value;return this.isTrackingValues&&(e=this.$data._value),e?[].concat(e):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var e=this,t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:b({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return e.isComposing=!0},compositionend:function(){return e.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(t){return e.search=t.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:b({},t,{deselect:this.deselect}),footer:b({},t,{deselect:this.deselect})}},childComponents:function(){return b({},p,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var e=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return e;var t=this.search.length?this.filter(e,this.search,this):e;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||t.unshift(n)}return t},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(e,t){var n=this;!this.taggable&&("function"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(e,t,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(e){this.isTrackingValues&&this.setInternalValueFromOptions(e)}},multiple:function(){this.clearSelection()},open:function(e){this.$emit(e?"open":"close")}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(e){var t=this;Array.isArray(e)?this.$data._value=e.map((function(e){return t.findOptionFromReducedValue(e)})):this.$data._value=this.findOptionFromReducedValue(e)},select:function(e){this.$emit("option:selecting",e),this.isOptionSelected(e)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(e):(this.taggable&&!this.optionExists(e)&&this.$emit("option:created",e),this.multiple&&(e=this.selectedValue.concat(e)),this.updateValue(e),this.$emit("option:selected",e)),this.onAfterSelect(e)},deselect:function(e){var t=this;this.$emit("option:deselecting",e),this.updateValue(this.selectedValue.filter((function(n){return!t.optionComparator(n,e)}))),this.$emit("option:deselected",e)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(e){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(e){var t=this;void 0===this.value&&(this.$data._value=e),null!==e&&(e=Array.isArray(e)?e.map((function(e){return t.reduce(e)})):this.reduce(e)),this.$emit("input",e)},toggleDropdown:function(e){var t=e.target!==this.searchEl;t&&e.preventDefault();var n=[].concat(r()(this.$refs.deselectButtons||[]),r()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(t){return t.contains(e.target)||t===e.target}))?e.preventDefault():this.open&&t?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(e){var t=this;return this.selectedValue.some((function(n){return t.optionComparator(n,e)}))},isOptionDeselectable:function(e){return this.isOptionSelected(e)&&this.deselectFromDropdown},optionComparator:function(e,t){return this.getOptionKey(e)===this.getOptionKey(t)},findOptionFromReducedValue:function(e){var t=this,n=[].concat(r()(this.options),r()(this.pushedTags)).filter((function(n){return JSON.stringify(t.reduce(n))===JSON.stringify(e)}));return 1===n.length?n[0]:n.find((function(e){return t.optionComparator(e,t.$data._value)}))||e},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var e=null;this.multiple&&(e=r()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(e)}},optionExists:function(e){var t=this;return this.optionList.some((function(n){return t.optionComparator(n,e)}))},normalizeOptionForSlot:function(e){return"object"===o()(e)?e:c()({},this.label,e)},pushTag:function(e){this.pushedTags.push(e)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var e=this.clearSearchOnSelect,t=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:e,multiple:t})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(e){var t=this,n=function(e){return e.preventDefault(),!t.isComposing&&t.typeAheadSelect()},i={8:function(e){return t.maybeDeleteValue()},9:function(e){return t.onTab()},27:function(e){return t.onEscape()},38:function(e){return e.preventDefault(),t.typeAheadUp()},40:function(e){return e.preventDefault(),t.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(e){return i[e]=n}));var r=this.mapKeydown(i,this);if("function"==typeof r[e.keyCode])return r[e.keyCode](e)}}},y=(n(7),h(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-select",class:e.stateClasses,attrs:{dir:e.dir}},[e._t("header",null,null,e.scope.header),e._v(" "),n("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+e.uid+"__combobox",role:"combobox","aria-expanded":e.dropdownOpen.toString(),"aria-owns":"vs"+e.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(t){return e.toggleDropdown(t)}}},[n("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[e._l(e.selectedValue,(function(t){return e._t("selected-option-container",[n("span",{key:e.getOptionKey(t),staticClass:"vs__selected"},[e._t("selected-option",[e._v("\n            "+e._s(e.getOptionLabel(t))+"\n          ")],null,e.normalizeOptionForSlot(t)),e._v(" "),e.multiple?n("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:e.disabled,type:"button",title:"Deselect "+e.getOptionLabel(t),"aria-label":"Deselect "+e.getOptionLabel(t)},on:{click:function(n){return e.deselect(t)}}},[n(e.childComponents.Deselect,{tag:"component"})],1):e._e()],2)],{option:e.normalizeOptionForSlot(t),deselect:e.deselect,multiple:e.multiple,disabled:e.disabled})})),e._v(" "),e._t("search",[n("input",e._g(e._b({staticClass:"vs__search"},"input",e.scope.search.attributes,!1),e.scope.search.events))],null,e.scope.search)],2),e._v(" "),n("div",{ref:"actions",staticClass:"vs__actions"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:e.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:e.clearSelection}},[n(e.childComponents.Deselect,{tag:"component"})],1),e._v(" "),e._t("open-indicator",[e.noDrop?e._e():n(e.childComponents.OpenIndicator,e._b({tag:"component"},"component",e.scope.openIndicator.attributes,!1))],null,e.scope.openIndicator),e._v(" "),e._t("spinner",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[e._v("Loading...")])],null,e.scope.spinner)],2)]),e._v(" "),n("transition",{attrs:{name:e.transition}},[e.dropdownOpen?n("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+e.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+e.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(t){return t.preventDefault(),e.onMousedown(t)},mouseup:e.onMouseUp}},[e._t("list-header",null,null,e.scope.listHeader),e._v(" "),e._l(e.filteredOptions,(function(t,i){return n("li",{key:e.getOptionKey(t),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":e.isOptionDeselectable(t)&&i===e.typeAheadPointer,"vs__dropdown-option--selected":e.isOptionSelected(t),"vs__dropdown-option--highlight":i===e.typeAheadPointer,"vs__dropdown-option--disabled":!e.selectable(t)},attrs:{id:"vs"+e.uid+"__option-"+i,role:"option","aria-selected":i===e.typeAheadPointer||null},on:{mouseover:function(n){e.selectable(t)&&(e.typeAheadPointer=i)},click:function(n){n.preventDefault(),n.stopPropagation(),e.selectable(t)&&e.select(t)}}},[e._t("option",[e._v("\n          "+e._s(e.getOptionLabel(t))+"\n        ")],null,e.normalizeOptionForSlot(t))],2)})),e._v(" "),0===e.filteredOptions.length?n("li",{staticClass:"vs__no-options"},[e._t("no-options",[e._v("Sorry, no matching options.")],null,e.scope.noOptions)],2):e._e(),e._v(" "),e._t("list-footer",null,null,e.scope.listFooter)],2):n("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+e.uid+"__listbox",role:"listbox"}})]),e._v(" "),e._t("footer",null,null,e.scope.footer)],2)}),[],!1,null,null,null).exports),P={ajax:u,pointer:l,pointerScroll:d};n.d(t,"VueSelect",(function(){return y})),n.d(t,"mixins",(function(){return P})),t.default=y}])},function(e,t,n){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=i=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),i(t)}n(45),n(52),n(18),n(73),n(26),n(30),e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);n(45),n(52),n(18),n(73),n(26),n(30),n(101);var i=n(60);function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(i.a)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}n(34),n(47),n(42),n(43);var a=n(12),o=n(4),s=n(6),c={name:"CodeGroup",props:{title:{type:String,default:""}},data:function(){return{codeTabs:[],afterInitComponent:!1,scrollHeight:130,isVisibleContent:!0,isNonCollapse:!1}},computed:{isButtonShow:function(){return this.scrollHeight>=220},activeCodeBlock:function(){return this.$store.state.codePanel.activeCodeBlock}},watch:{"provideObject.activeMethodIndex":function(e){this.activateCodeTab(e),0!==this.provideObject.activeCodeTabIndex||this.title||this.afterInitComponent&&this.checkScrollHeight()},"provideObject.heightOfCodeGroup":function(e){this.setMinHeight(e)},"provideObject.activeCodeTabIndex":function(e,t){t&&this.checkScrollHeight()},"provideObject.activeLanguage":function(e,t){t&&this.checkScrollHeight()},activeCodeBlock:function(e){e===this.$parent.$parent._uid||this.isNonCollapse||this.isButtonClick(!1)}},inject:{provideObject:{default:function(){return{activeLanguage:"",activeMethodIndex:-1,activeCodeTabIndex:-1,heightOfCodeGroup:130}}}},mounted:function(){var e=this;this.loadTabs(),this.$nextTick((function(){e.afterInitComponent=!0,e.checkScrollHeight()}))},methods:{setMinHeight:function(e){var t,n=this.$el.querySelectorAll('.theme-code-block > div[class^="language-"] > pre[class^="language-"]'),i=this.$el.querySelectorAll(".theme-code-block.theme-code-block__active > .language-json > pre.language-json"),a=r(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.style.minHeight="".concat(130===e?e+23:e,"px")}}catch(e){a.e(e)}finally{a.f()}var s,c=r(i);try{for(c.s();!(s=c.n()).done;){s.value.style.minHeight="".concat(e,"px")}}catch(e){c.e(e)}finally{c.f()}},isButtonClick:function(e){this.isVisibleContent=void 0!==e?e:!this.isVisibleContent,this.isVisibleContent?(this.$el.querySelector('.theme-code-block.theme-code-block__active > div[class^="language-"] > pre[class^="language-"]').style.maxHeight="".concat(this.scrollHeight,"px"),this.$store.commit(Object(a.a)(o.e,s.d),this.$parent.$parent._uid)):this.$el.querySelector('.theme-code-block.theme-code-block__active > div[class^="language-"] > pre[class^="language-"]')&&(this.$el.querySelector('.theme-code-block.theme-code-block__active > div[class^="language-"] > pre[class^="language-"]').style.maxHeight="130px")},changeCodeTab:function(e){this.$parent&&this.$parent.$parent&&(this.$parent.$parent.$emit("set-method-index",e),this.activateCodeTab(e))},loadTabs:function(){var e=this;this.codeTabs=(this.$slots.default||[]).filter((function(e){return Boolean(e.componentOptions)})).map((function(t,n){return""===t.componentOptions.propsData.active&&e.changeCodeTab(n),{title:t.componentOptions.propsData.title,elm:t.elm}})),-1===this.provideObject.activeMethodIndex&&this.codeTabs.length>0&&this.changeCodeTab(0),this.activateCodeTab(0)},activateCodeTab:function(e){this.codeTabs.forEach((function(e){e.elm&&e.elm.classList.remove("theme-code-block__active")})),this.codeTabs[e].elm&&this.codeTabs[e].elm.classList.add("theme-code-block__active")},checkScrollHeight:function(){var e,t;this.scrollHeight=null===(e=this.$el.querySelector('.theme-code-block.theme-code-block__active > div[class^="language-"] > pre[class^="language-"]'))||void 0===e?void 0:e.scrollHeight;var n=null===(t=this.$el.querySelector('.theme-code-block.theme-code-block__active > div[class^="language-"] > pre[class^="language-"]'))||void 0===t?void 0:t.scrollWidth;this.scrollHeight+=31,n>=350&&(this.scrollHeight+=8),this.scrollHeight>=220?(this.isButtonClick(!1),this.isNonCollapse=!1,this.$parent.$parent.$emit("set-code-height",130)):(this.isNonCollapse=!0,this.$parent.$parent.$emit("set-code-height",this.scrollHeight))}}},d=(n(367),n(24)),l=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ClientOnly",[n("div",{staticClass:"theme-code-group",class:{"theme-code-group__hidden":!(e.title&&e.provideObject.activeLanguage===e.title||!e.title)},style:{padding:e.isButtonShow?"8px 0 0":"8px 0"}},[n("div",{staticClass:"theme-code-group__nav"},[n("ul",{staticClass:"theme-code-group__ul"},e._l(e.codeTabs,(function(t,i){return n("li",{key:""+t.title+i,staticClass:"theme-code-group__li"},[n("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":i===e.provideObject.activeMethodIndex},on:{click:function(t){return e.changeCodeTab(i)}}},[e._v("\n            "+e._s(t.title)+"\n          ")])])})),0)]),e._v(" "),e._t("default"),e._v(" "),e.isButtonShow?n("div",{staticClass:"code-arrow",on:{click:function(t){return e.isButtonClick()}}},[e._v("\n      "+e._s(e.isVisibleContent?"Show less":"Show more")+"\n    ")]):e._e(),e._v(" "),e.codeTabs.length<1?n("pre",{staticClass:"pre-blank"},[e._v("// Make sure to add code blocks to your code group")]):e._e()],2)])}),[],!1,null,"28c7558c",null);t.default=l.exports},function(e,t,n){"use strict";n.r(t);n(34);var i={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}},inject:{provideObject:{default:function(){return{activeLanguage:"",activeMethodIndex:-1,activeCodeTabIndex:-1,heightOfCodeGroup:200}}}},mounted:function(){this.$parent&&this.$parent.loadTabs&&this.$parent.loadTabs(),"Code"===this.title&&this.$parent.$emit("get-code-languages",this.$children.map((function(e){return e.title})))}},r=(n(366),n(24)),a=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"81fc0f6c",null);t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(24),r=Object(i.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-modal"},[n("div",{staticClass:"content-wrap"},[n("div",{staticClass:"modal-container modal-container__confirmation"},[n("button",{staticClass:"close-btn",on:{click:function(){return e.$emit("close",!1)}}}),e._v(" "),n("span",{staticClass:"h3 modal-title"},[e._v("Do you confirm this action?")]),e._v(" "),n("div",{staticClass:"btn-row"},[n("button",{staticClass:"btn btn--accent-close",attrs:{type:"button"},on:{click:function(){return e.$emit("close",!1)}}},[e._v("Cancel\n        ")]),e._v(" "),n("button",{staticClass:"btn btn--accent",attrs:{type:"button"},on:{click:function(){return e.$emit("close",!0)}}},[e._v("Confirm\n        ")])])])])])}),[],!1,null,null,null);t.default=r.exports},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i=n(69),r=n(20),a=n(27),o=n(25).f,s=n(83),c=n(173),d=s("meta"),l=0,u=Object.isExtensible||function(){return!0},h=function(e){o(e,d,{value:{objectID:"O"+ ++l,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,d)){if(!u(e))return"F";if(!t)return"E";h(e)}return e[d].objectID},getWeakData:function(e,t){if(!a(e,d)){if(!u(e))return!0;if(!t)return!1;h(e)}return e[d].weakData},onFreeze:function(e){return c&&p.REQUIRED&&u(e)&&!a(e,d)&&h(e),e}};i[d]=!0},function(e,t,n){"use strict";n(22);var i=n(32),r=n(105),a=n(15),o=n(17),s=n(36),c=o("species"),d=RegExp.prototype,l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),h=o("replace"),p=!!/./[h]&&""===/./[h]("a","$0"),m=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var f=o(e),v=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),b=v&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!v||!b||"replace"===e&&(!l||!u||p)||"split"===e&&!m){var g=/./[f],y=n(f,""[e],(function(e,t,n,i,a){var o=t.exec;return o===r||o===d.exec?v&&!a?{done:!0,value:g.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),P=y[0],T=y[1];i(String.prototype,e,P),i(d,f,2==t?function(e,t){return T.call(e,this,t)}:function(e){return T.call(e,this)})}h&&s(d[f],"sham",!0)}},function(e,t,n){var i=n(58),r=n(105);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,n){var i=n(32),r=Date.prototype,a=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&i(r,"toString",(function(){var e=o.call(this);return e==e?a.call(this):"Invalid Date"}))},function(e,t,n){var i=n(32);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(147).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(20),r=n(87);e.exports=function(e,t,n){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},function(e,t,n){"use strict";var i=n(8),r=n(40),a=n(28),o=n(15),s=n(57),c=[],d=c.sort,l=o((function(){c.sort(void 0)})),u=o((function(){c.sort(null)})),h=s("sort");i({target:"Array",proto:!0,forced:l||!u||!h},{sort:function(e){return void 0===e?d.call(a(this)):d.call(a(this),r(e))}})},function(e,t,n){var i=n(49),r="["+n(150)+"]",a=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){"use strict";var i=n(32),r=n(23),a=n(15),o=n(118),s=RegExp.prototype,c=s.toString,d=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l="toString"!=c.name;(d||l)&&i(RegExp.prototype,"toString",(function(){var e=r(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?o.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var i=n(158).IteratorPrototype,r=n(61),a=n(63),o=n(77),s=n(70),c=function(){return this};e.exports=function(e,t,n){var d=t+" Iterator";return e.prototype=r(i,{next:a(1,n)}),o(e,d,!1,!0),s[d]=c,e}},function(e,t,n){"use strict";var i=n(21),r=n(15),a=n(68),o=n(114),s=n(86),c=n(28),d=n(66),l=Object.assign,u=Object.defineProperty;e.exports=!l||r((function(){if(i&&1!==l({b:1},l(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=a(l({},t)).join("")}))?function(e,t){for(var n=c(e),r=arguments.length,l=1,u=o.f,h=s.f;r>l;)for(var p,m=d(arguments[l++]),f=u?a(m).concat(u(m)):a(m),v=f.length,b=0;v>b;)p=f[b++],i&&!h.call(m,p)||(n[p]=m[p]);return n}:l},function(e,t,n){"use strict";var i,r=n(8),a=n(51).f,o=n(35),s=n(170),c=n(49),d=n(171),l=n(50),u="".startsWith,h=Math.min,p=d("startsWith");r({target:"String",proto:!0,forced:!!(l||p||(i=a(String.prototype,"startsWith"),!i||i.writable))&&!p},{startsWith:function(e){var t=String(c(this));s(e);var n=o(h(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return u?u.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";var i=n(78),r=n(28),a=n(256),o=n(161),s=n(35),c=n(71),d=n(140);e.exports=function(e){var t,n,l,u,h,p,m=r(e),f="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=void 0!==b,y=d(m),P=0;if(g&&(b=i(b,v>2?arguments[2]:void 0,2)),null==y||f==Array&&o(y))for(n=new f(t=s(m.length));t>P;P++)p=g?b(m[P],P):m[P],c(n,P,p);else for(h=(u=y.call(m)).next,n=new f;!(l=h.call(u)).done;P++)p=g?a(u,b,[l.value,P],!0):l.value,c(n,P,p);return n.length=P,n}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var i=n(8),r=n(354);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){var i=n(21),r=n(16),a=n(99),o=n(230),s=n(25).f,c=n(81).f,d=n(148),l=n(118),u=n(149),h=n(32),p=n(15),m=n(55).enforce,f=n(139),v=n(17)("match"),b=r.RegExp,g=b.prototype,y=/a/g,P=/a/g,T=new b(y)!==y,M=u.UNSUPPORTED_Y;if(i&&a("RegExp",!T||M||p((function(){return P[v]=!1,b(y)!=y||b(P)==P||"/a/i"!=b(y,"i")})))){for(var S=function(e,t){var n,i=this instanceof S,r=d(e),a=void 0===t;if(!i&&r&&e.constructor===S&&a)return e;T?r&&!a&&(e=e.source):e instanceof S&&(a&&(t=l.call(e)),e=e.source),M&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=o(T?new b(e,t):b(e,t),i?this:g,S);M&&n&&(m(s).sticky=!0);return s},w=function(e){e in S||s(S,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})},q=c(b),A=0;q.length>A;)w(q[A++]);g.constructor=S,S.prototype=g,h(r,"RegExp",S)}f("RegExp")},function(e,t,n){e.exports=n(393)},function(e,t,n){var i=n(16),r=n(113),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(r(a))},function(e,t,n){var i=n(20);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var i,r,a,o,s=n(8),c=n(50),d=n(16),l=n(44),u=n(160),h=n(32),p=n(228),m=n(87),f=n(77),v=n(139),b=n(20),g=n(40),y=n(223),P=n(113),T=n(136),M=n(141),S=n(146),w=n(163).set,q=n(245),A=n(165),k=n(247),j=n(117),I=n(166),O=n(55),x=n(99),R=n(17),C=n(248),F=n(88),D=n(67),E=R("species"),N="Promise",H=O.get,U=O.set,_=O.getterFor(N),B=u&&u.prototype,L=u,z=B,G=d.TypeError,$=d.document,V=d.process,K=j.f,Y=K,J=!!($&&$.createEvent&&d.dispatchEvent),X="function"==typeof PromiseRejectionEvent,W=!1,Z=x(N,(function(){var e=P(L)!==String(L);if(!e&&66===D)return!0;if(c&&!z.finally)return!0;if(D>=51&&/native code/.test(L))return!1;var t=new L((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[E]=n,!(W=t.then((function(){}))instanceof n)||!e&&C&&!X})),Q=Z||!M((function(e){L.all(e).catch((function(){}))})),ee=function(e){var t;return!(!b(e)||"function"!=typeof(t=e.then))&&t},te=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;q((function(){for(var i=e.value,r=1==e.state,a=0;n.length>a;){var o,s,c,d=n[a++],l=r?d.ok:d.fail,u=d.resolve,h=d.reject,p=d.domain;try{l?(r||(2===e.rejection&&ae(e),e.rejection=1),!0===l?o=i:(p&&p.enter(),o=l(i),p&&(p.exit(),c=!0)),o===d.promise?h(G("Promise-chain cycle")):(s=ee(o))?s.call(o,u,h):u(o)):h(i)}catch(e){p&&!c&&p.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},ne=function(e,t,n){var i,r;J?((i=$.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),d.dispatchEvent(i)):i={promise:t,reason:n},!X&&(r=d["on"+e])?r(i):"unhandledrejection"===e&&k("Unhandled promise rejection",n)},ie=function(e){w.call(d,(function(){var t,n=e.facade,i=e.value;if(re(e)&&(t=I((function(){F?V.emit("unhandledRejection",i,n):ne("unhandledrejection",n,i)})),e.rejection=F||re(e)?2:1,t.error))throw t.value}))},re=function(e){return 1!==e.rejection&&!e.parent},ae=function(e){w.call(d,(function(){var t=e.facade;F?V.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},oe=function(e,t,n){return function(i){e(t,i,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,te(e,!0))},ce=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw G("Promise can't be resolved itself");var i=ee(t);i?q((function(){var n={done:!1};try{i.call(t,oe(ce,n,e),oe(se,n,e))}catch(t){se(n,t,e)}})):(e.value=t,e.state=1,te(e,!1))}catch(t){se({done:!1},t,e)}}};if(Z&&(z=(L=function(e){y(this,L,N),g(e),i.call(this);var t=H(this);try{e(oe(ce,t),oe(se,t))}catch(e){se(t,e)}}).prototype,(i=function(e){U(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(z,{then:function(e,t){var n=_(this),i=K(S(this,L));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=F?V.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&te(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=H(e);this.promise=e,this.resolve=oe(ce,t),this.reject=oe(se,t)},j.f=K=function(e){return e===L||e===a?new r(e):Y(e)},!c&&"function"==typeof u&&B!==Object.prototype)){o=B.then,W||(h(B,"then",(function(e,t){var n=this;return new L((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),h(B,"catch",z.catch,{unsafe:!0}));try{delete B.constructor}catch(e){}m&&m(B,z)}s({global:!0,wrap:!0,forced:Z},{Promise:L}),f(L,N,!1,!0),v(N),a=l(N),s({target:N,stat:!0,forced:Z},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:c||Z},{resolve:function(e){return A(c&&this===a?L:this,e)}}),s({target:N,stat:!0,forced:Q},{all:function(e){var t=this,n=K(t),i=n.resolve,r=n.reject,a=I((function(){var n=g(t.resolve),a=[],o=0,s=1;T(e,(function(e){var c=o++,d=!1;a.push(void 0),s++,n.call(t,e).then((function(e){d||(d=!0,a[c]=e,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(e){var t=this,n=K(t),i=n.reject,r=I((function(){var r=g(t.resolve);T(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(e,t,n){var i,r,a,o,s,c,d,l,u=n(16),h=n(51).f,p=n(163).set,m=n(164),f=n(246),v=n(88),b=u.MutationObserver||u.WebKitMutationObserver,g=u.document,y=u.process,P=u.Promise,T=h(u,"queueMicrotask"),M=T&&T.value;M||(i=function(){var e,t;for(v&&(e=y.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():a=void 0,e}}a=void 0,e&&e.enter()},m||v||f||!b||!g?P&&P.resolve?((d=P.resolve(void 0)).constructor=P,l=d.then,o=function(){l.call(d,i)}):o=v?function(){y.nextTick(i)}:function(){p.call(u,i)}:(s=!0,c=g.createTextNode(""),new b(i).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),e.exports=M||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},function(e,t,n){var i=n(84);e.exports=/web0s(?!.*chrome)/i.test(i)},function(e,t,n){var i=n(16);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports="object"==typeof window},function(e,t,n){var i=n(8),r=n(235);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var i=n(8),r=n(50),a=n(160),o=n(15),s=n(44),c=n(146),d=n(165),l=n(32);if(i({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return d(t,e()).then((function(){return n}))}:e,n?function(n){return d(t,e()).then((function(){throw n}))}:e)}}),!r&&"function"==typeof a){var u=s("Promise").prototype.finally;a.prototype.finally!==u&&l(a.prototype,"finally",u,{unsafe:!0})}},function(e,t,n){"use strict";var i=n(116),r=n(145);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){"use strict";var i=n(8),r=n(253).left,a=n(57),o=n(67),s=n(88);i({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(40),r=n(28),a=n(66),o=n(35),s=function(e){return function(t,n,s,c){i(n);var d=r(t),l=a(d),u=o(d.length),h=e?u-1:0,p=e?-1:1;if(s<2)for(;;){if(h in l){c=l[h],h+=p;break}if(h+=p,e?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:u>h;h+=p)h in l&&(c=n(c,l[h],h,d));return c}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){var i=n(8),r=n(173),a=n(15),o=n(20),s=n(224).onFreeze,c=Object.freeze;i({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!r},{freeze:function(e){return c&&o(e)?c(s(e)):e}})},function(e,t,n){var i=n(33),r=n(81).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return r(e)}catch(e){return o.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(23),r=n(162);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){throw r(e),t}}},function(e,t,n){var i=n(28),r=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,c,d,l){var u=n+e.length,h=c.length,p=s;return void 0!==d&&(d=i(d),p=o),a.call(l,p,(function(i,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":o=d[a.slice(1,-1)];break;default:var s=+a;if(0===s)return i;if(s>h){var l=r(s/10);return 0===l?i:l<=h?void 0===c[l-1]?a.charAt(1):c[l-1]+a.charAt(1):i}o=c[s-1]}return void 0===o?"":o}))}},function(e,t,n){var i=n(178),r=n(259);e.exports=function e(t,n,a,o,s){var c=-1,d=t.length;for(a||(a=r),s||(s=[]);++c<d;){var l=t[c];n>0&&a(l)?n>1?e(l,n-1,a,o,s):i(s,l):o||(s[s.length]=l)}return s}},function(e,t,n){var i=n(74),r=n(119),a=n(39),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(o&&e&&e[o])}},function(e,t,n){var i=n(65),r=n(59);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},function(e,t,n){var i=n(74),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=o.call(e);return i&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i=n(264),r=n(320),a=n(128),o=n(39),s=n(331);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?r(e[0],e[1]):i(e):s(e)}},function(e,t,n){var i=n(265),r=n(319),a=n(195);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(180),r=n(184);e.exports=function(e,t,n,a){var o=n.length,s=o,c=!a;if(null==e)return!s;for(e=Object(e);o--;){var d=n[o];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<s;){var l=(d=n[o])[0],u=e[l],h=d[1];if(c&&d[2]){if(void 0===u&&!(l in e))return!1}else{var p=new i;if(a)var m=a(u,h,l,e,t,p);if(!(void 0===m?r(h,u,3,a,p):m))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(90),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var i=n(90);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(90);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(90);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(89);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(89),r=n(120),a=n(122);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var i=n(182),r=n(277),a=n(121),o=n(183),s=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,l=c.toString,u=d.hasOwnProperty,h=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(i(e)?h:s).test(o(e))}},function(e,t,n){var i,r=n(278),a=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var i=n(41)["__core-js_shared__"];e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(281),r=n(89),a=n(120);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},function(e,t,n){var i=n(282),r=n(283),a=n(284),o=n(285),s=n(286);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(91);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(91),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(91),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(91);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var i=n(92);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(92);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(92);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(92);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var i=n(180),r=n(185),a=n(296),o=n(299),s=n(315),c=n(39),d=n(189),l=n(191),u="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,m,f){var v=c(e),b=c(t),g=v?"[object Array]":s(e),y=b?"[object Array]":s(t),P=(g="[object Arguments]"==g?u:g)==u,T=(y="[object Arguments]"==y?u:y)==u,M=g==y;if(M&&d(e)){if(!d(t))return!1;v=!0,P=!1}if(M&&!P)return f||(f=new i),v||l(e)?r(e,t,n,p,m,f):a(e,t,g,n,p,m,f);if(!(1&n)){var S=P&&h.call(e,"__wrapped__"),w=T&&h.call(t,"__wrapped__");if(S||w){var q=S?e.value():e,A=w?t.value():t;return f||(f=new i),m(q,A,n,p,f)}}return!!M&&(f||(f=new i),o(e,t,n,p,m,f))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var i=n(74),r=n(297),a=n(181),o=n(185),s=n(298),c=n(123),d=i?i.prototype:void 0,l=d?d.valueOf:void 0;e.exports=function(e,t,n,i,d,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var m=1&i;if(p||(p=c),e.size!=t.size&&!m)return!1;var f=h.get(e);if(f)return f==t;i|=2,h.set(e,t);var v=o(p(e),p(t),i,d,u,h);return h.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t,n){var i=n(41).Uint8Array;e.exports=i},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},function(e,t,n){var i=n(300),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var c=1&n,d=i(e),l=d.length;if(l!=i(t).length&&!c)return!1;for(var u=l;u--;){var h=d[u];if(!(c?h in t:r.call(t,h)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var f=!0;s.set(e,t),s.set(t,e);for(var v=c;++u<l;){var b=e[h=d[u]],g=t[h];if(a)var y=c?a(g,b,h,t,e,s):a(b,g,h,e,t,s);if(!(void 0===y?b===g||o(b,g,n,a,s):y)){f=!1;break}v||(v="constructor"==h)}if(f&&!v){var P=e.constructor,T=t.constructor;P==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof P&&P instanceof P&&"function"==typeof T&&T instanceof T||(f=!1)}return s.delete(e),s.delete(t),f}},function(e,t,n){var i=n(301),r=n(302),a=n(188);e.exports=function(e){return i(e,a,r)}},function(e,t,n){var i=n(178),r=n(39);e.exports=function(e,t,n){var a=t(e);return r(e)?a:i(a,n(e))}},function(e,t,n){var i=n(303),r=n(304),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return a.call(e,t)})))}:r;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(306),r=n(119),a=n(39),o=n(189),s=n(190),c=n(191),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&r(e),u=!n&&!l&&o(e),h=!n&&!l&&!u&&c(e),p=n||l||u||h,m=p?i(e.length,String):[],f=m.length;for(var v in e)!t&&!d.call(e,v)||p&&("length"==v||u&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,f))||m.push(v);return m}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(65),r=n(125),a=n(59),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!o[i(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var i=n(179),r=t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r&&i.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n(124)(e))},function(e,t,n){var i=n(312),r=n(313),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(314)(Object.keys,Object);e.exports=i},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var i=n(316),r=n(120),a=n(317),o=n(193),s=n(318),c=n(65),d=n(183),l=d(i),u=d(r),h=d(a),p=d(o),m=d(s),f=c;(i&&"[object DataView]"!=f(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=f(new r)||a&&"[object Promise]"!=f(a.resolve())||o&&"[object Set]"!=f(new o)||s&&"[object WeakMap]"!=f(new s))&&(f=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?d(n):"";if(i)switch(i){case l:return"[object DataView]";case u:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case m:return"[object WeakMap]"}return t}),e.exports=f},function(e,t,n){var i=n(53)(n(41),"DataView");e.exports=i},function(e,t,n){var i=n(53)(n(41),"Promise");e.exports=i},function(e,t,n){var i=n(53)(n(41),"WeakMap");e.exports=i},function(e,t,n){var i=n(194),r=n(188);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,i(o)]}return t}},function(e,t,n){var i=n(184),r=n(321),a=n(328),o=n(126),s=n(194),c=n(195),d=n(93);e.exports=function(e,t){return o(e)&&s(t)?c(d(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?a(n,e):i(t,o,3)}}},function(e,t,n){var i=n(196);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){var i=n(323),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var i=n(324);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var i=n(122);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},function(e,t,n){var i=n(326);e.exports=function(e){return null==e?"":i(e)}},function(e,t,n){var i=n(74),r=n(327),a=n(39),o=n(127),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(o(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){var i=n(329),r=n(330);e.exports=function(e,t){return null!=e&&r(e,t,i)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var i=n(197),r=n(119),a=n(39),o=n(190),s=n(125),c=n(93);e.exports=function(e,t,n){for(var d=-1,l=(t=i(t,e)).length,u=!1;++d<l;){var h=c(t[d]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++d!=l?u:!!(l=null==e?0:e.length)&&s(l)&&o(h,l)&&(a(e)||r(e))}},function(e,t,n){var i=n(332),r=n(333),a=n(126),o=n(93);e.exports=function(e){return a(e)?i(o(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var i=n(196);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,n){var i=n(128),r=n(335),a=n(337);e.exports=function(e,t){return a(r(e,t,i),e+"")}},function(e,t,n){var i=n(336),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=r(a.length-t,0),c=Array(s);++o<s;)c[o]=a[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=a[o];return d[t]=n(c),i(e,this,d)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var i=n(338),r=n(341)(i);e.exports=r},function(e,t,n){var i=n(339),r=n(340),a=n(128),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var i=n(53),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),a=16-(r-i);if(i=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(186),r=n(343),a=n(348),o=n(187),s=n(349),c=n(123);e.exports=function(e,t,n){var d=-1,l=r,u=e.length,h=!0,p=[],m=p;if(n)h=!1,l=a;else if(u>=200){var f=t?null:s(e);if(f)return c(f);h=!1,l=o,m=new i}else m=t?[]:p;e:for(;++d<u;){var v=e[d],b=t?t(v):v;if(v=n||0!==v?v:0,h&&b==b){for(var g=m.length;g--;)if(m[g]===b)continue e;t&&m.push(b),p.push(v)}else l(m,b,n)||(m!==p&&m.push(b),p.push(v))}return p}},function(e,t,n){var i=n(344);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},function(e,t,n){var i=n(345),r=n(346),a=n(347);e.exports=function(e,t,n){return t==t?a(e,t,n):i(e,r,n)}},function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},function(e,t){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},function(e,t,n){var i=n(193),r=n(350),a=n(123),o=i&&1/a(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(192),r=n(59);e.exports=function(e){return r(e)&&i(e)}},function(e,t,n){var i=n(8),r=n(15),a=n(33),o=n(51).f,s=n(21),c=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},function(e,t,n){var i=n(8),r=n(21);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(144)})},function(e,t,n){var i=n(16),r=n(232).trim,a=n(150),o=i.parseInt,s=/^[+-]?0[Xx]/,c=8!==o(a+"08")||22!==o(a+"0x16");e.exports=c?function(e,t){var n=r(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){"use strict";n(198)},function(e,t,n){},function(e,t,n){"use strict";n(199)},function(e,t,n){var i=n(8),r=n(359).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){var i=n(21),r=n(68),a=n(33),o=n(86).f,s=function(e){return function(t){for(var n,s=a(t),c=r(s),d=c.length,l=0,u=[];d>l;)n=c[l++],i&&!o.call(s,n)||u.push(e?[n,s[n]]:s[n]);return u}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(200)},function(e,t,n){"use strict";n(201)},function(e,t,n){"use strict";var i=n(8),r=n(111),a=n(62),o=n(35),s=n(28),c=n(104),d=n(71),l=n(72)("splice"),u=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var n,i,l,p,m,f,v=s(this),b=o(v.length),g=r(e,b),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=b-g):(n=y-2,i=h(u(a(t),0),b-g)),b+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=c(v,i),p=0;p<i;p++)(m=g+p)in v&&d(l,p,v[m]);if(l.length=i,n<i){for(p=g;p<b-i;p++)f=p+n,(m=p+i)in v?v[f]=v[m]:delete v[f];for(p=b;p>b-i+n;p--)delete v[p-1]}else if(n>i)for(p=b-i;p>g;p--)f=p+n-1,(m=p+i-1)in v?v[f]=v[m]:delete v[f];for(p=0;p<n;p++)v[p+g]=arguments[p+2];return v.length=b-i+n,l}})},function(e,t,n){"use strict";var i=n(29),r=n(202),a=n(370),o=n(208);var s=function e(t){var n=new a(t),s=r(a.prototype.request,n);return i.extend(s,a.prototype,n),i.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(94));s.Axios=a,s.Cancel=n(95),s.CancelToken=n(383),s.isCancel=n(207),s.VERSION=n(209).version,s.all=function(e){return Promise.all(e)},s.spread=n(384),s.isAxiosError=n(385),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var i=n(29),r=n(203),a=n(371),o=n(372),s=n(208),c=n(382),d=c.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:d.transitional(d.boolean),forcedJSONParsing:d.transitional(d.boolean),clarifyTimeoutError:d.transitional(d.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),r=Promise.resolve(e);l.length;)r=r.then(l.shift(),l.shift());return r}for(var u=e;n.length;){var h=n.shift(),p=n.shift();try{u=h(u)}catch(e){p(e);break}}try{r=o(u)}catch(e){return Promise.reject(e)}for(;a.length;)r=r.then(a.shift(),a.shift());return r},l.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var i=n(29);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var i=n(29),r=n(373),a=n(207),o=n(94),s=n(95);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return c(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(29),r=n(94);e.exports=function(e,t,n){var a=this||r;return i.forEach(n,(function(n){e=n.call(a,e,t)})),e}},function(e,t,n){"use strict";var i=n(29);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(206);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var i=n(29);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(378),r=n(379);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(29),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(i.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),n=i.trim(e.substr(a+1)),t){if(o[t]&&r.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var i=n(29);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i=n(209).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!a[i]&&(a[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var a=i[r],o=t[a];if(o){var s=e[a],c=void 0===s||o(s,a,e);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:r}},function(e,t,n){"use strict";var i=n(95);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";var i=n(8),r=n(40),a=n(117),o=n(166),s=n(136);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,d=o((function(){var n=r(t.resolve),a=[],o=0,c=1;s(e,(function(e){var r=o++,s=!1;a.push(void 0),c++,n.call(t,e).then((function(e){s||(s=!0,a[r]={status:"fulfilled",value:e},--c||i(a))}),(function(e){s||(s=!0,a[r]={status:"rejected",reason:e},--c||i(a))}))})),--c||i(a)}));return d.error&&c(d.value),n.promise}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=n(40),r=n(20),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";o[t]=Function("C,a","return new C("+i.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),o=function(){var i=n.concat(a.call(arguments));return this instanceof o?s(t,i.length,i):t.apply(e,i)};return r(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){"use strict";n(213)},function(e,t,n){"use strict";n(214)},function(e,t,n){"use strict";n.r(t);n(143),n(244),n(249),n(250);var i=n(10),r=(n(38),n(98),n(18),n(26),n(30),n(34),n(47),n(1));function a(e,t){for(var n in t)e[n]=t[n];return e}var o=/[!'()*]/g,s=function(e){return"%"+e.charCodeAt(0).toString(16)},c=/%2C/g,d=function(e){return encodeURIComponent(e).replace(o,s).replace(c,",")};function l(e){try{return decodeURIComponent(e)}catch(e){0}return e}var u=function(e){return null==e||"object"==typeof e?e:String(e)};function h(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),i=l(n.shift()),r=n.length>0?l(n.join("=")):null;void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t}function p(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return d(t);if(Array.isArray(n)){var i=[];return n.forEach((function(e){void 0!==e&&(null===e?i.push(d(t)):i.push(d(t)+"="+d(e)))})),i.join("&")}return d(t)+"="+d(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var m=/\/?$/;function f(e,t,n,i){var r=i&&i.options.stringifyQuery,a=t.query||{};try{a=v(a)}catch(e){}var o={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:a,params:t.params||{},fullPath:y(t,r),matched:e?g(e):[]};return n&&(o.redirectedFrom=y(n,r)),Object.freeze(o)}function v(e){if(Array.isArray(e))return e.map(v);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=v(e[n]);return t}return e}var b=f(null,{path:"/"});function g(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function y(e,t){var n=e.path,i=e.query;void 0===i&&(i={});var r=e.hash;return void 0===r&&(r=""),(n||"/")+(t||p)(i)+r}function P(e,t,n){return t===b?e===t:!!t&&(e.path&&t.path?e.path.replace(m,"")===t.path.replace(m,"")&&(n||e.hash===t.hash&&T(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(n||e.hash===t.hash&&T(e.query,t.query)&&T(e.params,t.params))))}function T(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.length===i.length&&n.every((function(n,r){var a=e[n];if(i[r]!==n)return!1;var o=t[n];return null==a||null==o?a===o:"object"==typeof a&&"object"==typeof o?T(a,o):String(a)===String(o)}))}function M(e){for(var t=0;t<e.matched.length;t++){var n=e.matched[t];for(var i in n.instances){var r=n.instances[i],a=n.enteredCbs[i];if(r&&a){delete n.enteredCbs[i];for(var o=0;o<a.length;o++)r._isBeingDestroyed||a[o](r)}}}}var S={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,i=t.children,r=t.parent,o=t.data;o.routerView=!0;for(var s=r.$createElement,c=n.name,d=r.$route,l=r._routerViewCache||(r._routerViewCache={}),u=0,h=!1;r&&r._routerRoot!==r;){var p=r.$vnode?r.$vnode.data:{};p.routerView&&u++,p.keepAlive&&r._directInactive&&r._inactive&&(h=!0),r=r.$parent}if(o.routerViewDepth=u,h){var m=l[c],f=m&&m.component;return f?(m.configProps&&w(f,o,m.route,m.configProps),s(f,o,i)):s()}var v=d.matched[u],b=v&&v.components[c];if(!v||!b)return l[c]=null,s();l[c]={component:b},o.registerRouteInstance=function(e,t){var n=v.instances[c];(t&&n!==e||!t&&n===e)&&(v.instances[c]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){v.instances[c]=t.componentInstance},o.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==v.instances[c]&&(v.instances[c]=e.componentInstance),M(d)};var g=v.props&&v.props[c];return g&&(a(l[c],{route:d,configProps:g}),w(b,o,d,g)),s(b,o,i)}};function w(e,t,n,i){var r=t.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(n,i);if(r){r=t.props=a({},r);var o=t.attrs=t.attrs||{};for(var s in r)e.props&&s in e.props||(o[s]=r[s],delete r[s])}}function q(e,t,n){var i=e.charAt(0);if("/"===i)return e;if("?"===i||"#"===i)return t+e;var r=t.split("/");n&&r[r.length-1]||r.pop();for(var a=e.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function A(e){return e.replace(/\/\//g,"/")}var k=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},j=L,I=F,O=function(e,t){return E(F(e,t),t)},x=E,R=B,C=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(e,t){for(var n,i=[],r=0,a=0,o="",s=t&&t.delimiter||"/";null!=(n=C.exec(e));){var c=n[0],d=n[1],l=n.index;if(o+=e.slice(a,l),a=l+c.length,d)o+=d[1];else{var u=e[a],h=n[2],p=n[3],m=n[4],f=n[5],v=n[6],b=n[7];o&&(i.push(o),o="");var g=null!=h&&null!=u&&u!==h,y="+"===v||"*"===v,P="?"===v||"*"===v,T=n[2]||s,M=m||f;i.push({name:p||r++,prefix:h||"",delimiter:T,optional:P,repeat:y,partial:g,asterisk:!!b,pattern:M?H(M):b?".*":"[^"+N(T)+"]+?"})}}return a<e.length&&(o+=e.substr(a)),o&&i.push(o),i}function D(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function E(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",_(t)));return function(t,i){for(var r="",a=t||{},o=(i||{}).pretty?D:encodeURIComponent,s=0;s<e.length;s++){var c=e[s];if("string"!=typeof c){var d,l=a[c.name];if(null==l){if(c.optional){c.partial&&(r+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(k(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(d=o(l[u]),!n[s].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");r+=(0===u?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(l).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):o(l),!n[s].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');r+=c.prefix+d}}else r+=c}return r}}function N(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function U(e,t){return e.keys=t,e}function _(e){return e&&e.sensitive?"":"i"}function B(e,t,n){k(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,a="",o=0;o<e.length;o++){var s=e[o];if("string"==typeof s)a+=N(s);else{var c=N(s.prefix),d="(?:"+s.pattern+")";t.push(s),s.repeat&&(d+="(?:"+c+d+")*"),a+=d=s.optional?s.partial?c+"("+d+")?":"(?:"+c+"("+d+"))?":c+"("+d+")"}}var l=N(n.delimiter||"/"),u=a.slice(-l.length)===l;return i||(a=(u?a.slice(0,-l.length):a)+"(?:"+l+"(?=$))?"),a+=r?"$":i&&u?"":"(?="+l+"|$)",U(new RegExp("^"+a,_(n)),t)}function L(e,t,n){return k(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return U(e,t)}(e,t):k(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(L(e[r],t,n).source);return U(new RegExp("(?:"+i.join("|")+")",_(n)),t)}(e,t,n):function(e,t,n){return B(F(e,n),t,n)}(e,t,n)}j.parse=I,j.compile=O,j.tokensToFunction=x,j.tokensToRegExp=R;var z=Object.create(null);function G(e,t,n){t=t||{};try{var i=z[e]||(z[e]=j.compile(e));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),i(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function $(e,t,n,i){var r="string"==typeof e?{path:e}:e;if(r._normalized)return r;if(r.name){var o=(r=a({},e)).params;return o&&"object"==typeof o&&(r.params=a({},o)),r}if(!r.path&&r.params&&t){(r=a({},r))._normalized=!0;var s=a(a({},t.params),r.params);if(t.name)r.name=t.name,r.params=s;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;r.path=G(c,s,t.path)}else 0;return r}var d=function(e){var t="",n="",i=e.indexOf("#");i>=0&&(t=e.slice(i),e=e.slice(0,i));var r=e.indexOf("?");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{path:e,query:n,hash:t}}(r.path||""),l=t&&t.path||"/",p=d.path?q(d.path,l,n||r.append):l,m=function(e,t,n){void 0===t&&(t={});var i,r=n||h;try{i=r(e||"")}catch(e){i={}}for(var a in t){var o=t[a];i[a]=Array.isArray(o)?o.map(u):u(o)}return i}(d.query,r.query,i&&i.options.parseQuery),f=r.hash||d.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:p,query:m,hash:f}}var V,K=function(){},Y={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(e){var t=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),o=r.location,s=r.route,c=r.href,d={},l=n.options.linkActiveClass,u=n.options.linkExactActiveClass,h=null==l?"router-link-active":l,p=null==u?"router-link-exact-active":u,v=null==this.activeClass?h:this.activeClass,b=null==this.exactActiveClass?p:this.exactActiveClass,g=s.redirectedFrom?f(null,$(s.redirectedFrom),null,n):s;d[b]=P(i,g,this.exactPath),d[v]=this.exact||this.exactPath?d[b]:function(e,t){return 0===e.path.replace(m,"/").indexOf(t.path.replace(m,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var n in t)if(!(n in e))return!1;return!0}(e.query,t.query)}(i,g);var y=d[b]?this.ariaCurrentValue:null,T=function(e){J(e)&&(t.replace?n.replace(o,K):n.push(o,K))},M={click:J};Array.isArray(this.event)?this.event.forEach((function(e){M[e]=T})):M[this.event]=T;var S={class:d},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:T,isActive:d[v],isExactActive:d[b]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?e():e("span",{},w)}if("a"===this.tag)S.on=M,S.attrs={href:c,"aria-current":y};else{var q=function e(t){var n;if(t)for(var i=0;i<t.length;i++){if("a"===(n=t[i]).tag)return n;if(n.children&&(n=e(n.children)))return n}}(this.$slots.default);if(q){q.isStatic=!1;var A=q.data=a({},q.data);for(var k in A.on=A.on||{},A.on){var j=A.on[k];k in M&&(A.on[k]=Array.isArray(j)?j:[j])}for(var I in M)I in A.on?A.on[I].push(M[I]):A.on[I]=T;var O=q.data.attrs=a({},q.data.attrs);O.href=c,O["aria-current"]=y}else S.on=M}return e(this.tag,S,this.$slots.default)}};function J(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var X="undefined"!=typeof window;function W(e,t,n,i,r){var a=t||[],o=n||Object.create(null),s=i||Object.create(null);e.forEach((function(e){!function e(t,n,i,r,a,o){var s=r.path,c=r.name;0;var d=r.pathToRegexpOptions||{},l=function(e,t,n){n||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return A(t.path+"/"+e)}(s,a,d.strict);"boolean"==typeof r.caseSensitive&&(d.sensitive=r.caseSensitive);var u={path:l,regex:Z(l,d),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:c,parent:a,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach((function(r){var a=o?A(o+"/"+r.path):void 0;e(t,n,i,r,u,a)}));n[u.path]||(t.push(u.path),n[u.path]=u);if(void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],p=0;p<h.length;++p){0;var m={path:h[p],children:r.children};e(t,n,i,m,a,u.path||"/")}c&&(i[c]||(i[c]=u))}(a,o,s,e,r)}));for(var c=0,d=a.length;c<d;c++)"*"===a[c]&&(a.push(a.splice(c,1)[0]),d--,c--);return{pathList:a,pathMap:o,nameMap:s}}function Z(e,t){return j(e,[],t)}function Q(e,t){var n=W(e),i=n.pathList,r=n.pathMap,a=n.nameMap;function o(e,n,o){var s=$(e,n,!1,t),d=s.name;if(d){var l=a[d];if(!l)return c(null,s);var u=l.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var h in n.params)!(h in s.params)&&u.indexOf(h)>-1&&(s.params[h]=n.params[h]);return s.path=G(l.path,s.params),c(l,s,o)}if(s.path){s.params={};for(var p=0;p<i.length;p++){var m=i[p],f=r[m];if(ee(f.regex,s.path,s.params))return c(f,s,o)}}return c(null,s)}function s(e,n){var i=e.redirect,r="function"==typeof i?i(f(e,n,null,t)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return c(null,n);var s=r,d=s.name,l=s.path,u=n.query,h=n.hash,p=n.params;if(u=s.hasOwnProperty("query")?s.query:u,h=s.hasOwnProperty("hash")?s.hash:h,p=s.hasOwnProperty("params")?s.params:p,d){a[d];return o({_normalized:!0,name:d,query:u,hash:h,params:p},void 0,n)}if(l){var m=function(e,t){return q(e,t.parent?t.parent.path:"/",!0)}(l,e);return o({_normalized:!0,path:G(m,p),query:u,hash:h},void 0,n)}return c(null,n)}function c(e,n,i){return e&&e.redirect?s(e,i||n):e&&e.matchAs?function(e,t,n){var i=o({_normalized:!0,path:G(n,t.params)});if(i){var r=i.matched,a=r[r.length-1];return t.params=i.params,c(a,t)}return c(null,t)}(0,n,e.matchAs):f(e,n,i,t)}return{match:o,addRoute:function(e,t){var n="object"!=typeof e?a[e]:void 0;W([t||e],i,r,a,n),n&&W(n.alias.map((function(e){return{path:e,children:[t]}})),i,r,a,n)},getRoutes:function(){return i.map((function(e){return r[e]}))},addRoutes:function(e){W(e,i,r,a)}}}function ee(e,t,n){var i=t.match(e);if(!i)return!1;if(!n)return!0;for(var r=1,a=i.length;r<a;++r){var o=e.keys[r-1];o&&(n[o.name||"pathMatch"]="string"==typeof i[r]?l(i[r]):i[r])}return!0}var te=X&&window.performance&&window.performance.now?window.performance:Date;function ne(){return te.now().toFixed(3)}var ie=ne();function re(){return ie}function ae(e){return ie=e}var oe=Object.create(null);function se(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=a({},window.history.state);return n.key=re(),window.history.replaceState(n,"",t),window.addEventListener("popstate",le),function(){window.removeEventListener("popstate",le)}}function ce(e,t,n,i){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick((function(){var a=function(){var e=re();if(e)return oe[e]}(),o=r.call(e,t,n,i?a:null);o&&("function"==typeof o.then?o.then((function(e){fe(e,a)})).catch((function(e){0})):fe(o,a))}))}}function de(){var e=re();e&&(oe[e]={x:window.pageXOffset,y:window.pageYOffset})}function le(e){de(),e.state&&e.state.key&&ae(e.state.key)}function ue(e){return pe(e.x)||pe(e.y)}function he(e){return{x:pe(e.x)?e.x:window.pageXOffset,y:pe(e.y)?e.y:window.pageYOffset}}function pe(e){return"number"==typeof e}var me=/^#\d/;function fe(e,t){var n,i="object"==typeof e;if(i&&"string"==typeof e.selector){var r=me.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var a=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}(r,a={x:pe((n=a).x)?n.x:0,y:pe(n.y)?n.y:0})}else ue(e)&&(t=he(e))}else i&&ue(e)&&(t=he(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var ve=X&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"==typeof window.history.pushState)}();function be(e,t){de();var n=window.history;try{if(t){var i=a({},n.state);i.key=re(),n.replaceState(i,"",e)}else n.pushState({key:ae(ne())},"",e)}catch(n){window.location[t?"replace":"assign"](e)}}function ge(e){be(e,!0)}function ye(e,t,n){var i=function(r){r>=e.length?n():e[r]?t(e[r],(function(){i(r+1)})):i(r+1)};i(0)}var Pe={redirected:2,aborted:4,cancelled:8,duplicated:16};function Te(e,t){return Se(e,t,Pe.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var t={};return we.forEach((function(n){n in e&&(t[n]=e[n])})),JSON.stringify(t,null,2)}(t)+'" via a navigation guard.')}function Me(e,t){return Se(e,t,Pe.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Se(e,t,n,i){var r=new Error(i);return r._isRouter=!0,r.from=e,r.to=t,r.type=n,r}var we=["params","query","hash"];function qe(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Ae(e,t){return qe(e)&&e._isRouter&&(null==t||e.type===t)}function ke(e){return function(t,n,i){var r=!1,a=0,o=null;je(e,(function(e,t,n,s){if("function"==typeof e&&void 0===e.cid){r=!0,a++;var c,d=xe((function(t){var r;((r=t).__esModule||Oe&&"Module"===r[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:V.extend(t),n.components[s]=t,--a<=0&&i()})),l=xe((function(e){var t="Failed to resolve async component "+s+": "+e;o||(o=qe(e)?e:new Error(t),i(o))}));try{c=e(d,l)}catch(e){l(e)}if(c)if("function"==typeof c.then)c.then(d,l);else{var u=c.component;u&&"function"==typeof u.then&&u.then(d,l)}}})),r||i()}}function je(e,t){return Ie(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function Ie(e){return Array.prototype.concat.apply([],e)}var Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function xe(e){var t=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!t)return t=!0,e.apply(this,n)}}var Re=function(e,t){this.router=e,this.base=function(e){if(!e)if(X){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=b,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Ce(e,t,n,i){var r=je(e,(function(e,i,r,a){var o=function(e,t){"function"!=typeof e&&(e=V.extend(e));return e.options[t]}(e,t);if(o)return Array.isArray(o)?o.map((function(e){return n(e,i,r,a)})):n(o,i,r,a)}));return Ie(i?r.reverse():r)}function Fe(e,t){if(t)return function(){return e.apply(t,arguments)}}Re.prototype.listen=function(e){this.cb=e},Re.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Re.prototype.onError=function(e){this.errorCbs.push(e)},Re.prototype.transitionTo=function(e,t,n){var i,r=this;try{i=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach((function(t){t(e)})),e}var a=this.current;this.confirmTransition(i,(function(){r.updateRoute(i),t&&t(i),r.ensureURL(),r.router.afterHooks.forEach((function(e){e&&e(i,a)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(i)})))}),(function(e){n&&n(e),e&&!r.ready&&(Ae(e,Pe.redirected)&&a===b||(r.ready=!0,r.readyErrorCbs.forEach((function(t){t(e)}))))}))},Re.prototype.confirmTransition=function(e,t,n){var i=this,r=this.current;this.pending=e;var a,o,s=function(e){!Ae(e)&&qe(e)&&(i.errorCbs.length?i.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)},c=e.matched.length-1,d=r.matched.length-1;if(P(e,r)&&c===d&&e.matched[c]===r.matched[d])return this.ensureURL(),s(((o=Se(a=r,e,Pe.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",o));var l=function(e,t){var n,i=Math.max(e.length,t.length);for(n=0;n<i&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,e.matched),u=l.updated,h=l.deactivated,p=l.activated,m=[].concat(function(e){return Ce(e,"beforeRouteLeave",Fe,!0)}(h),this.router.beforeHooks,function(e){return Ce(e,"beforeRouteUpdate",Fe)}(u),p.map((function(e){return e.beforeEnter})),ke(p)),f=function(t,n){if(i.pending!==e)return s(Me(r,e));try{t(e,r,(function(t){!1===t?(i.ensureURL(!0),s(function(e,t){return Se(e,t,Pe.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}(r,e))):qe(t)?(i.ensureURL(!0),s(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(s(Te(r,e)),"object"==typeof t&&t.replace?i.replace(t):i.push(t)):n(t)}))}catch(e){s(e)}};ye(m,f,(function(){ye(function(e){return Ce(e,"beforeRouteEnter",(function(e,t,n,i){return function(e,t,n){return function(i,r,a){return e(i,r,(function(e){"function"==typeof e&&(t.enteredCbs[n]||(t.enteredCbs[n]=[]),t.enteredCbs[n].push(e)),a(e)}))}}(e,n,i)}))}(p).concat(i.router.resolveHooks),f,(function(){if(i.pending!==e)return s(Me(r,e));i.pending=null,t(e),i.router.app&&i.router.app.$nextTick((function(){M(e)}))}))}))},Re.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},Re.prototype.setupListeners=function(){},Re.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=b,this.pending=null};var De=function(e){function t(t,n){e.call(this,t,n),this._startLocation=Ee(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,i=ve&&n;i&&this.listeners.push(se());var r=function(){var n=e.current,r=Ee(e.base);e.current===b&&r===e._startLocation||e.transitionTo(r,(function(e){i&&ce(t,e,n,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){be(A(i.base+e.fullPath)),ce(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){ge(A(i.base+e.fullPath)),ce(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(Ee(this.base)!==this.current.fullPath){var t=A(this.base+this.current.fullPath);e?be(t):ge(t)}},t.prototype.getCurrentLocation=function(){return Ee(this.base)},t}(Re);function Ee(e){var t=window.location.pathname;return e&&0===t.toLowerCase().indexOf(e.toLowerCase())&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Ne=function(e){function t(t,n,i){e.call(this,t,n),i&&function(e){var t=Ee(e);if(!/^\/#/.test(t))return window.location.replace(A(e+"/#"+t)),!0}(this.base)||He()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router.options.scrollBehavior,n=ve&&t;n&&this.listeners.push(se());var i=function(){var t=e.current;He()&&e.transitionTo(Ue(),(function(i){n&&ce(e.router,i,t,!0),ve||Le(i.fullPath)}))},r=ve?"popstate":"hashchange";window.addEventListener(r,i),this.listeners.push((function(){window.removeEventListener(r,i)}))}},t.prototype.push=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){Be(e.fullPath),ce(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,(function(e){Le(e.fullPath),ce(i.router,e,r,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Ue()!==t&&(e?Be(t):Le(t))},t.prototype.getCurrentLocation=function(){return Ue()},t}(Re);function He(){var e=Ue();return"/"===e.charAt(0)||(Le("/"+e),!1)}function Ue(){var e=window.location.href,t=e.indexOf("#");return t<0?"":e=e.slice(t+1)}function _e(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function Be(e){ve?be(_e(e)):window.location.hash=e}function Le(e){ve?ge(_e(e)):window.location.replace(_e(e))}var ze=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var i=this;this.transitionTo(e,(function(e){i.stack=i.stack.slice(0,i.index+1).concat(e),i.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var i=this;this.transitionTo(e,(function(e){i.stack=i.stack.slice(0,i.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,(function(){var e=t.current;t.index=n,t.updateRoute(i),t.router.afterHooks.forEach((function(t){t&&t(i,e)}))}),(function(e){Ae(e,Pe.duplicated)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Re),Ge=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Q(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!ve&&!1!==e.fallback,this.fallback&&(t="hash"),X||(t="abstract"),this.mode=t,t){case"history":this.history=new De(this,e.base);break;case"hash":this.history=new Ne(this,e.base,this.fallback);break;case"abstract":this.history=new ze(this,e.base);break;default:0}},$e={currentRoute:{configurable:!0}};function Ve(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}Ge.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},$e.currentRoute.get=function(){return this.history&&this.history.current},Ge.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var n=this.history;if(n instanceof De||n instanceof Ne){var i=function(e){n.setupListeners(),function(e){var i=n.current,r=t.options.scrollBehavior;ve&&r&&"fullPath"in e&&ce(t,e,i,!1)}(e)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},Ge.prototype.beforeEach=function(e){return Ve(this.beforeHooks,e)},Ge.prototype.beforeResolve=function(e){return Ve(this.resolveHooks,e)},Ge.prototype.afterEach=function(e){return Ve(this.afterHooks,e)},Ge.prototype.onReady=function(e,t){this.history.onReady(e,t)},Ge.prototype.onError=function(e){this.history.onError(e)},Ge.prototype.push=function(e,t,n){var i=this;if(!t&&!n&&"undefined"!=typeof Promise)return new Promise((function(t,n){i.history.push(e,t,n)}));this.history.push(e,t,n)},Ge.prototype.replace=function(e,t,n){var i=this;if(!t&&!n&&"undefined"!=typeof Promise)return new Promise((function(t,n){i.history.replace(e,t,n)}));this.history.replace(e,t,n)},Ge.prototype.go=function(e){this.history.go(e)},Ge.prototype.back=function(){this.go(-1)},Ge.prototype.forward=function(){this.go(1)},Ge.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},Ge.prototype.resolve=function(e,t,n){var i=$(e,t=t||this.history.current,n,this),r=this.match(i,t),a=r.redirectedFrom||r.fullPath;return{location:i,route:r,href:function(e,t,n){var i="hash"===n?"#"+t:t;return e?A(e+"/"+i):i}(this.history.base,a,this.mode),normalizedTo:i,resolved:r}},Ge.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ge.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==b&&this.history.transitionTo(this.history.getCurrentLocation())},Ge.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==b&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ge.prototype,$e),Ge.install=function e(t){if(!e.installed||V!==t){e.installed=!0,V=t;var n=function(e){return void 0!==e},i=function(e,t){var i=e.$options._parentVnode;n(i)&&n(i=i.data)&&n(i=i.registerRouteInstance)&&i(e,t)};t.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",S),t.component("RouterLink",Y);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},Ge.version="3.5.1",Ge.isNavigationFailure=Ae,Ge.NavigationFailureType=Pe,Ge.START_LOCATION=b,X&&window.Vue&&window.Vue.use(Ge);var Ke=Ge;n(168),n(169),n(252),n(100),n(236),n(42),n(43),n(254);function Ye(e){e.locales&&Object.keys(e.locales).forEach((function(t){e.locales[t].path=t})),Object.freeze(e)}n(45),n(52),n(73);var Je=n(48),Xe=(n(177),n(22),n(31),n(132),n(133),{NotFound:function(){return n.e(73).then(n.bind(null,504))},Layout:function(){return Promise.all([n.e(0),n.e(5),n.e(6)]).then(n.bind(null,503))},GlobalLayout:function(){return Promise.resolve().then(n.bind(null,0))}}),We={"v-d95c8766":function(){return n.e(75).then(n.bind(null,545))},"v-67ea57bc":function(){return n.e(76).then(n.bind(null,546))},"v-bafe9662":function(){return n.e(74).then(n.bind(null,547))},"v-70291314":function(){return n.e(79).then(n.bind(null,548))},"v-f7ba786a":function(){return n.e(77).then(n.bind(null,549))},"v-1072a010":function(){return n.e(78).then(n.bind(null,550))},"v-6ce79e58":function(){return n.e(80).then(n.bind(null,551))},"v-178f82f8":function(){return n.e(81).then(n.bind(null,552))},"v-0bed007c":function(){return n.e(82).then(n.bind(null,553))},"v-5419cfb1":function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,505))},"v-41c9cef1":function(){return n.e(83).then(n.bind(null,554))},"v-3ed9379e":function(){return n.e(84).then(n.bind(null,555))},"v-71f73c49":function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,506))},"v-8f2a935e":function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,507))},"v-1eca3571":function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,508))},"v-29ac1cd0":function(){return n.e(86).then(n.bind(null,556))},"v-908bc336":function(){return n.e(85).then(n.bind(null,557))},"v-07f4f7f1":function(){return n.e(24).then(n.bind(null,509))},"v-347ddf46":function(){return n.e(87).then(n.bind(null,558))},"v-d17b4d9e":function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,510))},"v-ad15e4de":function(){return n.e(88).then(n.bind(null,559))},"v-cf98898a":function(){return n.e(27).then(n.bind(null,511))},"v-b972491e":function(){return Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,512))},"v-ab347f5e":function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,513))},"v-03130251":function(){return n.e(43).then(n.bind(null,514))},"v-8017e46a":function(){return Promise.all([n.e(0),n.e(1),n.e(16)]).then(n.bind(null,515))},"v-6f863d11":function(){return n.e(89).then(n.bind(null,560))},"v-1f7e901e":function(){return Promise.all([n.e(0),n.e(1),n.e(18)]).then(n.bind(null,516))},"v-ff4aea1e":function(){return Promise.all([n.e(0),n.e(1),n.e(17)]).then(n.bind(null,517))},"v-1f241ee3":function(){return Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,518))},"v-15153551":function(){return Promise.all([n.e(0),n.e(1),n.e(20)]).then(n.bind(null,519))},"v-6a2d969a":function(){return n.e(90).then(n.bind(null,561))},"v-d8cb96d0":function(){return n.e(91).then(n.bind(null,562))},"v-23694f90":function(){return n.e(92).then(n.bind(null,563))},"v-64d2a214":function(){return n.e(93).then(n.bind(null,564))},"v-47209790":function(){return n.e(94).then(n.bind(null,565))},"v-b2df5790":function(){return n.e(95).then(n.bind(null,566))},"v-30bc70d8":function(){return n.e(97).then(n.bind(null,567))},"v-111e5a38":function(){return n.e(96).then(n.bind(null,568))},"v-7a35ca05":function(){return n.e(98).then(n.bind(null,569))},"v-696c4c18":function(){return n.e(99).then(n.bind(null,570))},"v-c0047d3c":function(){return n.e(100).then(n.bind(null,571))},"v-bbe02a20":function(){return n.e(101).then(n.bind(null,572))},"v-7625d9b8":function(){return n.e(102).then(n.bind(null,573))},"v-2d074238":function(){return n.e(103).then(n.bind(null,574))},"v-10f7ddc6":function(){return n.e(105).then(n.bind(null,575))},"v-1ab93410":function(){return n.e(107).then(n.bind(null,576))},"v-275a07d8":function(){return n.e(106).then(n.bind(null,577))},"v-01a97382":function(){return n.e(109).then(n.bind(null,578))},"v-a5b20018":function(){return n.e(108).then(n.bind(null,579))},"v-ad4ffaf0":function(){return n.e(111).then(n.bind(null,580))},"v-d4f60b90":function(){return n.e(104).then(n.bind(null,581))},"v-678ebab8":function(){return n.e(112).then(n.bind(null,582))},"v-1c327d98":function(){return n.e(113).then(n.bind(null,583))},"v-2be03798":function(){return n.e(110).then(n.bind(null,584))},"v-6e91a8f2":function(){return n.e(116).then(n.bind(null,585))},"v-16de81d8":function(){return n.e(117).then(n.bind(null,586))},"v-3eca9242":function(){return n.e(114).then(n.bind(null,587))},"v-aec34412":function(){return n.e(115).then(n.bind(null,588))},"v-736185d3":function(){return n.e(119).then(n.bind(null,589))},"v-dc10ee10":function(){return n.e(120).then(n.bind(null,590))},"v-2c57b75e":function(){return n.e(118).then(n.bind(null,591))},"v-12932556":function(){return n.e(121).then(n.bind(null,592))},"v-db14a79e":function(){return n.e(122).then(n.bind(null,593))},"v-15d08cd8":function(){return n.e(123).then(n.bind(null,594))},"v-13461887":function(){return n.e(126).then(n.bind(null,595))},"v-7d83edb8":function(){return n.e(125).then(n.bind(null,596))},"v-51ac86f8":function(){return n.e(124).then(n.bind(null,597))},"v-95b8cb78":function(){return n.e(127).then(n.bind(null,598))},"v-7eff6d2c":function(){return n.e(128).then(n.bind(null,599))},"v-f2258890":function(){return n.e(129).then(n.bind(null,600))},"v-41d3ccb8":function(){return n.e(131).then(n.bind(null,601))},"v-519aee11":function(){return n.e(130).then(n.bind(null,602))},"v-3268c0ea":function(){return n.e(132).then(n.bind(null,603))},"v-5a8d68f8":function(){return n.e(133).then(n.bind(null,604))},"v-acf0f39e":function(){return n.e(134).then(n.bind(null,605))},"v-961caed0":function(){return n.e(136).then(n.bind(null,606))},"v-30ac8ad0":function(){return n.e(135).then(n.bind(null,607))},"v-53ba34b8":function(){return n.e(138).then(n.bind(null,608))},"v-28c6e45e":function(){return n.e(137).then(n.bind(null,609))},"v-413ebbb8":function(){return n.e(139).then(n.bind(null,610))},"v-55b734ac":function(){return n.e(140).then(n.bind(null,611))},"v-4a5993f8":function(){return n.e(142).then(n.bind(null,612))},"v-b6e1629e":function(){return n.e(141).then(n.bind(null,613))},"v-15ed1ed0":function(){return n.e(143).then(n.bind(null,614))},"v-a1d2b7de":function(){return Promise.all([n.e(0),n.e(1),n.e(25)]).then(n.bind(null,520))},"v-1f032eec":function(){return n.e(144).then(n.bind(null,615))},"v-dd0cae90":function(){return n.e(145).then(n.bind(null,616))},"v-2f26d510":function(){return n.e(146).then(n.bind(null,617))},"v-7d05d150":function(){return n.e(147).then(n.bind(null,618))},"v-55c31810":function(){return n.e(149).then(n.bind(null,619))},"v-54383596":function(){return n.e(150).then(n.bind(null,620))},"v-c8b409ce":function(){return n.e(148).then(n.bind(null,621))}};function Ze(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var Qe=/-(\w)/g,et=Ze((function(e){return e.replace(Qe,(function(e,t){return t?t.toUpperCase():""}))})),tt=/\B([A-Z])/g,nt=Ze((function(e){return e.replace(tt,"-$1").toLowerCase()})),it=Ze((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));function rt(e,t){if(t)return e(t)?e(t):t.includes("-")?e(it(et(t))):e(it(t))||e(nt(t))}var at=Object.assign({},Xe,We),ot=function(e){return at[e]},st=function(e){return We[e]},ct=function(e){return Xe[e]},dt=function(e){return r.default.component(e)};function lt(e){return rt(st,e)}function ut(e){return rt(ct,e)}function ht(e){return rt(ot,e)}function pt(e){return rt(dt,e)}function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.all(t.filter((function(e){return e})).map(function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pt(t)||!ht(t)){e.next=5;break}return e.next=3,ht(t)();case 3:n=e.sent,r.default.component(t,n.default);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}var ft=n(46),vt=(n(142),n(134),n(216)),bt=n.n(vt),gt={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(e){return"meta"===Object(ft.a)(e,1)[0]})).map((function(e){var t=Object(ft.a)(e,2);t[0];return t[1]})),this.$ssrContext){var e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(t=e)?t.map((function(e){var t="<meta";return Object.keys(e).forEach((function(n){t+=" ".concat(n,'="').concat(e[n],'"')})),t+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=Pt(this.$canonicalUrl)}var t},mounted:function(){this.currentMetaTags=Object(Je.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var e=this.getMergedMetaTags();this.currentMetaTags=Tt(e,this.currentMetaTags)},getMergedMetaTags:function(){var e=this.$page.frontmatter.meta||[];return bt()([{name:"description",content:this.$description}],e,this.siteMeta,Mt)},updateCanonicalLink:function(){yt(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",Pt(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){Tt(null,this.currentMetaTags),yt()}};function yt(){var e=document.querySelector("link[rel='canonical']");e&&e.remove()}function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?'<link href="'.concat(e,'" rel="canonical" />'):""}function Tt(e,t){if(t&&Object(Je.a)(t).filter((function(e){return e.parentNode===document.head})).forEach((function(e){return document.head.removeChild(e)})),e)return e.map((function(e){var t=document.createElement("meta");return Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])})),document.head.appendChild(t),t}))}function Mt(e){for(var t=0,n=["name","property","itemprop"];t<n.length;t++){var i=n[t];if(e.hasOwnProperty(i))return e[i]+i}return JSON.stringify(e)}n(54);var St=n(96),wt=n.n(St),qt={mounted:function(){var e=this;wt.a.configure({showSpinner:!1}),this.$router.beforeEach((function(e,t,n){e.path===t.path||r.default.component(e.name)||wt.a.start(),n()})),this.$router.afterEach((function(){wt.a.done(),e.isSidebarOpen=!1}))}},At=n(5),kt=(n(131),n(239),{props:{parent:Object,code:String,options:{align:String,color:String,backgroundTransition:Boolean,backgroundColor:String,successText:String,staticIcon:Boolean}},data:function(){return{success:!1,originalBackground:null,originalTransition:null}},computed:{alignStyle:function(){var e={};return e[this.options.align]="7.5px",e},iconClass:function(){return this.options.staticIcon?"":"hover"}},mounted:function(){this.originalTransition=this.parent.style.transition,this.originalBackground=this.parent.style.background},beforeDestroy:function(){this.parent.style.transition=this.originalTransition,this.parent.style.background=this.originalBackground},methods:{hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},copyToClipboard:function(e){var t=this;if(navigator.clipboard)navigator.clipboard.writeText(this.code).then((function(){t.setSuccessTransitions()}),(function(){}));else{var n=document.createElement("textarea");document.body.appendChild(n),n.value=this.code,n.select(),document.execCommand("Copy"),n.remove(),this.setSuccessTransitions()}},setSuccessTransitions:function(){var e=this;if(clearTimeout(this.successTimeout),this.options.backgroundTransition){this.parent.style.transition="background 350ms";var t=this.hexToRgb(this.options.backgroundColor);this.parent.style.background="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", 0.1)")}this.success=!0,this.successTimeout=setTimeout((function(){e.options.backgroundTransition&&(e.parent.style.background=e.originalBackground,e.parent.style.transition=e.originalTransition),e.success=!1}),500)}}}),jt=(n(355),n(24)),It=Object(jt.a)(kt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-copy"},[n("svg",{class:e.iconClass,style:e.alignStyle,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},on:{click:e.copyToClipboard}},[n("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e._v(" "),n("path",{attrs:{fill:e.options.color,d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}})]),e._v(" "),n("span",{class:e.success?"success":"",style:e.alignStyle},[e._v("\n        "+e._s(e.options.successText)+"\n    ")])])}),[],!1,null,"49140617",null).exports,Ot=(n(356),{updated:function(){this.update()},methods:{update:function(){setTimeout((function(){document.querySelectorAll('div[class*="language-"] pre').forEach((function(e){if(!e.classList.contains("code-copy-added")){var t=new(r.default.extend(It));t.options=Object(At.a)({},{align:"bottom",color:"#27b1ff",backgroundTransition:!0,backgroundColor:"#0075b8",successText:"Copied!",staticIcon:!1}),t.code=e.innerText,t.parent=e,t.$mount(),e.classList.add("code-copy-added"),e.appendChild(t.$el)}}))}),100)}}}),xt=n(217),Rt=n.n(xt),Ct=[gt,qt,Ot,{mounted:function(){Rt.a.polyfill()}}],Ft=n(0);!function(e,t,n){var i;switch(t){case"components":e[t]||(e[t]={}),Object.assign(e[t],n);break;case"mixins":e[t]||(e[t]=[]),(i=e[t]).push.apply(i,Object(Je.a)(n));break;default:throw new Error("Unknown option name.")}}(Ft.default,"mixins",Ct);var Dt=[{name:"v-d95c8766",path:"/api-versions-1.1/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-d95c8766").then(n)}},{path:"/api-versions-1.1/index.html",redirect:"/api-versions-1.1/"},{name:"v-67ea57bc",path:"/api-versions-1.2/get-started.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-67ea57bc").then(n)}},{name:"v-bafe9662",path:"/api-versions-1.0/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-bafe9662").then(n)}},{path:"/api-versions-1.0/index.html",redirect:"/api-versions-1.0/"},{name:"v-70291314",path:"/api-versions-1.2/resources/change-list.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-70291314").then(n)}},{name:"v-f7ba786a",path:"/api-versions-1.2/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-f7ba786a").then(n)}},{path:"/api-versions-1.2/index.html",redirect:"/api-versions-1.2/"},{name:"v-1072a010",path:"/api-versions-1.2/resources/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1072a010").then(n)}},{name:"v-6ce79e58",path:"/api-versions-1.2/resources/highlights.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-6ce79e58").then(n)}},{name:"v-178f82f8",path:"/api-versions-1.2/resources/open-oas3-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-178f82f8").then(n)}},{name:"v-0bed007c",path:"/api-versions-1.2/use-cases-about.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-0bed007c").then(n)}},{name:"v-5419cfb1",path:"/banks-microfinance-institutions/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-5419cfb1").then(n)}},{path:"/banks-microfinance-institutions/index.html",redirect:"/banks-microfinance-institutions/"},{name:"v-41c9cef1",path:"/dashboard/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-41c9cef1").then(n)}},{path:"/dashboard/index.html",redirect:"/dashboard/"},{name:"v-3ed9379e",path:"/documentation/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-3ed9379e").then(n)}},{path:"/documentation/index.html",redirect:"/documentation/"},{name:"v-71f73c49",path:"/education-and-health/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-71f73c49").then(n)}},{path:"/education-and-health/index.html",redirect:"/education-and-health/"},{name:"v-8f2a935e",path:"/energy-utilities-agritech/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-8f2a935e").then(n)}},{path:"/energy-utilities-agritech/index.html",redirect:"/energy-utilities-agritech/"},{name:"v-1eca3571",path:"/employers/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1eca3571").then(n)}},{path:"/employers/index.html",redirect:"/employers/"},{name:"v-29ac1cd0",path:"/examples/swagger-page.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-29ac1cd0").then(n)}},{name:"v-908bc336",path:"/examples/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-908bc336").then(n)}},{path:"/examples/index.html",redirect:"/examples/"},{name:"v-07f4f7f1",path:"/faq/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-07f4f7f1").then(n)}},{path:"/faq/index.html",redirect:"/faq/"},{name:"v-347ddf46",path:"/forgot-password/confirmation.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-347ddf46").then(n)}},{name:"v-d17b4d9e",path:"/fintech-providers/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-d17b4d9e").then(n)}},{path:"/fintech-providers/index.html",redirect:"/fintech-providers/"},{name:"v-ad15e4de",path:"/forgot-password/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-ad15e4de").then(n)}},{path:"/forgot-password/index.html",redirect:"/forgot-password/"},{name:"v-cf98898a",path:"/glossary/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-cf98898a").then(n)}},{path:"/glossary/index.html",redirect:"/glossary/"},{name:"v-b972491e",path:"/governments/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-b972491e").then(n)}},{path:"/governments/index.html",redirect:"/governments/"},{name:"v-ab347f5e",path:"/humanitarian-agencies/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-ab347f5e").then(n)}},{path:"/humanitarian-agencies/index.html",redirect:"/humanitarian-agencies/"},{name:"v-03130251",path:"/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-03130251").then(n)}},{path:"/index.html",redirect:"/"},{name:"v-8017e46a",path:"/international-transfer-organisations/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-8017e46a").then(n)}},{path:"/international-transfer-organisations/index.html",redirect:"/international-transfer-organisations/"},{name:"v-6f863d11",path:"/login/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-6f863d11").then(n)}},{path:"/login/index.html",redirect:"/login/"},{name:"v-1f7e901e",path:"/mobile-money-agents/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1f7e901e").then(n)}},{path:"/mobile-money-agents/index.html",redirect:"/mobile-money-agents/"},{name:"v-ff4aea1e",path:"/merchants-and-service-providers/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-ff4aea1e").then(n)}},{path:"/merchants-and-service-providers/index.html",redirect:"/merchants-and-service-providers/"},{name:"v-1f241ee3",path:"/mobile-money-providers/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1f241ee3").then(n)}},{path:"/mobile-money-providers/index.html",redirect:"/mobile-money-providers/"},{name:"v-15153551",path:"/payment-service-providers-and-payment-aggregators/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-15153551").then(n)}},{path:"/payment-service-providers-and-payment-aggregators/index.html",redirect:"/payment-service-providers-and-payment-aggregators/"},{name:"v-6a2d969a",path:"/sdks/android/downloads.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-6a2d969a").then(n)}},{name:"v-d8cb96d0",path:"/sdks/android/introduction.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-d8cb96d0").then(n)}},{name:"v-23694f90",path:"/sdks/android/sdk-initialization.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-23694f90").then(n)}},{name:"v-64d2a214",path:"/sdks/android/system-requirements.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-64d2a214").then(n)}},{name:"v-47209790",path:"/sdks/auth/api-authorization.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-47209790").then(n)}},{name:"v-b2df5790",path:"/sdks/auth/client-authentication.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-b2df5790").then(n)}},{name:"v-30bc70d8",path:"/sdks/getting-started/sdks.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-30bc70d8").then(n)}},{name:"v-111e5a38",path:"/sdks/getting-started/introduction.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-111e5a38").then(n)}},{name:"v-7a35ca05",path:"/sdks/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-7a35ca05").then(n)}},{path:"/sdks/index.html",redirect:"/sdks/"},{name:"v-696c4c18",path:"/sdks/java/downloads.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-696c4c18").then(n)}},{name:"v-c0047d3c",path:"/sdks/java/introduction.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-c0047d3c").then(n)}},{name:"v-bbe02a20",path:"/sdks/java/sdk-initialization.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-bbe02a20").then(n)}},{name:"v-7625d9b8",path:"/sdks/java/system-requirements.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-7625d9b8").then(n)}},{name:"v-2d074238",path:"/sdks/javascript/downloads.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-2d074238").then(n)}},{name:"v-10f7ddc6",path:"/sdks/javascript/sdk-initialization.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-10f7ddc6").then(n)}},{name:"v-1ab93410",path:"/sdks/nodejs/downloads.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1ab93410").then(n)}},{name:"v-275a07d8",path:"/sdks/javascript/system-requirements.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-275a07d8").then(n)}},{name:"v-01a97382",path:"/sdks/nodejs/sdk-initialization.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-01a97382").then(n)}},{name:"v-a5b20018",path:"/sdks/nodejs/introduction.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-a5b20018").then(n)}},{name:"v-ad4ffaf0",path:"/sdks/php/downloads.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-ad4ffaf0").then(n)}},{name:"v-d4f60b90",path:"/sdks/javascript/introduction.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-d4f60b90").then(n)}},{name:"v-678ebab8",path:"/sdks/php/introduction.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-678ebab8").then(n)}},{name:"v-1c327d98",path:"/sdks/php/sdk-initialization.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1c327d98").then(n)}},{name:"v-2be03798",path:"/sdks/nodejs/system-requirements.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-2be03798").then(n)}},{name:"v-6e91a8f2",path:"/signup/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-6e91a8f2").then(n)}},{path:"/signup/index.html",redirect:"/signup/"},{name:"v-16de81d8",path:"/signup/set-new-password.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-16de81d8").then(n)}},{name:"v-3eca9242",path:"/sdks/php/system-requirements.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-3eca9242").then(n)}},{name:"v-aec34412",path:"/security/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-aec34412").then(n)}},{path:"/security/index.html",redirect:"/security/"},{name:"v-736185d3",path:"/test/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-736185d3").then(n)}},{path:"/test/index.html",redirect:"/test/"},{name:"v-dc10ee10",path:"/use-cases/account-linking/account-linking-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-dc10ee10").then(n)}},{name:"v-2c57b75e",path:"/support/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-2c57b75e").then(n)}},{path:"/support/index.html",redirect:"/support/"},{name:"v-12932556",path:"/use-cases/account-linking/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-12932556").then(n)}},{name:"v-db14a79e",path:"/use-cases/account-linking/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-db14a79e").then(n)}},{path:"/use-cases/account-linking/index.html",redirect:"/use-cases/account-linking/"},{name:"v-15d08cd8",path:"/use-cases/account-linking/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-15d08cd8").then(n)}},{name:"v-13461887",path:"/use-cases/agent-services/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-13461887").then(n)}},{path:"/use-cases/agent-services/index.html",redirect:"/use-cases/agent-services/"},{name:"v-7d83edb8",path:"/use-cases/agent-services/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-7d83edb8").then(n)}},{name:"v-51ac86f8",path:"/use-cases/agent-services/agent-services-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-51ac86f8").then(n)}},{name:"v-95b8cb78",path:"/use-cases/agent-services/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-95b8cb78").then(n)}},{name:"v-7eff6d2c",path:"/use-cases/bill-payments/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-7eff6d2c").then(n)}},{name:"v-f2258890",path:"/use-cases/bill-payments/bill-payments-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-f2258890").then(n)}},{name:"v-41d3ccb8",path:"/use-cases/bill-payments/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-41d3ccb8").then(n)}},{name:"v-519aee11",path:"/use-cases/bill-payments/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-519aee11").then(n)}},{path:"/use-cases/bill-payments/index.html",redirect:"/use-cases/bill-payments/"},{name:"v-3268c0ea",path:"/use-cases/disbursements/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-3268c0ea").then(n)}},{name:"v-5a8d68f8",path:"/use-cases/disbursements/disbursements-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-5a8d68f8").then(n)}},{name:"v-acf0f39e",path:"/use-cases/disbursements/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-acf0f39e").then(n)}},{path:"/use-cases/disbursements/index.html",redirect:"/use-cases/disbursements/"},{name:"v-961caed0",path:"/use-cases/international-transfers/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-961caed0").then(n)}},{name:"v-30ac8ad0",path:"/use-cases/disbursements/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-30ac8ad0").then(n)}},{name:"v-53ba34b8",path:"/use-cases/international-transfers/international-transfers-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-53ba34b8").then(n)}},{name:"v-28c6e45e",path:"/use-cases/international-transfers/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-28c6e45e").then(n)}},{path:"/use-cases/international-transfers/index.html",redirect:"/use-cases/international-transfers/"},{name:"v-413ebbb8",path:"/use-cases/international-transfers/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-413ebbb8").then(n)}},{name:"v-55b734ac",path:"/use-cases/merchant-payments/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-55b734ac").then(n)}},{name:"v-4a5993f8",path:"/use-cases/merchant-payments/merchant-payments-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-4a5993f8").then(n)}},{name:"v-b6e1629e",path:"/use-cases/merchant-payments/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-b6e1629e").then(n)}},{path:"/use-cases/merchant-payments/index.html",redirect:"/use-cases/merchant-payments/"},{name:"v-15ed1ed0",path:"/use-cases/merchant-payments/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-15ed1ed0").then(n)}},{name:"v-a1d2b7de",path:"/use-cases/p-2-p-transfers/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-a1d2b7de").then(n)}},{path:"/use-cases/p-2-p-transfers/index.html",redirect:"/use-cases/p-2-p-transfers/"},{name:"v-1f032eec",path:"/use-cases/p-2-p-transfers/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-1f032eec").then(n)}},{name:"v-dd0cae90",path:"/use-cases/p-2-p-transfers/p2p-transfers-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-dd0cae90").then(n)}},{name:"v-2f26d510",path:"/use-cases/p-2-p-transfers/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-2f26d510").then(n)}},{name:"v-7d05d150",path:"/use-cases/recurring-payments/api-service-definition.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-7d05d150").then(n)}},{name:"v-55c31810",path:"/use-cases/recurring-payments/recurring-payments-open-oas-ui.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-55c31810").then(n)}},{name:"v-54383596",path:"/use-cases/recurring-payments/scenarios/scenarios.html",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-54383596").then(n)}},{name:"v-c8b409ce",path:"/use-cases/recurring-payments/",component:Ft.default,beforeEnter:function(e,t,n){mt("Layout","v-c8b409ce").then(n)}},{path:"/use-cases/recurring-payments/index.html",redirect:"/use-cases/recurring-payments/"},{path:"*",component:Ft.default}],Et={title:"Mobile Money API Developer Portal",description:"Mobile Money API documentation",base:"/",headTags:[["meta",{name:"theme-color",content:"red"}],["meta",{name:"apple-mobile-web-app-capable",content:"yes"}],["meta",{name:"apple-mobile-web-app-status-bar-style",content:"black"}],["script",{src:"/js/fix-scroll-to-hash.js"}]],pages:[{title:"MM API Specification v1.1",frontmatter:{pageClass:"api-page container--narrow",title:"MM API Specification v1.1"},regularPath:"/api-versions-1.1/",relativePath:"api-versions-1.1/index.md",key:"v-d95c8766",path:"/api-versions-1.1/",headersStr:null,content:"# GSMA Mobile Money API Specification v1.1\n\nWelcome to the GSMA Mobile Money API Developer Portal. The Mobile Money API is an initiative developed through collaboration between the mobile money industry and the GSMA, which provides a harmonized API Specification for all the common mobile money use cases which is both easy to use and secure. Using best practices from the technology industry in API design and security, it aims to simplify and accelerate integration with mobile money platforms and stimulate the growth of the ecosystem.\n\nThe key design principles of the API include the use of REST architectural principles, the use of the JSON data format for requests and responses, and the provision of a set of well-defined objects that are abstracted from the underlying object representations held in different mobile money systems. The API also defines a standard set of transaction types and other key enumerations, uses ISO international standards for enumerations such as currency and country codes, and provides support for supplementary metadata and sub-types for properties specific to different mobile money providers.\n\nThe Mobile Money Developer Portal provides access to the Mobile Money API Specification assets and a full suite of developer documentation and tools to facilitate developers implementing the specification, whether they are Mobile Money Providers or Service Providers building solutions for the mobile money ecosystem.\n\nThe developer documentation includes developer guides for getting started with the Mobile Money API covering API Fundamentals and API Behaviour & Error Handling and reference documentation for all APIs and supporting objects included in the specification. Developers can also access security design and implementation guidelines to ensure that best practices are applied to the connection between the API client and the API gateway, and to authenticating end users to the mobile money platform.\n\nThe developer tools include the GSMA Simulator which provides an example simulated API implementation developed to facilitate API adoption and testing, an example Authentication Gateway which adopts the best practice security recommendations of OAuth 2.0, and use case examples which include Postman Collections enabling developers to test the simulated APIs directly or through the authentication gateway.\n\nDownload Specification",normalizedContent:"# gsma mobile money api specification v1.1\n\nwelcome to the gsma mobile money api developer portal. the mobile money api is an initiative developed through collaboration between the mobile money industry and the gsma, which provides a harmonized api specification for all the common mobile money use cases which is both easy to use and secure. using best practices from the technology industry in api design and security, it aims to simplify and accelerate integration with mobile money platforms and stimulate the growth of the ecosystem.\n\nthe key design principles of the api include the use of rest architectural principles, the use of the json data format for requests and responses, and the provision of a set of well-defined objects that are abstracted from the underlying object representations held in different mobile money systems. the api also defines a standard set of transaction types and other key enumerations, uses iso international standards for enumerations such as currency and country codes, and provides support for supplementary metadata and sub-types for properties specific to different mobile money providers.\n\nthe mobile money developer portal provides access to the mobile money api specification assets and a full suite of developer documentation and tools to facilitate developers implementing the specification, whether they are mobile money providers or service providers building solutions for the mobile money ecosystem.\n\nthe developer documentation includes developer guides for getting started with the mobile money api covering api fundamentals and api behaviour & error handling and reference documentation for all apis and supporting objects included in the specification. developers can also access security design and implementation guidelines to ensure that best practices are applied to the connection between the api client and the api gateway, and to authenticating end users to the mobile money platform.\n\nthe developer tools include the gsma simulator which provides an example simulated api implementation developed to facilitate api adoption and testing, an example authentication gateway which adopts the best practice security recommendations of oauth 2.0, and use case examples which include postman collections enabling developers to test the simulated apis directly or through the authentication gateway.\n\ndownload specification",charsets:{}},{title:"Getting Started",frontmatter:{pageClass:"api-page has-code-panel",title:"Getting Started"},regularPath:"/api-versions-1.2/get-started.html",relativePath:"api-versions-1.2/get-started.md",key:"v-67ea57bc",path:"/api-versions-1.2/get-started.html",headers:[{level:2,title:"API Fundamentals",slug:"api-fundamentals",normalizedTitle:"api fundamentals",charIndex:0},{level:5,title:"URI",slug:"uri",normalizedTitle:"uri",charIndex:20},{level:5,title:"Methods",slug:"methods",normalizedTitle:"methods",charIndex:372},{level:5,title:"Patch Specifics",slug:"patch-specifics",normalizedTitle:"patch specifics",charIndex:598},{level:5,title:"Resource Naming",slug:"resource-naming",normalizedTitle:"resource naming",charIndex:966},{level:5,title:"Client Correlation ID",slug:"client-correlation-id",normalizedTitle:"client correlation id",charIndex:1221},{level:5,title:"Use Case Flow Patterns",slug:"use-case-flow-patterns",normalizedTitle:"use case flow patterns",charIndex:1898},{level:5,title:"Case Sensitivity",slug:"case-sensitivity",normalizedTitle:"case sensitivity",charIndex:2617},{level:5,title:"HTTP Header Information",slug:"http-header-information",normalizedTitle:"http header information",charIndex:3020},{level:6,title:"Standard Request Headers",slug:"standard-request-headers",normalizedTitle:"standard request headers",charIndex:3233},{level:6,title:"Standard Response Headers",slug:"standard-response-headers",normalizedTitle:"standard response headers",charIndex:4215},{level:6,title:"Custom Request Headers",slug:"custom-request-headers",normalizedTitle:"custom request headers",charIndex:4714},{level:6,title:"Custom Response Headers",slug:"custom-response-headers",normalizedTitle:"custom response headers",charIndex:7863},{level:5,title:"API Versioning",slug:"api-versioning",normalizedTitle:"api versioning",charIndex:8243},{level:5,title:"Amount Validation",slug:"amount-validation",normalizedTitle:"amount validation",charIndex:9835},{level:2,title:"API Behaviour & Error Handling",slug:"api-behaviour-error-handling",normalizedTitle:"api behaviour &amp; error handling",charIndex:null},{level:3,title:"API Behavioural Model",slug:"api-behavioural-model",normalizedTitle:"api behavioural model",charIndex:11421},{level:4,title:"Overview",slug:"overview",normalizedTitle:"overview",charIndex:11446},{level:4,title:"Request State Object",slug:"request-state-object",normalizedTitle:"request state object",charIndex:11741},{level:4,title:"Generic API Sequence Diagrams",slug:"generic-api-sequence-diagrams",normalizedTitle:"generic api sequence diagrams",charIndex:15777},{level:3,title:"API Error Handling",slug:"api-error-handling",normalizedTitle:"api error handling",charIndex:21290},{level:4,title:"Summary of HTTP Response Codes",slug:"summary-of-http-response-codes",normalizedTitle:"summary of http response codes",charIndex:21312},{level:4,title:"HTTP Error Response Codes",slug:"http-error-response-codes",normalizedTitle:"http error response codes",charIndex:21736},{level:4,title:"Errors Object Definition",slug:"errors-object-definition",normalizedTitle:"errors object definition",charIndex:23328},{level:5,title:"Error Parameters Object",slug:"error-parameters-object",normalizedTitle:"error parameters object",charIndex:26770},{level:4,title:"API Error Codes",slug:"api-error-codes",normalizedTitle:"api error codes",charIndex:27819},{level:3,title:"API Heartbeat",slug:"api-heartbeat",normalizedTitle:"api heartbeat",charIndex:35863},{level:3,title:"Missing Response Retrieval",slug:"missing-response-retrieval",normalizedTitle:"missing response retrieval",charIndex:38039}],headersStr:"API Fundamentals URI Methods Patch Specifics Resource Naming Client Correlation ID Use Case Flow Patterns Case Sensitivity HTTP Header Information Standard Request Headers Standard Response Headers Custom Request Headers Custom Response Headers API Versioning Amount Validation API Behaviour & Error Handling API Behavioural Model Overview Request State Object Generic API Sequence Diagrams API Error Handling Summary of HTTP Response Codes HTTP Error Response Codes Errors Object Definition Error Parameters Object API Error Codes API Heartbeat Missing Response Retrieval",content:'# API Fundamentals\n\n# URI\n\nThe Mobile Money API uses the following URI format:\n\n{…]/{version}/mm/{Resource}\n\nWhere:\n\n * … is defined upon implementation of the API by the API provider.\n * version is as per standards defined in the API Versioning section.\n * mm is literal for ‘Mobile Money’.\n * resource identifies the object and resource that is the subject of the API.\n\n# Methods\n\nThe specification supports the following request methods:\n\n * POST. Used to create a resource\n * PATCH. Used to update a resource\n * GET. Used to return a representation of a resource or a collection of resources.\n\n# Patch Specifics\n\nUpdates to resources are accomplished by use of the HTTP PATCH method. The PATCH format is based upon IETF RFC 6902.. IETF RFC 6902. The replace operation replaces the value of the target property with the supplied value. An example of a replace operation is [{ "op": "replace", "path": "/XYZ", "value": “test” }] where XYZ is the target property.\n\n# Resource Naming\n\nThe resource part of the URI path identifies the type of resource and if applicable, the specific resource for which an operation is to be performed. Resources are reflected in plural and by use of nouns, for example, /accounts/bills.\n\n# Client Correlation ID\n\nA client correlation id can be supplied by the API client on HTTP POST and PATCH requests. The client correlation id is a UUID that enables the client to correlate the API request with the resource created/updated by the provider. The client correlation id is specified in the HTTP Request Header. When a provider issues a callback, the provider should ensure that the original correlation id provided by the client is placed in request header.\n\nThe client correlation ID supports safe operations. A POST request that is submitted with a correlation ID that has already been supplied will be rejected as unsafe, thus avoiding transaction duplication.\n\n# Use Case Flow Patterns\n\nAll use cases supported by the API are built on standardised flow patterns. Flow patterns exist for viewing, updating, and creating resources.\n\nThere are two standard flows:\n\n * Synchronous Flow. The final resource is always provided in response to an API request. There is no interim response. Can be used with POST, PATCH and GET requests.\n * Asynchronous Flow. An interim response is always provided in response to an API request in the form of a Request State object. The final response is then provided via a callback or alternatively can be accessed via polling on Request State. Can be used with POST and PATCH requests.\n\nMore detail can be found in the API Behavioural Model section.\n\n# Case Sensitivity\n\nAll API properties are defined in camelCase format.\n\nAll enumeration values referenced within the API use lower case notation – this includes acronyms and abbreviations. The only exceptions are for\n\n * ISO Codes (country and currency) – the API uses these codes as defined per ISO.\n * Error Codes. Upper Case is used to identify the first letter of each word to assist readability.\n\n# HTTP Header Information\n\nThe following header information can be supplied for the mobile money API.\n\nFor the security headers, please also refer to the Mobile Money API Security Design for further information.\n\n# Standard Request Headers\n\n{\n  "Accept": ["application/json"],\n  "Accept-Charset": ["utf-8"],\n  "Authorization": ["Bearer RsT5OjbzRn430zqMLgV3Ia"],\n  "Content-Length": ["123"],\n  "Content-Type": ["application/json"]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nHEADER           VALUE                                                      OPTIONALITY   NOTES\nAccept           application/json                                           Mandatory     \nAccept-Charset   utf-8                                                      Mandatory     \nAuthorization    Authorization: Basic {base64Encode(concatenated client\'s   Mandatory     \n                 username followed by ‘:’ and password)} OR OAuth2 Access\n                 Token. For OAuth2 format is {‘Bearer’ token value}\nContent-Length   Length of request content in 8-bit bytes                   Mandatory     \nContent-Type     application/json                                           Mandatory     \n\n# Standard Response Headers\n\n{\n  "Content-Length": ["123"],\n  "Content-Type": ["application/json; charset=utf-8"]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nHEADER           VALUE                             OPTIONALITY   NOTES\nContent-Length   Length of response content        Conditional   Applicable only if the HTTP response contains JSON body\nContent-Type     application/json; charset=utf-8   Conditional   Applicable only if the HTTP response contains JSON body\n\n# Custom Request Headers\n\n{\n  "X-API-Key": ["a4db08b7-5729-4ba9-8c08-f2df493465a1"],\n  "X-User-Bearer": ["Bearer RsT5OjbzRn430zqMLgV3Ia"],\n  "X-Date": ["2017-07-21T17:32:28Z"],\n  "X-Client-Id": ["12345"],\n  "X-Content-Hash": ["7f83b1657ff1fc53b92dc18148a1d65dfc2d4b1fa3d677284addd200126d9069"],\n  "X-CorrelationID": ["d820237c-aa97-47e7-9704-1bc6d8ecad2d"],\n  "X-User-Credential-1": ["1234"],\n  "X-User-Credential-2": ["PassWord"],\n  "X-Channel": ["Web"],\n  "X-Callback-URL": ["https://application.com/callback"]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nHEADER                VALUE                                                          OPTIONALITY   NOTES\nX-API-Key             Used to pass pre-shared client\'s API key to the server         Conditional   Only required when API Client Authentication based on API\n                                                                                                   key is used.\nX-User-Bearer         Used to pass user’s access token                               Conditional   Only required when OAuth 2.0/OIDC authorisation framework is\n                                                                                                   used for end-user authentication.\nX-Date                {The date and time that the message was sent in HTTP-date      Conditional   Used for Basic message integrity checks.\n                      format - RFC 7231}\nX-Client-Id           Used to pass pre-shared client\'s identifier to the server      Conditional   Can be used in addition to X-API-Key.\nX-Content-Hash        SHA-256 hex digest of the request content (encrypted or        Conditional   Applicable only if the HTTP request contains JSON body and\n                      plain)                                                                       basic data integrity checking is to be performed.\nX-CorrelationID       UUID                                                           Conditional   Please refer to Client Correlation ID.\nX-User-Credential-1   Contains an authentication credential of the end user (e.g.    Conditional   Should only be used when OAuth 2.0/OIDC authorisation\n                      PIN, Password).                                                              framework has not been implemented by the API Provider.\nX-User-Credential-2   Contains an authentication credential of the end user (e.g.    Conditional   Should only be used when OAuth 2.0/OIDC authorisation\n                      PIN, Password). Can be used when a second credential is                      framework has not been implemented by the API Provider.\n                      required.\nX-Channel             string containing the channel that was used to originate the   Conditional   Used to identify the API invocation channel.\n                      request. For example, USSD, Web, App.\nX-Callback-URL        string containing the URL which should receive the Callback    Conditional   Will only be used by the API provider if they have\n                      for asynchronous requests.                                                   implemented the Callback method.\n\n# Custom Response Headers\n\n{\n  "X-Date": ["2017-07-21T17:32:28Z"]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nHEADER   VALUE                                                        OPTIONALITY   NOTES\nX-Date   {The date and time that the response was sent in HTTP-date   Conditional   Used for Basic message integrity checks\n         format - RFC 7231}\n\n# API Versioning\n\nWhen changes are made to the Mobile Money API, a new version is released. There are three types of API versions:\n\n * major (backwards incompatible)\n * minor (backwards compatible)\n * patch (backwards compatible)\n\nThe following types of changes are considered to be backwards compatible:\n\n * Addition of new API Services.\n * Adding optional request properties and/or optional input parameters such as query strings to existing objects.\n * Addition of new properties to existing API responses.\n * Changing the order of properties within a request or response object.\n * New error codes.\n\nThe following types of changes are considered to be backwards incompatible and hence major:\n\n * Introducing mandatory properties.\n * Changing datatypes on properties.\n * Changes to API URIs/Paths.\n\nThe version that a client intends to use is indicated in the path. Format is ‘X.Y.Z’ where ‘X’ is the major version, ‘Y’ is the minor version and ‘Z’ is a patch version. Versions are sequentially numbered. When a major version is incremented, the minor version is reset to zero.\n\nThe following table provides examples of API version compatibility:\n\nCLIENT VERSION   PROVIDER VERSION   COMPATIBLE?\n1.0.0            1.1.0              Yes\n1.1.0            1.0.0              Client would need to submit only 1.0.0 related payload. If\n                                    1.1.0 services, properties or parameters are supplied by the\n                                    client, the provider will reject the request.\n2.0.0            1.0.0              No\n1.0.0            2.0.0              No\n\n# Amount Validation\n\nThe mobile money API applies common validation to all amount properties. The following rules are applied during validation:\n\n * Between zero and four decimal places can be supplied.\n * Leading zeroes are not permitted except where the value is less than 1. For any value less than one, one and only one leading zero must be supplied.\n * Trailing zeroes are permitted.\n * Negative values are not permitted.\n * Maximum value that can be supplied is 999999999999999999.9999.\n\nAmount validation examples are shown below.\n\nVALUE                 PERMITTED?\n5                     Yes\n5.0                   Yes\n5.                    No\n5.00                  Yes\n5.5                   Yes\n5.50                  Yes\n5.5555                Yes\n5.55555               No\n555555555555555555    Yes\n5555555555555555555   No\n-5.5                  No\n0.5                   Yes\n.5                    No\n00.5                  No\n0                     Yes\n00.00                 No\n0.00                  Yes\n0000001.32            No\n\n\n# API Behaviour & Error Handling\n\nThe Mobile Money API manages API state and exception handling in a harmonised manner:\n\n * API Behavioural Model. Provides standardised flows for synchronous and asynchronous processing patterns.\n * API Error Handling. Supports use of standardised HTTP response codes and an errors object that returns additional information as to why the request failed.\n * API Heartbeat enables API provider service availability to be established by clients.\n\nThe responses object enables clients to request a missing API response.\n\n\n# API Behavioural Model\n\n# Overview\n\nAPI behaviour is governed by the following factors:\n\n * The resource.\n * The type of operation, i.e. create, update, or read.\n * Whether the provider will process the request synchronously.\n * Whether the provider implements callback or polling methods for asynchronous processing.\n\n# Request State Object\n\nAsynchronous flows involve a callback mechanism or a polling mechanism to enable the client to determine the final state of the request. Both mechanisms involve the use of the Request State object as per below:\n\n * Callback. A request is initiated via a HTTP POST or PATCH request with an intermediate response represented by a Request State object. Once the request has been completed, the provider will initiate a PUT request to the URL specified by the client in the X-Callback-URL request header. The callback will provide the client with one of the following:\n   \n   * Final representation of the resource for successful creation requests\n   * A {"result": "success"} response for successful update requests\n\n * Polling. A request is initiated via a HTTP POST or PATCH request with an intermediate response provided in the form of the Request State object. A HTTP GET is then issued against /requeststate by the client at intervals until the final resource state and resource reference is returned.\n\nThe object definition for RequestState is described below.\n\n{\n  "serverCorrelationId": "878be43d-9fde-467b-a26b-889c80bf8830",\n  "objectReference": "12345",\n  "status": "pending",\n  "notificationMethod": "callback",\n  "pendingReason": "A textual description...",\n  "expiryTime": "2017-07-21T17:32:28Z",\n  "pollLimit": 5,\n  "errorReference": {\n    "errorCategory": "BusinessRule",\n    "errorCode": "GenericError"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nREQUESTSTATE OBJECT PROPERTIES                                                                                                    \nName                             Type        Description                                                          Reference       Validation\nserverCorrelationId              string      A unique identifier issued by the provider to enable the      → NA                   UUID format\n                                             client to identify the RequestState resource on subsequent    ← M\n                                             polling requests.\nobjectReference                  string      Provides a reference to the subject resource, e.g.            → NA                   \n                                             transaction reference.                                        ← O\nstatus                           string      Indicates the status of the request.                          → NA                   Enumeration = pending, completed, failed\n                                                                                                           ← M\nnotificationMethod               date-time   Indicates whether a callback will be issued or whether the    → NA                   Enumeration = callback, polling\n                                             client will need to poll.                                     ← M\npendingReason                    string      A textual description that can be provided to describe the    → NA                   \n                                             reason for a pending status.                                  ← O\nexpiryTime                       date-time   Indicates the time by which the provider will fail the        → NA                   \n                                             request if completion criteria have not been met. For an      ← O\n                                             example, a debit party failing to authorise within the\n                                             allowed time period.\npollLimit                        integer     Indicates the number of poll attempts for the given           → NA                   \n                                             requeststate resource that will be allowed by the provider.   ← O\nerrorReference                   object      If the asynchronous processing failed, details of the error   → NA   Errors Object   \n                                             will be returned here.                                        ← O\n\n# Generic API Sequence Diagrams\n\nFigures 1 to 7 illustrate the standard flows for the Mobile Money API. The green flows represent a success path and red flows represent a failure path.\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP GET Request activate Client activate Provider Provider->>Provider: Validate & Process\nRequest alt Failure? Provider--)Client: HTTP 4xx/5xx Response else Success Provider--)Client: HTTP 200 Response end deactivate Provider deactivate Client\n\nFigure 1 : Mobile Money API Generic Sequence Diagram for Read Requests\n\n\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP POST Request activate Client activate Provider Provider->>Provider: Validate & Process\nRequest alt Failure Provider--)Client: HTTP 4xx/5xx Response else Success Provider--)Client: HTTP 201 Response end deactivate Provider deactivate Client\n\nFigure 2 : Mobile Money API Synchronous Diagram for Create Requests\n\n\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP POST Request activate Client activate Provider Provider->>Provider: Validate Request alt Validation Failed Provider--)Client: HTTP 4xx/5xx Response else Validation Succeeded Provider--)Client: HTTP 202 Response, Response Object = requestState, Status = Pending end deactivate Client Provider->>Provider: Process Request activate Client alt Processing Failed Provider->>Client: HTTP PUT Request, Error Object is Returned alt Successful Response Client--)Provider: HTTP 204 Resposne else Failure Response Client--)Provider: HTTP 4xx/5xx Response end else Processing Completed Provider->>Client: HTTP PUT Request, Created Object is Returned alt Failure Response Client--)Provider: HTTP 4xx/5xx Response else Successful Response Client--)Provider: HTTP 204 Resposne end end deactivate Client deactivate Provider\n\nFigure 3 : Mobile Money API Asynchronous Callback Diagram for Create Requests\n\n\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP POST Request activate Client activate Provider Provider->>Provider: Validate Request alt Validation Failed Provider--)Client: HTTP 4xx/5xx Response else Validation Succeeded Provider--)Client: HTTP 202 Response, Response Object = requestState, Status = Pending end Provider->>Provider: Process Request loop Until requestState.status = completed or failed Client->>Provider: HTTP GET Request, Requested Resource = requestState alt Successful Response Provider--)Client: HTTP 200 Response, Response Object = requestState, status = pending OR completed OR failed else Failure Response Provider--)Client: HTTP 4xx/5xx Response end end opt requestState.status = completed Note right of Client: Optional Flow - use if the Client wishes to retrieve a representation of the created resourse. Client->>Provider: HTTP GET Request Provider--)Client: (Refer to GET Sequence Diagram for HTTP response details) end deactivate Client deactivate Provider\n\nFigure 4 : Mobile Money API Asynchronous Polling Diagram for Create Requests\n\n\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP PATCH Request activate Client activate Provider Provider->>Provider: Validate & Process\nRequest alt Failure Provider--)Client: HTTP 4xx/5xx Response else Success Provider--)Client: HTTP 204 Response end deactivate Provider deactivate Client\n\nFigure 5 : Mobile Money API Synchronous Diagram for Update Requests\n\n\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP PATCH Request activate Client activate Provider Provider->>Provider: Validate Request alt Validation Failed Provider--)Client: HTTP 4xx/5xx Response else Validation Succeeded Provider--)Client: HTTP 202 Response, Response Object = requestState, Status = Pending end deactivate Client Provider->>Provider: Process Request activate Client alt Processing Failed Provider->>Client: HTTP PUT Request, Error Object is returned alt Successful Response Client--)Provider: HTTP 204 Resposne else Failure Response Client--)Provider: HTTP 4xx/5xx Response end else Processing Completed Provider->>Client: HTTP PUT Request, {"result":"success"} is returned alt Failure Response Client--)Provider: HTTP 4xx/5xx Response else Successful Response Client--)Provider: HTTP 204 Resposne end end deactivate Client deactivate Provider\n\nFigure 6 : Mobile Money API Asynchronous Callback Diagram for Update Requests\n\n\n\nsequenceDiagram participant Client participant Provider Client->>Provider: HTTP PATCH Request activate Client activate Provider Provider->>Provider: Validate Request alt Validation Failed Provider--)Client: HTTP 4xx/5xx Response else Validation Succeeded Provider--)Client: HTTP 202 Response, Response Object = requestState, Status = Pending end Provider->>Provider: Process Request loop Until requestState.status = completed or failed Client->>Provider: HTTP GET Request, Requested Resource = requestState alt Successful Response Provider--)Client: HTTP 200 Response, Response Object = requestState, status = pending OR completed OR failed else Failure Response Provider--)Client: HTTP 4xx/5xx Response end end opt requestState.status = completed Note right of Client: Optional Flow - use if the Client wishes to retrieve a representation of the created resourse. Client->>Provider: HTTP GET Request Provider--)Client: (Refer to GET Sequence Diagram for HTTP response details) end deactivate Client deactivate Provider\n\nFigure 7 : Mobile Money API Asynchronous Polling Diagram for Update Requests\n\n\n# API Error Handling\n\n# Summary of HTTP Response Codes\n\nThe following HTTP response codes are returned for the listed methods:\n\nMETHOD   SUCCESS   INTERMEDIATE   CLIENT ERROR    SERVER ERROR\nGET      200       N/A            400, 401, 404   500, 503\nPOST     201       202            400, 401, 404   500, 503\n\nTIP\n\nNote that the ‘intermediate’ column in the table above relates to the HTTP response for the first leg of an asynchronous request.\n\n# HTTP Error Response Codes\n\nERROR CATEGORY        DESCRIPTION                                                    HTTP RESPONSE CODE\nBusinessRule          The resource could not be successfully completed due a         400\n                      violation of a business rule. Business rules include\n                      financial limit violations, duplicate requests, and invalid\n                      states.\nValidation            Violation of a constraint that will prevent the resource       400\n                      from being processed. Examples include:\n                      - Invalid property length.\n                      - Failure to resolve regular expression.\nAuthorisation         It was not possible to authenticate or authorise the client    401\n                      or other party to perform the service.\nIdentification        The requested resource could not be matched on the system      404\n                      with the supplied identifier(s).\nInternal              The request could not be completed due to non-client related   500\n                      issues that do not constitute complete system\n                      unavailability. Examples include software licence issues,\n                      unavailability of system configuration information.\nService Unavailable   The service is not currently available. This could be due to   503\n                      network issues, issues with individual components or\n                      complete systems outages. Regardless of the cause, the\n                      result means that the request cannot be performed.\n\n# Errors Object Definition\n\nThe mobile money API uses the errors object to provide error details to API clients. The following properties are included:\n\n * Error Category. All error codes must be associated with an appropriate category. This provides context and uniqueness to the error code.\n\n * Error Code. Provides the reason for the request failure. Error codes are generally granular, i.e. they provide a specific reason for failure. In some cases, granularity is neither possible nor desirable. Where this is the case, a generic code has been defined. Cases include:\n   \n   * The API Provider has generated an error that does not map to existing Rule error codes.\n   * The API Provider wishes to avoid disclosure of confidential information regarding the resource or parties to the resource. For example, the fact that a customer has breached their monthly transaction limit may not be disclosed to specific clients.\n\n * Error Description. A textual description of the error code.\n\n * Error Parameters. Provides a construct to communicate supplementary information regarding the error in key/value pairs. The supplementary information is currently non-harmonised and can include:\n   \n   * The API provider-specific Error Code and Description.\n   * Additional identification of the error subject, e.g. account identifiers, invalid properties etc…\n   * Diagnostic information, e.g. affected subsystem, licence failure type etc…\n\nWith the errorParameters property, care should be taken regarding confidentially of information. Confidential parameter information should only be disclosed to trusted clients.\n\n{\n  "errorCategory": "BusinessRule",\n  "errorCode": "GenericError",\n  "errorDescription": "A textual description of the error.",\n  "errorDateTime": "2017-07-21T17:32:28Z",\n  "errorParameters": [\n    {\n      "key": "providedValue",\n      "value": "+33555789123"\n    }\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nERRORS OBJECT PROPERTIES                                                                                                       \nName                       Type        Description                                                         Reference           Validation\nerrorCategory              string      The category grouping for the error.                          → M                       Enumeration = Errors Categories\n                                                                                                     ← M\nerrorCode                  string      The harmonised error code identifying the reason for error.   → M                       Enumeration = Errors Codes\n                                                                                                     ← M\nerrorDescription           string      A textual description of the error.                           → O                       \n                                                                                                     ← O\nerrorDateTime              date-time   The timestamp indicating when the error occurred.             → O                       \n                                                                                                     ← O\nerrorParameters            array       Diagnostic information in the form of key/value pairs         → O   Errors Parameters   \n                                       relating to the error.                                        ← O\n\n# Error Parameters Object\n\nAllows error parameter properties to be specified in the form of key/value pairs. The number of key/value pairs is limited to 20.\n\n{\n  "errorParameters": [\n    {\n      "key": "providedValue",\n      "value": "+33555789123"\n    }\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nERROR PARAMETERS OBJECT PROPERTIES                                                                                        \nName                                 Type     Description                                                     Reference   Validation\nkey                                  string   Identifies the type of additional error parameter.        → M               \n                                                                                                        ← M\nvalue                                string   Identifies the value of the additional error parameter.   → M               \n                                                                                                        ← M\n\n# API Error Codes\n\nERROR CATEGORY        ERROR CODE                          ERROR CODE DESCRIPTION\nBusinessRule          GenericError                        A generic Error Code for the Rule Error Category. This is\n                                                          used in two scenarios:\n                                                          1. The API Provider has generated an error that does not map\n                                                          to existing Rule error codes.\n                                                          2. The API Provider wishes to avoid disclosure of\n                                                          confidential information regarding the resource or parties\n                                                          to the resource.\nBusinessRule          DailyVolumeLimitExceeded            The party has exceeded their daily transacting volume limit\n                                                          - This can be a service limit or a limit that is specific to\n                                                          the party.\nBusinessRule          DailyValueLimitExceeded             The party has exceeded their daily transacting value limit -\n                                                          This can be a service limit or a limit that is specific to\n                                                          the party.\nBusinessRule          WeeklyVolumeLimitExceeded           The party has exceeded their weekly transacting volume limit\n                                                          - This can be a service limit or a limit that is specific to\n                                                          the party.\nBusinessRule          WeeklyValueLimitExceeded            The party has exceeded their weekly transacting value limit\n                                                          - This can be a service limit or a limit that is specific to\n                                                          the party.\nBusinessRule          MonthlyVolumeLimitExceeded          The party has exceeded their monthly transacting volume\n                                                          limit - This can be a service limit or a limit that is\n                                                          specific to the party.\nBusinessRule          MonthlyValueLimitExceeded           The party has exceeded their monthly transacting value limit\n                                                          - This can be a service limit or a limit that is specific to\n                                                          the party.\nBusinessRule          AccountMaxTotalValueExceeded        The party has exceeded their cumulative transacting value\n                                                          limit defined for the account.\nBusinessRule          AccountMaxTotalVolumeExceeded       The party has exceeded their cumulative transacting volume\n                                                          limit defined for the account.\nBusinessRule          LessThanTransactionMinValue         The amount specified for the transaction is less than the\n                                                          defined minimum for the service.\nBusinessRule          GreaterThanTransactionMaxValue      The amount specified for the transaction is greater than the\n                                                          defined maximum for the service.\nBusinessRule          MaxBalanceExceeded                  The amount specified will cause the balance of the credit\n                                                          parties account to exceed the rule limit.\nBusinessRule          SamePartiesError                    The debit and credit parties are the same.\nBusinessRule          DuplicateRequest                    The request has previously been processed, i.e. this request\n                                                          is a duplicate and hence has been rejected.\nBusinessRule          InsufficientFunds                   Available funds are not sufficient to enable the party to be\n                                                          debited for the requested transaction.\nBusinessRule          IncorrectState                      The account is in a state that does not permit the requested\n                                                          service.\nBusinessRule          UnderPaymentNotAllowed              The requested amount is less than the amount that needs to\n                                                          be supplied for this transaction\nBusinessRule          OverPaymentNotAllowed               The requested amount is greater than the amount that needs\n                                                          to be supplied for this transaction\nBusinessRule          RateLimitError                      The client has submitted too many requests within a period\n                                                          of time.\nIdentification        IdentifierError                     The requested resource could not be matched on the system\n                                                          with the supplied identifier(s).\nValidation            GenericError                        A generic Error Code for the Validation Error Category. This\n                                                          is used in where the API Provider has generated an error\n                                                          that does not map to existing Validation error codes.\nValidation            LengthError                         The specified property contents are greater than the maximum\n                                                          allowed length or less than the minimum allowed length.\nValidation            FormatError                         The specified property contents do not conform to the format\n                                                          required for this Property.\nValidation            NegativeValue                       The amount supplied is negative and this is not allowed for\n                                                          the given service.\nValidation            CurrencyNotSupported                The currency supplied is not supported by the API Provider.\nValidation            MandatoryValueNotSupplied           A mandatory value has not been provided in the header and/or\n                                                          JSON body.\nAuthorisation         ClientAuthorisationError            General Client Authentication failure. No further details\n                                                          provided to prevent leakage of security information.\nAuthorisation         RequestDeclined                     The debit party did not approve the request.\nAuthorisation         RequestingPartyAuthorisationError   The party requesting the service has not provided the right\n                                                          credentials and/or does not have permission to perform this\n                                                          service.\nInternal              GenericError                        The request could not be completed due to a non-client\n                                                          related issues that do not constitute complete system\n                                                          unavailability. Examples include software licence issues,\n                                                          unavailability of system configuration information.\nService Unavailable   GenericError                        The service is not currently available. This could be due to\n                                                          network issues, issues with individual components or\n                                                          complete systems outages. Regardless of the cause, the\n                                                          result means that the request cannot be performed.\n\n\n# API Heartbeat\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the system of an API provider is in a state that enables a client to submit a request for processing within established SLAs. There are three states that can be returned by the API provider in response to a heartbeat request:\n\n * Available. The system is available and can receive and complete requests within SLAs.\n * Degraded. The system can receive and complete requests but not within SLAs, i.e. delay in transaction processing is anticipated. When known, the expected processing delay time can be returned by the provider.\n * Unavailable. The system cannot receive and process requests. Any submitted requests will fail whilst the system is in this state.\n\nThe Heartbeat can be requested using the following path:\n\n * GET /heartbeat\n\nOnly synchronous API Heartbeat requests are supported. The HTTP response contains the following properties.\n\n{\n  "serviceStatus": "degraded",\n  "delay": 4000,\n  "plannedRestorationTime": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nHEARTBEAT RESPONSE PROPERTIES                                                                                                \nName                            Type        Description                                                          Reference   Validation\nserviceStatus                   string      Provides the status of the requested service.                 → NA               Enumeration = available, unavailable, degraded\n                                                                                                          ← M\ndelay                           number      The anticipated processing delay in milliseconds.             → NA               serviceStatus property must be set to degraded.\n                                                                                                          ← O\nplannedRestorationTime          date-time   Where the planned restoration time is known (e.g. scheduled   → NA               \n                                            maintenance), it can be provided in this property.            ← O\n\n\n# Missing Response Retrieval\n\nIn some circumstances, the client may not have received the final representation of the resource for which it attempted to create. For example, a proxy server issue may have resulted in a HTTP 5xx response but the provider may have actually successfully completed the request. The /responses API allows a client to identify and retrieve the final representation of the resource assuming that the resource was created. In order to get a representation, the client issues a GET /Responses/{clientCorrelationId}. The provider will then match the client correlation id to the appropriate resource and return a link to that resource. If the resource is not found for the given correlation id then a HTTP 404 will be returned.\n\nThe response object for /responses is detailed below.\n\n{\n  "link": "https://application.com/uuid"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nRESPONSES RESPONSE PROPERTIES                                                                                          \nName                            Type     Description                                                       Reference   Validation\nlink                            string   Provides a URL to the resource associated with the given   → NA               \n                                         correlation ID.                                            ← M',normalizedContent:'# api fundamentals\n\n# uri\n\nthe mobile money api uses the following uri format:\n\n{…]/{version}/mm/{resource}\n\nwhere:\n\n * … is defined upon implementation of the api by the api provider.\n * version is as per standards defined in the api versioning section.\n * mm is literal for ‘mobile money’.\n * resource identifies the object and resource that is the subject of the api.\n\n# methods\n\nthe specification supports the following request methods:\n\n * post. used to create a resource\n * patch. used to update a resource\n * get. used to return a representation of a resource or a collection of resources.\n\n# patch specifics\n\nupdates to resources are accomplished by use of the http patch method. the patch format is based upon ietf rfc 6902.. ietf rfc 6902. the replace operation replaces the value of the target property with the supplied value. an example of a replace operation is [{ "op": "replace", "path": "/xyz", "value": “test” }] where xyz is the target property.\n\n# resource naming\n\nthe resource part of the uri path identifies the type of resource and if applicable, the specific resource for which an operation is to be performed. resources are reflected in plural and by use of nouns, for example, /accounts/bills.\n\n# client correlation id\n\na client correlation id can be supplied by the api client on http post and patch requests. the client correlation id is a uuid that enables the client to correlate the api request with the resource created/updated by the provider. the client correlation id is specified in the http request header. when a provider issues a callback, the provider should ensure that the original correlation id provided by the client is placed in request header.\n\nthe client correlation id supports safe operations. a post request that is submitted with a correlation id that has already been supplied will be rejected as unsafe, thus avoiding transaction duplication.\n\n# use case flow patterns\n\nall use cases supported by the api are built on standardised flow patterns. flow patterns exist for viewing, updating, and creating resources.\n\nthere are two standard flows:\n\n * synchronous flow. the final resource is always provided in response to an api request. there is no interim response. can be used with post, patch and get requests.\n * asynchronous flow. an interim response is always provided in response to an api request in the form of a request state object. the final response is then provided via a callback or alternatively can be accessed via polling on request state. can be used with post and patch requests.\n\nmore detail can be found in the api behavioural model section.\n\n# case sensitivity\n\nall api properties are defined in camelcase format.\n\nall enumeration values referenced within the api use lower case notation – this includes acronyms and abbreviations. the only exceptions are for\n\n * iso codes (country and currency) – the api uses these codes as defined per iso.\n * error codes. upper case is used to identify the first letter of each word to assist readability.\n\n# http header information\n\nthe following header information can be supplied for the mobile money api.\n\nfor the security headers, please also refer to the mobile money api security design for further information.\n\n# standard request headers\n\n{\n  "accept": ["application/json"],\n  "accept-charset": ["utf-8"],\n  "authorization": ["bearer rst5ojbzrn430zqmlgv3ia"],\n  "content-length": ["123"],\n  "content-type": ["application/json"]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nheader           value                                                      optionality   notes\naccept           application/json                                           mandatory     \naccept-charset   utf-8                                                      mandatory     \nauthorization    authorization: basic {base64encode(concatenated client\'s   mandatory     \n                 username followed by ‘:’ and password)} or oauth2 access\n                 token. for oauth2 format is {‘bearer’ token value}\ncontent-length   length of request content in 8-bit bytes                   mandatory     \ncontent-type     application/json                                           mandatory     \n\n# standard response headers\n\n{\n  "content-length": ["123"],\n  "content-type": ["application/json; charset=utf-8"]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nheader           value                             optionality   notes\ncontent-length   length of response content        conditional   applicable only if the http response contains json body\ncontent-type     application/json; charset=utf-8   conditional   applicable only if the http response contains json body\n\n# custom request headers\n\n{\n  "x-api-key": ["a4db08b7-5729-4ba9-8c08-f2df493465a1"],\n  "x-user-bearer": ["bearer rst5ojbzrn430zqmlgv3ia"],\n  "x-date": ["2017-07-21t17:32:28z"],\n  "x-client-id": ["12345"],\n  "x-content-hash": ["7f83b1657ff1fc53b92dc18148a1d65dfc2d4b1fa3d677284addd200126d9069"],\n  "x-correlationid": ["d820237c-aa97-47e7-9704-1bc6d8ecad2d"],\n  "x-user-credential-1": ["1234"],\n  "x-user-credential-2": ["password"],\n  "x-channel": ["web"],\n  "x-callback-url": ["https://application.com/callback"]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nheader                value                                                          optionality   notes\nx-api-key             used to pass pre-shared client\'s api key to the server         conditional   only required when api client authentication based on api\n                                                                                                   key is used.\nx-user-bearer         used to pass user’s access token                               conditional   only required when oauth 2.0/oidc authorisation framework is\n                                                                                                   used for end-user authentication.\nx-date                {the date and time that the message was sent in http-date      conditional   used for basic message integrity checks.\n                      format - rfc 7231}\nx-client-id           used to pass pre-shared client\'s identifier to the server      conditional   can be used in addition to x-api-key.\nx-content-hash        sha-256 hex digest of the request content (encrypted or        conditional   applicable only if the http request contains json body and\n                      plain)                                                                       basic data integrity checking is to be performed.\nx-correlationid       uuid                                                           conditional   please refer to client correlation id.\nx-user-credential-1   contains an authentication credential of the end user (e.g.    conditional   should only be used when oauth 2.0/oidc authorisation\n                      pin, password).                                                              framework has not been implemented by the api provider.\nx-user-credential-2   contains an authentication credential of the end user (e.g.    conditional   should only be used when oauth 2.0/oidc authorisation\n                      pin, password). can be used when a second credential is                      framework has not been implemented by the api provider.\n                      required.\nx-channel             string containing the channel that was used to originate the   conditional   used to identify the api invocation channel.\n                      request. for example, ussd, web, app.\nx-callback-url        string containing the url which should receive the callback    conditional   will only be used by the api provider if they have\n                      for asynchronous requests.                                                   implemented the callback method.\n\n# custom response headers\n\n{\n  "x-date": ["2017-07-21t17:32:28z"]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nheader   value                                                        optionality   notes\nx-date   {the date and time that the response was sent in http-date   conditional   used for basic message integrity checks\n         format - rfc 7231}\n\n# api versioning\n\nwhen changes are made to the mobile money api, a new version is released. there are three types of api versions:\n\n * major (backwards incompatible)\n * minor (backwards compatible)\n * patch (backwards compatible)\n\nthe following types of changes are considered to be backwards compatible:\n\n * addition of new api services.\n * adding optional request properties and/or optional input parameters such as query strings to existing objects.\n * addition of new properties to existing api responses.\n * changing the order of properties within a request or response object.\n * new error codes.\n\nthe following types of changes are considered to be backwards incompatible and hence major:\n\n * introducing mandatory properties.\n * changing datatypes on properties.\n * changes to api uris/paths.\n\nthe version that a client intends to use is indicated in the path. format is ‘x.y.z’ where ‘x’ is the major version, ‘y’ is the minor version and ‘z’ is a patch version. versions are sequentially numbered. when a major version is incremented, the minor version is reset to zero.\n\nthe following table provides examples of api version compatibility:\n\nclient version   provider version   compatible?\n1.0.0            1.1.0              yes\n1.1.0            1.0.0              client would need to submit only 1.0.0 related payload. if\n                                    1.1.0 services, properties or parameters are supplied by the\n                                    client, the provider will reject the request.\n2.0.0            1.0.0              no\n1.0.0            2.0.0              no\n\n# amount validation\n\nthe mobile money api applies common validation to all amount properties. the following rules are applied during validation:\n\n * between zero and four decimal places can be supplied.\n * leading zeroes are not permitted except where the value is less than 1. for any value less than one, one and only one leading zero must be supplied.\n * trailing zeroes are permitted.\n * negative values are not permitted.\n * maximum value that can be supplied is 999999999999999999.9999.\n\namount validation examples are shown below.\n\nvalue                 permitted?\n5                     yes\n5.0                   yes\n5.                    no\n5.00                  yes\n5.5                   yes\n5.50                  yes\n5.5555                yes\n5.55555               no\n555555555555555555    yes\n5555555555555555555   no\n-5.5                  no\n0.5                   yes\n.5                    no\n00.5                  no\n0                     yes\n00.00                 no\n0.00                  yes\n0000001.32            no\n\n\n# api behaviour & error handling\n\nthe mobile money api manages api state and exception handling in a harmonised manner:\n\n * api behavioural model. provides standardised flows for synchronous and asynchronous processing patterns.\n * api error handling. supports use of standardised http response codes and an errors object that returns additional information as to why the request failed.\n * api heartbeat enables api provider service availability to be established by clients.\n\nthe responses object enables clients to request a missing api response.\n\n\n# api behavioural model\n\n# overview\n\napi behaviour is governed by the following factors:\n\n * the resource.\n * the type of operation, i.e. create, update, or read.\n * whether the provider will process the request synchronously.\n * whether the provider implements callback or polling methods for asynchronous processing.\n\n# request state object\n\nasynchronous flows involve a callback mechanism or a polling mechanism to enable the client to determine the final state of the request. both mechanisms involve the use of the request state object as per below:\n\n * callback. a request is initiated via a http post or patch request with an intermediate response represented by a request state object. once the request has been completed, the provider will initiate a put request to the url specified by the client in the x-callback-url request header. the callback will provide the client with one of the following:\n   \n   * final representation of the resource for successful creation requests\n   * a {"result": "success"} response for successful update requests\n\n * polling. a request is initiated via a http post or patch request with an intermediate response provided in the form of the request state object. a http get is then issued against /requeststate by the client at intervals until the final resource state and resource reference is returned.\n\nthe object definition for requeststate is described below.\n\n{\n  "servercorrelationid": "878be43d-9fde-467b-a26b-889c80bf8830",\n  "objectreference": "12345",\n  "status": "pending",\n  "notificationmethod": "callback",\n  "pendingreason": "a textual description...",\n  "expirytime": "2017-07-21t17:32:28z",\n  "polllimit": 5,\n  "errorreference": {\n    "errorcategory": "businessrule",\n    "errorcode": "genericerror"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nrequeststate object properties                                                                                                    \nname                             type        description                                                          reference       validation\nservercorrelationid              string      a unique identifier issued by the provider to enable the      → na                   uuid format\n                                             client to identify the requeststate resource on subsequent    ← m\n                                             polling requests.\nobjectreference                  string      provides a reference to the subject resource, e.g.            → na                   \n                                             transaction reference.                                        ← o\nstatus                           string      indicates the status of the request.                          → na                   enumeration = pending, completed, failed\n                                                                                                           ← m\nnotificationmethod               date-time   indicates whether a callback will be issued or whether the    → na                   enumeration = callback, polling\n                                             client will need to poll.                                     ← m\npendingreason                    string      a textual description that can be provided to describe the    → na                   \n                                             reason for a pending status.                                  ← o\nexpirytime                       date-time   indicates the time by which the provider will fail the        → na                   \n                                             request if completion criteria have not been met. for an      ← o\n                                             example, a debit party failing to authorise within the\n                                             allowed time period.\npolllimit                        integer     indicates the number of poll attempts for the given           → na                   \n                                             requeststate resource that will be allowed by the provider.   ← o\nerrorreference                   object      if the asynchronous processing failed, details of the error   → na   errors object   \n                                             will be returned here.                                        ← o\n\n# generic api sequence diagrams\n\nfigures 1 to 7 illustrate the standard flows for the mobile money api. the green flows represent a success path and red flows represent a failure path.\n\nsequencediagram participant client participant provider client->>provider: http get request activate client activate provider provider->>provider: validate & process\nrequest alt failure? provider--)client: http 4xx/5xx response else success provider--)client: http 200 response end deactivate provider deactivate client\n\nfigure 1 : mobile money api generic sequence diagram for read requests\n\n\n\nsequencediagram participant client participant provider client->>provider: http post request activate client activate provider provider->>provider: validate & process\nrequest alt failure provider--)client: http 4xx/5xx response else success provider--)client: http 201 response end deactivate provider deactivate client\n\nfigure 2 : mobile money api synchronous diagram for create requests\n\n\n\nsequencediagram participant client participant provider client->>provider: http post request activate client activate provider provider->>provider: validate request alt validation failed provider--)client: http 4xx/5xx response else validation succeeded provider--)client: http 202 response, response object = requeststate, status = pending end deactivate client provider->>provider: process request activate client alt processing failed provider->>client: http put request, error object is returned alt successful response client--)provider: http 204 resposne else failure response client--)provider: http 4xx/5xx response end else processing completed provider->>client: http put request, created object is returned alt failure response client--)provider: http 4xx/5xx response else successful response client--)provider: http 204 resposne end end deactivate client deactivate provider\n\nfigure 3 : mobile money api asynchronous callback diagram for create requests\n\n\n\nsequencediagram participant client participant provider client->>provider: http post request activate client activate provider provider->>provider: validate request alt validation failed provider--)client: http 4xx/5xx response else validation succeeded provider--)client: http 202 response, response object = requeststate, status = pending end provider->>provider: process request loop until requeststate.status = completed or failed client->>provider: http get request, requested resource = requeststate alt successful response provider--)client: http 200 response, response object = requeststate, status = pending or completed or failed else failure response provider--)client: http 4xx/5xx response end end opt requeststate.status = completed note right of client: optional flow - use if the client wishes to retrieve a representation of the created resourse. client->>provider: http get request provider--)client: (refer to get sequence diagram for http response details) end deactivate client deactivate provider\n\nfigure 4 : mobile money api asynchronous polling diagram for create requests\n\n\n\nsequencediagram participant client participant provider client->>provider: http patch request activate client activate provider provider->>provider: validate & process\nrequest alt failure provider--)client: http 4xx/5xx response else success provider--)client: http 204 response end deactivate provider deactivate client\n\nfigure 5 : mobile money api synchronous diagram for update requests\n\n\n\nsequencediagram participant client participant provider client->>provider: http patch request activate client activate provider provider->>provider: validate request alt validation failed provider--)client: http 4xx/5xx response else validation succeeded provider--)client: http 202 response, response object = requeststate, status = pending end deactivate client provider->>provider: process request activate client alt processing failed provider->>client: http put request, error object is returned alt successful response client--)provider: http 204 resposne else failure response client--)provider: http 4xx/5xx response end else processing completed provider->>client: http put request, {"result":"success"} is returned alt failure response client--)provider: http 4xx/5xx response else successful response client--)provider: http 204 resposne end end deactivate client deactivate provider\n\nfigure 6 : mobile money api asynchronous callback diagram for update requests\n\n\n\nsequencediagram participant client participant provider client->>provider: http patch request activate client activate provider provider->>provider: validate request alt validation failed provider--)client: http 4xx/5xx response else validation succeeded provider--)client: http 202 response, response object = requeststate, status = pending end provider->>provider: process request loop until requeststate.status = completed or failed client->>provider: http get request, requested resource = requeststate alt successful response provider--)client: http 200 response, response object = requeststate, status = pending or completed or failed else failure response provider--)client: http 4xx/5xx response end end opt requeststate.status = completed note right of client: optional flow - use if the client wishes to retrieve a representation of the created resourse. client->>provider: http get request provider--)client: (refer to get sequence diagram for http response details) end deactivate client deactivate provider\n\nfigure 7 : mobile money api asynchronous polling diagram for update requests\n\n\n# api error handling\n\n# summary of http response codes\n\nthe following http response codes are returned for the listed methods:\n\nmethod   success   intermediate   client error    server error\nget      200       n/a            400, 401, 404   500, 503\npost     201       202            400, 401, 404   500, 503\n\ntip\n\nnote that the ‘intermediate’ column in the table above relates to the http response for the first leg of an asynchronous request.\n\n# http error response codes\n\nerror category        description                                                    http response code\nbusinessrule          the resource could not be successfully completed due a         400\n                      violation of a business rule. business rules include\n                      financial limit violations, duplicate requests, and invalid\n                      states.\nvalidation            violation of a constraint that will prevent the resource       400\n                      from being processed. examples include:\n                      - invalid property length.\n                      - failure to resolve regular expression.\nauthorisation         it was not possible to authenticate or authorise the client    401\n                      or other party to perform the service.\nidentification        the requested resource could not be matched on the system      404\n                      with the supplied identifier(s).\ninternal              the request could not be completed due to non-client related   500\n                      issues that do not constitute complete system\n                      unavailability. examples include software licence issues,\n                      unavailability of system configuration information.\nservice unavailable   the service is not currently available. this could be due to   503\n                      network issues, issues with individual components or\n                      complete systems outages. regardless of the cause, the\n                      result means that the request cannot be performed.\n\n# errors object definition\n\nthe mobile money api uses the errors object to provide error details to api clients. the following properties are included:\n\n * error category. all error codes must be associated with an appropriate category. this provides context and uniqueness to the error code.\n\n * error code. provides the reason for the request failure. error codes are generally granular, i.e. they provide a specific reason for failure. in some cases, granularity is neither possible nor desirable. where this is the case, a generic code has been defined. cases include:\n   \n   * the api provider has generated an error that does not map to existing rule error codes.\n   * the api provider wishes to avoid disclosure of confidential information regarding the resource or parties to the resource. for example, the fact that a customer has breached their monthly transaction limit may not be disclosed to specific clients.\n\n * error description. a textual description of the error code.\n\n * error parameters. provides a construct to communicate supplementary information regarding the error in key/value pairs. the supplementary information is currently non-harmonised and can include:\n   \n   * the api provider-specific error code and description.\n   * additional identification of the error subject, e.g. account identifiers, invalid properties etc…\n   * diagnostic information, e.g. affected subsystem, licence failure type etc…\n\nwith the errorparameters property, care should be taken regarding confidentially of information. confidential parameter information should only be disclosed to trusted clients.\n\n{\n  "errorcategory": "businessrule",\n  "errorcode": "genericerror",\n  "errordescription": "a textual description of the error.",\n  "errordatetime": "2017-07-21t17:32:28z",\n  "errorparameters": [\n    {\n      "key": "providedvalue",\n      "value": "+33555789123"\n    }\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nerrors object properties                                                                                                       \nname                       type        description                                                         reference           validation\nerrorcategory              string      the category grouping for the error.                          → m                       enumeration = errors categories\n                                                                                                     ← m\nerrorcode                  string      the harmonised error code identifying the reason for error.   → m                       enumeration = errors codes\n                                                                                                     ← m\nerrordescription           string      a textual description of the error.                           → o                       \n                                                                                                     ← o\nerrordatetime              date-time   the timestamp indicating when the error occurred.             → o                       \n                                                                                                     ← o\nerrorparameters            array       diagnostic information in the form of key/value pairs         → o   errors parameters   \n                                       relating to the error.                                        ← o\n\n# error parameters object\n\nallows error parameter properties to be specified in the form of key/value pairs. the number of key/value pairs is limited to 20.\n\n{\n  "errorparameters": [\n    {\n      "key": "providedvalue",\n      "value": "+33555789123"\n    }\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nerror parameters object properties                                                                                        \nname                                 type     description                                                     reference   validation\nkey                                  string   identifies the type of additional error parameter.        → m               \n                                                                                                        ← m\nvalue                                string   identifies the value of the additional error parameter.   → m               \n                                                                                                        ← m\n\n# api error codes\n\nerror category        error code                          error code description\nbusinessrule          genericerror                        a generic error code for the rule error category. this is\n                                                          used in two scenarios:\n                                                          1. the api provider has generated an error that does not map\n                                                          to existing rule error codes.\n                                                          2. the api provider wishes to avoid disclosure of\n                                                          confidential information regarding the resource or parties\n                                                          to the resource.\nbusinessrule          dailyvolumelimitexceeded            the party has exceeded their daily transacting volume limit\n                                                          - this can be a service limit or a limit that is specific to\n                                                          the party.\nbusinessrule          dailyvaluelimitexceeded             the party has exceeded their daily transacting value limit -\n                                                          this can be a service limit or a limit that is specific to\n                                                          the party.\nbusinessrule          weeklyvolumelimitexceeded           the party has exceeded their weekly transacting volume limit\n                                                          - this can be a service limit or a limit that is specific to\n                                                          the party.\nbusinessrule          weeklyvaluelimitexceeded            the party has exceeded their weekly transacting value limit\n                                                          - this can be a service limit or a limit that is specific to\n                                                          the party.\nbusinessrule          monthlyvolumelimitexceeded          the party has exceeded their monthly transacting volume\n                                                          limit - this can be a service limit or a limit that is\n                                                          specific to the party.\nbusinessrule          monthlyvaluelimitexceeded           the party has exceeded their monthly transacting value limit\n                                                          - this can be a service limit or a limit that is specific to\n                                                          the party.\nbusinessrule          accountmaxtotalvalueexceeded        the party has exceeded their cumulative transacting value\n                                                          limit defined for the account.\nbusinessrule          accountmaxtotalvolumeexceeded       the party has exceeded their cumulative transacting volume\n                                                          limit defined for the account.\nbusinessrule          lessthantransactionminvalue         the amount specified for the transaction is less than the\n                                                          defined minimum for the service.\nbusinessrule          greaterthantransactionmaxvalue      the amount specified for the transaction is greater than the\n                                                          defined maximum for the service.\nbusinessrule          maxbalanceexceeded                  the amount specified will cause the balance of the credit\n                                                          parties account to exceed the rule limit.\nbusinessrule          samepartieserror                    the debit and credit parties are the same.\nbusinessrule          duplicaterequest                    the request has previously been processed, i.e. this request\n                                                          is a duplicate and hence has been rejected.\nbusinessrule          insufficientfunds                   available funds are not sufficient to enable the party to be\n                                                          debited for the requested transaction.\nbusinessrule          incorrectstate                      the account is in a state that does not permit the requested\n                                                          service.\nbusinessrule          underpaymentnotallowed              the requested amount is less than the amount that needs to\n                                                          be supplied for this transaction\nbusinessrule          overpaymentnotallowed               the requested amount is greater than the amount that needs\n                                                          to be supplied for this transaction\nbusinessrule          ratelimiterror                      the client has submitted too many requests within a period\n                                                          of time.\nidentification        identifiererror                     the requested resource could not be matched on the system\n                                                          with the supplied identifier(s).\nvalidation            genericerror                        a generic error code for the validation error category. this\n                                                          is used in where the api provider has generated an error\n                                                          that does not map to existing validation error codes.\nvalidation            lengtherror                         the specified property contents are greater than the maximum\n                                                          allowed length or less than the minimum allowed length.\nvalidation            formaterror                         the specified property contents do not conform to the format\n                                                          required for this property.\nvalidation            negativevalue                       the amount supplied is negative and this is not allowed for\n                                                          the given service.\nvalidation            currencynotsupported                the currency supplied is not supported by the api provider.\nvalidation            mandatoryvaluenotsupplied           a mandatory value has not been provided in the header and/or\n                                                          json body.\nauthorisation         clientauthorisationerror            general client authentication failure. no further details\n                                                          provided to prevent leakage of security information.\nauthorisation         requestdeclined                     the debit party did not approve the request.\nauthorisation         requestingpartyauthorisationerror   the party requesting the service has not provided the right\n                                                          credentials and/or does not have permission to perform this\n                                                          service.\ninternal              genericerror                        the request could not be completed due to a non-client\n                                                          related issues that do not constitute complete system\n                                                          unavailability. examples include software licence issues,\n                                                          unavailability of system configuration information.\nservice unavailable   genericerror                        the service is not currently available. this could be due to\n                                                          network issues, issues with individual components or\n                                                          complete systems outages. regardless of the cause, the\n                                                          result means that the request cannot be performed.\n\n\n# api heartbeat\n\nthe heartbeat api is used for monitoring purposes and establishes whether the system of an api provider is in a state that enables a client to submit a request for processing within established slas. there are three states that can be returned by the api provider in response to a heartbeat request:\n\n * available. the system is available and can receive and complete requests within slas.\n * degraded. the system can receive and complete requests but not within slas, i.e. delay in transaction processing is anticipated. when known, the expected processing delay time can be returned by the provider.\n * unavailable. the system cannot receive and process requests. any submitted requests will fail whilst the system is in this state.\n\nthe heartbeat can be requested using the following path:\n\n * get /heartbeat\n\nonly synchronous api heartbeat requests are supported. the http response contains the following properties.\n\n{\n  "servicestatus": "degraded",\n  "delay": 4000,\n  "plannedrestorationtime": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nheartbeat response properties                                                                                                \nname                            type        description                                                          reference   validation\nservicestatus                   string      provides the status of the requested service.                 → na               enumeration = available, unavailable, degraded\n                                                                                                          ← m\ndelay                           number      the anticipated processing delay in milliseconds.             → na               servicestatus property must be set to degraded.\n                                                                                                          ← o\nplannedrestorationtime          date-time   where the planned restoration time is known (e.g. scheduled   → na               \n                                            maintenance), it can be provided in this property.            ← o\n\n\n# missing response retrieval\n\nin some circumstances, the client may not have received the final representation of the resource for which it attempted to create. for example, a proxy server issue may have resulted in a http 5xx response but the provider may have actually successfully completed the request. the /responses api allows a client to identify and retrieve the final representation of the resource assuming that the resource was created. in order to get a representation, the client issues a get /responses/{clientcorrelationid}. the provider will then match the client correlation id to the appropriate resource and return a link to that resource. if the resource is not found for the given correlation id then a http 404 will be returned.\n\nthe response object for /responses is detailed below.\n\n{\n  "link": "https://application.com/uuid"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nresponses response properties                                                                                          \nname                            type     description                                                       reference   validation\nlink                            string   provides a url to the resource associated with the given   → na               \n                                         correlation id.                                            ← m',charsets:{}},{title:"MM API Specification v1.0",frontmatter:{pageClass:"api-page container--narrow",title:"MM API Specification v1.0"},regularPath:"/api-versions-1.0/",relativePath:"api-versions-1.0/index.md",key:"v-bafe9662",path:"/api-versions-1.0/",headersStr:null,content:"# GSMA Mobile Money API Specification v1.0\n\nWelcome to the GSMA Mobile Money API Developer Portal. The Mobile Money API is an initiative developed through collaboration between the mobile money industry and the GSMA, which provides a harmonized API Specification for all the common mobile money use cases which is both easy to use and secure. Using best practices from the technology industry in API design and security, it aims to simplify and accelerate integration with mobile money platforms and stimulate the growth of the ecosystem.\n\nThe key design principles of the API include the use of REST architectural principles, the use of the JSON data format for requests and responses, and the provision of a set of well-defined objects that are abstracted from the underlying object representations held in different mobile money systems. The API also defines a standard set of transaction types and other key enumerations, uses ISO international standards for enumerations such as currency and country codes, and provides support for supplementary metadata and sub-types for properties specific to different mobile money providers.\n\nThe Mobile Money Developer Portal provides access to the Mobile Money API Specification assets and a full suite of developer documentation and tools to facilitate developers implementing the specification, whether they are Mobile Money Providers or Service Providers building solutions for the mobile money ecosystem.\n\nThe developer documentation includes developer guides for getting started with the Mobile Money API covering API Fundamentals and API Behaviour & Error Handling and reference documentation for all APIs and supporting objects included in the specification. Developers can also access security design and implementation guidelines to ensure that best practices are applied to the connection between the API client and the API gateway, and to authenticating end users to the mobile money platform.\n\nThe developer tools include the GSMA Simulator which provides an example simulated API implementation developed to facilitate API adoption and testing, an example Authentication Gateway which adopts the best practice security recommendations of OAuth 2.0, and use case examples which include Postman Collections enabling developers to test the simulated APIs directly or through the authentication gateway.\n\nDownload Specification",normalizedContent:"# gsma mobile money api specification v1.0\n\nwelcome to the gsma mobile money api developer portal. the mobile money api is an initiative developed through collaboration between the mobile money industry and the gsma, which provides a harmonized api specification for all the common mobile money use cases which is both easy to use and secure. using best practices from the technology industry in api design and security, it aims to simplify and accelerate integration with mobile money platforms and stimulate the growth of the ecosystem.\n\nthe key design principles of the api include the use of rest architectural principles, the use of the json data format for requests and responses, and the provision of a set of well-defined objects that are abstracted from the underlying object representations held in different mobile money systems. the api also defines a standard set of transaction types and other key enumerations, uses iso international standards for enumerations such as currency and country codes, and provides support for supplementary metadata and sub-types for properties specific to different mobile money providers.\n\nthe mobile money developer portal provides access to the mobile money api specification assets and a full suite of developer documentation and tools to facilitate developers implementing the specification, whether they are mobile money providers or service providers building solutions for the mobile money ecosystem.\n\nthe developer documentation includes developer guides for getting started with the mobile money api covering api fundamentals and api behaviour & error handling and reference documentation for all apis and supporting objects included in the specification. developers can also access security design and implementation guidelines to ensure that best practices are applied to the connection between the api client and the api gateway, and to authenticating end users to the mobile money platform.\n\nthe developer tools include the gsma simulator which provides an example simulated api implementation developed to facilitate api adoption and testing, an example authentication gateway which adopts the best practice security recommendations of oauth 2.0, and use case examples which include postman collections enabling developers to test the simulated apis directly or through the authentication gateway.\n\ndownload specification",charsets:{}},{title:"Change List",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Change List"},regularPath:"/api-versions-1.2/resources/change-list.html",relativePath:"api-versions-1.2/resources/change-list.md",key:"v-70291314",path:"/api-versions-1.2/resources/change-list.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0},{level:2,title:"Bill Payment Without Bill Reference",slug:"bill-payment-without-bill-reference",normalizedTitle:"bill payment without bill reference",charIndex:963},{level:2,title:"Retrieval of Bill Payments",slug:"retrieval-of-bill-payments",normalizedTitle:"retrieval of bill payments",charIndex:1244},{level:2,title:"Retrieval of Multiple Authorisation Codes",slug:"retrieval-of-multiple-authorisation-codes",normalizedTitle:"retrieval of multiple authorisation codes",charIndex:2232},{level:2,title:"Mobile Money Customer Account Creation",slug:"mobile-money-customer-account-creation",normalizedTitle:"mobile money customer account creation",charIndex:3291},{level:2,title:"Mobile Money Customer Account Modification",slug:"mobile-money-customer-account-modification",normalizedTitle:"mobile money customer account modification",charIndex:3921},{level:2,title:"Addition of Custom Data Array",slug:"addition-of-custom-data-array",normalizedTitle:"addition of custom data array",charIndex:4862},{level:2,title:"Debit Mandate Identification",slug:"debit-mandate-identification",normalizedTitle:"debit mandate identification",charIndex:5264},{level:2,title:"Apply Consistent Usage of Date Fields",slug:"apply-consistent-usage-of-date-fields",normalizedTitle:"apply consistent usage of date fields",charIndex:5589},{level:2,title:"Add Cursor Mechanism for Bills Retrieval",slug:"add-cursor-mechanism-for-bills-retrieval",normalizedTitle:"add cursor mechanism for bills retrieval",charIndex:6337},{level:2,title:"Add Country Information to Quotations",slug:"add-country-information-to-quotations",normalizedTitle:"add country information to quotations",charIndex:7181},{level:2,title:"Add Requesting Organisation to Transactions and Quotations",slug:"add-requesting-organisation-to-transactions-and-quotations",normalizedTitle:"add requesting organisation to transactions and quotations",charIndex:7777},{level:2,title:"Code Lifetime Minimum Value for Authorisation Codes",slug:"code-lifetime-minimum-value-for-authorisation-codes",normalizedTitle:"code lifetime minimum value for authorisation codes",charIndex:8708},{level:2,title:"Miscellaneous Changes",slug:"miscellaneous-changes",normalizedTitle:"miscellaneous changes",charIndex:8872}],headersStr:"Transaction Status Update Bill Payment Without Bill Reference Retrieval of Bill Payments Retrieval of Multiple Authorisation Codes Mobile Money Customer Account Creation Mobile Money Customer Account Modification Addition of Custom Data Array Debit Mandate Identification Apply Consistent Usage of Date Fields Add Cursor Mechanism for Bills Retrieval Add Country Information to Quotations Add Requesting Organisation to Transactions and Quotations Code Lifetime Minimum Value for Authorisation Codes Miscellaneous Changes",content:'# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n   1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n   2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.\n\n\n# Bill Payment Without Bill Reference\n\nNew endpoints have been created to allow a bill payment to be accepted by a service provider without a bill reference:\n\n * POST /accounts/{identifierType}/{identifier}/bills/payments.\n * POST /accounts/{Account Identifiers}/bills/payments.\n\n\n# Retrieval of Bill Payments\n\nAdded new endpoints to allow API clients to retrieve a bill payment:\n\n * GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments.\n * GET /accounts/{Account Identifiers}/bills/{billReference}/payments.\n\nStandard query string parameters and response headers have been included to enabled filtering of bill payments:\n\n * X-Records-Available-Count response header. Informs the client the number of records that can be returned.\n * X-Records-Returned-Count response header. Informs the client how many records have been returned.\n * limit query string. Used by the client to constrain the number of records returned.\n * offset query string. Used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. Used by the client to return records within a date range based on creationDate.\n * todatetime query string. Used by the client to return records within a date range based on creationDate.\n\n\n# Retrieval of Multiple Authorisation Codes\n\nAllows multiple authorisation codes to be retrieved for a given account via the following new endpoints:\n\n * GET /accounts/{identifierType}/{identifier}/authorisationcodes.\n * GET /accounts/{Account Identifiers}/authorisationcodes.\n\nStandard query string parameters and response headers have been included to enabled filtering of authorisation codes:\n\n * X-Records-Available-Count response header. Informs the client the number of records that can be returned.\n * X-Records-Returned-Count response header. Informs the client how many records have been returned.\n * limit query string. Used by the client to constrain the number of records returned.\n * offset query string. Used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. Used by the client to return records within a date range.\n * todatetime query string. Used by the client to return records within a date range.\n\nAlso added a ‘codestate’ filter to return authorisation codes for a given state.\n\n\n# Mobile Money Customer Account Creation\n\nAdded new endpoints and associated objects to allow account creation for mobile money customers:\n\n * POST /accounts/{identityType}. Allows for account creation. The identity type initially supports ‘individual’ only, but in future could be extended to support creation of other types such as ‘merchant’.\n * GET /accounts/{accountIdentifierType}/{identifier}. Allows for a specific account and associated identities to be retrieved for a given account.\n * GET /accounts/{Account Identifiers}. As per above, but supports identification of the account using one, two or three identifiers.\n\n\n# Mobile Money Customer Account Modification\n\nAdded new endpoints to enable the update of customer mobile money account and associated account identity information:\n\n * PATCH /accounts/{identifierType}/{identifier}. Allows account modification for a given account identifier/type.\n * PATCH /accounts/{Account Identifiers}. As per above, but supports identification of the account using one, two or three identifiers.\n * PATCH /accounts/{identifierType}/{identifier}/identities/{identityId}. Allows identity modification for a given account identifier/type.\n * PATCH /accounts/{Account Identifiers}/identities/{identityId}. As per above, but supports identification of the account using one, two or three identifiers.\n\nThe following fields are modifiable:\n\n * Account Fields\n   \n   * accountStatus\n   * accountSubstatus\n\n * Account Identity Fields\n   \n   * identityStatus\n   * kycVerificationStatus\n   * kycVerificationEntity\n   * kycLevel\n\n\n# Addition of Custom Data Array\n\nAdded a key/value array that can accept and return provider-specific data to all relevant endpoints:\n\nThe following objects have been modified to accept customData:\n\n * Transaction\n * Reversal\n * Batch Transaction\n * Batch Rejection\n * Batch Completion\n * Statement Entry\n * Bill\n * Bill Payment\n * Debit Mandate\n * Link\n * Authorisation Code\n * Quotation\n * Account\n\n\n# Debit Mandate Identification\n\nThe /debitmandates endpoints have been modified to explicitly identify the payee for a debit mandate as per the following example:\n\n  "payee": [\n    {\n      "key": "msisdn",\n      "value": "+33555123456"\n    }\n  ],\n\n\nThe payer (subject of the mandate) will always be identified in the path.\n\n\n# Apply Consistent Usage of Date Fields\n\nAdded the following missing fields to the following objects to provide consistency across objects.\n\nOBJECT               REQUESTDATE   CREATIONDATE   MODIFICATIONDATE\nBatch Transaction    Add                          Add\nBill Payment         Add           Add            Add\nLink                 Add           Add            Add\nAuthorisation Code                 Add            Add\n\nrequestDate is optional on request and response.\n\ncreationDate is not applicable on request and optional on response.\n\nmodificationDate is not applicable on request and optional on response.\n\nModified all object implementations of the above fields to ensure optionality is correct and consistent across all objects/APIs.\n\n\n# Add Cursor Mechanism for Bills Retrieval\n\nApplied standard MM API response headers and query strings on the accounts/{accountId}/bills and /accounts/{identifierType}/{identifier}/bills endpoints:\n\n * X-Records-Available-Count response header. Informs the client the number of records that can be returned.\n * X-Records-Returned-Count response header. Informs the client how many records have been returned.\n * limit query string. Used by the client to constrain the number of records returned.\n * offset query string. Used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. Used by the client to return records within a date range.\n * todatetime query string. Used by the client to return records within a date range.\n\nThe creationDate field has also been added to the bills object.\n\n\n# Add Country Information to Quotations\n\nAdded originCountry and receivingCountry to the Quotation object so that they can be populated when using the /quotations endpoints. receivingCountry and originCountry are optional in the request and response as they only apply to international quotations.\n\nTo clearly differentiate between the country in which the transaction originated and the country in which the sending service provider resides, created a new optional field – sendingServiceProviderCountry and added this to the Quotation Object and the International Transfer Information object.\n\n\n# Add Requesting Organisation to Transactions and Quotations\n\nAdded requestingOrganisation to all objects that can be created or updated for complete consistency. For clarity these are:\n\n * Transaction\n * Batch Transaction\n * Reversal\n * Quotation.\n * Link\n * Debit Mandate\n * Authorisation Code\n\nNote that requestingOrganisation already exists on Bill Payment and is unchanged.\n\nThe new requestingOrganisation field is an object and consists of the following sub-fields:\n\n * requestingorganisationIdentifierType (can be swiftbic, lei, or organisationid)\n * requestingorganisationIdentifier\n\nAs a result of the inclusion of the requestingOrganisation field and also the introduction of X-Account-Holding-Institution-Identifier in v1.1, there is no longer a need for requestingLei and receivingLei fields in the transaction object. As such, these fields have been marked as deprecated for final removal in the next major release.\n\n\n# Code Lifetime Minimum Value for Authorisation Codes\n\nAdded minimum value to ensure that codeLifetime is greater than zero when supplied on /debitmandates APIs.\n\n\n# Miscellaneous Changes\n\n * The /transactions API has been marked as deprecated and will be removed in the next major release. Use /transactions/type/{type} instead.\n * Request and Response fields have been reordered for readability.\n * Regular expression for account identifier verification has been simplified. This change also removes issues when using a YAML parser to verify the OAS specification.\n * Reconstructed the conditionality of debitParty and creditParty in the transactions OAS objects to make correct use of the allOf and anyOf OAS keywords.\n * Added additional textual information to OAS schema fields and APIs to align with the document version more closely.',normalizedContent:'# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n   1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n   2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.\n\n\n# bill payment without bill reference\n\nnew endpoints have been created to allow a bill payment to be accepted by a service provider without a bill reference:\n\n * post /accounts/{identifiertype}/{identifier}/bills/payments.\n * post /accounts/{account identifiers}/bills/payments.\n\n\n# retrieval of bill payments\n\nadded new endpoints to allow api clients to retrieve a bill payment:\n\n * get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments.\n * get /accounts/{account identifiers}/bills/{billreference}/payments.\n\nstandard query string parameters and response headers have been included to enabled filtering of bill payments:\n\n * x-records-available-count response header. informs the client the number of records that can be returned.\n * x-records-returned-count response header. informs the client how many records have been returned.\n * limit query string. used by the client to constrain the number of records returned.\n * offset query string. used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. used by the client to return records within a date range based on creationdate.\n * todatetime query string. used by the client to return records within a date range based on creationdate.\n\n\n# retrieval of multiple authorisation codes\n\nallows multiple authorisation codes to be retrieved for a given account via the following new endpoints:\n\n * get /accounts/{identifiertype}/{identifier}/authorisationcodes.\n * get /accounts/{account identifiers}/authorisationcodes.\n\nstandard query string parameters and response headers have been included to enabled filtering of authorisation codes:\n\n * x-records-available-count response header. informs the client the number of records that can be returned.\n * x-records-returned-count response header. informs the client how many records have been returned.\n * limit query string. used by the client to constrain the number of records returned.\n * offset query string. used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. used by the client to return records within a date range.\n * todatetime query string. used by the client to return records within a date range.\n\nalso added a ‘codestate’ filter to return authorisation codes for a given state.\n\n\n# mobile money customer account creation\n\nadded new endpoints and associated objects to allow account creation for mobile money customers:\n\n * post /accounts/{identitytype}. allows for account creation. the identity type initially supports ‘individual’ only, but in future could be extended to support creation of other types such as ‘merchant’.\n * get /accounts/{accountidentifiertype}/{identifier}. allows for a specific account and associated identities to be retrieved for a given account.\n * get /accounts/{account identifiers}. as per above, but supports identification of the account using one, two or three identifiers.\n\n\n# mobile money customer account modification\n\nadded new endpoints to enable the update of customer mobile money account and associated account identity information:\n\n * patch /accounts/{identifiertype}/{identifier}. allows account modification for a given account identifier/type.\n * patch /accounts/{account identifiers}. as per above, but supports identification of the account using one, two or three identifiers.\n * patch /accounts/{identifiertype}/{identifier}/identities/{identityid}. allows identity modification for a given account identifier/type.\n * patch /accounts/{account identifiers}/identities/{identityid}. as per above, but supports identification of the account using one, two or three identifiers.\n\nthe following fields are modifiable:\n\n * account fields\n   \n   * accountstatus\n   * accountsubstatus\n\n * account identity fields\n   \n   * identitystatus\n   * kycverificationstatus\n   * kycverificationentity\n   * kyclevel\n\n\n# addition of custom data array\n\nadded a key/value array that can accept and return provider-specific data to all relevant endpoints:\n\nthe following objects have been modified to accept customdata:\n\n * transaction\n * reversal\n * batch transaction\n * batch rejection\n * batch completion\n * statement entry\n * bill\n * bill payment\n * debit mandate\n * link\n * authorisation code\n * quotation\n * account\n\n\n# debit mandate identification\n\nthe /debitmandates endpoints have been modified to explicitly identify the payee for a debit mandate as per the following example:\n\n  "payee": [\n    {\n      "key": "msisdn",\n      "value": "+33555123456"\n    }\n  ],\n\n\nthe payer (subject of the mandate) will always be identified in the path.\n\n\n# apply consistent usage of date fields\n\nadded the following missing fields to the following objects to provide consistency across objects.\n\nobject               requestdate   creationdate   modificationdate\nbatch transaction    add                          add\nbill payment         add           add            add\nlink                 add           add            add\nauthorisation code                 add            add\n\nrequestdate is optional on request and response.\n\ncreationdate is not applicable on request and optional on response.\n\nmodificationdate is not applicable on request and optional on response.\n\nmodified all object implementations of the above fields to ensure optionality is correct and consistent across all objects/apis.\n\n\n# add cursor mechanism for bills retrieval\n\napplied standard mm api response headers and query strings on the accounts/{accountid}/bills and /accounts/{identifiertype}/{identifier}/bills endpoints:\n\n * x-records-available-count response header. informs the client the number of records that can be returned.\n * x-records-returned-count response header. informs the client how many records have been returned.\n * limit query string. used by the client to constrain the number of records returned.\n * offset query string. used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. used by the client to return records within a date range.\n * todatetime query string. used by the client to return records within a date range.\n\nthe creationdate field has also been added to the bills object.\n\n\n# add country information to quotations\n\nadded origincountry and receivingcountry to the quotation object so that they can be populated when using the /quotations endpoints. receivingcountry and origincountry are optional in the request and response as they only apply to international quotations.\n\nto clearly differentiate between the country in which the transaction originated and the country in which the sending service provider resides, created a new optional field – sendingserviceprovidercountry and added this to the quotation object and the international transfer information object.\n\n\n# add requesting organisation to transactions and quotations\n\nadded requestingorganisation to all objects that can be created or updated for complete consistency. for clarity these are:\n\n * transaction\n * batch transaction\n * reversal\n * quotation.\n * link\n * debit mandate\n * authorisation code\n\nnote that requestingorganisation already exists on bill payment and is unchanged.\n\nthe new requestingorganisation field is an object and consists of the following sub-fields:\n\n * requestingorganisationidentifiertype (can be swiftbic, lei, or organisationid)\n * requestingorganisationidentifier\n\nas a result of the inclusion of the requestingorganisation field and also the introduction of x-account-holding-institution-identifier in v1.1, there is no longer a need for requestinglei and receivinglei fields in the transaction object. as such, these fields have been marked as deprecated for final removal in the next major release.\n\n\n# code lifetime minimum value for authorisation codes\n\nadded minimum value to ensure that codelifetime is greater than zero when supplied on /debitmandates apis.\n\n\n# miscellaneous changes\n\n * the /transactions api has been marked as deprecated and will be removed in the next major release. use /transactions/type/{type} instead.\n * request and response fields have been reordered for readability.\n * regular expression for account identifier verification has been simplified. this change also removes issues when using a yaml parser to verify the oas specification.\n * reconstructed the conditionality of debitparty and creditparty in the transactions oas objects to make correct use of the allof and anyof oas keywords.\n * added additional textual information to oas schema fields and apis to align with the document version more closely.',charsets:{}},{title:"MM API Specification v1.2",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"MM API Specification v1.2"},regularPath:"/api-versions-1.2/",relativePath:"api-versions-1.2/index.md",key:"v-f7ba786a",path:"/api-versions-1.2/",headersStr:null,content:"# GSMA Mobile Money API Specification v1.2\n\nWelcome to the GSMA Mobile Money API Developer Portal. The Mobile Money API is an initiative developed through collaboration between the mobile money industry and the GSMA, which provides a harmonized API Specification for all the common mobile money use cases which is both easy to use and secure. Using best practices from the technology industry in API design and security, it aims to simplify and accelerate integration with mobile money platforms and stimulate the growth of the ecosystem.\n\nThe key design principles of the API include the use of REST architectural principles, the use of the JSON data format for requests and responses, and the provision of a set of well-defined objects that are abstracted from the underlying object representations held in different mobile money systems. The API also defines a standard set of transaction types and other key enumerations, uses ISO international standards for enumerations such as currency and country codes, and provides support for supplementary metadata and sub-types for properties specific to different mobile money providers.\n\nThe Mobile Money Developer Portal provides access to the Mobile Money API Specification assets and a full suite of developer documentation and tools to facilitate developers implementing the specification, whether they are Mobile Money Providers or Service Providers building solutions for the mobile money ecosystem.\n\nThe developer documentation includes developer guides for getting started with the Mobile Money API covering API Fundamentals and API Behaviour & Error Handling and reference documentation for all APIs and supporting objects included in the specification. Developers can also access security design and implementation guidelines to ensure that best practices are applied to the connection between the API client and the API gateway, and to authenticating end users to the mobile money platform.\n\nThe developer tools include the GSMA Simulator which provides an example simulated API implementation developed to facilitate API adoption and testing, an example Authentication Gateway which adopts the best practice security recommendations of OAuth 2.0, and use case examples which include Postman Collections enabling developers to test the simulated APIs directly or through the authentication gateway.",normalizedContent:"# gsma mobile money api specification v1.2\n\nwelcome to the gsma mobile money api developer portal. the mobile money api is an initiative developed through collaboration between the mobile money industry and the gsma, which provides a harmonized api specification for all the common mobile money use cases which is both easy to use and secure. using best practices from the technology industry in api design and security, it aims to simplify and accelerate integration with mobile money platforms and stimulate the growth of the ecosystem.\n\nthe key design principles of the api include the use of rest architectural principles, the use of the json data format for requests and responses, and the provision of a set of well-defined objects that are abstracted from the underlying object representations held in different mobile money systems. the api also defines a standard set of transaction types and other key enumerations, uses iso international standards for enumerations such as currency and country codes, and provides support for supplementary metadata and sub-types for properties specific to different mobile money providers.\n\nthe mobile money developer portal provides access to the mobile money api specification assets and a full suite of developer documentation and tools to facilitate developers implementing the specification, whether they are mobile money providers or service providers building solutions for the mobile money ecosystem.\n\nthe developer documentation includes developer guides for getting started with the mobile money api covering api fundamentals and api behaviour & error handling and reference documentation for all apis and supporting objects included in the specification. developers can also access security design and implementation guidelines to ensure that best practices are applied to the connection between the api client and the api gateway, and to authenticating end users to the mobile money platform.\n\nthe developer tools include the gsma simulator which provides an example simulated api implementation developed to facilitate api adoption and testing, an example authentication gateway which adopts the best practice security recommendations of oauth 2.0, and use case examples which include postman collections enabling developers to test the simulated apis directly or through the authentication gateway.",charsets:{}},{title:"API Service Definition",frontmatter:{sidebarDepth:2,pageClass:"api-page has-code-panel",title:"API Service Definition"},regularPath:"/api-versions-1.2/resources/api-service-definition.html",relativePath:"api-versions-1.2/resources/api-service-definition.md",key:"v-1072a010",path:"/api-versions-1.2/resources/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:804},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2331},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:2816},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:13347},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:14291},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:14557},{level:3,title:"Batch Transactions",slug:"batch-transactions",normalizedTitle:"batch transactions",charIndex:23134},{level:4,title:"Batch Transactions Workflow",slug:"batch-transactions-workflow",normalizedTitle:"batch transactions workflow",charIndex:23632},{level:5,title:"One-Shot Batch Processing",slug:"one-shot-batch-processing",normalizedTitle:"one-shot batch processing",charIndex:25293},{level:5,title:"Batch Processing with Maker/Checker",slug:"batch-processing-with-maker-checker",normalizedTitle:"batch processing with maker/checker",charIndex:26390},{level:3,title:"Batch Transactions API",slug:"batch-transactions-api",normalizedTitle:"batch transactions api",charIndex:28441},{level:4,title:"Batch Transaction Object UML Diagram",slug:"batch-transaction-object-uml-diagram",normalizedTitle:"batch transaction object uml diagram",charIndex:29065},{level:4,title:"Batch Transaction Object Definition",slug:"batch-transaction-object-definition",normalizedTitle:"batch transaction object definition",charIndex:29607},{level:3,title:"Batch Rejections API",slug:"batch-rejections-api",normalizedTitle:"batch rejections api",charIndex:35173},{level:4,title:"Batch Rejection UML Class Diagram",slug:"batch-rejection-uml-class-diagram",normalizedTitle:"batch rejection uml class diagram",charIndex:36799},{level:4,title:"Batch Rejection Object Definition",slug:"batch-rejection-object-definition",normalizedTitle:"batch rejection object definition",charIndex:37056},{level:3,title:"Batch Completions API",slug:"batch-completions-api",normalizedTitle:"batch completions api",charIndex:39902},{level:4,title:"Batch Completion UML Class Diagram",slug:"batch-completion-uml-class-diagram",normalizedTitle:"batch completion uml class diagram",charIndex:41491},{level:4,title:"Batch Completion Object Definition",slug:"batch-completion-object-definition",normalizedTitle:"batch completion object definition",charIndex:41753},{level:3,title:"Accounts APIs",slug:"accounts-apis",normalizedTitle:"accounts apis",charIndex:44594},{level:4,title:"Identifying a Target Account",slug:"identifying-a-target-account",normalizedTitle:"identifying a target account",charIndex:44783},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:44936},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:45119},{level:4,title:"Account Creation",slug:"account-creation",normalizedTitle:"account creation",charIndex:45616},{level:4,title:"Account Retrieval",slug:"account-retrieval",normalizedTitle:"account retrieval",charIndex:46282},{level:4,title:"Account Update",slug:"account-update",normalizedTitle:"account update",charIndex:46495},{level:5,title:"Account-Level Updates",slug:"account-level-updates",normalizedTitle:"account-level updates",charIndex:46513},{level:5,title:"Identity-Level Updates",slug:"identity-level-updates",normalizedTitle:"identity-level updates",charIndex:47491},{level:4,title:"Account UML Diagram",slug:"account-uml-diagram",normalizedTitle:"account uml diagram",charIndex:49608},{level:4,title:"Account Object Definition",slug:"account-object-definition",normalizedTitle:"account object definition",charIndex:49987},{level:4,title:"Retrieving Transactions for an Account",slug:"retrieving-transactions-for-an-account",normalizedTitle:"retrieving transactions for an account",charIndex:55995},{level:5,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:58093},{level:4,title:"Accounts Status API",slug:"accounts-status-api",normalizedTitle:"accounts status api",charIndex:58628},{level:5,title:"Account Status UML Class Diagram",slug:"account-status-uml-class-diagram",normalizedTitle:"account status uml class diagram",charIndex:58951},{level:5,title:"Account Status Object Definition",slug:"account-status-object-definition",normalizedTitle:"account status object definition",charIndex:59081},{level:4,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:60721},{level:5,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:61088},{level:4,title:"Account Holder Name API",slug:"account-holder-name-api",normalizedTitle:"account holder name api",charIndex:63844},{level:5,title:"Account Holder Name UML Class Diagram",slug:"account-holder-name-uml-class-diagram",normalizedTitle:"account holder name uml class diagram",charIndex:64107},{level:5,title:"Account Holder Name Object Definition",slug:"account-holder-name-object-definition",normalizedTitle:"account holder name object definition",charIndex:64253},{level:4,title:"Account Statement Entries API",slug:"account-statement-entries-api",normalizedTitle:"account statement entries api",charIndex:65358},{level:5,title:"Account Statement Entry UML Class Diagram",slug:"account-statement-entry-uml-class-diagram",normalizedTitle:"account statement entry uml class diagram",charIndex:67842},{level:5,title:"Account Statement Entry Object Definition",slug:"account-statement-entry-object-definition",normalizedTitle:"account statement entry object definition",charIndex:68222},{level:3,title:"Bills API",slug:"bills-api",normalizedTitle:"bills api",charIndex:72850},{level:4,title:"Bill UML Class Diagram",slug:"bill-uml-class-diagram",normalizedTitle:"bill uml class diagram",charIndex:74776},{level:4,title:"Bill Object Definition",slug:"bill-object-definition",normalizedTitle:"bill object definition",charIndex:74910},{level:3,title:"Bill Payments API",slug:"bill-payments-api",normalizedTitle:"bill payments api",charIndex:78521},{level:4,title:"Bill Payment UML Class Diagram",slug:"bill-payment-uml-class-diagram",normalizedTitle:"bill payment uml class diagram",charIndex:81309},{level:4,title:"Bill Payment Object Definition",slug:"bill-payment-object-definition",normalizedTitle:"bill payment object definition",charIndex:81642},{level:3,title:"Bill Companies API",slug:"bill-companies-api",normalizedTitle:"bill companies api",charIndex:87942},{level:4,title:"Bill Company UML Class Diagram",slug:"bill-company-uml-class-diagram",normalizedTitle:"bill company uml class diagram",charIndex:89454},{level:4,title:"Bill Company Object Definition",slug:"bill-company-object-definition",normalizedTitle:"bill company object definition",charIndex:89731},{level:3,title:"Debit Mandates API",slug:"debit-mandates-api",normalizedTitle:"debit mandates api",charIndex:91846},{level:4,title:"Debit Mandate UML Class Diagram",slug:"debit-mandate-uml-class-diagram",normalizedTitle:"debit mandate uml class diagram",charIndex:94085},{level:4,title:"Debit Mandate Object Definition",slug:"debit-mandate-object-definition",normalizedTitle:"debit mandate object definition",charIndex:94312},{level:3,title:"Links API",slug:"links-api",normalizedTitle:"links api",charIndex:98972},{level:4,title:"Link UML Class Diagram",slug:"link-uml-class-diagram",normalizedTitle:"link uml class diagram",charIndex:100400},{level:4,title:"Link Object Definition",slug:"link-object-definition",normalizedTitle:"link object definition",charIndex:100551},{level:3,title:"Authorisation Codes API",slug:"authorisation-codes-api",normalizedTitle:"authorisation codes api",charIndex:103723},{level:4,title:"Authorisation Code UML Class Diagram",slug:"authorisation-code-uml-class-diagram",normalizedTitle:"authorisation code uml class diagram",charIndex:107433},{level:4,title:"Authorisation Code Object Definition",slug:"authorisation-code-object-definition",normalizedTitle:"authorisation code object definition",charIndex:107805},{level:3,title:"Quotations API",slug:"quotations-api",normalizedTitle:"quotations api",charIndex:113640},{level:4,title:"Quotation UML Class Diagram",slug:"quotation-uml-class-diagram",normalizedTitle:"quotation uml class diagram",charIndex:116616},{level:4,title:"Quotation Object Definition",slug:"quotation-object-definition",normalizedTitle:"quotation object definition",charIndex:117053},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:125459},{level:3,title:"International Transfer Information Object",slug:"international-transfer-information-object",normalizedTitle:"international transfer information object",charIndex:125482},{level:3,title:"KYC Information Object",slug:"kyc-information-object",normalizedTitle:"kyc information object",charIndex:129038},{level:3,title:"Name Object",slug:"name-object",normalizedTitle:"name object",charIndex:133205},{level:3,title:"Id Document Object",slug:"id-document-object",normalizedTitle:"id document object",charIndex:134899},{level:3,title:"Address Object",slug:"address-object",normalizedTitle:"address object",charIndex:137367},{level:3,title:"Account Identifier Object",slug:"account-identifier-object",normalizedTitle:"account identifier object",charIndex:138966},{level:3,title:"Identity Object",slug:"identity-object",normalizedTitle:"identity object",charIndex:140086},{level:3,title:"Quote Object",slug:"quote-object",normalizedTitle:"quote object",charIndex:143099},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:146642},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:147639},{level:3,title:"Supplementary Bill Reference Object",slug:"supplementary-bill-reference-object",normalizedTitle:"supplementary bill reference object",charIndex:148628},{level:3,title:"Transaction Type Object",slug:"transaction-type-object",normalizedTitle:"transaction type object",charIndex:149784},{level:3,title:"Channel Type Object",slug:"channel-type-object",normalizedTitle:"channel type object",charIndex:150699},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:151278},{level:3,title:"Commission Object",slug:"commission-object",normalizedTitle:"commission object",charIndex:152282},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:153374},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:154385},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:154402},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:154778},{level:3,title:"ID Types",slug:"id-types",normalizedTitle:"id types",charIndex:155999},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:157130},{level:3,title:"ISO Country Codes",slug:"iso-country-codes",normalizedTitle:"iso country codes",charIndex:162898},{level:3,title:"Delivery Method Types",slug:"delivery-method-types",normalizedTitle:"delivery method types",charIndex:163238},{level:3,title:"Frequency Type",slug:"frequency-type",normalizedTitle:"frequency type",charIndex:163839}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Batch Transactions Batch Transactions Workflow One-Shot Batch Processing Batch Processing with Maker/Checker Batch Transactions API Batch Transaction Object UML Diagram Batch Transaction Object Definition Batch Rejections API Batch Rejection UML Class Diagram Batch Rejection Object Definition Batch Completions API Batch Completion UML Class Diagram Batch Completion Object Definition Accounts APIs Identifying a Target Account Single Identifier Method Multiple Identifiers Method Account Creation Account Retrieval Account Update Account-Level Updates Identity-Level Updates Account UML Diagram Account Object Definition Retrieving Transactions for an Account Account Transaction UML Class Diagram Accounts Status API Account Status UML Class Diagram Account Status Object Definition Account Balances API Account Balance UML Class Diagram Account Holder Name API Account Holder Name UML Class Diagram Account Holder Name Object Definition Account Statement Entries API Account Statement Entry UML Class Diagram Account Statement Entry Object Definition Bills API Bill UML Class Diagram Bill Object Definition Bill Payments API Bill Payment UML Class Diagram Bill Payment Object Definition Bill Companies API Bill Company UML Class Diagram Bill Company Object Definition Debit Mandates API Debit Mandate UML Class Diagram Debit Mandate Object Definition Links API Link UML Class Diagram Link Object Definition Authorisation Codes API Authorisation Code UML Class Diagram Authorisation Code Object Definition Quotations API Quotation UML Class Diagram Quotation Object Definition Supporting Objects International Transfer Information Object KYC Information Object Name Object Id Document Object Address Object Account Identifier Object Identity Object Quote Object Metadata Object Custom Data Object Supplementary Bill Reference Object Transaction Type Object Channel Type Object Fees Object Commission Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types ID Types Account Identifiers ISO Country Codes Delivery Method Types Frequency Type",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is an array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nThe Transactions APIs are used to support mobile money financial transaction use cases. Transactions are used for a wide range of use cases including merchant payments, international transfers, domestic transfers, and agent cash-in/cash-out.\n\nThe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nPOST        POST                                         To be used for transaction creation when the provider’s API\n            /transactions/type/{transactiontype}         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET                                          To view a transaction.\n            /transactions/{transactionReference}\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Transaction "1" *-- "0..20" Metadata Transaction "1" *-- "0..2" KYC Information Transaction "1" *-- "0..1" International Transfer Information KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name\n\nFigure 2-1 Transaction UML Class Diagram\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                                  \nName                                         Type        Description                                                           Reference                            Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                        \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                         \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                         \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers                  creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                         debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers                  debitParty must be supplied if creditParty is omitted. If\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                         creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                         Enumeration = Transaction Types\n                                                         the URL).                                                      ← M                                         Note that only Reversals and Refunds (adjustments) are\n                                                                                                                                                                    supported.\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                         \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                        \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                         Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                         validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                         Enumeration = ISO Currency Codes.\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                         \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                          \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                         \n                                                         was initiated.                                                 ← O\ninternationalTransferInformation             object      A collection of fields detailing information specifically      → O    International Transfer Information   \n                                                         used for international transfers.                              ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                         \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrecipientKyc                                 object      A collection of fields detailing the KYC of the transaction    → O    KYC Information                      \n                                                         recipient.                                                     ← O\nsenderKyc                                    object      A collection of fields detailing the KYC of the transaction    → O    KYC Information                      \n                                                         sender.                                                        ← O\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation              \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                         \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                        \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                        \n                                                         Provider.                                                      ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                        \n                                                         Provider.                                                      ← O\nrequestDate                                  date-time   The date and time of the transaction request as supplied by    → O                                         \n                                                         the client                                                     ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object                   \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                             \n                                                         populate additional properties that describe administrative    ← O\n                                                         information regarding the transaction.\n\n\n# Reversals API\n\nThe Reversals API is used to reverse, adjust or refund a financial transaction. The originating transaction reference must be provided in the path in order to identify the transaction to be reversed. For a partial reversal, the amount needs to be supplied. It should be noted that some API providers do not support partial reversals and will return an error if a partial amount is supplied.\n\nFor viewing and updating reversals, the Transactions API should be used.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Credit Party Identifier "0..10" --* "" Reversal Debit Party Identifier "0..10" --* "" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\nFigure 2-2 Reversal UML Class Diagram\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nREVERSAL OBJECT                                                                                                                                          \nName                                         Type        Description                                                           Reference                 Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                             \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                              \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → NA                             \n                                                         transaction which is the subject of the reversal.              ← M\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → O    Account Identifiers       \n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← O\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → O    Account Identifiers       \n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← O\ntype                                         string      The harmonised Transaction Type.                               → M                              Enumeration = Transaction Types\n                                                                                                                        ← M                              Note that only Reversals and Refunds (adjustments) are\n                                                                                                                                                         supported.\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                              \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                             \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → O                              Please refer to API Fundamentals document for amount\n                                                                                                                        ← O                              validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → O                              Enumeration = ISO Currency Codes.\n                                                                                                                        ← O\ndescriptionText                              string      Free format text description of the transaction provided by    → O                              \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object               \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                              \n                                                         was initiated.                                                 ← O\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                              \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                             \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                             \n                                                         Provider.                                                      ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                             \n                                                         Provider.                                                      ← O\nrequestDate                                  date-time   The date and time of the transaction request as supplied by    → O                              \n                                                         the client                                                     ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                  \n                                                         populate additional properties that describe administrative    ← O\n                                                         information regarding the transaction.\n\n\n# Batch Transactions\n\nThe Mobile Money API allows clients to submit, approve and view batches of transactions. The following steps describe an end to end flow for processing batch transactions. Two types of processing modes are supported:\n\n * One shot processing without an approver.\n * Maker/checker approval, i.e. transactions are not completed until approved via a second API request.\n\nThe individual APIs that are referenced in the steps below are fully documented in subsequent sub-sections.\n\n# Batch Transactions Workflow\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../batchtransactions\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchTitle": "Batch_Test",\n    "batchDescription": "Testing a Batch",\n    "scheduledStartDate": "2017-07-21T17:32:28Z"\n}\n\n\n \n\n\nGET .../batchtransactions/Place your Batch Id here/completions\n\n\n \n\n\nGET .../batchtransactions/Place your Batch Id here/rejections\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n# One-Shot Batch Processing\n\nCreating a Batch\n\n 1. Client submits the batch for processing via POST /batchtransactions.\n\n 2. The client will return the requestState object indicating whether a callback will be provided or polling is required.\n\n 3. The API provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. Once parsing has completed, the API provider will set the batch status in the batchTransactions object to ‘completed’.\n\nVerifying a Batch\n\n \n\n 5. The client will be able to retrieve the batch transaction object by invoking GET /batchtransactions using the object reference provided by the requestState object. Alternatively, if Callback is specified, the client will receive the representation of the batchTransactions object to their nominated URL set in the X-Callback-URL header.\n\nIf errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via GET /batchtransactions/rejections. Successfully completed transactions can be viewed via GET /batchtransactions/completions.\n\n# Batch Processing with Maker/Checker\n\nCreating a Batch\n\n 1. Client submits the batch for processing via POST /batchtransactions.\n\n 2. The client will return the requestState object indicating whether a callback will be provided or polling is required.\n\n 3. The API provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. Once parsing has completed, the API provider will set the batch status in the batchTransactions object to ‘created’.\n\nVerifying a Batch\n\n 5. The client will be able to retrieve the batch transaction object by invoking GET /batchtransactions using the object reference provided by the requestState object. Alternatively, if Callback is specified, the client will receive the representation of the batchTransactions object to their nominated URL set in the X-Callback-URL header.\n\n 6. If errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via GET /batchtransactions/rejections.\n\nApproving a Batch\n\n 7.  A client can approve the batch for posting by issuing a PATCH /batchtransactions in order to update the status to ‘approved’.\n\n 8.  As per step 2, a requestState object will be returned indicating whether a callback will be provided or polling is required.\n\n 9.  The API provider will then post the transactions in the batch considering any scheduling considerations.\n\n 10. Once posting is completed, the API provider will set the batch status in the batchTransactions object to ‘completed’.\n\n 11. The client will be able to retrieve the batchTransactions object by invoking GET /batchtransactions using the object reference provided by the requestState object. Alternatively, if Callback is specified, the client will receive the representation of the batchTransactions object to their nominated URL set in the X-Callback-URL header.\n\nthe client will also be able to retrieve a list of successful transaction completions /batchtransactions/completions and transaction failures /batchtransactions/rejections.\n\n\n# Batch Transactions API\n\nThis API enables clients to submit and approve a batch of transactions. The API allows transactions of multiple types to be included in a single batch. The following paths are permitted:\n\n- Submit a batch: POST /batchtransactions\n\n- Approve a batch: PATCH /bathtransactions/{batchID}. The Batch Status needs to be set to ‘approved’.\n\n- View details regarding batch processing: GET /batchtransactions/{batchID}\n\n\n\nOnly asynchronous mode is supported for the POST and PATCH methods. For the GET method, only synchronous mode is supported.\n\nThere is a limit of 999,999 transaction records per batch.\n\n# Batch Transaction Object UML Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Transaction "0.." --* "1" Batch Transaction Transaction "1" *-- "0..20" Metadata Transaction "1" *-- "0..1" International Transfer Information KYC Information "0..2" --* "1" Transaction KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name\n\nFigure 2-3 Batch Transaction UML Class Diagram\n\n# Batch Transaction Object Definition\n\n{\n  "batchID": "d24651c4-ef6f-4c5c-af0e-468f1dc53624",\n  "batchStatus": "approved",\n  "Transactions": [\n    {\n      //transaction 1 object...\n      },\n    {\n      //transaction 2 object...\n    }\n  ]\n  "approvalDate": "2017-07-21T17:32:28Z", \n  "completionDate": "2017-07-21T17:32:28Z",\n  "batchTitle": "Batch title...",\n  "batchDescription": "Batch description...",\n  "processingFlag": true,\n  "completedCount": 3,\n  "parsingSuccessCount": 2,\n  "rejectionCount": 1,\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "scheduledStartDate": "2017-07-21T17:32:28Z",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBATCH TRANSACTION OBJECT                                                                                                               \nName                       Type        Description                                                           Reference                 Validation\nbatchID                    string      Identifier for the Batch that is assigned by the API           → NA                             \n                                       provider. This ID is used by the client on subsequent GET or   ← M\n                                       PATCH methods.\nbatchStatus                string      Indicates the status of the batch.                             → O                              Enumeration = created, approved, completed\n                                                                                                      ← M\nTransactions               array       Collection of Transactions that are to be processed. Note      → M    Transactions              \n                                       that the representation of each completed transaction can be   ← NA\n                                       retrieved via the ‘/completions API.\napprovalDate               date-time   Indicates when the batch was approved as recorded by the API   → NA                             \n                                       provider.                                                      ← M\ncompletionDate             date-time   Indicates when the batch was completed as recorded by the      → NA                             \n                                       API provider.                                                  ← M\nbatchTitle                 string      Client-provided title for the batch.                           → O                              \n                                                                                                      ← O\nbatchDescription           string      Client-provided description of the batch.                      → O                              \n                                                                                                      ← O\nprocessingFlag             boolean     Indicates whether the batch is currently undergoing            → NA                             \n                                       processing by the API Provider.                                ← O\ncompletedCount             integer     Indicates the number of records that have been successfully    → NA                             \n                                       completed.                                                     ← O\nparsingSuccessCount        integer     Indicates the number of records that have been parsed          → NA                             \n                                       successfully.                                                  ← O\nrejectionCount             integer     Indicates the number of records that have been rejected,       → NA                             \n                                       either during parsing or during final processing.              ← O\nrequestingOrganisation     object      The originating organisation of the request.                   → O    Requesting Organisation   \n                                                                                                      ← O\nscheduledStartDate         date-time   If the batch has been scheduled, the expected start time is    → O                              \n                                       provided here.                                                 ← O\ncreationDate               date-time   Indicates when the batch was created as recorded by the API    → NA                             \n                                       provider.                                                      ← O\nmodificationDate           date-time   Indicates when the batch was modified as recorded by the API   → NA                             \n                                       provider.                                                      ← O\nrequestDate                date-time   The date and time of the batch request as supplied by the      → O                              \n                                       client.                                                        ← O\ncustomData                 string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                       provider specific fields.                                      ← O\n\n\n# Batch Rejections API\n\nThis API enables clients to retrieve information on all transactions that have either failed parsing or have failed to complete. Only the GET method is supported. The path is batchtransactions/{batchID}/rejections.\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Batch Rejection UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Batch Rejection Debit Party Identifier "1..10" --* "1" Batch Rejection Batch Rejection "0..*" --* "1" Batch Transaction\n\nFigure 2-4 Batch Rejection UML Class Diagram\n\n# Batch Rejection Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "rejectionReason": "Some rejection reason...",\n  "rejectionDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBATCH REJECTION OBJECT                                                                                                                               \nName                                         Type        Description                                                           Reference             Validation\ntransactionReference                         string      Transaction Reference as assigned by the API provider.         → NA                         \n                                                                                                                        ← O\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → NA                         \n                                                         to be associated with the transactions.                        ← O\ncreditParty                                  array       The credit party identifiers for the transaction as specific   → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\ndebitParty                                   array       The debit party identifiers for the transaction as specific    → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\nrejectionReason                              string      The reason for the transaction request as indicated by the     → NA                         \n                                                         API provider.                                                  ← M\nrejectionDate                                date-time   Date and time of the rejection.                                → NA                         \n                                                                                                                        ← M\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object    \n                                                         provider specific fields.                                      ← O\n\n\n# Batch Completions API\n\nThis API lists all transactions that have successfully completed for a given batch. Only the GET method is supported. The path format is batchtransactions/{batchID}/completions.\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count)\n\n# Batch Completion UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Batch Completion Debit Party Identifier "1..10" --* "1" Batch Completion Batch Completion "0..*" --* "1" Batch Transaction\n\nFigure 2-5 Batch Completion UML Class Diagram\n\n# Batch Completion Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "completionDate": "2017-07-21T17:32:28Z",\n  "link": "https://application.com/uuid",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBATCH COMPLETION OBJECT                                                                                                                              \nName                                         Type        Description                                                           Reference             Validation\ntransactionReference                         string      Transaction Reference as assigned by the API provider.         → NA                         \n                                                                                                                        ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → NA                         \n                                                         to be associated with the transactions.                        ← O\ncreditParty                                  array       The credit party identifiers for the transaction as specific   → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\ndebitParty                                   array       The debit party identifiers for the transaction as specific    → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\ncompletionDate                               date-time   Date and time indicating when the transaction was completed.   → NA                         \n                                                                                                                        ← M\nlink                                         string      Provides a URL to the transaction resource.                    → NA                         \n                                                                                                                        ← M\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object    \n                                                         provider specific fields.                                      ← O\n\n\n# Accounts APIs\n\nThe Accounts APIs are used to support a range of account-related operations. Types of accounts include mobile wallets, bank accounts, savings accounts, and loan accounts.\n\n# Identifying a Target Account\n\nTwo methods are provided for identifying an account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used: /accounts/{identifierType}/{identifier}.\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used: /accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3}.\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n# Account Creation\n\nThe Mobile Money API allows account creation for customers who are classified as individuals. The creation of a customer account can be triggered by various means including:\n\n * Account creation via a mobile money agent.\n\n * Automatic account creation upon SIM registration.\n\n * App-based self-registration.\n\nRegardless of the method of creation, new customers are generally provided with account and transaction limits based upon the level of KYC information they have provided and whether their KYC information has been physically verified.\n\nTo create an account, use POST /accounts/{identityType}, supplying ‘individual’ as the identityType.\n\n# Account Retrieval\n\nAccount details, including associated account identities can be retrieved via the following paths:\n\nGET /accounts/{accountIdentifierType}/{identifier} OR\n\nGET /accounts/{Account Identifiers}\n\n# Account Update\n\n# Account-Level Updates\n\nTo update information held against an account, use one of the following paths:\n\nPATCH /accounts/{accountIdentifierType}/{identifier} OR\n\nPATCH /accounts/{Account Identifiers}\n\n\n\nThe following account fields can be updated:\n\n{\n  "accountStatus": {\n    "op": "replace", \n    "path": "/accountStatus", \n    "value": "string"\n  },\n  "accountSubStatus": {\n    "op": "replace", \n    "path": "/accountSubStatus", \n    "value": "string"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nFIELD              PATCH BODY                                                     DESCRIPTION\naccountStatus      "op": "replace", "path": "/accountStatus", "value": "string"   Use to modify the status of an account.\naccountSubStatus   "op": "replace", "path": "/accountSubStatus", "value":         Use to modify the sub-status of an account.\n                   "string"\n\nFor more information on the above fields please refer to the Account object.\n\n# Identity-Level Updates\n\nTo update an information held against an identity associated with an account, use one of the following paths:\n\nPATCH /accounts/{identifierType}/{identifier}/identities/{identityId} OR\n\nPATCH /accounts/{Account Identifiers}/identities/{identityId}\n\n\n\nThe following identity fields can be updated:\n\n{\n  "identity.identityStatus": {\n    "op": "replace", \n    "path": "/identityStatus", \n    "value": "string"\n  },\n  "identity.kycVerificationStatus": {\n    "op": "replace", \n    "path": "/kycVerificationStatus", \n    "value": "string"\n  },\n  "identity.kycVerificationEntity": {\n    "op": "replace", \n    "path": "/kycVerificationEntity", \n    "value": "string"\n  },\n  "identity.kycLevel": {\n    "op": "replace", \n    "path": "/kycLevel", \n    "value": "string"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nFIELD                            PATCH BODY                                                    DESCRIPTION\nidentity.identityStatus          "op": "replace", "path": "/identityStatus", "value":          Use to modify the status of an identity associated with an\n                                 "string"                                                      account.\nidentity.kycVerificationStatus   "op": "replace", "path": "/kycVerificationStatus", "value":   Use to change the KYC verification status of an identity\n                                 "string"                                                      associated with an account.\nidentity.kycVerificationEntity   "op": "replace", "path": "/kycVerificationEntity", "value":   Use to indicate the entity (e.g. mobile money agent) that\n                                 "string"                                                      performed the verification.\nidentity.kycLevel                "op": "replace", "path": "/kycLevel", "value": “integer”      UUse to modify the KYC level of an identity associated with\n                                                                                               an account.\n\nFor more information on the above fields please refer to the Identity Object.\n\n# Account UML Diagram\n\nclassDiagram ID Document "0..10" --* "1" KYC Information Address "0..1" --* "1" KYC Information Name "0..1" --* "1" KYC Information KYC Information "1" --* "1" Identity Account Identifier "1..10" --* "1" Account Identity "1..20" --* "1" Account Fee "1..20" --* "1" Account Commission "1..20" --* "1" Account\n\nFigure 2-6 Account Creation UML Class Diagram\n\n# Account Object Definition\n\n{\n  "accountIdentifiers": [\n    {\n      "key": "myCustomKey",\n      "value": "myCustomValue"\n    }\n  ],\n  "identity": [\n    {\n      "identityId": "12345",\n      "identityType": "individual",\n      "identityKyc": {\n        "dateOfBirth": "2000-11-20",\n        "birthCountry": "GB",\n        "contactPhone": "+1234567890"\n      },\n      "accountRelationship": "accountholder"\n    }\n  ],\n  "accountType": "seller",\n  "accountSubStatus": "api",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "commissionEarned": {\n    "commissionType": "transfer",\n    "commissionAmount": "2.50",\n    "commissionCurrency": "GBP"\n  },\n  "registeringEntity": "My FSP",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nACCOUNT OBJECT                                                                                                               \nName                 Type        Description                                                           Reference             Validation\naccountIdentifiers   array       A series of key/value pairs that enable the account to be      → O    Account Identifiers   \n                                 identified. Identifiers are assigned by the API Provider       ← M\n                                 during creation.\nidentity             array       An account must be associated with one or more identities.     → M    Identity Object       \n                                                                                                ← M\naccountType          string      A non-harmonised field that indicates the type of the          → O                          \n                                 account.                                                       ← O\naccountStatus        string      Indicates a simplified representation of the account status.   → NA                         \n                                 This will be shown as ‘available’ or ‘unavailable’. A state    ← M\n                                 of ‘unavailable’ means that the account is in a state that\n                                 does not allow posting of transactions.\naccountSubStatus     string      Field can be used to return a provider-specific status for     → NA                         \n                                 the account.                                                   ← O\ncurrentBalance       string      The current outstanding balance on the account.                → NA                         Please refer to API Fundamentals document for amount\n                                                                                                ← O                          validation rules.\navailableBalance     string      Indicates the balance that is able to be debited for an        → NA                         Please refer to API Fundamentals document for amount\n                                 account. This balance is only provided on some API provider    ← O                          validation rules.\n                                 systems.\nreservedBalance      string      Indicates the portion of the balance that is reserved, i.e.    → NA                         Please refer to API Fundamentals document for amount\n                                 intended to be debited. This balance is only provided on       ← O                          validation rules.\n                                 some API provider systems.\nunClearedBalance     string      Indicates the sum of uncleared funds in an account, i.e.       → NA                         Please refer to API Fundamentals document for amount\n                                 those that are awaiting a credit confirmation.                 ← O                          validation rules.\ncurrency             string      Currency of the account.                                       → NA                         Enumeration = ISO Currency Codes\n                                                                                                ← O\ncustomData           string      A collection of key/value pairs that can be used for           → O    Custom Data Object    \n                                 provider specific fields.                                      ← O\nfees                 string      Returns all fees related to the creation of the account.       → O    Fees Object           \n                                                                                                ← O\ncommissionEarned     string      Returns all commission earned by the registering entity for    → NA   Commission Object     \n                                 the creation of the account.                                   ← O\nregisteringEntity    string      The entity that registered the account, for example, a         → O                          \n                                 mobile money agent.                                            ← O\ncreationDate         date-time   Indicates when the account was created as recorded by the      → NA                         \n                                 API provider.                                                  ← O\nmodificationDate     date-time   Indicates when the account was modified as recorded by the     → NA                         \n                                 API provider.                                                  ← O\nrequestDate          date-time   The date and time of the account request as supplied by the    → O                          \n                                 client.                                                        ← O\n\n# Retrieving Transactions for an Account\n\nIt is possible to return a range of transactions for an account as per the following paths:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions.\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum creationDate for which records should\n                                          be returned.\ntoDateTime          string    date-time   Indicates the maximum creationDate for which records should\n                                          be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram ID Document "0..10" --* "1" KYC Information Address "0..1" --* "1" KYC Information Name "0..1" --* "1" KYC Information Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction KYC Information "0..2" --* "1" Transaction Metadata "0..20" --* "1" Transaction International TransferInformation "0..1" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2-7 Account Transaction UML Class Diagram\n\n# Accounts Status API\n\nThe Accounts Status API returns a harmonised status of the account. The status enables the client to determine whether transactions can be subsequently posted against the account. Permitted paths are GET /accounts/{identifierType}/{identifier}/status’ or GET /accounts/{Account Identifiers}/status.\n\n# Account Status UML Class Diagram\n\nclassDiagram Account Status "1" --* "1" Account\n\nFigure 2-8 Account Status UML Class Diagram\n\n# Account Status Object Definition\n\n{\n  "accountStatus": "available",\n  "subStatus": "approved",\n  "lei": "22210053OF4F2MYKUV22"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nACCOUNT STATUS OBJECT                                                                                              \nName                    Type     Description                                                           Reference   Validation\naccountStatus           string   Indicates a simplified representation of the account status.   → NA               Enumeration = available, unavailable, unregistered\n                                 This will be shown as ‘available’ or ‘unavailable’. A state    ← M\n                                 of ‘unavailable’ means that the account is in a state that\n                                 does not allow posting of transactions. Unregistered\n                                 indicates that although not available, a transaction posted\n                                 with the account identifier(s) will result in an\n                                 unregistered voucher creation.\nsubStatus               string   Field can be used to return a provider-specific status for     → NA               \n                                 the account.                                                   ← O\nlei                     string   Indicates the Legal Entity Identifier of the organisation      → NA               Refer to LEI format as defined here:\n                                 holding the account.                                           ← O                https://www.leiroc.org/lei.htm\n\n# Account Balances API\n\nThis API defines specific fields for returning balances associated with an account. Permitted paths are GET /accounts/{identifierType}/{identifier}/balance or GET /accounts/{Account Identifiers}/balance.\n\nA ‘self’ version is also available where the calling API client is the account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram Account Balance "1" --* "1" Account\n\nFigure 2-9 Account Balance UML Class Diagram\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBALANCE OBJECT                                                                                                \nName               Type     Description                                                           Reference   Validation\naccountStatus      string   Indicates a harmonises representation of the account state.    → NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    ← O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                → NA               Please refer to API Fundamentals document for amount\n                                                                                           ← O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        → NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    ← O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    → NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       ← O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       → NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← O                validation rules.\ncurrency           string   Currency for all returned balances.                            → NA               Enumeration = ISO Currency Codes\n                                                                                           ← O\n\n# Account Holder Name API\n\nThis API defines specific fields for returning account holder name information associated with an account. Permitted paths are GET /accounts/{identifierType}/{identifier}/accountname or GET /accounts/{Account Identifiers}/accountname.\n\n# Account Holder Name UML Class Diagram\n\nclassDiagram Account Holder Name "1" --* "1" Account\n\nFigure 2-10 Account Holder Name UML Class Diagram\n\n# Account Holder Name Object Definition\n\n{\n  "name": {\n    "title": "Mr",\n    "firstName": "John",\n    "middleName": "Alan",\n    "lastName": "Doe",\n    "fullName": "John Alan Doe",\n    "nativeName": "John Doe"\n  },\n  "lei": "22210053OF4F2MYKUV22"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nACCOUNT HOLDER NAME OBJECT                                                                                              \nName                         Type        Description                                                        Reference   Validation\nname                         Reference   A collection of fields detailing the name of the Primary    → NA   Name        \n                                         Account Holder.                                             ← O\nlei                          string      Indicates the Legal Entity Identifier of the organisation   → NA               Refer to LEI format as defined here:\n                                         holding the account.                                        ← O                https://www.leiroc.org/lei.htm\n\n# Account Statement Entries API\n\nThe Account Statement Entries API enables a generic representation of transactions to be returned so that they can be displayed in an account statement for the account holder. To return statement entries, an account or a transaction reference must be specified. The supported paths are as follows:\n\nTo return a specific statement entry:\n\n- GET /statemententries/{transactionReference}\n\nTo return a range of statement entries:\n\n- GET /accounts/{ identifierType}/{identifier}statemententries or /accounts/{Account Identifiers}/statemententries.\n\n\n\nTo filter the number of records returned, the following query string parameters can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "displayType": "list"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum creationDate for which records should\n                                          be returned.\ntoDateTime          string    date-time   Indicates the maximum creationDate for which records should\n                                          be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ndisplayType         string    N/A         Indicates the Display Type of the transactions to be\n                                          returned.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the statement entries are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Statement Entry UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Statement Entry Debit Party Identifier "1..10" --* "1" Statement Entry classDiagram Credit Party Identifier "1..10" --* "1" Statement Entry Debit Party Identifier "1..10" --* "1" Statement Entry Statement Entry "0..*" --* "2" Account\n\nFigure 2-11 Statement Entry UML Class Diagram\n\n# Account Statement Entry Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "My transaction description.",\n  "displayType": "list",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nACCOUNT STATEMENT ENTRY OBJECT                                                                                                          \nName                             Type        Description                                                          Reference             Validation\ntransactionReference             string      Unique reference for the transaction. This is returned in     → NA                         \n                                             the response by API provider.                                 ← M\ncreditParty                      array       A series of key/value pairs that identify the credit party.   → NA   Account Identifiers   \n                                             Keys include MSISDN and Wallet Identifier.                    ← M\ndebitParty                       array       A collection of key/value pairs that identify the debit.      → NA   Account Identifiers   \n                                             Keys include MSISDN and Wallet Identifier.                    ← M\ntransactionStatus                string      Indicates the status of the transaction as represented by     → NA                         \n                                             the API provider.                                             ← M\namount                           string      Amount of the transaction.                                    → NA                         Please refer to API Fundamentals document for amount\n                                                                                                           ← M                          validation rules.\ncurrency                         string      Currency of the transaction.                                  → NA                         Enumeration = ISO Currency Codes\n                                                                                                           ← M\ndescriptionText                  string      Free format text description of the transaction provided by   → NA                         \n                                             the client. This can be provided as a reference for the       ← O\n                                             receiver on a notification SMS and on an account statement.\ndisplayType                      string      The transaction type that is to be used for presentation to   → NA                         \n                                             the account holder as determined by the API provider. This    ← O\n                                             is not necessarily the actual transaction type.\ntransactionReceipt               string      Transaction receipt number as notified to the parties. This   → NA                         \n                                             may differ from the Transaction Reference.                    ← O\ncreationDate                     date-time   Date and time when the transaction was created by the API     → NA                         \n                                             Provider.                                                     ← O\nmodificationDate                 date-time   Date and time when the transaction modified by the API        → NA                         \n                                             Provider.                                                     ← O\nrequestDate                      date-time   The date and time of the transaction request as supplied by   → NA                         \n                                             the client.                                                   ← O\ncustomData                       string      A collection of key/value pairs that can be used for          → O    Custom Data Object    \n                                             provider specific fields.                                     ← O\n\n\n# Bills API\n\nThe Bills API are used to return all outstanding bills associated with an account. The main purpose of the API is to support Bill Presentment, i.e. presenting all applicable bills for a payer to view and select for payment. To pay a bill, the Bill Payments API is used. Permitted paths are GET /accounts/{identifierType}/{identifier}/bills or GET /accounts/{Account Identifiers}/bills.\n\nTo filter the number of records returned, the following query string parameters can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the bills are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Bill UML Class Diagram\n\nclassDiagram Metadata "0..20" --* "1" Bill Bill "0..*" --* "1" Account\n\nFigure 2-12 Bill UML Class Diagram\n\n# Bill Object Definition\n\n{\n  "billReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "billStatus": "partialpaid",\n  "amountDue": "123.45",\n  "billDescription": "My custom description...",\n  "currency": "GBP",\n  "dueDate": "2018-11-20",\n  "minimumAmountDue": "23.45",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBILL OBJECT                                                                                                              \nName               Type        Description                                                          Reference            Validation\nbillReference      string      Reference number for the Bill that the payer can use when     → NA                        \n                               making a payment.                                             ← O\nbillStatus         string      Identifies the status of the Bill.                            → NA                        ‘paid’, ‘unpaid’, ‘partialpaid’\n                                                                                             ← O\namountDue          string      Amount outstanding on the bill to be paid.                    → NA                        Please refer to API Fundamentals document for amount\n                                                                                             ← O                         validation rules.\nbillDescription    string      Description of the bill that is to be paid.                   → NA                        \n                                                                                             ← O\ncurrency           string      Currency of the bill to be paid.                              → NA                        Enumeration = ISO Currency Codes\n                                                                                             ← O\ndueDate            date        Date on which the Bill is due to be paid.                     → NA                        \n                                                                                             ← O\nminimumAmountDue   string      The minimum amount that is outstanding on the bill to be      → NA                        Please refer to API Fundamentals document for amount\n                               paid.                                                         ← O                         validation rules.\ncreationDate       date-time   Indicates when the bill was created by the API provider.      → NA                        \n                                                                                             ← O\nmodificationDate   date-time   Indicates when the bill was modified by the API provider.     → NA                        \n                                                                                             ← O\ncustomData         string      A collection of key/value pairs that can be used for          → O    Custom Data Object   \n                               provider specific fields.                                     ← O\nmetadata           array       A collection of key/value pairs. These can be used to         → NA   Metadata             \n                               populate additional properties that describe administrative   ← O\n                               information regarding the bill.\n\n\n# Bill Payments API\n\nThe Bill Payments APIs are used to pay a specific bill associated with an account held with a service provider. Bill payments can also be retrieved. Permitted paths are:\n\nPATH                                                                     USAGE\n/accounts/{identifierType}/{identifier}/bills/{billReference}/payments   Use when a single identifier suffices to identify the bill\n                                                                         account.\n/accounts/{Account                                                       Use when two or three identifiers are required to identify\nIdentifiers}/bills/{billReference}/payments                              an account.\n/bills/{billReference}/payments                                          Use when a bill payment is not associated with a service\n                                                                         provider account.\n/accounts/{identifierType}/{identifier}/bills/payments OR                Use when a bill does not have a bill reference\n/accounts/{Account Identifiers}/bills/payments\n\nAs per MM API standards, POST is used to create a bill payment whereas GET is used to retrieve all payments associated with a bill.\n\nWhen retrieving bill payments, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the bill payments are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Bill Payment UML Class Diagram\n\nclassDiagram Supplementary Bill Reference "0..20" --* "1" Bill Payment Metadata "0..20" --* "1" Bill Payment classDiagram Supplementary Bill Reference "0..20" --* "1" Bill Payment Metadata "0..20" --* "1" Bill Payment Bill Payment "0..*" --* "1" Account\n\nFigure 2-13 Bill Payment UML Class Diagram\n\n# Bill Payment Object Definition\n\n{\n  "serviceProviderPaymentReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "paymentType": "fullpayment",\n  "billPaymentStatus": "approved",\n  "amountPaid": "123.45",\n  "currency": "GBP",\n  "customerReference": "Customer reference text...",\n  "requestingOrganisation": "creditFSP",\n  "supplementaryBillReferenceDetails": [\n    {\n      "paymentReferenceType": "paymentReferenceValue"\n    }\n  ],\n  "serviceProviderComment": "This is SP comment...",\n  "serviceProviderNotification": "This is SP notification...",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBILL PAYMENT OBJECT                                                                                                                                 \nName                                         Type        Description                                                           Reference            Validation\nserviceProviderPaymentReference              string      Reference for the payment generated by the service provider.   → O                         \n                                                                                                                        ← O\nrequestingOrganisationTransactionReference   string      The mobile money provider’s (or Financial Institution’s)       → O                         \n                                                         transaction reference used to debit the customer and credit    ← O\n                                                         the service provider.\npaymentType                                  string      Describes the type of Bill Payment, i.e. whether a full or     → O                         Enumeration = ‘fullpayment’, ‘partialpayment’\n                                                         partial payment.                                               ← O\nbillPaymentStatus                            string      Indicates the status of the bill payment as stored by the      → NA                        \n                                                         API provider.                                                  ← M\namountPaid                                   string      Amount that is being paid.                                     → M                         Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                         validation rules.\ncurrency                                     string      Currency of the amount that is being paid.                     → M                         Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ncustomerReference                            string      Textual reference provided by the customer paying the bill.    → O                         \n                                                                                                                        ← O\nrequestingOrganisation                       string      The originating mobile money provider or financial             → O                         \n                                                         institution that holds the wallet/account of the payer.        ← O\nsupplementaryBillReferenceDetails            array       In some cases, a single reference is not sufficient to         → C    Bill References      Not applicable if billReference is no passed in the path.\n                                                         identify a bill. This key-value collection enables further     ← C\n                                                         reference information to be supplied.\nserviceProviderComment                       string      Allows the Service Provider to include specific information    → NA                        \n                                                         regarding the bill payment.                                    ← O\nserviceProviderNotification                  string      Allows the Service Provider to include specific information    → NA                        \n                                                         that will be included on the notification to the customer by   ← O\n                                                         the mobile money provider.\ncreationDate                                 date-time   Indicates when the bill payment was created as recorded by     → NA                        \n                                                         the API provider.                                              ← O\nmodificationDate                             date-time   Indicates when the bill payment was modified as recorded by    → NA                        \n                                                         the API provider.                                              ← O\nrequestDate                                  date-time   The date and time of the bill payment request as supplied by   → O                         \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object   \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata             \n                                                         populate additional properties that describe administrative    ← O\n                                                         information regarding the bill payment.\n\n\n# Bill Companies API\n\nThe Bill Companies APIs are used to return a list of Service Providers that accept bill payments. Permitted paths are as per below:\n\n * Bill Companies irrespective of account:\n   \n   * Use GET /billcompanies to return a list of all bill payment service providers.\n   \n   * Use GET /billcompanies/{serviceProvider} to return a specific bill payment service provider.\n\n * Bill Companies for a given account:\n   \n   * GET /accounts/{identifierType}/{identifier}/billcompanies or GET /accounts/{Account Identifiers}/billcompanies.\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER   TYPE      FORMAT   DESCRIPTION\nlimit       integer   N/A      Supports pagination. If this is not supplied, then the\n                               server will apply a limit of 50 records returned for each\n                               request.\noffset      integer   N/A      Supports pagination. This value will indicate the cursor\n                               position from where to retrieve the set of records. For\n                               example, a limit of 50 and offset of 10 will return records\n                               11 to 60.\n\nTIP\n\nNote: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Bill Company UML Class Diagram\n\nclassDiagram Supplementary Service Provider Details "0..20" --* "1" Bill Company classDiagram Supplementary Service Provider Details "0..20" --* "1" Bill Company Bill Company "0..*" --* "1" Account\n\nFigure 2-14 Bill Company UML Class Diagram\n\n# Bill Company Object Definition\n\n{\n  "serviceProvider": "987654321",\n  "serviceProviderType": "seller",\n  "serviceProviderSubType": "merchant",\n  "companyName": "Merchant Seller LLC",\n  "supplementaryServiceProviderDetails": [\n    {\n      "paymentReferenceType": "paymentReferenceValue"\n    }\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBILL COMPANIES OBJECT                                                                                                                                       \nName                                  Type     Description                                                         Reference                                Validation\nserviceProvider                       string   Service Provider Reference Code.                             → NA                                            \n                                                                                                            ← M\nserviceProviderType                   string   Type of Service Provider that accepts payments.              → NA                                            \n                                                                                                            ← O\nserviceProviderSubType                string   Sub-Type of Service Provider.                                → NA                                            \n                                                                                                            ← O\ncompanyName                           string   Display Name for the Service Provider.                       → NA                                            \n                                                                                                            ← M\nsupplementaryServiceProviderDetails   array    In some cases, further information for a service provider    → NA   Supplementary Service Provider Details   \n                                               can be returned. This key-value collection enables further   ← O\n                                               information to be supplied.\n\n\n# Debit Mandates API\n\nThe Debit Mandates APIs allow a mobile money customer to provide prior approval for payments to be taken from their account by a requesting payee. If the amount limit field is not supplied, the payee will be able to take any amount. Mandates can be open-ended or can be constrained by a quantified number of payments for a given frequency.\n\nMandates can be created, viewed, and modified. The request to create a debit mandate will be typically initiated by the service provider (payee) but can also be requested by the customer (payer).\n\nThe permitted paths are as follows. Note that the payer account is identified in the path whereas the payee account is identified in the request body.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/2000/debitmandates\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n   "payee": [\n    {\n      "key": "accountid",\n      "value": "2999"\n    }\n  ],\n    "requestDate": "2017-07-21T17:32:28Z",\n    "startDate": "2018-11-20",\n    "currency": "GBP",\n    "amountLimit": "1000.00",\n    "endDate": "2018-11-20",\n    "numberOfPayments": "2",\n    "frequencyType": "sixmonths",\n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]        \n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n * Creation: POST /accounts/{identifierType}/{identifier}/debitmandates or POST /accounts/{Account Identifiers}/debitmandates.\n\n * Update: In order to update a debit mandate, a HTTP PATCH is used. Format is: PATCH /accounts/{identifierType}/{identifier}/debitmandates/{mandateReference} or PATCH /accounts/{Account Identifiers}/debitmandates/{mandateReference}\n\n * Read. GET /accounts/{identifierType}/{identifier}/debitmandates/{mandateReference} or GET /accounts/{Account Identifiers}/debitmandates/{mandateReference}.\n\nSynchronous and asynchronous modes are supported for the POST and PATCH methods whereas only synchronous mode is supported for the GET method.\n\nThe following fields are modifiable: mandateStatus, startDate, endDate, frequencyType, numberOfPayments.\n\n# Debit Mandate UML Class Diagram\n\nclassDiagram Payee Identifiers "0..10" --* "1" Debit Mandate Payer Identifiers "0..10" --* "1" Debit Mandate Debit Mandate "0..*" --* "1" Account\n\nFigure 2-15 Debit Mandate UML Class Diagram\n\n# Debit Mandate Object Definition\n\n{\n  "mandateReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "payee": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "mandateStatus": "active",\n  "startDate": "2018-11-20",\n  "amountLimit": "123.45",\n  "currency": "GBP",\n  "endDate": "2018-11-20",\n  "frequencyType": "weekly",\n  "numberOfPayments": 50,\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nDEBIT MANDATE OBJECT                                                                                                                 \nName                     Type        Description                                                           Reference                 Validation\nmandateReference         string      Unique reference provided by the API Provider for the Debit    → NA                             \n                                     Mandate.                                                       ← M\npayee                    array       A series of key/value pairs that enable the payee to be        → O    Account Identifiers       \n                                     identified. Keys include MSISDN and Wallet Identifier.         ← O\nmandateStatus            string      Indicates the status of the Debit Mandate as held in the API   → O                              Enumeration = active, inactive\n                                     Provider system.                                               ← O\nstartDate                date        Date on which the mandate starts. If a frequencyType is        → M                              \n                                     specified, this will also be the date on which the first       ← M\n                                     payment is to be taken.\namountLimit              string      The maximum amount that can be taken by the Payee on a         → O                              Please refer to API Fundamentals document for amount\n                                     payment request.                                               ← O                              validation rules.\ncurrency                 string      Currency of the amount limit.                                  → O                              Enumeration = ISO Currency Codes\n                                                                                                    ← O\nendDate                  date        Date on which the Debit Mandate ends.                          → O                              \n                                                                                                    ← O\nfrequencyType            string      Indicates the frequency for which payments will be taken       → O                              Enumeration = Frequency\n                                     from the payers account.                                       ← O\nnumberOfPayments         number      Indicates the number of consecutive payments that are to be    → O                              \n                                     taken.                                                         ← O\nrequestingOrganisation   object      The originating organisation of the request.                   → O    Requesting Organisation   \n                                                                                                    ← O\ncreationDate             date-time   Date and time when the Debit Mandate was created by the API    → NA                             \n                                     Provider.                                                      ← O\nmodificationDate         date-time   Date and time when the Debit Mandate was modified by the API   → NA                             \n                                     Provider.                                                      ← O\nrequestDate              date-time   The date and time of the debit mandate request as supplied     → O                              \n                                     by the client.                                                 ← O\ncustomData               string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                     provider specific fields.                                      ← O\n\n\n# Links API\n\nThe Links APIs are used to establish a link between two separate accounts on the client and provider systems. The API can be used for example to link a mobile wallet account to a Microfinance Institution account or a bank account. The link object does not mandate the processes to verify and authenticate a link request - this depends upon the use case. A link needs to be associated with a mode of operation:\n\n * pull. The link can be used by the client to debit the target account held by the provider.\n\n * push. The link can be used by the client to credit the target account held by the provider.\n\n * both. The link can be used for Push and Pull requests.\n\nTo identify the accounts that are to be linked, the target account is specified in the path whereas the source account is specified in the link object.\n\nThe permitted paths are as follows:\n\n * Creation: POST /accounts/{identifierType}/{identifier}/links or POST /accounts/{ Account Identifiers}/links.\n\n * Update of status and/or mode fields: PATCH /accounts/{identifierType}/{identifier}/links/{linkReference} or PATCH /accounts/{Account Identifiers}/links/{linkReference}.\n\n * Read. GET /accounts/{identifierType}/{identifier}/links/{linkReference} or GET /accounts/{Account Identifiers}/links/{linkReference}.\n\nSynchronous and asynchronous modes are supported for POST and PATCH methods whereas only synchronous mode is supported for the GET method.\n\n# Link UML Class Diagram\n\nclassDiagram Source Account Identifier "1..10" --* "1" Link Link "0..*" --* "1" Account\n\nFigure 2-16 Link UML Class Diagram\n\n# Link Object Definition\n\n{\n  "linkReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "sourceAccountIdentifiers": [\n    {\n      "key":"MSISDN",\n      "value":"+1234567890"\n    }\n  ],\n  "mode": "both",\n  "status": "inactive",\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nLINK OBJECT                                                                                                                           \nName                       Type        Description                                                          Reference                 Validation\nlinkReference              string      Indicates the Link reference. This enables a linked account   → NA                             \n                                       to be uniquely identified.                                    ← M\nsourceAccountIdentifiers   array       A series of key/value pairs that identify the source          → M    Account Identifiers       \n                                       account. Keys include MSISDN and Wallet Identifier.           ← M\nmode                       string      Indicates the mode of operation for the Link.                 → M                              Enumeration = push, pull, both\n                                                                                                     ← M\nstatus                     string      Indicates the status of the Link.                             → M                              Enumeration = active, inactive\n                                                                                                     ← M\nrequestingOrganisation     object      The originating organisation of the request.                  → O    Requesting Organisation   \n                                                                                                     ← O\ncreationDate               date-time   Indicates when the link was created as recorded by the API    → NA                             \n                                       provider.                                                     ← O\nmodificationDate           date-time   Indicates when the link was modified as recorded by the API   → NA                             \n                                       provider.                                                     ← O\nrequestDate                date-time   The date and time of the link request as supplied by the      → O                              \n                                       client.                                                       ← O\ncustomData                 string      Contains provider specific fields.                            → O    Custom Data Object        \n                                                                                                     ← O\n\n\n# Authorisation Codes API\n\nThe Authorisation Codes APIs allow a payer to generate a payment code which when presented to the payee, can be redeemed for an amount associated with the code.\n\nAuthorisation codes can be set to expire. Note that expiry time can be specified via the API, however the mobile money provider may mandate a common expiry period for all codes.\n\nAuthorisation Codes are used widely in the industry across a range of use cases, including:\n\n * ATM Codes for card-less withdrawals. A code is generated in advance by the customer and entered into the ATM to facilitate the withdrawal.\n\n * Pre-authorised codes for agent withdrawals. A code is generated in advance by the customer and given to the agent to facilitate the withdrawal.\n\n * Pre-authorised codes for merchant payments. The customer generates a code which can be redeemed at a merchant.\n\nOnce an authorisation code has been generated, it can be presented through multiple means, including encoding into a QR code. Typically, an authorisation code will expire.\n\nThe following paths are permitted:\n\n * Generate an Authorisation Code. POST /accounts/{identifierType}/{identifier}/authorisationcodes or POST /accounts/{Account Identifiers}/authorisationcodes\n\n * Cancel an Authorisation Code (codeState = ‘cancelled’). PATCH /accounts/{identifierType}/{identifier}/authorisationcodes/{authorisationCode} or PATCH /accounts/{Account Identifiers}/authorisationcodes/{authorisationCode}.\n\n * View An Authorisation Code for a given account. GET /accounts/{identifierType}/{identifier}/authorisationcodes/{authorisationCode} or GET /accounts/{Requestor Account Identifiers}/authorisationcodes/{authorisationCode}.\n\n * View all Authorisation Codes for a given account. GET /accounts/{identifierType}/{identifier}/authorisationcodes or GET /accounts/{Requestor Account Identifiers}/authorisationcodes.\n\nWhen retrieving authorisation codes, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "codeState": "active"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\ncodeState      string    string      Allows filtering on the state of the authorisation code.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the authorisation codes are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\nSynchronous and asynchronous modes are supported for the POST and PATCH methods whereas only synchronous mode is supported for the GET method.\n\n# Authorisation Code UML Class Diagram\n\nclassDiagram Redemption Account Identifier "0..10" --* "1" Authorisation Code Metadata "0..20" --* "1" Authorisation Code Redemption Channel "0..50" --* "1" Authorisation Code Redemption Transaction Type "0..50" --* "1" Authorisation Code Authorisation Code "0..*" --* "1" Account\n\nFigure 2-17 Authorisation Code UML Class Diagram\n\n# Authorisation Code Object Definition\n\n{\n  "authorisationCode": "12345",\n  "codeState": "expired",\n  "amount": "123.45",\n  "currency": "GBP",\n  "amountType": "exact",\n  "codeLifetime": 30000,\n  "holdFundsIndicator": true,\n  "redemptionAccountIdentifiers": [\n    {\n      "key":"MSISDN",\n      "value":"+1234567890"\n    }\n  ],\n  "redemptionChannels": "ATM",\n  "redemptionTransactionTypes": {\n    "transactionStatus": "completed",\n    "transactionType": "merchantpay"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nAUTHORISATION CODES OBJECT                                                                                                                  \nName                           Type        Description                                                           Reference                  Validation\nauthorisationCode              string      The code that will be presented to the other party for         → NA                              \n                                           redemption.                                                    ← M\ncodeState                      string      Indicates the state of the Authorisation Code                  → NA                              Enumeration = ‘active’, ‘expired’, ‘cancelled’\n                                                                                                          ← M\namount                         string      Indicates the amount associated with the authorisation code.   → O                               Please refer to API Fundamentals document for amount\n                                           Typically, this is set by the client.                          ← O                               validation rules.\ncurrency                       string      Indicates the amount currency. Must be supplied when an        → O                               Enumeration = ISO Currency Codes\n                                           amount is supplied.                                            ← O\namountType                     string      The amount for the authorisation can be an exact amount or     → O                               Enumeration = ‘exact’, ‘maximum’\n                                           can be a maximum amount, i.e. redemption up to but not         ← O\n                                           higher than the amount specified.\ncodeLifetime                   integer     Indicates the expiry time in seconds of the code. Depending    → O                               If supplied, then must be 1 second or greater.\n                                           upon the use case, this can be set by the client or server.    ← O\nholdFundsIndicator             boolean     Indicates whether funds should be reserved against the         → O                               \n                                           payer’s account where the payer is the requestor.              ← O\nredemptionAccountIdentifiers   array       A series of key/value pairs that identify the account where    → O    Account Identifiers        \n                                           the code must be redeemed. Only needed if the redemption       ← O\n                                           account needs to be explicitly stated.\nredemptionChannels             string      Indicates the channel(s) that the code can be redeemed         → O    Channel Types Object       \n                                           against, e.g. ATM, Merchant, etc..                             ← O\nredemptionTransactionTypes     string      Indicates the Transaction Types(s) that the code can be        → O    Transaction Types Object   \n                                           redeemed against.                                              ← O\nrequestingOrganisation         object      The originating organisation of the request.                   → O    Requesting Organisation    \n                                                                                                          ← O\ncreationDate                   date-time   Indicates when the link was created as recorded by the API     → NA                              \n                                           provider.                                                      ← O\nmodificationDate               date-time   Indicates when the link was modified as recorded by the API    → NA                              \n                                           provider.                                                      ← O\nrequestDate                    date-time   The date and time of the request as provided by the client.    → O                               \n                                                                                                          ← O\ncustomData                     string      A collection of key/value pairs that can be used for           → O    Custom Data Object         \n                                           provider specific fields.                                      ← O\nmetadata                       array       A collection of key/value pairs. These can be used to          → O    Metadata                   \n                                           populate additional properties that describe administrative    ← O\n                                           information regarding the authorisation code\n\n\n# Quotations API\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../quotations\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestAmount": "75.30",\n    "requestCurrency": "RWF",\n  "requestDate": "2017-07-21T17:32:28Z",\n    "type": "inttransfer",\n    "subType": "abc",\n    "chosenDeliveryMethod": "agent",\n    "senderKyc": {\n        "nationality": "GB",\n        "dateOfBirth": "2000-11-20",\n        "occupation": "Manager",\n        "employerName": "MFX",\n        "contactPhone": "+447125588999",\n        "gender": "m",\n        "emailAddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthCountry": "GB",\n        "idDocument": [\n            {\n                "idType": "nationalidcard",\n                "idNumber": "1234567",\n                "issueDate": "2018-11-20",\n                "expiryDate": "2018-11-20",\n                "issuer": "UKPA",\n                "issuerPlace": "GB",\n                "issuerCountry": "GB",\n                "otherIdDescription": "test"\n            }\n        ],\n        "postalAddress": {\n            "country": "GB",\n            "addressLine1": "111 ABC Street",\n            "city": "New York",\n            "stateProvince": "New York",\n            "postalCode": "ABCD"\n        },\n        "subjectName": {\n            "title": "Mr",\n            "firstName": "Luke",\n            "middleName": "R",\n            "lastName": "Skywalker",\n            "fullName": "Luke R Skywalker",\n            "nativeName": "ABC"\n        }        \n    },    \n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],    \n  "sendingServiceProviderCountry": "AD",\n  "originCountry": "AD",\n  "receivingCountry": "AD"\n}\n\n\n \n\n\nGET .../quotations/dd82cc6a-159a-4ddf-bea7-23bae38e72c5\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nThe Quotations APIs are used to obtain one or multiple quotes for a mobile money customer that wishes to transfer money. The creation of a quote involves returning any fees that will be levied on the sending customer and if the request is international, the forex rate. A request is made for a quotation by the requesting Service Provider in response to a customer request. The quotation is calculated and returned. If the customer is satisfied with the quotation, then they can confirm and proceed with a transaction request using the /transactions API.\n\nThe following paths are permitted:\n\n * Creation of a quotation: POST /quotations\n\n * View a quotation: GET /quotations/{Quotation Reference}\n\n# Quotation UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Quotation Debit Party Identifier "1..10" --* "1" Quotation Metadata "0..20" --* "1" Quotation Quotation "1" *-- "0..2" KYC Information Quotation "1" *-- "0..1" Quote KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name Quote "1" *-- "0..20" Fee\n\nFigure 2-18 Quotation UML Class Diagram\n\n# Quotation Object Definition\n\n{\n  "quotationReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "quotationStatus": "completed",\n  "requestAmount": "123.45",\n  "requestCurrency": "GBP",\n  "availableDeliveryMethod": "directtoaccount",\n  "chosenDeliveryMethod": "personaldelivery",\n  "originCountry": "GB",\n  "receivingCountry": "IE",\n  "quotes": [\n    {\n      "quoteId": "123456789",\n      "receivingAmount": "123.45",\n      "receivingCurrency": "GBP",\n      "sendingAmount": "123.45",\n      "sendingCurrency": "GBP"\n    }\n  ],\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "recipientBlockingReason": "No supported currency...",\n  "senderBlockingReason": "Not enough funds...",\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "sendingServiceProviderCountry": "GB",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nQUOTATION OBJECT DEFINITION                                                                                                                 \nName                            Type        Description                                                           Reference                 Validation\nquotationReference              string      Unique reference for the quotation as provided by the API      → NA                             \n                                            Provider.                                                      ← M\ncreditParty                     array       A series of key/value pairs that enable the credit party to    → M    Account Identifiers       \n                                            be identified. Keys include MSISDN and Wallet Identifier.      ← M\ndebitParty                      array       A collection of key/value pairs that enable the debit party    → M    Account Identifiers       \n                                            to be identified. Keys include MSISDN and Wallet Identifier.   ← M\ntype                            string      The transaction type that the quotation has been requested     → O                              Enumeration = Transaction Types\n                                            for.                                                           ← O\nsubtype                         string      The transaction sub-type that the quotation has been           → O                              \n                                            requested for.                                                 ← O\nquotationStatus                 string      Indicates the creation state of the quotation.                 → NA                             Enumeration = pending, rejected, completed\n                                                                                                           ← O\nrequestAmount                   string      Requested Quotation amount.                                    → M                              Please refer to API Fundamentals document for amount\n                                                                                                           ← M                              validation rules.\nrequestCurrency                 string      Currency of the requested quotation amount.                    → M                              Enumeration = ISO Currency Codes\n                                                                                                           ← M\navailableDeliveryMethod         string      Delivery Method that is possible for the intended recipient.   → NA                             Enumeration = Delivery Method\n                                                                                                           ← O\nchosenDeliveryMethod            string      The delivery method chosen by the sending end user as the      → O                              Enumeration = Delivery Method\n                                            specific delivery method to be used in the quotes received.    ← O\noriginCountry                   string      The originating country of the quotation request, i.e. the     → O                              \n                                            country where the request was initiated.                       ← O\nreceivingCountry                string      Destination country of the quotation request, i.e. the         → O                              \n                                            country that the sender wishes to send to.                     ← O\nquotes                          array       A collection of quotes. A quote can be received from a         → NA   Quotes                    \n                                            single receiving financial service provider or from multiple   ← O\n                                            providers.\nrecipientKyc                    object      A collection of fields detailing the KYC of the transaction    → O    KYC Information           \n                                            recipient, typically used for International Transfers.         ← O\nsenderKyc                       object      A collection of fields detailing the KYC of the transaction    → O    KYC Information           \n                                            sender, typically used for International Transfers.            ← O\nrecipientBlockingReason         string      The reason for blocking the quotation, based on AML checks     → NA                             \n                                            on the recipient.                                              ← O\nsenderBlockingReason            string      The reason for blocking the quotation, based on AML checks     → NA                             \n                                            on the sender.                                                 ← O\nrequestingOrganisation          object      The originating organisation of the request.                   → NA   Requesting Organisation   \n                                                                                                           ← O\nsendingServiceProviderCountry   string      The country of the sending service provider that holds the     → O                              \n                                            account of the sender.                                         ← O\ncreationDate                    date-time   Date and time when the quotation was created by the API        → NA                             \n                                            Provider.                                                      ← O\nmodificationDate                date-time   Date and time when the quotation was modified by the API       → NA                             \n                                            Provider.                                                      ← O\nrequestDate                     date-time   The date and time of the quotation request as supplied by      → O                              \n                                            the client.                                                    ← O\ncustomData                      string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                            provider specific fields.                                      ← O\nmetadata                        array       A collection of key/value pairs. These can be used to          → O    Metadata                  \n                                            populate additional properties that describe administrative    ← O\n                                            information regarding the quotation.\n\n\n# Supporting Objects\n\n\n# International Transfer Information Object\n\nThe International Transfer Information object contains details that are specific to international money transfers.\n\n{\n  "quotationReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "quoteId": "123456789",\n  "originCountry": "GB",\n  "deliveryMethod": "personaldelivery",\n  "receivingCountry": "IE",\n  "relationshipSender": "Household",\n  "recipientBlockingReason": "ID card is expired...",\n  "senderBlockingReason": "Address must be provided...",\n  "remittancePurpose": "Commission...",\n  "sendingServiceProviderCountry": "GB"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nINTERNATIONAL TRANSFER INFORMATION OBJECT                                                                                              \nName                                        Type     Description                                                           Reference   Validation\nquotationReference                          string   Reference for the quotation that was provided to the sender.   → O                \n                                                     (refer to Quotations API for more information).                ← O\nquoteId                                     string   The specific quote associated with the quotation (refer to     → O                \n                                                     Quotes object for more information).                           ← O\noriginCountry                               string   The originating country of the transaction, i.e. the country   → M                Enumeration = ISO Country Codes.\n                                                     where the transaction was initiated.                           ← M\ndeliveryMethod                              string   The recipient delivery method as chosen by the sender.         → O                Enumeration = Delivery Method Types\n                                                                                                                    ← O\nreceivingCountry                            string   Destination country of the international transfer.             → O                \n                                                                                                                    ← O\nrelationshipSender                          string   Indicates the relationship (if any) between the sender and     → O                \n                                                     the receiver.                                                  ← O\nrecipientBlockingReason                     string   The reason for blocking the transaction, based on AML checks   → NA               \n                                                     on the recipient.                                              ← O\nsenderBlockingReason                        string   The reason for blocking the transaction, based on AML checks   → NA               \n                                                     on the sender.                                                 ← O\nremittancePurpose                           string   field providing a description of the reason for the            → O                \n                                                     international transfer.                                        ← O\nsendingServiceProviderCountry               string   The country of the sending service provider that holds the     → O                \n                                                     account of the sender.                                         ← O\n\n\n# KYC Information Object\n\nKYC refers to ‘Know your Customer’. The KYC object contains a number of fields that enable the identity of the subject to be verified. KYC can be provided with transfers for the sending identity and the receiving identity. There are no mandatory KYC object fields.\n\n{\n  "birthCountry": "GB",\n  "dateOfBirth": "2000-11-20",\n  "contactPhone": "+1234567890",\n  "emailAddress": "example@mail.com",\n  "employerName": "Employer LLC",\n  "gender": "m",\n  "idDocument": [\n    {\n      "idType": "passport",\n      "idNumber": "TEST123456"\n    }\n  ],\n  "nationality": "GB",\n  "postalAddress": {\n    "addressLine1": "33 Brow Rd",\n    "addressLine2": "Unit 200",\n    "addressLine3": "Paddock",\n    "city": "Huddersfield",\n    "stateProvince": "West Yorkshire",\n    "postalCode": "HD1 4TP",\n    "country": "GB"\n  },\n  "occupation": "Manager",\n  "subjectName": {\n    "title": "Mr",\n    "firstName": "John",\n    "middleName": "Alan",\n    "lastName": "Doe",\n    "fullName": "John Alan Doe",\n    "nativeName": "John Doe"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nKYC INFORMATION OBJECT                                                                                                    \nName                     Type     Description                                                        Reference            Validation\nbirthCountry             string   The country of birth of the KYC subject.                    → O                         Enumeration = ISO Country Codes.\n                                                                                              ← O\ndateOfBirth              date     Birth date of the KYC subject.                              → O                         \n                                                                                              ← O\ncontactPhone             string   Contact phone number (mobile or landline) of the KYC        → O                         Must contain between 6 and 15 consecutive digits\n                                  subject.                                                    ← O                         First character can contain a ‘+’ or digit\n                                                                                                                          Can contain spaces.\nemailAddress             string   Email address of the KYC subject.                           → O                         \n                                                                                              ← O\nemployerName             string   Employer name of the KYC subject.                           → O                         \n                                                                                              ← O\ngender                   string   Gender of the KYC Object.                                   → O                         Length=1, Enumeration = (m)ale, (f)emale, (u)nspecified\n                                                                                              ← O\nidDocument               array    An array of fields containing the forms of identification   → O    Id Document Object   \n                                  that are associated with the subject.                       ← O\nnationality              string   Nationality of the KYC subject.                             → NA                        Enumeration = ISO Country Codes\n                                                                                              ← O\npostalAddress            object   A collection of fields that details the postal address of   → O    Address              \n                                  the KYC subject.                                            ← O\noccupation               string   Occupation of the KYC subject.                              → O                         \n                                                                                              ← O\nsubjectName              object   Refers to the name fields for the KYC subject.              → O    Name                 \n                                                                                              ← O\n\n\n# Name Object\n\nThe name object identifies the name details for the subject identity.\n\n{\n  "title": "Mr",\n  "firstName": "John",\n  "middleName": "Alan",\n  "lastName": "Doe",\n  "fullName": "John Alan Doe",\n  "nativeName": "John Doe"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME OBJECT                                                                                             \nName          Type     Description                                                          Reference   Validation\ntitle         string   The given title of the KYC subject, e.g. Mr, Mrs, Dr.          → O               \n                                                                                      ← O\nfirstName     string   First name (also referred to as given name) of the KYC         → O               \n                       subject.                                                       ← O\nmiddleName    string   Middle Name of the KYC subject.                                → O               \n                                                                                      ← O\nlastName      string   Surname (also referred to as last or family name) of the KYC   → O               \n                       subject.                                                       ← O\nfullName      string   The full name of the KYC subject.                              → O               \n                                                                                      ← O\nnativeName    string   The full name expressed as in the native language.             → O               \n                                                                                      ← O\n\n\n# Id Document Object\n\nAs part of KYC information, identification documentation is normally required. The Id Document Object enables documents pertaining to a subject’s identity to be described.\n\n{\n  "idType": "passport",\n  "idNumber": "TEST123456",\n  "issueDate": "2018-11-20",\n  "expiryDate ": "2018-11-20",\n  "issuer": "123456789",\n  "issuerPlace": "London",\n  "issuerCountry": "GB",\n  "otherIdDescription": "Other ID description..."\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nID DOCUMENT OBJECT                                                                                             \nName                 Type     Description                                                          Reference   Validation\nidType               string   Indicates the type of identification for the KYC subject,      → M               Enumeration = ID Types\n                              e.g. passport, driving licence etc..                           ← M\nidNumber             string   Reference pertaining to the type of identification for the     → O               \n                              KYC subject.                                                   ← O\nissueDate            date     Date of issue for the identification document.                 → O               \n                                                                                             ← O\nexpiryDate           date     Date of expiry for the identification document.                → O               \n                                                                                             ← O\nissuer               string   Indicates the organisation/government entity that issued the   → O               \n                              ID document.                                                   ← O\nissuerPlace          string   Place of issue for the identification type.                    → O               \n                                                                                             ← O\nissuerCountry        string   Country where the identification type was issued.              → O               Enumeration = ISO Country Codes\n                                                                                             ← O\notherIdDescription   string   Where an ID Type of ‘otherid’ is specified, a description of   → O               \n                              the type of identification can be provided in this field.      ← O\n\n\n# Address Object\n\nThe address object holds the postal address of the subject. Due to variability of address information in a number of mobile money markets, only the country is mandatory.\n\n{\n  "addressLine1": "33 Brow Rd",\n  "addressLine2": "Unit 200",\n  "addressLine3": "Paddock",\n  "city": "Huddersfield",\n  "stateProvince": "West Yorkshire",\n  "postalCode": "HD1 4TP",\n  "country": "GB"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nADDRESS OBJECT                                                            \nName             Type     Description                         Reference   Validation\naddressLine1     string   First line of the address.    → O               \n                                                        ← O\naddressLine2     string   Second line of the address.   → O               \n                                                        ← O\naddressLine3     string   Third line of the address.    → O               \n                                                        ← O\ncity             string   City/Town.                    → O               \n                                                        ← O\nstateProvince    string   State or Province.            → O               \n                                                        ← O\npostalCode       string   Postal Code.                  → O               \n                                                        ← O\ncountry          string   Country                       → M               Enumeration = ISO Country Codes\n                                                        ← M\n\n\n# Account Identifier Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nACCOUNT IDENTIFIER OBJECT                                                                            \nName                        Type     Description                                         Reference   Validation\nkey                         string   Provides the account identifier type.         → M               Enumeration = Account Identifiers\n                                                                                   ← M\nvalue                       string   Provides the account identifier type value.   → M               \n                                                                                   ← M\n\n\n# Identity Object\n\nThe Identity object defines the information for an identity associated with an account. Between one and twenty identities can be associated with an account.\n\n{\n  "identityId": "12345",\n  "identityType": "individual",\n  "identityStatus": "Completed",\n  "identityKyc": {\n    "dateOfBirth": "2000-11-20",\n    "birthCountry": "GB",\n    "contactPhone": "+1234567890"\n  },\n  "accountRelationship": "accountholder",\n  "kycVerificationStatus": "verified",\n  "kycVerificationEntity": "123456789",\n  "kycLevel": "Regular",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nIDENTITY OBJECT                                                                                                          \nName                    Type      Description                                                          Reference         Validation\nidentityId              string    A unique id for the identity as assigned by the API           → NA                     \n                                  Provider.                                                     ← M\nidentityType            string    Indicates the type of the identity. Currently, only           → NA                     ‘individual’\n                                  ‘individual’ is supported.                                    ← M\nidentityStatus          string    A non-harmonised field describing the status of the           → NA                     \n                                  identity.                                                     ← O\nidentityKyc             object    A collection of fields detailing the KYC held for the         → M    KYC Information   \n                                  identity.                                                     ← M\naccountRelationship     string    Describes the relationship that the identity holds with the   → M                      ‘accountholder’\n                                  account.                                                      ← M\nkycVerificationStatus   string    Indicates the status of the identity’s KYC verification.      → O                      ‘verified’, ‘unverified’, ‘rejected’\n                                                                                                ← O\nkycVerificationEntity   string    Indicates the entity (e.g. mobile money agent) that has       → O                      \n                                  verified the KYC of the identity.                             ← O\nkycLevel                integer   Indicates the KYC level that the identity is associated       → O                      \n                                  with.                                                         ← O\ncustomData              array     A collection of key/value pairs that can be used for          → O                      \n                                  provider specific fields.                                     ← O\n\n\n# Quote Object\n\nQuotations can consist of multiple quotes. The fields for a quote are defined in the object.\n\n{\n  "quoteId": "123456789",\n  "receivingAmount": "123.45",\n  "receivingCurrency": "GBP",\n  "sendingAmount": "123.45",\n  "sendingCurrency": "GBP",\n  "deliveryMethod": "personaldelivery",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "fxRate": "1.0000000000",\n  "quoteExpiryTime": "2017-07-21T17:32:28Z",\n  "receivingServiceProvider": "Receiving FSP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nQUOTE OBJECT                                                                                                               \nName                       Type        Description                                                           Reference     Validation\nquoteId                    string      The unique ID for this quote.                                  → NA                 \n                                                                                                      ← M\nreceivingAmount            string      The total amount as it will be received by the receiving end   → NA                 Please refer to API Fundamentals document for amount\n                                       user.                                                          ← M                  validation rules.\nreceivingCurrency          string      The currency of the quote.                                     → NA                 Enumeration = ISO Currency Codes\n                                                                                                      ← M\nsendingAmount              string      Requested quotation amount as supplied by the sender.          → NA                 Please refer to API Fundamentals document for amount\n                                                                                                      ← M                  validation rules.\nsendingCurrency            string      Currency of the requested quotation amount.                    → NA                 Enumeration = ISO Currency Codes\n                                                                                                      ← M\ndeliveryMethod             string      The delivery method that is applicable to the quotation.       → NA                 Enumeration = Delivery Method\n                                                                                                      ← O\nfees                       array       Returns all fees that are applicable to the quote.             → NA   Fees Object   \n                                                                                                      ← O\nfxRate                     string      The conversion rate applicable between the sending and the     → NA                 Please refer to API Fundamentals document for amount\n                                       receiving currency for the requested transaction.              ← O                  validation rules. Note 10 decimal places supported.\nquoteExpiryTime            date-time   The timestamp when the quote will expire.                      → NA                 \n                                                                                                      ← O\nreceivingServiceProvider   string      The name of the receiving service provider, i.e. the           → NA                 \n                                       provider that the quote is associated with.                    ← O\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nMETADATA OBJECT                                                                              \nName              Type     Description                                           Reference   Validation\nkey               string   Identifies the type of additional fields.       → M               \n                                                                           ← M\nvalue             string   Identifies the value of the additional field.   → M               \n                                                                           ← M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCUSTOM DATA OBJECT                                                                              \nName                 Type     Description                                           Reference   Validation\nkey                  string   Identifies the type of additional fields.       → M               \n                                                                              ← M\nvalue                string   Identifies the value of the additional field.   → M               \n                                                                              ← M\n\n\n# Supplementary Bill Reference Object\n\nThis object enables additional payment references to be specified for a bill payment in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "paymentReferenceType": "paymentReferenceValue"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nSUPPLEMENTARY BILL REFERENCE OBJECT                                                                                          \nName                                  Type     Description                                                       Reference   Validation\npaymentReferenceType                  string   Identifies the type of the additional payment reference.    → M               \n                                                                                                           ← M\npaymentReferenceValue                 string   Identifies the value of the additional payment reference.   → M               \n                                                                                                           ← M\n\n\n# Transaction Type Object\n\nThis object enables multiple transaction types to be specified along with paired sub-types. This object is used where multiple transaction types need to be passed in an API.\n\n{\n  "transactionType": "merchantpay",\n  "transactionSubType": "local",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION TYPE OBJECT                                                                     \nName                      Type     Description                                  Reference   Validation\ntransactionType           string   Identifies the Transaction Type.       → M               Enumeration = Transaction Types\n                                                                          ← M\ntransactionSubType        string   Identifies the Transaction Sub-Type.   → O               \n                                                                          ← O\n\n\n# Channel Type Object\n\nThis object enables multiple channel types to be specified. This object is used where multiple channel types need to be passed in an API.\n\n{\n  "channelType": "ATM"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCHANNEL TYPE OBJECT                                                             \nName                  Type     Description                          Reference   Validation\nchannelType           string   Identifies the Channel Type.   → M               \n                                                              ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nFEES OBJECT                                                                        \nName          Type     Description                                     Reference   Validation\nfeeType       string   Defines the type of fee.                  → M               \n                                                                 ← M\nfeeAmount     string   Defines the amount of the fee.            → M               Please refer to API Fundamentals document for amount\n                                                                 ← M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   → M               Enumeration = ISO Currency Codes\n                                                                 ← M\n\n\n# Commission Object\n\nAn object that enables earned commission that is calculated by the API provider to be returned.\n\n{\n  "commissionType": "surcharge",\n  "commissionAmount": "2",\n  "commissionCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCOMMISSION OBJECT                                                                         \nName                 Type     Description                                     Reference   Validation\ncommissionType       string   Defines the type of commission.           → M               \n                                                                        ← M\ncommissionAmount     string   Defines the amount of the commission.     → M               Please refer to API Fundamentals document for amount\n                                                                        ← M               validation rules.\ncommissionCurrency   string   Defines the currency of the commission.   → M               Enumeration = ISO Currency Codes\n                                                                        ← M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nREQUESTING ORGANISATION OBJECT                                                                                       \nName                                   Type     Description                                              Reference   Validation\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid’\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE           DESCRIPTION\nbillpay        Payment of bill from a business for goods and/or services.\ndeposit        Exchange of cash in return for e-Money at a physical agent\n               or via ATM.\ndisbursement   Disbursement of funds (making payments from an organisation\n               (business, NGO, government entity) to a mobile money\n               recipient.\ntransfer       Transfer of funds between mobile money provider and another\n               provider or financial institution in the same country.\nmerchantpay    Purchases of goods and/or services from shops (payer\n               present) or online (payer not present).\ninttransfer    Transfer of funds to a recipient in another country, either\n               directly to/from a mobile wallet or via an international\n               money transfer provider.\nadjustment     General adjustments to an account via an adjustment\n               transaction (e.g. refunds).\nreversal       Reversal of a prior transaction to return funds to the\n               payer.\nwithdrawal     Exchange of e-Money in return for cash at a physical agent\n               or via ATM.\n\n\n# ID Types\n\nThe ID Types enumeration contains accepted identification types. Due to the wide international variation in accepted types of identification, a catch-all type of ‘otherid’ is included.\n\nID TYPE                DESCRIPTION\npassport               Payment of bill from a business for goods and/or services.\nnationalregistration   National Registration Number.\nothered                Catch-all for IDs not on the list.\ndrivinglicence         Driving Licence Number.\nsocialsecurity         Social Security Number.\nalienregistration      Alien Registration ID.\nnationalidcard         National Identity Card.\nemployer               Employers Identification.\ntaxid                  Tax Identification Number.\nseniorcitizenscard     Senior Citizens ID Card.\nmarriagecertificate    Marriage Certificate.\nbirthcertificate       Birth Certificate.\nhealthcard             Health Card.\nvotersid               Voters Identification.\nvillageelderletter     Letter of confirmation from village elder.\npancard                Credit/debit card number (Primary Account Number).\nofficialletter         Official letter confirming identity.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              >First character can contain a ‘+’ or digit\n                                                              >Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   string   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  string   Provides a reference for a Service Provider.\nstoreid            Store ID                          string   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         string   Name of the bank.\nbankaccounttitle   Bank Account Title                string   The title of the bank account.\nemailaddress       Email Address                     string   emailaddress of the party.\nmandatereference   Debit Mandate Reference           string   A means to identify an account via a debit mandate\n                                                              reference.\n\n\n# ISO Country Codes\n\nThe two-character alphabetic code for country as defined by ISO 3166 is to be used for all fields specifying a country or nationality. The full list of codes is maintained by the International Organisation for Standardisation. The list can be obtained via the following website - http://www.iso.org/iso/country_codes\n\n\n# Delivery Method Types\n\nWhen a customer requests a quotation they are able to specify their preferred method of delivery of the transfer to the recipient. Permitted delivery methods are provided below.\n\nDELIVERY METHOD    DESCRIPTION\ndirecttoaccount    The transfer is to be delivered into the account (wallet) of\n                   the recipient.\nagent              The recipient can visit an agent and get the transferred\n                   funds.\npersonaldelivery   a supplementary service where an authorised person can\n                   deliver the funds, in hand, to the receiving end user.\n\n\n# Frequency Type\n\nWhen requesting a debit mandate, the API client is able to specify the frequency of which the payment should be taken. Valid values are defined in the table below.\n\nFREQUENCY TYPE        DESCRIPTION\nweekly                Payment will be taken weekly.\nfortnight             Payment will be taken every two weeks.\nmonthspecificdate     Payment to be taken on a specific date every month.\ntwomonths             Payment to be taken every two months.\nthreemonths           Payment to be taken every three months.\nfourmonths            Payment to be taken every four months.\nsixmonths             Payment to be taken every six months.\nyearly                Payment to be taken yearly.\nlastdaymonth          Payment to be taken on the last calendar day of the month.\nlastdaymonthworking   Payment to be taken on the last working day of the month\n                      according to working days as per the resident country of the\n                      account.\nlastmonday            Payment to be taken on the last Monday of the month.\nlasttuesday           Payment to be taken on the last Tuesday of the month.\nlastwednesday         Payment to be taken on the last Wednesday of the month.\nlastthursday          Payment to be taken on the last Thursday of the month.\nlastfriday            Payment to be taken on the last Friday of the month.\nlastsaturday          Payment to be taken on the last Saturday of the month.\nlastsunday            Payment to be taken on the last Sunday of the month.\nspecificdaymonthly    Payment to be taken on a specific day of the month.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is an array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\nthe transactions apis are used to support mobile money financial transaction use cases. transactions are used for a wide range of use cases including merchant payments, international transfers, domestic transfers, and agent cash-in/cash-out.\n\nthe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\npost        post                                         to be used for transaction creation when the provider’s api\n            /transactions/type/{transactiontype}         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get                                          to view a transaction.\n            /transactions/{transactionreference}\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction transaction "1" *-- "0..20" metadata transaction "1" *-- "0..2" kyc information transaction "1" *-- "0..1" international transfer information kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name\n\nfigure 2-1 transaction uml class diagram\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                                  \nname                                         type        description                                                           reference                            validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                        \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                         \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                         \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers                  creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                         debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers                  debitparty must be supplied if creditparty is omitted. if\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                         creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                         enumeration = transaction types\n                                                         the url).                                                      ← m                                         note that only reversals and refunds (adjustments) are\n                                                                                                                                                                    supported.\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                         \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                        \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                         please refer to api fundamentals document for amount\n                                                                                                                        ← m                                         validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                         enumeration = iso currency codes.\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                         \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                          \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                         \n                                                         was initiated.                                                 ← o\ninternationaltransferinformation             object      a collection of fields detailing information specifically      → o    international transfer information   \n                                                         used for international transfers.                              ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                         \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrecipientkyc                                 object      a collection of fields detailing the kyc of the transaction    → o    kyc information                      \n                                                         recipient.                                                     ← o\nsenderkyc                                    object      a collection of fields detailing the kyc of the transaction    → o    kyc information                      \n                                                         sender.                                                        ← o\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation              \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                         \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                        \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                        \n                                                         provider.                                                      ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                        \n                                                         provider.                                                      ← o\nrequestdate                                  date-time   the date and time of the transaction request as supplied by    → o                                         \n                                                         the client                                                     ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object                   \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                             \n                                                         populate additional properties that describe administrative    ← o\n                                                         information regarding the transaction.\n\n\n# reversals api\n\nthe reversals api is used to reverse, adjust or refund a financial transaction. the originating transaction reference must be provided in the path in order to identify the transaction to be reversed. for a partial reversal, the amount needs to be supplied. it should be noted that some api providers do not support partial reversals and will return an error if a partial amount is supplied.\n\nfor viewing and updating reversals, the transactions api should be used.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram credit party identifier "0..10" --* "" reversal debit party identifier "0..10" --* "" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\nfigure 2-2 reversal uml class diagram\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nreversal object                                                                                                                                          \nname                                         type        description                                                           reference                 validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                             \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                              \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → na                             \n                                                         transaction which is the subject of the reversal.              ← m\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → o    account identifiers       \n                                                         be identified. keys include msisdn and wallet identifier.      ← o\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → o    account identifiers       \n                                                         to be identified. keys include msisdn and wallet identifier.   ← o\ntype                                         string      the harmonised transaction type.                               → m                              enumeration = transaction types\n                                                                                                                        ← m                              note that only reversals and refunds (adjustments) are\n                                                                                                                                                         supported.\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                              \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                             \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → o                              please refer to api fundamentals document for amount\n                                                                                                                        ← o                              validation rules.\ncurrency                                     string      currency of the transaction amount.                            → o                              enumeration = iso currency codes.\n                                                                                                                        ← o\ndescriptiontext                              string      free format text description of the transaction provided by    → o                              \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object               \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                              \n                                                         was initiated.                                                 ← o\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                              \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                             \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                             \n                                                         provider.                                                      ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                             \n                                                         provider.                                                      ← o\nrequestdate                                  date-time   the date and time of the transaction request as supplied by    → o                              \n                                                         the client                                                     ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                  \n                                                         populate additional properties that describe administrative    ← o\n                                                         information regarding the transaction.\n\n\n# batch transactions\n\nthe mobile money api allows clients to submit, approve and view batches of transactions. the following steps describe an end to end flow for processing batch transactions. two types of processing modes are supported:\n\n * one shot processing without an approver.\n * maker/checker approval, i.e. transactions are not completed until approved via a second api request.\n\nthe individual apis that are referenced in the steps below are fully documented in subsequent sub-sections.\n\n# batch transactions workflow\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../batchtransactions\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchtitle": "batch_test",\n    "batchdescription": "testing a batch",\n    "scheduledstartdate": "2017-07-21t17:32:28z"\n}\n\n\n \n\n\nget .../batchtransactions/place your batch id here/completions\n\n\n \n\n\nget .../batchtransactions/place your batch id here/rejections\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n# one-shot batch processing\n\ncreating a batch\n\n 1. client submits the batch for processing via post /batchtransactions.\n\n 2. the client will return the requeststate object indicating whether a callback will be provided or polling is required.\n\n 3. the api provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. once parsing has completed, the api provider will set the batch status in the batchtransactions object to ‘completed’.\n\nverifying a batch\n\n \n\n 5. the client will be able to retrieve the batch transaction object by invoking get /batchtransactions using the object reference provided by the requeststate object. alternatively, if callback is specified, the client will receive the representation of the batchtransactions object to their nominated url set in the x-callback-url header.\n\nif errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via get /batchtransactions/rejections. successfully completed transactions can be viewed via get /batchtransactions/completions.\n\n# batch processing with maker/checker\n\ncreating a batch\n\n 1. client submits the batch for processing via post /batchtransactions.\n\n 2. the client will return the requeststate object indicating whether a callback will be provided or polling is required.\n\n 3. the api provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. once parsing has completed, the api provider will set the batch status in the batchtransactions object to ‘created’.\n\nverifying a batch\n\n 5. the client will be able to retrieve the batch transaction object by invoking get /batchtransactions using the object reference provided by the requeststate object. alternatively, if callback is specified, the client will receive the representation of the batchtransactions object to their nominated url set in the x-callback-url header.\n\n 6. if errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via get /batchtransactions/rejections.\n\napproving a batch\n\n 7.  a client can approve the batch for posting by issuing a patch /batchtransactions in order to update the status to ‘approved’.\n\n 8.  as per step 2, a requeststate object will be returned indicating whether a callback will be provided or polling is required.\n\n 9.  the api provider will then post the transactions in the batch considering any scheduling considerations.\n\n 10. once posting is completed, the api provider will set the batch status in the batchtransactions object to ‘completed’.\n\n 11. the client will be able to retrieve the batchtransactions object by invoking get /batchtransactions using the object reference provided by the requeststate object. alternatively, if callback is specified, the client will receive the representation of the batchtransactions object to their nominated url set in the x-callback-url header.\n\nthe client will also be able to retrieve a list of successful transaction completions /batchtransactions/completions and transaction failures /batchtransactions/rejections.\n\n\n# batch transactions api\n\nthis api enables clients to submit and approve a batch of transactions. the api allows transactions of multiple types to be included in a single batch. the following paths are permitted:\n\n- submit a batch: post /batchtransactions\n\n- approve a batch: patch /bathtransactions/{batchid}. the batch status needs to be set to ‘approved’.\n\n- view details regarding batch processing: get /batchtransactions/{batchid}\n\n\n\nonly asynchronous mode is supported for the post and patch methods. for the get method, only synchronous mode is supported.\n\nthere is a limit of 999,999 transaction records per batch.\n\n# batch transaction object uml diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction transaction "0.." --* "1" batch transaction transaction "1" *-- "0..20" metadata transaction "1" *-- "0..1" international transfer information kyc information "0..2" --* "1" transaction kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name\n\nfigure 2-3 batch transaction uml class diagram\n\n# batch transaction object definition\n\n{\n  "batchid": "d24651c4-ef6f-4c5c-af0e-468f1dc53624",\n  "batchstatus": "approved",\n  "transactions": [\n    {\n      //transaction 1 object...\n      },\n    {\n      //transaction 2 object...\n    }\n  ]\n  "approvaldate": "2017-07-21t17:32:28z", \n  "completiondate": "2017-07-21t17:32:28z",\n  "batchtitle": "batch title...",\n  "batchdescription": "batch description...",\n  "processingflag": true,\n  "completedcount": 3,\n  "parsingsuccesscount": 2,\n  "rejectioncount": 1,\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "scheduledstartdate": "2017-07-21t17:32:28z",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbatch transaction object                                                                                                               \nname                       type        description                                                           reference                 validation\nbatchid                    string      identifier for the batch that is assigned by the api           → na                             \n                                       provider. this id is used by the client on subsequent get or   ← m\n                                       patch methods.\nbatchstatus                string      indicates the status of the batch.                             → o                              enumeration = created, approved, completed\n                                                                                                      ← m\ntransactions               array       collection of transactions that are to be processed. note      → m    transactions              \n                                       that the representation of each completed transaction can be   ← na\n                                       retrieved via the ‘/completions api.\napprovaldate               date-time   indicates when the batch was approved as recorded by the api   → na                             \n                                       provider.                                                      ← m\ncompletiondate             date-time   indicates when the batch was completed as recorded by the      → na                             \n                                       api provider.                                                  ← m\nbatchtitle                 string      client-provided title for the batch.                           → o                              \n                                                                                                      ← o\nbatchdescription           string      client-provided description of the batch.                      → o                              \n                                                                                                      ← o\nprocessingflag             boolean     indicates whether the batch is currently undergoing            → na                             \n                                       processing by the api provider.                                ← o\ncompletedcount             integer     indicates the number of records that have been successfully    → na                             \n                                       completed.                                                     ← o\nparsingsuccesscount        integer     indicates the number of records that have been parsed          → na                             \n                                       successfully.                                                  ← o\nrejectioncount             integer     indicates the number of records that have been rejected,       → na                             \n                                       either during parsing or during final processing.              ← o\nrequestingorganisation     object      the originating organisation of the request.                   → o    requesting organisation   \n                                                                                                      ← o\nscheduledstartdate         date-time   if the batch has been scheduled, the expected start time is    → o                              \n                                       provided here.                                                 ← o\ncreationdate               date-time   indicates when the batch was created as recorded by the api    → na                             \n                                       provider.                                                      ← o\nmodificationdate           date-time   indicates when the batch was modified as recorded by the api   → na                             \n                                       provider.                                                      ← o\nrequestdate                date-time   the date and time of the batch request as supplied by the      → o                              \n                                       client.                                                        ← o\ncustomdata                 string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                       provider specific fields.                                      ← o\n\n\n# batch rejections api\n\nthis api enables clients to retrieve information on all transactions that have either failed parsing or have failed to complete. only the get method is supported. the path is batchtransactions/{batchid}/rejections.\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# batch rejection uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" batch rejection debit party identifier "1..10" --* "1" batch rejection batch rejection "0..*" --* "1" batch transaction\n\nfigure 2-4 batch rejection uml class diagram\n\n# batch rejection object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "rejectionreason": "some rejection reason...",\n  "rejectiondate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbatch rejection object                                                                                                                               \nname                                         type        description                                                           reference             validation\ntransactionreference                         string      transaction reference as assigned by the api provider.         → na                         \n                                                                                                                        ← o\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → na                         \n                                                         to be associated with the transactions.                        ← o\ncreditparty                                  array       the credit party identifiers for the transaction as specific   → na   account identifiers   \n                                                         in the batch request.                                          ← m\ndebitparty                                   array       the debit party identifiers for the transaction as specific    → na   account identifiers   \n                                                         in the batch request.                                          ← m\nrejectionreason                              string      the reason for the transaction request as indicated by the     → na                         \n                                                         api provider.                                                  ← m\nrejectiondate                                date-time   date and time of the rejection.                                → na                         \n                                                                                                                        ← m\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object    \n                                                         provider specific fields.                                      ← o\n\n\n# batch completions api\n\nthis api lists all transactions that have successfully completed for a given batch. only the get method is supported. the path format is batchtransactions/{batchid}/completions.\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count)\n\n# batch completion uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" batch completion debit party identifier "1..10" --* "1" batch completion batch completion "0..*" --* "1" batch transaction\n\nfigure 2-5 batch completion uml class diagram\n\n# batch completion object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "completiondate": "2017-07-21t17:32:28z",\n  "link": "https://application.com/uuid",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbatch completion object                                                                                                                              \nname                                         type        description                                                           reference             validation\ntransactionreference                         string      transaction reference as assigned by the api provider.         → na                         \n                                                                                                                        ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → na                         \n                                                         to be associated with the transactions.                        ← o\ncreditparty                                  array       the credit party identifiers for the transaction as specific   → na   account identifiers   \n                                                         in the batch request.                                          ← m\ndebitparty                                   array       the debit party identifiers for the transaction as specific    → na   account identifiers   \n                                                         in the batch request.                                          ← m\ncompletiondate                               date-time   date and time indicating when the transaction was completed.   → na                         \n                                                                                                                        ← m\nlink                                         string      provides a url to the transaction resource.                    → na                         \n                                                                                                                        ← m\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object    \n                                                         provider specific fields.                                      ← o\n\n\n# accounts apis\n\nthe accounts apis are used to support a range of account-related operations. types of accounts include mobile wallets, bank accounts, savings accounts, and loan accounts.\n\n# identifying a target account\n\ntwo methods are provided for identifying an account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used: /accounts/{identifiertype}/{identifier}.\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used: /accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3}.\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n# account creation\n\nthe mobile money api allows account creation for customers who are classified as individuals. the creation of a customer account can be triggered by various means including:\n\n * account creation via a mobile money agent.\n\n * automatic account creation upon sim registration.\n\n * app-based self-registration.\n\nregardless of the method of creation, new customers are generally provided with account and transaction limits based upon the level of kyc information they have provided and whether their kyc information has been physically verified.\n\nto create an account, use post /accounts/{identitytype}, supplying ‘individual’ as the identitytype.\n\n# account retrieval\n\naccount details, including associated account identities can be retrieved via the following paths:\n\nget /accounts/{accountidentifiertype}/{identifier} or\n\nget /accounts/{account identifiers}\n\n# account update\n\n# account-level updates\n\nto update information held against an account, use one of the following paths:\n\npatch /accounts/{accountidentifiertype}/{identifier} or\n\npatch /accounts/{account identifiers}\n\n\n\nthe following account fields can be updated:\n\n{\n  "accountstatus": {\n    "op": "replace", \n    "path": "/accountstatus", \n    "value": "string"\n  },\n  "accountsubstatus": {\n    "op": "replace", \n    "path": "/accountsubstatus", \n    "value": "string"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nfield              patch body                                                     description\naccountstatus      "op": "replace", "path": "/accountstatus", "value": "string"   use to modify the status of an account.\naccountsubstatus   "op": "replace", "path": "/accountsubstatus", "value":         use to modify the sub-status of an account.\n                   "string"\n\nfor more information on the above fields please refer to the account object.\n\n# identity-level updates\n\nto update an information held against an identity associated with an account, use one of the following paths:\n\npatch /accounts/{identifiertype}/{identifier}/identities/{identityid} or\n\npatch /accounts/{account identifiers}/identities/{identityid}\n\n\n\nthe following identity fields can be updated:\n\n{\n  "identity.identitystatus": {\n    "op": "replace", \n    "path": "/identitystatus", \n    "value": "string"\n  },\n  "identity.kycverificationstatus": {\n    "op": "replace", \n    "path": "/kycverificationstatus", \n    "value": "string"\n  },\n  "identity.kycverificationentity": {\n    "op": "replace", \n    "path": "/kycverificationentity", \n    "value": "string"\n  },\n  "identity.kyclevel": {\n    "op": "replace", \n    "path": "/kyclevel", \n    "value": "string"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nfield                            patch body                                                    description\nidentity.identitystatus          "op": "replace", "path": "/identitystatus", "value":          use to modify the status of an identity associated with an\n                                 "string"                                                      account.\nidentity.kycverificationstatus   "op": "replace", "path": "/kycverificationstatus", "value":   use to change the kyc verification status of an identity\n                                 "string"                                                      associated with an account.\nidentity.kycverificationentity   "op": "replace", "path": "/kycverificationentity", "value":   use to indicate the entity (e.g. mobile money agent) that\n                                 "string"                                                      performed the verification.\nidentity.kyclevel                "op": "replace", "path": "/kyclevel", "value": “integer”      uuse to modify the kyc level of an identity associated with\n                                                                                               an account.\n\nfor more information on the above fields please refer to the identity object.\n\n# account uml diagram\n\nclassdiagram id document "0..10" --* "1" kyc information address "0..1" --* "1" kyc information name "0..1" --* "1" kyc information kyc information "1" --* "1" identity account identifier "1..10" --* "1" account identity "1..20" --* "1" account fee "1..20" --* "1" account commission "1..20" --* "1" account\n\nfigure 2-6 account creation uml class diagram\n\n# account object definition\n\n{\n  "accountidentifiers": [\n    {\n      "key": "mycustomkey",\n      "value": "mycustomvalue"\n    }\n  ],\n  "identity": [\n    {\n      "identityid": "12345",\n      "identitytype": "individual",\n      "identitykyc": {\n        "dateofbirth": "2000-11-20",\n        "birthcountry": "gb",\n        "contactphone": "+1234567890"\n      },\n      "accountrelationship": "accountholder"\n    }\n  ],\n  "accounttype": "seller",\n  "accountsubstatus": "api",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "commissionearned": {\n    "commissiontype": "transfer",\n    "commissionamount": "2.50",\n    "commissioncurrency": "gbp"\n  },\n  "registeringentity": "my fsp",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naccount object                                                                                                               \nname                 type        description                                                           reference             validation\naccountidentifiers   array       a series of key/value pairs that enable the account to be      → o    account identifiers   \n                                 identified. identifiers are assigned by the api provider       ← m\n                                 during creation.\nidentity             array       an account must be associated with one or more identities.     → m    identity object       \n                                                                                                ← m\naccounttype          string      a non-harmonised field that indicates the type of the          → o                          \n                                 account.                                                       ← o\naccountstatus        string      indicates a simplified representation of the account status.   → na                         \n                                 this will be shown as ‘available’ or ‘unavailable’. a state    ← m\n                                 of ‘unavailable’ means that the account is in a state that\n                                 does not allow posting of transactions.\naccountsubstatus     string      field can be used to return a provider-specific status for     → na                         \n                                 the account.                                                   ← o\ncurrentbalance       string      the current outstanding balance on the account.                → na                         please refer to api fundamentals document for amount\n                                                                                                ← o                          validation rules.\navailablebalance     string      indicates the balance that is able to be debited for an        → na                         please refer to api fundamentals document for amount\n                                 account. this balance is only provided on some api provider    ← o                          validation rules.\n                                 systems.\nreservedbalance      string      indicates the portion of the balance that is reserved, i.e.    → na                         please refer to api fundamentals document for amount\n                                 intended to be debited. this balance is only provided on       ← o                          validation rules.\n                                 some api provider systems.\nunclearedbalance     string      indicates the sum of uncleared funds in an account, i.e.       → na                         please refer to api fundamentals document for amount\n                                 those that are awaiting a credit confirmation.                 ← o                          validation rules.\ncurrency             string      currency of the account.                                       → na                         enumeration = iso currency codes\n                                                                                                ← o\ncustomdata           string      a collection of key/value pairs that can be used for           → o    custom data object    \n                                 provider specific fields.                                      ← o\nfees                 string      returns all fees related to the creation of the account.       → o    fees object           \n                                                                                                ← o\ncommissionearned     string      returns all commission earned by the registering entity for    → na   commission object     \n                                 the creation of the account.                                   ← o\nregisteringentity    string      the entity that registered the account, for example, a         → o                          \n                                 mobile money agent.                                            ← o\ncreationdate         date-time   indicates when the account was created as recorded by the      → na                         \n                                 api provider.                                                  ← o\nmodificationdate     date-time   indicates when the account was modified as recorded by the     → na                         \n                                 api provider.                                                  ← o\nrequestdate          date-time   the date and time of the account request as supplied by the    → o                          \n                                 client.                                                        ← o\n\n# retrieving transactions for an account\n\nit is possible to return a range of transactions for an account as per the following paths:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions.\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum creationdate for which records should\n                                          be returned.\ntodatetime          string    date-time   indicates the maximum creationdate for which records should\n                                          be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram id document "0..10" --* "1" kyc information address "0..1" --* "1" kyc information name "0..1" --* "1" kyc information credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction kyc information "0..2" --* "1" transaction metadata "0..20" --* "1" transaction international transferinformation "0..1" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2-7 account transaction uml class diagram\n\n# accounts status api\n\nthe accounts status api returns a harmonised status of the account. the status enables the client to determine whether transactions can be subsequently posted against the account. permitted paths are get /accounts/{identifiertype}/{identifier}/status’ or get /accounts/{account identifiers}/status.\n\n# account status uml class diagram\n\nclassdiagram account status "1" --* "1" account\n\nfigure 2-8 account status uml class diagram\n\n# account status object definition\n\n{\n  "accountstatus": "available",\n  "substatus": "approved",\n  "lei": "22210053of4f2mykuv22"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naccount status object                                                                                              \nname                    type     description                                                           reference   validation\naccountstatus           string   indicates a simplified representation of the account status.   → na               enumeration = available, unavailable, unregistered\n                                 this will be shown as ‘available’ or ‘unavailable’. a state    ← m\n                                 of ‘unavailable’ means that the account is in a state that\n                                 does not allow posting of transactions. unregistered\n                                 indicates that although not available, a transaction posted\n                                 with the account identifier(s) will result in an\n                                 unregistered voucher creation.\nsubstatus               string   field can be used to return a provider-specific status for     → na               \n                                 the account.                                                   ← o\nlei                     string   indicates the legal entity identifier of the organisation      → na               refer to lei format as defined here:\n                                 holding the account.                                           ← o                https://www.leiroc.org/lei.htm\n\n# account balances api\n\nthis api defines specific fields for returning balances associated with an account. permitted paths are get /accounts/{identifiertype}/{identifier}/balance or get /accounts/{account identifiers}/balance.\n\na ‘self’ version is also available where the calling api client is the account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram account balance "1" --* "1" account\n\nfigure 2-9 account balance uml class diagram\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbalance object                                                                                                \nname               type     description                                                           reference   validation\naccountstatus      string   indicates a harmonises representation of the account state.    → na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    ← o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                → na               please refer to api fundamentals document for amount\n                                                                                           ← o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        → na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    ← o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    → na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       ← o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       → na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← o                validation rules.\ncurrency           string   currency for all returned balances.                            → na               enumeration = iso currency codes\n                                                                                           ← o\n\n# account holder name api\n\nthis api defines specific fields for returning account holder name information associated with an account. permitted paths are get /accounts/{identifiertype}/{identifier}/accountname or get /accounts/{account identifiers}/accountname.\n\n# account holder name uml class diagram\n\nclassdiagram account holder name "1" --* "1" account\n\nfigure 2-10 account holder name uml class diagram\n\n# account holder name object definition\n\n{\n  "name": {\n    "title": "mr",\n    "firstname": "john",\n    "middlename": "alan",\n    "lastname": "doe",\n    "fullname": "john alan doe",\n    "nativename": "john doe"\n  },\n  "lei": "22210053of4f2mykuv22"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naccount holder name object                                                                                              \nname                         type        description                                                        reference   validation\nname                         reference   a collection of fields detailing the name of the primary    → na   name        \n                                         account holder.                                             ← o\nlei                          string      indicates the legal entity identifier of the organisation   → na               refer to lei format as defined here:\n                                         holding the account.                                        ← o                https://www.leiroc.org/lei.htm\n\n# account statement entries api\n\nthe account statement entries api enables a generic representation of transactions to be returned so that they can be displayed in an account statement for the account holder. to return statement entries, an account or a transaction reference must be specified. the supported paths are as follows:\n\nto return a specific statement entry:\n\n- get /statemententries/{transactionreference}\n\nto return a range of statement entries:\n\n- get /accounts/{ identifiertype}/{identifier}statemententries or /accounts/{account identifiers}/statemententries.\n\n\n\nto filter the number of records returned, the following query string parameters can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "displaytype": "list"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum creationdate for which records should\n                                          be returned.\ntodatetime          string    date-time   indicates the maximum creationdate for which records should\n                                          be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ndisplaytype         string    n/a         indicates the display type of the transactions to be\n                                          returned.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the statement entries are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account statement entry uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" statement entry debit party identifier "1..10" --* "1" statement entry classdiagram credit party identifier "1..10" --* "1" statement entry debit party identifier "1..10" --* "1" statement entry statement entry "0..*" --* "2" account\n\nfigure 2-11 statement entry uml class diagram\n\n# account statement entry object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "my transaction description.",\n  "displaytype": "list",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naccount statement entry object                                                                                                          \nname                             type        description                                                          reference             validation\ntransactionreference             string      unique reference for the transaction. this is returned in     → na                         \n                                             the response by api provider.                                 ← m\ncreditparty                      array       a series of key/value pairs that identify the credit party.   → na   account identifiers   \n                                             keys include msisdn and wallet identifier.                    ← m\ndebitparty                       array       a collection of key/value pairs that identify the debit.      → na   account identifiers   \n                                             keys include msisdn and wallet identifier.                    ← m\ntransactionstatus                string      indicates the status of the transaction as represented by     → na                         \n                                             the api provider.                                             ← m\namount                           string      amount of the transaction.                                    → na                         please refer to api fundamentals document for amount\n                                                                                                           ← m                          validation rules.\ncurrency                         string      currency of the transaction.                                  → na                         enumeration = iso currency codes\n                                                                                                           ← m\ndescriptiontext                  string      free format text description of the transaction provided by   → na                         \n                                             the client. this can be provided as a reference for the       ← o\n                                             receiver on a notification sms and on an account statement.\ndisplaytype                      string      the transaction type that is to be used for presentation to   → na                         \n                                             the account holder as determined by the api provider. this    ← o\n                                             is not necessarily the actual transaction type.\ntransactionreceipt               string      transaction receipt number as notified to the parties. this   → na                         \n                                             may differ from the transaction reference.                    ← o\ncreationdate                     date-time   date and time when the transaction was created by the api     → na                         \n                                             provider.                                                     ← o\nmodificationdate                 date-time   date and time when the transaction modified by the api        → na                         \n                                             provider.                                                     ← o\nrequestdate                      date-time   the date and time of the transaction request as supplied by   → na                         \n                                             the client.                                                   ← o\ncustomdata                       string      a collection of key/value pairs that can be used for          → o    custom data object    \n                                             provider specific fields.                                     ← o\n\n\n# bills api\n\nthe bills api are used to return all outstanding bills associated with an account. the main purpose of the api is to support bill presentment, i.e. presenting all applicable bills for a payer to view and select for payment. to pay a bill, the bill payments api is used. permitted paths are get /accounts/{identifiertype}/{identifier}/bills or get /accounts/{account identifiers}/bills.\n\nto filter the number of records returned, the following query string parameters can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the bills are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# bill uml class diagram\n\nclassdiagram metadata "0..20" --* "1" bill bill "0..*" --* "1" account\n\nfigure 2-12 bill uml class diagram\n\n# bill object definition\n\n{\n  "billreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "billstatus": "partialpaid",\n  "amountdue": "123.45",\n  "billdescription": "my custom description...",\n  "currency": "gbp",\n  "duedate": "2018-11-20",\n  "minimumamountdue": "23.45",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbill object                                                                                                              \nname               type        description                                                          reference            validation\nbillreference      string      reference number for the bill that the payer can use when     → na                        \n                               making a payment.                                             ← o\nbillstatus         string      identifies the status of the bill.                            → na                        ‘paid’, ‘unpaid’, ‘partialpaid’\n                                                                                             ← o\namountdue          string      amount outstanding on the bill to be paid.                    → na                        please refer to api fundamentals document for amount\n                                                                                             ← o                         validation rules.\nbilldescription    string      description of the bill that is to be paid.                   → na                        \n                                                                                             ← o\ncurrency           string      currency of the bill to be paid.                              → na                        enumeration = iso currency codes\n                                                                                             ← o\nduedate            date        date on which the bill is due to be paid.                     → na                        \n                                                                                             ← o\nminimumamountdue   string      the minimum amount that is outstanding on the bill to be      → na                        please refer to api fundamentals document for amount\n                               paid.                                                         ← o                         validation rules.\ncreationdate       date-time   indicates when the bill was created by the api provider.      → na                        \n                                                                                             ← o\nmodificationdate   date-time   indicates when the bill was modified by the api provider.     → na                        \n                                                                                             ← o\ncustomdata         string      a collection of key/value pairs that can be used for          → o    custom data object   \n                               provider specific fields.                                     ← o\nmetadata           array       a collection of key/value pairs. these can be used to         → na   metadata             \n                               populate additional properties that describe administrative   ← o\n                               information regarding the bill.\n\n\n# bill payments api\n\nthe bill payments apis are used to pay a specific bill associated with an account held with a service provider. bill payments can also be retrieved. permitted paths are:\n\npath                                                                     usage\n/accounts/{identifiertype}/{identifier}/bills/{billreference}/payments   use when a single identifier suffices to identify the bill\n                                                                         account.\n/accounts/{account                                                       use when two or three identifiers are required to identify\nidentifiers}/bills/{billreference}/payments                              an account.\n/bills/{billreference}/payments                                          use when a bill payment is not associated with a service\n                                                                         provider account.\n/accounts/{identifiertype}/{identifier}/bills/payments or                use when a bill does not have a bill reference\n/accounts/{account identifiers}/bills/payments\n\nas per mm api standards, post is used to create a bill payment whereas get is used to retrieve all payments associated with a bill.\n\nwhen retrieving bill payments, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the bill payments are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# bill payment uml class diagram\n\nclassdiagram supplementary bill reference "0..20" --* "1" bill payment metadata "0..20" --* "1" bill payment classdiagram supplementary bill reference "0..20" --* "1" bill payment metadata "0..20" --* "1" bill payment bill payment "0..*" --* "1" account\n\nfigure 2-13 bill payment uml class diagram\n\n# bill payment object definition\n\n{\n  "serviceproviderpaymentreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "paymenttype": "fullpayment",\n  "billpaymentstatus": "approved",\n  "amountpaid": "123.45",\n  "currency": "gbp",\n  "customerreference": "customer reference text...",\n  "requestingorganisation": "creditfsp",\n  "supplementarybillreferencedetails": [\n    {\n      "paymentreferencetype": "paymentreferencevalue"\n    }\n  ],\n  "serviceprovidercomment": "this is sp comment...",\n  "serviceprovidernotification": "this is sp notification...",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbill payment object                                                                                                                                 \nname                                         type        description                                                           reference            validation\nserviceproviderpaymentreference              string      reference for the payment generated by the service provider.   → o                         \n                                                                                                                        ← o\nrequestingorganisationtransactionreference   string      the mobile money provider’s (or financial institution’s)       → o                         \n                                                         transaction reference used to debit the customer and credit    ← o\n                                                         the service provider.\npaymenttype                                  string      describes the type of bill payment, i.e. whether a full or     → o                         enumeration = ‘fullpayment’, ‘partialpayment’\n                                                         partial payment.                                               ← o\nbillpaymentstatus                            string      indicates the status of the bill payment as stored by the      → na                        \n                                                         api provider.                                                  ← m\namountpaid                                   string      amount that is being paid.                                     → m                         please refer to api fundamentals document for amount\n                                                                                                                        ← m                         validation rules.\ncurrency                                     string      currency of the amount that is being paid.                     → m                         enumeration = iso currency codes\n                                                                                                                        ← m\ncustomerreference                            string      textual reference provided by the customer paying the bill.    → o                         \n                                                                                                                        ← o\nrequestingorganisation                       string      the originating mobile money provider or financial             → o                         \n                                                         institution that holds the wallet/account of the payer.        ← o\nsupplementarybillreferencedetails            array       in some cases, a single reference is not sufficient to         → c    bill references      not applicable if billreference is no passed in the path.\n                                                         identify a bill. this key-value collection enables further     ← c\n                                                         reference information to be supplied.\nserviceprovidercomment                       string      allows the service provider to include specific information    → na                        \n                                                         regarding the bill payment.                                    ← o\nserviceprovidernotification                  string      allows the service provider to include specific information    → na                        \n                                                         that will be included on the notification to the customer by   ← o\n                                                         the mobile money provider.\ncreationdate                                 date-time   indicates when the bill payment was created as recorded by     → na                        \n                                                         the api provider.                                              ← o\nmodificationdate                             date-time   indicates when the bill payment was modified as recorded by    → na                        \n                                                         the api provider.                                              ← o\nrequestdate                                  date-time   the date and time of the bill payment request as supplied by   → o                         \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object   \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata             \n                                                         populate additional properties that describe administrative    ← o\n                                                         information regarding the bill payment.\n\n\n# bill companies api\n\nthe bill companies apis are used to return a list of service providers that accept bill payments. permitted paths are as per below:\n\n * bill companies irrespective of account:\n   \n   * use get /billcompanies to return a list of all bill payment service providers.\n   \n   * use get /billcompanies/{serviceprovider} to return a specific bill payment service provider.\n\n * bill companies for a given account:\n   \n   * get /accounts/{identifiertype}/{identifier}/billcompanies or get /accounts/{account identifiers}/billcompanies.\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter   type      format   description\nlimit       integer   n/a      supports pagination. if this is not supplied, then the\n                               server will apply a limit of 50 records returned for each\n                               request.\noffset      integer   n/a      supports pagination. this value will indicate the cursor\n                               position from where to retrieve the set of records. for\n                               example, a limit of 50 and offset of 10 will return records\n                               11 to 60.\n\ntip\n\nnote: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# bill company uml class diagram\n\nclassdiagram supplementary service provider details "0..20" --* "1" bill company classdiagram supplementary service provider details "0..20" --* "1" bill company bill company "0..*" --* "1" account\n\nfigure 2-14 bill company uml class diagram\n\n# bill company object definition\n\n{\n  "serviceprovider": "987654321",\n  "serviceprovidertype": "seller",\n  "serviceprovidersubtype": "merchant",\n  "companyname": "merchant seller llc",\n  "supplementaryserviceproviderdetails": [\n    {\n      "paymentreferencetype": "paymentreferencevalue"\n    }\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbill companies object                                                                                                                                       \nname                                  type     description                                                         reference                                validation\nserviceprovider                       string   service provider reference code.                             → na                                            \n                                                                                                            ← m\nserviceprovidertype                   string   type of service provider that accepts payments.              → na                                            \n                                                                                                            ← o\nserviceprovidersubtype                string   sub-type of service provider.                                → na                                            \n                                                                                                            ← o\ncompanyname                           string   display name for the service provider.                       → na                                            \n                                                                                                            ← m\nsupplementaryserviceproviderdetails   array    in some cases, further information for a service provider    → na   supplementary service provider details   \n                                               can be returned. this key-value collection enables further   ← o\n                                               information to be supplied.\n\n\n# debit mandates api\n\nthe debit mandates apis allow a mobile money customer to provide prior approval for payments to be taken from their account by a requesting payee. if the amount limit field is not supplied, the payee will be able to take any amount. mandates can be open-ended or can be constrained by a quantified number of payments for a given frequency.\n\nmandates can be created, viewed, and modified. the request to create a debit mandate will be typically initiated by the service provider (payee) but can also be requested by the customer (payer).\n\nthe permitted paths are as follows. note that the payer account is identified in the path whereas the payee account is identified in the request body.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/2000/debitmandates\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n   "payee": [\n    {\n      "key": "accountid",\n      "value": "2999"\n    }\n  ],\n    "requestdate": "2017-07-21t17:32:28z",\n    "startdate": "2018-11-20",\n    "currency": "gbp",\n    "amountlimit": "1000.00",\n    "enddate": "2018-11-20",\n    "numberofpayments": "2",\n    "frequencytype": "sixmonths",\n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]        \n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n * creation: post /accounts/{identifiertype}/{identifier}/debitmandates or post /accounts/{account identifiers}/debitmandates.\n\n * update: in order to update a debit mandate, a http patch is used. format is: patch /accounts/{identifiertype}/{identifier}/debitmandates/{mandatereference} or patch /accounts/{account identifiers}/debitmandates/{mandatereference}\n\n * read. get /accounts/{identifiertype}/{identifier}/debitmandates/{mandatereference} or get /accounts/{account identifiers}/debitmandates/{mandatereference}.\n\nsynchronous and asynchronous modes are supported for the post and patch methods whereas only synchronous mode is supported for the get method.\n\nthe following fields are modifiable: mandatestatus, startdate, enddate, frequencytype, numberofpayments.\n\n# debit mandate uml class diagram\n\nclassdiagram payee identifiers "0..10" --* "1" debit mandate payer identifiers "0..10" --* "1" debit mandate debit mandate "0..*" --* "1" account\n\nfigure 2-15 debit mandate uml class diagram\n\n# debit mandate object definition\n\n{\n  "mandatereference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "payee": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "mandatestatus": "active",\n  "startdate": "2018-11-20",\n  "amountlimit": "123.45",\n  "currency": "gbp",\n  "enddate": "2018-11-20",\n  "frequencytype": "weekly",\n  "numberofpayments": 50,\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ndebit mandate object                                                                                                                 \nname                     type        description                                                           reference                 validation\nmandatereference         string      unique reference provided by the api provider for the debit    → na                             \n                                     mandate.                                                       ← m\npayee                    array       a series of key/value pairs that enable the payee to be        → o    account identifiers       \n                                     identified. keys include msisdn and wallet identifier.         ← o\nmandatestatus            string      indicates the status of the debit mandate as held in the api   → o                              enumeration = active, inactive\n                                     provider system.                                               ← o\nstartdate                date        date on which the mandate starts. if a frequencytype is        → m                              \n                                     specified, this will also be the date on which the first       ← m\n                                     payment is to be taken.\namountlimit              string      the maximum amount that can be taken by the payee on a         → o                              please refer to api fundamentals document for amount\n                                     payment request.                                               ← o                              validation rules.\ncurrency                 string      currency of the amount limit.                                  → o                              enumeration = iso currency codes\n                                                                                                    ← o\nenddate                  date        date on which the debit mandate ends.                          → o                              \n                                                                                                    ← o\nfrequencytype            string      indicates the frequency for which payments will be taken       → o                              enumeration = frequency\n                                     from the payers account.                                       ← o\nnumberofpayments         number      indicates the number of consecutive payments that are to be    → o                              \n                                     taken.                                                         ← o\nrequestingorganisation   object      the originating organisation of the request.                   → o    requesting organisation   \n                                                                                                    ← o\ncreationdate             date-time   date and time when the debit mandate was created by the api    → na                             \n                                     provider.                                                      ← o\nmodificationdate         date-time   date and time when the debit mandate was modified by the api   → na                             \n                                     provider.                                                      ← o\nrequestdate              date-time   the date and time of the debit mandate request as supplied     → o                              \n                                     by the client.                                                 ← o\ncustomdata               string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                     provider specific fields.                                      ← o\n\n\n# links api\n\nthe links apis are used to establish a link between two separate accounts on the client and provider systems. the api can be used for example to link a mobile wallet account to a microfinance institution account or a bank account. the link object does not mandate the processes to verify and authenticate a link request - this depends upon the use case. a link needs to be associated with a mode of operation:\n\n * pull. the link can be used by the client to debit the target account held by the provider.\n\n * push. the link can be used by the client to credit the target account held by the provider.\n\n * both. the link can be used for push and pull requests.\n\nto identify the accounts that are to be linked, the target account is specified in the path whereas the source account is specified in the link object.\n\nthe permitted paths are as follows:\n\n * creation: post /accounts/{identifiertype}/{identifier}/links or post /accounts/{ account identifiers}/links.\n\n * update of status and/or mode fields: patch /accounts/{identifiertype}/{identifier}/links/{linkreference} or patch /accounts/{account identifiers}/links/{linkreference}.\n\n * read. get /accounts/{identifiertype}/{identifier}/links/{linkreference} or get /accounts/{account identifiers}/links/{linkreference}.\n\nsynchronous and asynchronous modes are supported for post and patch methods whereas only synchronous mode is supported for the get method.\n\n# link uml class diagram\n\nclassdiagram source account identifier "1..10" --* "1" link link "0..*" --* "1" account\n\nfigure 2-16 link uml class diagram\n\n# link object definition\n\n{\n  "linkreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "sourceaccountidentifiers": [\n    {\n      "key":"msisdn",\n      "value":"+1234567890"\n    }\n  ],\n  "mode": "both",\n  "status": "inactive",\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nlink object                                                                                                                           \nname                       type        description                                                          reference                 validation\nlinkreference              string      indicates the link reference. this enables a linked account   → na                             \n                                       to be uniquely identified.                                    ← m\nsourceaccountidentifiers   array       a series of key/value pairs that identify the source          → m    account identifiers       \n                                       account. keys include msisdn and wallet identifier.           ← m\nmode                       string      indicates the mode of operation for the link.                 → m                              enumeration = push, pull, both\n                                                                                                     ← m\nstatus                     string      indicates the status of the link.                             → m                              enumeration = active, inactive\n                                                                                                     ← m\nrequestingorganisation     object      the originating organisation of the request.                  → o    requesting organisation   \n                                                                                                     ← o\ncreationdate               date-time   indicates when the link was created as recorded by the api    → na                             \n                                       provider.                                                     ← o\nmodificationdate           date-time   indicates when the link was modified as recorded by the api   → na                             \n                                       provider.                                                     ← o\nrequestdate                date-time   the date and time of the link request as supplied by the      → o                              \n                                       client.                                                       ← o\ncustomdata                 string      contains provider specific fields.                            → o    custom data object        \n                                                                                                     ← o\n\n\n# authorisation codes api\n\nthe authorisation codes apis allow a payer to generate a payment code which when presented to the payee, can be redeemed for an amount associated with the code.\n\nauthorisation codes can be set to expire. note that expiry time can be specified via the api, however the mobile money provider may mandate a common expiry period for all codes.\n\nauthorisation codes are used widely in the industry across a range of use cases, including:\n\n * atm codes for card-less withdrawals. a code is generated in advance by the customer and entered into the atm to facilitate the withdrawal.\n\n * pre-authorised codes for agent withdrawals. a code is generated in advance by the customer and given to the agent to facilitate the withdrawal.\n\n * pre-authorised codes for merchant payments. the customer generates a code which can be redeemed at a merchant.\n\nonce an authorisation code has been generated, it can be presented through multiple means, including encoding into a qr code. typically, an authorisation code will expire.\n\nthe following paths are permitted:\n\n * generate an authorisation code. post /accounts/{identifiertype}/{identifier}/authorisationcodes or post /accounts/{account identifiers}/authorisationcodes\n\n * cancel an authorisation code (codestate = ‘cancelled’). patch /accounts/{identifiertype}/{identifier}/authorisationcodes/{authorisationcode} or patch /accounts/{account identifiers}/authorisationcodes/{authorisationcode}.\n\n * view an authorisation code for a given account. get /accounts/{identifiertype}/{identifier}/authorisationcodes/{authorisationcode} or get /accounts/{requestor account identifiers}/authorisationcodes/{authorisationcode}.\n\n * view all authorisation codes for a given account. get /accounts/{identifiertype}/{identifier}/authorisationcodes or get /accounts/{requestor account identifiers}/authorisationcodes.\n\nwhen retrieving authorisation codes, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "codestate": "active"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\ncodestate      string    string      allows filtering on the state of the authorisation code.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the authorisation codes are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\nsynchronous and asynchronous modes are supported for the post and patch methods whereas only synchronous mode is supported for the get method.\n\n# authorisation code uml class diagram\n\nclassdiagram redemption account identifier "0..10" --* "1" authorisation code metadata "0..20" --* "1" authorisation code redemption channel "0..50" --* "1" authorisation code redemption transaction type "0..50" --* "1" authorisation code authorisation code "0..*" --* "1" account\n\nfigure 2-17 authorisation code uml class diagram\n\n# authorisation code object definition\n\n{\n  "authorisationcode": "12345",\n  "codestate": "expired",\n  "amount": "123.45",\n  "currency": "gbp",\n  "amounttype": "exact",\n  "codelifetime": 30000,\n  "holdfundsindicator": true,\n  "redemptionaccountidentifiers": [\n    {\n      "key":"msisdn",\n      "value":"+1234567890"\n    }\n  ],\n  "redemptionchannels": "atm",\n  "redemptiontransactiontypes": {\n    "transactionstatus": "completed",\n    "transactiontype": "merchantpay"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nauthorisation codes object                                                                                                                  \nname                           type        description                                                           reference                  validation\nauthorisationcode              string      the code that will be presented to the other party for         → na                              \n                                           redemption.                                                    ← m\ncodestate                      string      indicates the state of the authorisation code                  → na                              enumeration = ‘active’, ‘expired’, ‘cancelled’\n                                                                                                          ← m\namount                         string      indicates the amount associated with the authorisation code.   → o                               please refer to api fundamentals document for amount\n                                           typically, this is set by the client.                          ← o                               validation rules.\ncurrency                       string      indicates the amount currency. must be supplied when an        → o                               enumeration = iso currency codes\n                                           amount is supplied.                                            ← o\namounttype                     string      the amount for the authorisation can be an exact amount or     → o                               enumeration = ‘exact’, ‘maximum’\n                                           can be a maximum amount, i.e. redemption up to but not         ← o\n                                           higher than the amount specified.\ncodelifetime                   integer     indicates the expiry time in seconds of the code. depending    → o                               if supplied, then must be 1 second or greater.\n                                           upon the use case, this can be set by the client or server.    ← o\nholdfundsindicator             boolean     indicates whether funds should be reserved against the         → o                               \n                                           payer’s account where the payer is the requestor.              ← o\nredemptionaccountidentifiers   array       a series of key/value pairs that identify the account where    → o    account identifiers        \n                                           the code must be redeemed. only needed if the redemption       ← o\n                                           account needs to be explicitly stated.\nredemptionchannels             string      indicates the channel(s) that the code can be redeemed         → o    channel types object       \n                                           against, e.g. atm, merchant, etc..                             ← o\nredemptiontransactiontypes     string      indicates the transaction types(s) that the code can be        → o    transaction types object   \n                                           redeemed against.                                              ← o\nrequestingorganisation         object      the originating organisation of the request.                   → o    requesting organisation    \n                                                                                                          ← o\ncreationdate                   date-time   indicates when the link was created as recorded by the api     → na                              \n                                           provider.                                                      ← o\nmodificationdate               date-time   indicates when the link was modified as recorded by the api    → na                              \n                                           provider.                                                      ← o\nrequestdate                    date-time   the date and time of the request as provided by the client.    → o                               \n                                                                                                          ← o\ncustomdata                     string      a collection of key/value pairs that can be used for           → o    custom data object         \n                                           provider specific fields.                                      ← o\nmetadata                       array       a collection of key/value pairs. these can be used to          → o    metadata                   \n                                           populate additional properties that describe administrative    ← o\n                                           information regarding the authorisation code\n\n\n# quotations api\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../quotations\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestamount": "75.30",\n    "requestcurrency": "rwf",\n  "requestdate": "2017-07-21t17:32:28z",\n    "type": "inttransfer",\n    "subtype": "abc",\n    "chosendeliverymethod": "agent",\n    "senderkyc": {\n        "nationality": "gb",\n        "dateofbirth": "2000-11-20",\n        "occupation": "manager",\n        "employername": "mfx",\n        "contactphone": "+447125588999",\n        "gender": "m",\n        "emailaddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthcountry": "gb",\n        "iddocument": [\n            {\n                "idtype": "nationalidcard",\n                "idnumber": "1234567",\n                "issuedate": "2018-11-20",\n                "expirydate": "2018-11-20",\n                "issuer": "ukpa",\n                "issuerplace": "gb",\n                "issuercountry": "gb",\n                "otheriddescription": "test"\n            }\n        ],\n        "postaladdress": {\n            "country": "gb",\n            "addressline1": "111 abc street",\n            "city": "new york",\n            "stateprovince": "new york",\n            "postalcode": "abcd"\n        },\n        "subjectname": {\n            "title": "mr",\n            "firstname": "luke",\n            "middlename": "r",\n            "lastname": "skywalker",\n            "fullname": "luke r skywalker",\n            "nativename": "abc"\n        }        \n    },    \n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],    \n  "sendingserviceprovidercountry": "ad",\n  "origincountry": "ad",\n  "receivingcountry": "ad"\n}\n\n\n \n\n\nget .../quotations/dd82cc6a-159a-4ddf-bea7-23bae38e72c5\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nthe quotations apis are used to obtain one or multiple quotes for a mobile money customer that wishes to transfer money. the creation of a quote involves returning any fees that will be levied on the sending customer and if the request is international, the forex rate. a request is made for a quotation by the requesting service provider in response to a customer request. the quotation is calculated and returned. if the customer is satisfied with the quotation, then they can confirm and proceed with a transaction request using the /transactions api.\n\nthe following paths are permitted:\n\n * creation of a quotation: post /quotations\n\n * view a quotation: get /quotations/{quotation reference}\n\n# quotation uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" quotation debit party identifier "1..10" --* "1" quotation metadata "0..20" --* "1" quotation quotation "1" *-- "0..2" kyc information quotation "1" *-- "0..1" quote kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name quote "1" *-- "0..20" fee\n\nfigure 2-18 quotation uml class diagram\n\n# quotation object definition\n\n{\n  "quotationreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "quotationstatus": "completed",\n  "requestamount": "123.45",\n  "requestcurrency": "gbp",\n  "availabledeliverymethod": "directtoaccount",\n  "chosendeliverymethod": "personaldelivery",\n  "origincountry": "gb",\n  "receivingcountry": "ie",\n  "quotes": [\n    {\n      "quoteid": "123456789",\n      "receivingamount": "123.45",\n      "receivingcurrency": "gbp",\n      "sendingamount": "123.45",\n      "sendingcurrency": "gbp"\n    }\n  ],\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "recipientblockingreason": "no supported currency...",\n  "senderblockingreason": "not enough funds...",\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "sendingserviceprovidercountry": "gb",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nquotation object definition                                                                                                                 \nname                            type        description                                                           reference                 validation\nquotationreference              string      unique reference for the quotation as provided by the api      → na                             \n                                            provider.                                                      ← m\ncreditparty                     array       a series of key/value pairs that enable the credit party to    → m    account identifiers       \n                                            be identified. keys include msisdn and wallet identifier.      ← m\ndebitparty                      array       a collection of key/value pairs that enable the debit party    → m    account identifiers       \n                                            to be identified. keys include msisdn and wallet identifier.   ← m\ntype                            string      the transaction type that the quotation has been requested     → o                              enumeration = transaction types\n                                            for.                                                           ← o\nsubtype                         string      the transaction sub-type that the quotation has been           → o                              \n                                            requested for.                                                 ← o\nquotationstatus                 string      indicates the creation state of the quotation.                 → na                             enumeration = pending, rejected, completed\n                                                                                                           ← o\nrequestamount                   string      requested quotation amount.                                    → m                              please refer to api fundamentals document for amount\n                                                                                                           ← m                              validation rules.\nrequestcurrency                 string      currency of the requested quotation amount.                    → m                              enumeration = iso currency codes\n                                                                                                           ← m\navailabledeliverymethod         string      delivery method that is possible for the intended recipient.   → na                             enumeration = delivery method\n                                                                                                           ← o\nchosendeliverymethod            string      the delivery method chosen by the sending end user as the      → o                              enumeration = delivery method\n                                            specific delivery method to be used in the quotes received.    ← o\norigincountry                   string      the originating country of the quotation request, i.e. the     → o                              \n                                            country where the request was initiated.                       ← o\nreceivingcountry                string      destination country of the quotation request, i.e. the         → o                              \n                                            country that the sender wishes to send to.                     ← o\nquotes                          array       a collection of quotes. a quote can be received from a         → na   quotes                    \n                                            single receiving financial service provider or from multiple   ← o\n                                            providers.\nrecipientkyc                    object      a collection of fields detailing the kyc of the transaction    → o    kyc information           \n                                            recipient, typically used for international transfers.         ← o\nsenderkyc                       object      a collection of fields detailing the kyc of the transaction    → o    kyc information           \n                                            sender, typically used for international transfers.            ← o\nrecipientblockingreason         string      the reason for blocking the quotation, based on aml checks     → na                             \n                                            on the recipient.                                              ← o\nsenderblockingreason            string      the reason for blocking the quotation, based on aml checks     → na                             \n                                            on the sender.                                                 ← o\nrequestingorganisation          object      the originating organisation of the request.                   → na   requesting organisation   \n                                                                                                           ← o\nsendingserviceprovidercountry   string      the country of the sending service provider that holds the     → o                              \n                                            account of the sender.                                         ← o\ncreationdate                    date-time   date and time when the quotation was created by the api        → na                             \n                                            provider.                                                      ← o\nmodificationdate                date-time   date and time when the quotation was modified by the api       → na                             \n                                            provider.                                                      ← o\nrequestdate                     date-time   the date and time of the quotation request as supplied by      → o                              \n                                            the client.                                                    ← o\ncustomdata                      string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                            provider specific fields.                                      ← o\nmetadata                        array       a collection of key/value pairs. these can be used to          → o    metadata                  \n                                            populate additional properties that describe administrative    ← o\n                                            information regarding the quotation.\n\n\n# supporting objects\n\n\n# international transfer information object\n\nthe international transfer information object contains details that are specific to international money transfers.\n\n{\n  "quotationreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "quoteid": "123456789",\n  "origincountry": "gb",\n  "deliverymethod": "personaldelivery",\n  "receivingcountry": "ie",\n  "relationshipsender": "household",\n  "recipientblockingreason": "id card is expired...",\n  "senderblockingreason": "address must be provided...",\n  "remittancepurpose": "commission...",\n  "sendingserviceprovidercountry": "gb"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ninternational transfer information object                                                                                              \nname                                        type     description                                                           reference   validation\nquotationreference                          string   reference for the quotation that was provided to the sender.   → o                \n                                                     (refer to quotations api for more information).                ← o\nquoteid                                     string   the specific quote associated with the quotation (refer to     → o                \n                                                     quotes object for more information).                           ← o\norigincountry                               string   the originating country of the transaction, i.e. the country   → m                enumeration = iso country codes.\n                                                     where the transaction was initiated.                           ← m\ndeliverymethod                              string   the recipient delivery method as chosen by the sender.         → o                enumeration = delivery method types\n                                                                                                                    ← o\nreceivingcountry                            string   destination country of the international transfer.             → o                \n                                                                                                                    ← o\nrelationshipsender                          string   indicates the relationship (if any) between the sender and     → o                \n                                                     the receiver.                                                  ← o\nrecipientblockingreason                     string   the reason for blocking the transaction, based on aml checks   → na               \n                                                     on the recipient.                                              ← o\nsenderblockingreason                        string   the reason for blocking the transaction, based on aml checks   → na               \n                                                     on the sender.                                                 ← o\nremittancepurpose                           string   field providing a description of the reason for the            → o                \n                                                     international transfer.                                        ← o\nsendingserviceprovidercountry               string   the country of the sending service provider that holds the     → o                \n                                                     account of the sender.                                         ← o\n\n\n# kyc information object\n\nkyc refers to ‘know your customer’. the kyc object contains a number of fields that enable the identity of the subject to be verified. kyc can be provided with transfers for the sending identity and the receiving identity. there are no mandatory kyc object fields.\n\n{\n  "birthcountry": "gb",\n  "dateofbirth": "2000-11-20",\n  "contactphone": "+1234567890",\n  "emailaddress": "example@mail.com",\n  "employername": "employer llc",\n  "gender": "m",\n  "iddocument": [\n    {\n      "idtype": "passport",\n      "idnumber": "test123456"\n    }\n  ],\n  "nationality": "gb",\n  "postaladdress": {\n    "addressline1": "33 brow rd",\n    "addressline2": "unit 200",\n    "addressline3": "paddock",\n    "city": "huddersfield",\n    "stateprovince": "west yorkshire",\n    "postalcode": "hd1 4tp",\n    "country": "gb"\n  },\n  "occupation": "manager",\n  "subjectname": {\n    "title": "mr",\n    "firstname": "john",\n    "middlename": "alan",\n    "lastname": "doe",\n    "fullname": "john alan doe",\n    "nativename": "john doe"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nkyc information object                                                                                                    \nname                     type     description                                                        reference            validation\nbirthcountry             string   the country of birth of the kyc subject.                    → o                         enumeration = iso country codes.\n                                                                                              ← o\ndateofbirth              date     birth date of the kyc subject.                              → o                         \n                                                                                              ← o\ncontactphone             string   contact phone number (mobile or landline) of the kyc        → o                         must contain between 6 and 15 consecutive digits\n                                  subject.                                                    ← o                         first character can contain a ‘+’ or digit\n                                                                                                                          can contain spaces.\nemailaddress             string   email address of the kyc subject.                           → o                         \n                                                                                              ← o\nemployername             string   employer name of the kyc subject.                           → o                         \n                                                                                              ← o\ngender                   string   gender of the kyc object.                                   → o                         length=1, enumeration = (m)ale, (f)emale, (u)nspecified\n                                                                                              ← o\niddocument               array    an array of fields containing the forms of identification   → o    id document object   \n                                  that are associated with the subject.                       ← o\nnationality              string   nationality of the kyc subject.                             → na                        enumeration = iso country codes\n                                                                                              ← o\npostaladdress            object   a collection of fields that details the postal address of   → o    address              \n                                  the kyc subject.                                            ← o\noccupation               string   occupation of the kyc subject.                              → o                         \n                                                                                              ← o\nsubjectname              object   refers to the name fields for the kyc subject.              → o    name                 \n                                                                                              ← o\n\n\n# name object\n\nthe name object identifies the name details for the subject identity.\n\n{\n  "title": "mr",\n  "firstname": "john",\n  "middlename": "alan",\n  "lastname": "doe",\n  "fullname": "john alan doe",\n  "nativename": "john doe"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname object                                                                                             \nname          type     description                                                          reference   validation\ntitle         string   the given title of the kyc subject, e.g. mr, mrs, dr.          → o               \n                                                                                      ← o\nfirstname     string   first name (also referred to as given name) of the kyc         → o               \n                       subject.                                                       ← o\nmiddlename    string   middle name of the kyc subject.                                → o               \n                                                                                      ← o\nlastname      string   surname (also referred to as last or family name) of the kyc   → o               \n                       subject.                                                       ← o\nfullname      string   the full name of the kyc subject.                              → o               \n                                                                                      ← o\nnativename    string   the full name expressed as in the native language.             → o               \n                                                                                      ← o\n\n\n# id document object\n\nas part of kyc information, identification documentation is normally required. the id document object enables documents pertaining to a subject’s identity to be described.\n\n{\n  "idtype": "passport",\n  "idnumber": "test123456",\n  "issuedate": "2018-11-20",\n  "expirydate ": "2018-11-20",\n  "issuer": "123456789",\n  "issuerplace": "london",\n  "issuercountry": "gb",\n  "otheriddescription": "other id description..."\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nid document object                                                                                             \nname                 type     description                                                          reference   validation\nidtype               string   indicates the type of identification for the kyc subject,      → m               enumeration = id types\n                              e.g. passport, driving licence etc..                           ← m\nidnumber             string   reference pertaining to the type of identification for the     → o               \n                              kyc subject.                                                   ← o\nissuedate            date     date of issue for the identification document.                 → o               \n                                                                                             ← o\nexpirydate           date     date of expiry for the identification document.                → o               \n                                                                                             ← o\nissuer               string   indicates the organisation/government entity that issued the   → o               \n                              id document.                                                   ← o\nissuerplace          string   place of issue for the identification type.                    → o               \n                                                                                             ← o\nissuercountry        string   country where the identification type was issued.              → o               enumeration = iso country codes\n                                                                                             ← o\notheriddescription   string   where an id type of ‘otherid’ is specified, a description of   → o               \n                              the type of identification can be provided in this field.      ← o\n\n\n# address object\n\nthe address object holds the postal address of the subject. due to variability of address information in a number of mobile money markets, only the country is mandatory.\n\n{\n  "addressline1": "33 brow rd",\n  "addressline2": "unit 200",\n  "addressline3": "paddock",\n  "city": "huddersfield",\n  "stateprovince": "west yorkshire",\n  "postalcode": "hd1 4tp",\n  "country": "gb"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naddress object                                                            \nname             type     description                         reference   validation\naddressline1     string   first line of the address.    → o               \n                                                        ← o\naddressline2     string   second line of the address.   → o               \n                                                        ← o\naddressline3     string   third line of the address.    → o               \n                                                        ← o\ncity             string   city/town.                    → o               \n                                                        ← o\nstateprovince    string   state or province.            → o               \n                                                        ← o\npostalcode       string   postal code.                  → o               \n                                                        ← o\ncountry          string   country                       → m               enumeration = iso country codes\n                                                        ← m\n\n\n# account identifier object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naccount identifier object                                                                            \nname                        type     description                                         reference   validation\nkey                         string   provides the account identifier type.         → m               enumeration = account identifiers\n                                                                                   ← m\nvalue                       string   provides the account identifier type value.   → m               \n                                                                                   ← m\n\n\n# identity object\n\nthe identity object defines the information for an identity associated with an account. between one and twenty identities can be associated with an account.\n\n{\n  "identityid": "12345",\n  "identitytype": "individual",\n  "identitystatus": "completed",\n  "identitykyc": {\n    "dateofbirth": "2000-11-20",\n    "birthcountry": "gb",\n    "contactphone": "+1234567890"\n  },\n  "accountrelationship": "accountholder",\n  "kycverificationstatus": "verified",\n  "kycverificationentity": "123456789",\n  "kyclevel": "regular",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nidentity object                                                                                                          \nname                    type      description                                                          reference         validation\nidentityid              string    a unique id for the identity as assigned by the api           → na                     \n                                  provider.                                                     ← m\nidentitytype            string    indicates the type of the identity. currently, only           → na                     ‘individual’\n                                  ‘individual’ is supported.                                    ← m\nidentitystatus          string    a non-harmonised field describing the status of the           → na                     \n                                  identity.                                                     ← o\nidentitykyc             object    a collection of fields detailing the kyc held for the         → m    kyc information   \n                                  identity.                                                     ← m\naccountrelationship     string    describes the relationship that the identity holds with the   → m                      ‘accountholder’\n                                  account.                                                      ← m\nkycverificationstatus   string    indicates the status of the identity’s kyc verification.      → o                      ‘verified’, ‘unverified’, ‘rejected’\n                                                                                                ← o\nkycverificationentity   string    indicates the entity (e.g. mobile money agent) that has       → o                      \n                                  verified the kyc of the identity.                             ← o\nkyclevel                integer   indicates the kyc level that the identity is associated       → o                      \n                                  with.                                                         ← o\ncustomdata              array     a collection of key/value pairs that can be used for          → o                      \n                                  provider specific fields.                                     ← o\n\n\n# quote object\n\nquotations can consist of multiple quotes. the fields for a quote are defined in the object.\n\n{\n  "quoteid": "123456789",\n  "receivingamount": "123.45",\n  "receivingcurrency": "gbp",\n  "sendingamount": "123.45",\n  "sendingcurrency": "gbp",\n  "deliverymethod": "personaldelivery",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "fxrate": "1.0000000000",\n  "quoteexpirytime": "2017-07-21t17:32:28z",\n  "receivingserviceprovider": "receiving fsp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nquote object                                                                                                               \nname                       type        description                                                           reference     validation\nquoteid                    string      the unique id for this quote.                                  → na                 \n                                                                                                      ← m\nreceivingamount            string      the total amount as it will be received by the receiving end   → na                 please refer to api fundamentals document for amount\n                                       user.                                                          ← m                  validation rules.\nreceivingcurrency          string      the currency of the quote.                                     → na                 enumeration = iso currency codes\n                                                                                                      ← m\nsendingamount              string      requested quotation amount as supplied by the sender.          → na                 please refer to api fundamentals document for amount\n                                                                                                      ← m                  validation rules.\nsendingcurrency            string      currency of the requested quotation amount.                    → na                 enumeration = iso currency codes\n                                                                                                      ← m\ndeliverymethod             string      the delivery method that is applicable to the quotation.       → na                 enumeration = delivery method\n                                                                                                      ← o\nfees                       array       returns all fees that are applicable to the quote.             → na   fees object   \n                                                                                                      ← o\nfxrate                     string      the conversion rate applicable between the sending and the     → na                 please refer to api fundamentals document for amount\n                                       receiving currency for the requested transaction.              ← o                  validation rules. note 10 decimal places supported.\nquoteexpirytime            date-time   the timestamp when the quote will expire.                      → na                 \n                                                                                                      ← o\nreceivingserviceprovider   string      the name of the receiving service provider, i.e. the           → na                 \n                                       provider that the quote is associated with.                    ← o\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nmetadata object                                                                              \nname              type     description                                           reference   validation\nkey               string   identifies the type of additional fields.       → m               \n                                                                           ← m\nvalue             string   identifies the value of the additional field.   → m               \n                                                                           ← m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncustom data object                                                                              \nname                 type     description                                           reference   validation\nkey                  string   identifies the type of additional fields.       → m               \n                                                                              ← m\nvalue                string   identifies the value of the additional field.   → m               \n                                                                              ← m\n\n\n# supplementary bill reference object\n\nthis object enables additional payment references to be specified for a bill payment in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "paymentreferencetype": "paymentreferencevalue"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nsupplementary bill reference object                                                                                          \nname                                  type     description                                                       reference   validation\npaymentreferencetype                  string   identifies the type of the additional payment reference.    → m               \n                                                                                                           ← m\npaymentreferencevalue                 string   identifies the value of the additional payment reference.   → m               \n                                                                                                           ← m\n\n\n# transaction type object\n\nthis object enables multiple transaction types to be specified along with paired sub-types. this object is used where multiple transaction types need to be passed in an api.\n\n{\n  "transactiontype": "merchantpay",\n  "transactionsubtype": "local",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction type object                                                                     \nname                      type     description                                  reference   validation\ntransactiontype           string   identifies the transaction type.       → m               enumeration = transaction types\n                                                                          ← m\ntransactionsubtype        string   identifies the transaction sub-type.   → o               \n                                                                          ← o\n\n\n# channel type object\n\nthis object enables multiple channel types to be specified. this object is used where multiple channel types need to be passed in an api.\n\n{\n  "channeltype": "atm"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nchannel type object                                                             \nname                  type     description                          reference   validation\nchanneltype           string   identifies the channel type.   → m               \n                                                              ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nfees object                                                                        \nname          type     description                                     reference   validation\nfeetype       string   defines the type of fee.                  → m               \n                                                                 ← m\nfeeamount     string   defines the amount of the fee.            → m               please refer to api fundamentals document for amount\n                                                                 ← m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   → m               enumeration = iso currency codes\n                                                                 ← m\n\n\n# commission object\n\nan object that enables earned commission that is calculated by the api provider to be returned.\n\n{\n  "commissiontype": "surcharge",\n  "commissionamount": "2",\n  "commissioncurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncommission object                                                                         \nname                 type     description                                     reference   validation\ncommissiontype       string   defines the type of commission.           → m               \n                                                                        ← m\ncommissionamount     string   defines the amount of the commission.     → m               please refer to api fundamentals document for amount\n                                                                        ← m               validation rules.\ncommissioncurrency   string   defines the currency of the commission.   → m               enumeration = iso currency codes\n                                                                        ← m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nrequesting organisation object                                                                                       \nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid’\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode           description\nbillpay        payment of bill from a business for goods and/or services.\ndeposit        exchange of cash in return for e-money at a physical agent\n               or via atm.\ndisbursement   disbursement of funds (making payments from an organisation\n               (business, ngo, government entity) to a mobile money\n               recipient.\ntransfer       transfer of funds between mobile money provider and another\n               provider or financial institution in the same country.\nmerchantpay    purchases of goods and/or services from shops (payer\n               present) or online (payer not present).\ninttransfer    transfer of funds to a recipient in another country, either\n               directly to/from a mobile wallet or via an international\n               money transfer provider.\nadjustment     general adjustments to an account via an adjustment\n               transaction (e.g. refunds).\nreversal       reversal of a prior transaction to return funds to the\n               payer.\nwithdrawal     exchange of e-money in return for cash at a physical agent\n               or via atm.\n\n\n# id types\n\nthe id types enumeration contains accepted identification types. due to the wide international variation in accepted types of identification, a catch-all type of ‘otherid’ is included.\n\nid type                description\npassport               payment of bill from a business for goods and/or services.\nnationalregistration   national registration number.\nothered                catch-all for ids not on the list.\ndrivinglicence         driving licence number.\nsocialsecurity         social security number.\nalienregistration      alien registration id.\nnationalidcard         national identity card.\nemployer               employers identification.\ntaxid                  tax identification number.\nseniorcitizenscard     senior citizens id card.\nmarriagecertificate    marriage certificate.\nbirthcertificate       birth certificate.\nhealthcard             health card.\nvotersid               voters identification.\nvillageelderletter     letter of confirmation from village elder.\npancard                credit/debit card number (primary account number).\nofficialletter         official letter confirming identity.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              >first character can contain a ‘+’ or digit\n                                                              >can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.\n\n\n# iso country codes\n\nthe two-character alphabetic code for country as defined by iso 3166 is to be used for all fields specifying a country or nationality. the full list of codes is maintained by the international organisation for standardisation. the list can be obtained via the following website - http://www.iso.org/iso/country_codes\n\n\n# delivery method types\n\nwhen a customer requests a quotation they are able to specify their preferred method of delivery of the transfer to the recipient. permitted delivery methods are provided below.\n\ndelivery method    description\ndirecttoaccount    the transfer is to be delivered into the account (wallet) of\n                   the recipient.\nagent              the recipient can visit an agent and get the transferred\n                   funds.\npersonaldelivery   a supplementary service where an authorised person can\n                   deliver the funds, in hand, to the receiving end user.\n\n\n# frequency type\n\nwhen requesting a debit mandate, the api client is able to specify the frequency of which the payment should be taken. valid values are defined in the table below.\n\nfrequency type        description\nweekly                payment will be taken weekly.\nfortnight             payment will be taken every two weeks.\nmonthspecificdate     payment to be taken on a specific date every month.\ntwomonths             payment to be taken every two months.\nthreemonths           payment to be taken every three months.\nfourmonths            payment to be taken every four months.\nsixmonths             payment to be taken every six months.\nyearly                payment to be taken yearly.\nlastdaymonth          payment to be taken on the last calendar day of the month.\nlastdaymonthworking   payment to be taken on the last working day of the month\n                      according to working days as per the resident country of the\n                      account.\nlastmonday            payment to be taken on the last monday of the month.\nlasttuesday           payment to be taken on the last tuesday of the month.\nlastwednesday         payment to be taken on the last wednesday of the month.\nlastthursday          payment to be taken on the last thursday of the month.\nlastfriday            payment to be taken on the last friday of the month.\nlastsaturday          payment to be taken on the last saturday of the month.\nlastsunday            payment to be taken on the last sunday of the month.\nspecificdaymonthly    payment to be taken on a specific day of the month.',charsets:{}},{title:"Highlights",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Highlights"},regularPath:"/api-versions-1.2/resources/highlights.html",relativePath:"api-versions-1.2/resources/highlights.md",key:"v-6ce79e58",path:"/api-versions-1.2/resources/highlights.html",headersStr:null,content:"Version 1.2 of the Mobile Money API has seen the introduction of a number of changes that increase deliver new features and increase consistency.\n\n\n# New Features\n\n * New API to allow mobile money customer accounts to be created.\n * Mobile Money customer accounts can also be updated in certain circumstances, for example, to update the KYC verification status of a customer.\n * Ability to update the status of a transaction to support two stage transaction processing.\n * Mobile Money operators can now submit bill payments to service providers without a bill reference.\n * Bill Payments can now be retrieved from a service provider.\n * Usage of date fields have now been harmonised across APIs with consistent usage of creation, modification, and request dates.\n * New fields Quotations and Transactions to identify origination and destination of the request.\n * Improvements to API readability with harmonised ordering of fields and additional API and field descriptions.",normalizedContent:"version 1.2 of the mobile money api has seen the introduction of a number of changes that increase deliver new features and increase consistency.\n\n\n# new features\n\n * new api to allow mobile money customer accounts to be created.\n * mobile money customer accounts can also be updated in certain circumstances, for example, to update the kyc verification status of a customer.\n * ability to update the status of a transaction to support two stage transaction processing.\n * mobile money operators can now submit bill payments to service providers without a bill reference.\n * bill payments can now be retrieved from a service provider.\n * usage of date fields have now been harmonised across apis with consistent usage of creation, modification, and request dates.\n * new fields quotations and transactions to identify origination and destination of the request.\n * improvements to api readability with harmonised ordering of fields and additional api and field descriptions.",charsets:{}},{title:"Open OAS3 UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Open OAS3 UI"},regularPath:"/api-versions-1.2/resources/open-oas3-ui.html",relativePath:"api-versions-1.2/resources/open-oas3-ui.md",key:"v-178f82f8",path:"/api-versions-1.2/resources/open-oas3-ui.html",headers:[{level:2,title:"Open OAS3 UI",slug:"open-oas3-ui",normalizedTitle:"open oas3 ui",charIndex:0}],headersStr:"Open OAS3 UI",content:"# Open OAS3 UI",normalizedContent:"# open oas3 ui",charsets:{}},{title:"API Use Cases",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"API Use Cases"},regularPath:"/api-versions-1.2/use-cases-about.html",relativePath:"api-versions-1.2/use-cases-about.md",key:"v-0bed007c",path:"/api-versions-1.2/use-cases-about.html",headers:[{level:2,title:"API Use Cases",slug:"api-use-cases",normalizedTitle:"api use cases",charIndex:0}],headersStr:"API Use Cases",content:"# API Use Cases\n\nWe have evolved the API specification from the existing single technical specification view to provide additional API provider and API consumer perspectives for specific use case views for the following 8 use cases supported by the API: Merchant Payments, Disbursements, International Transfers, P2P Transfers, Recurring Payments, Account Linking, Bill Payments, Agent Services (including Cash-In and Cash-Out). This will enable ecosystem players to easily see which parts of the specification are of interest to them, and more easily implement the relevant APIs using the single use case specification definitions provided.\n\n.\n\nRead more about the Mobile Money API Use Сases here:\n\n 1. Merchant Payments,\n 2. Disbursements\n 3. International Transfers\n 4. P2P Transfers\n 5. Recurring Payments\n 6. Account Linking\n 7. Bill Payments\n 8. Agent Services (including Cash-In and Cash-Out)",normalizedContent:"# api use cases\n\nwe have evolved the api specification from the existing single technical specification view to provide additional api provider and api consumer perspectives for specific use case views for the following 8 use cases supported by the api: merchant payments, disbursements, international transfers, p2p transfers, recurring payments, account linking, bill payments, agent services (including cash-in and cash-out). this will enable ecosystem players to easily see which parts of the specification are of interest to them, and more easily implement the relevant apis using the single use case specification definitions provided.\n\n.\n\nread more about the mobile money api use сases here:\n\n 1. merchant payments,\n 2. disbursements\n 3. international transfers\n 4. p2p transfers\n 5. recurring payments\n 6. account linking\n 7. bill payments\n 8. agent services (including cash-in and cash-out)",charsets:{cyrillic:!0}},{title:"Banks & Microfinance Institutions",frontmatter:{pageClass:"industry-page custom",title:"Banks & Microfinance Institutions"},regularPath:"/banks-microfinance-institutions/",relativePath:"banks-microfinance-institutions/index.md",key:"v-5419cfb1",path:"/banks-microfinance-institutions/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:363},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:388},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:388},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:14918},{level:2,title:"Introduction",slug:"introduction-3",normalizedTitle:"introduction",charIndex:388},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:14918},{level:2,title:"Testimonials",slug:"testimonials",normalizedTitle:"testimonials",charIndex:45202},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:45548}],headersStr:"Use cases Introduction Introduction Intended Audience Introduction Intended Audience Testimonials Ready to explore?",content:"Bank and Microfinance Institutions that provide financial services such as loans and savings to customers with mobile money wallets can use the GSMA API Specification to integrate their system with the with the mobile money provider.\n\nCustomers will be able to make money transfers between their bank account and their mobile money wallet in a seamless manner.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\nUse case scenarios\n\nP2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP submits a quotation\nrequest to the Switch. The Switch will return the Request State object to indicate that the request\nis 'pending'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the Receiving FSP.\nThe Receiving FSP will return the Request State object to indicate\nthat the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 200 (Request State Object) Switch--\x3e>Sending FSP: HTTP 200 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the transaction has succesfully complteted\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer request to the Swith. The Switch\nwill return the Request State object to indicate that the request is 'pending'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the Request State object\nto indicate that the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the transaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP submits a transfer request.\nThe Receiving FSP will return the Request State object to indicate that the request is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the transation has been succesfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP's account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe Account Linking Mobile Money APIs allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. Conversely, mobile money providers can use the APIs to link their customers mobile money accounts to financial service providers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations. All documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                  USAGE                                                          ROLE\nFSP - Mobile Money Providers              - To understand how to implement the Mobile Money API to       API Provider\n                                          accept account linking requests from other financial service\n                                          providers.\n                                          - To understand how to implement the Mobile Money API to       API Consumer\n                                          request linking of accounts to other financial service\n                                          providers.\nFSP Banks and Microfinance Institutions   - To understand how to implement the Mobile Money API to       API Provider\n                                          accept account linking requests mobile money providers.\n                                          - To understand how to implement the Mobile Money API to       API Consumer\n                                          request linking of accounts to mobile money providers.\n\n\nUse case scenarios\n\nSetup an Account Link\n\nThis diagram illustrates the setting-up of an account link. The requesting FSP initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Requesting FPS participant FSP participant Account Holder Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links activate Requesting FPS activate FSP Note right of FSP: (1) The requesting FPS submits the debit mandate request for\nprocessing to the FSP. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object) FSP->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The account holder is requested by the\nFSP to authorise the link. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>FSP: (Authorised) deactivate Account Holder FSP->>Requesting FPS: PUT {Callback URL} (Debit Mandates Object) Note right of FSP: (3) The FSP informs the requesting FPS that the\nlink has been successfully created by\nreturning the final representation of the link. Requesting FPS--\x3e>FSP: HTTP 204 deactivate Requesting FPS deactivate FSP Setup an Account Link Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the account link. The requesting FSP receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Requesting FPS participant FSP participant Account Holder Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links activate Requesting FPS activate FSP Note right of FSP: (1) The requesting FPS submits the debit mandate request for\nprocessing to the FSP. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object) FSP->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The account holder declines the link\nrequest. Account Holder--\x3e>FSP: (Declined) deactivate Account Holder FSP->>Requesting FPS: PUT {Callback URL} (Error Object) Note right of FSP: (3) The FSP informs the requesting FPS that the\nlink has been declined by returning an error\nobject. Requesting FPS--\x3e>FSP: HTTP 204 deactivate Requesting FPS deactivate FSP Perform a Transfer for a Linked Account\n\nIn this diagram, the requesting FSP initiates a transfer to the FSP using an established link.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference\nis provided for the transfer. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP FSP->>Requesting FSP: PUT {Callback URL} (Transactions Object) activate Requesting FSP Note right of FSP: (2) The FSP informs the requesting FSP that the\ntransfer has been successfully completed by\nreturning the final representation of the\ntransaction. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP Perform a Transfer for a Linked Account - Failure\n\nIn this diagram, the requesting FSP initiates a transfer to the FSP using an established link. The FSP is unable to process the transfer and returns a callback containing the error object.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference is\nprovided for the transfer. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP FSP->>Requesting FSP: PUT {Callback URL} (Error Object) activate Requesting FSP Note right of FSP: (2) The FSP informs the requesting FSP that the\ntransfer has failed and returns the error object\ndetailing the reason for failure. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP Perform a Transfer using an Account Link via the Polling Method\n\nIn this example, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the transfer request.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference is\nprovided for the transfer. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP loop activate Requesting FSP Requesting FSP->>FSP: GET /requeststates/{serverCorrelationId} Note right of FSP: (2) The requesting FSP polls the FSP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. FSP--\x3e>Requesting FSP: HTTP 200 (Request State Object) end deactivate FSP opt activate FSP Requesting FSP->>FSP: GET /transactions/transactionReference Note right of FSP: (3) The requesting FSP can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted transfer. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Object) end deactivate Requesting FSP deactivate FSP Perform a Transfer Reversal\n\nIn some failure scenarios, a requesting FSP may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/{original transaction reference}/reversals activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the reversal request for\nprocessing to the FSP - passing the reference of the\ntransaction that is to be reversed. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) FSP->>Requesting FSP: PUT {Callback URL} (Reversal Object) Note right of FSP: (2) The FSP informs the Requesting FSP that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP Obtain a Financial Service Provider Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nrequested account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transfers for a Financial Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP requests\nup to 20 transactions for the\naccount from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The requesting FSP requests\nthe remaining transactions for\nthe account from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the requesting FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /responses{clientCorrelationId} activate Requesting FSP activate FSP Note right of FSP: (1) Using the requesting FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. FSP--\x3e>Requesting FSP: HTTP 200 (Responses Object) Note right of FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Requesting FSP->>FSP: GET /{link} Note right of FSP: (3) The requesting FSP uses the link to\nobtain a representation of the missing\nresource. FSP--\x3e>Requesting FSP: HTTP 200 (Requested Object) deactivate FSP deactivate Requesting FSP Start developing\n\n\n# Introduction\n\nAgent Services comprises of the following:\n\n\n\nCash-in and Cash-out Services\n\n * Agent-initiated Cash-out. The agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * Customer-initiated Cash-out. The mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * Cash-out via Authorisation Code. The customer generates an authorisation code up to a maximum amount. The agent then enters or scans (if rendered as a QR code) the code to perform the withdrawal.\n * Cash-in. The agent initiates the cash-in by entering the customer account identifier(s).\n\nClosed loop and open-loop agent cash-in and cash-out are supported by the Mobile Money API. Closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. Open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nAgents can be physical agents, i.e. customers that are serviced by an human, or can be an ATM.\n\n\n\nCustomer Account Services\n\n * Customer Registration. Agents can register new customers for mobile money.\n * KYC Verification. Agents that provide KYC verification services can confirm that they have verified customer KYC.\n   \n   \n\nFurther Reading\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer KYC verification services on behalf of mobile\n                         money customers.\nAgents                   To understand how to implement the Mobile Money API to         API Consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and KYC verification.\n\n\nUse case scenarios\n\nAgent-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Agent-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. The customer\ndeclines the request or the request times-\nout. Customer--\x3e>Mobile Money Provider: (Declined or Timeout) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Error Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Agent-initiated Cash-out using the Polling Method\n\nIn this example, an asynchronous cash-out flow is used with the polling method. The client polls against the request state object to determine the outcome of the cash-out request.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the cash-out request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent par loop activate Agent Agent->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The agent polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Agent: HTTP 200 (Request State Object) end and Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (3) The Customer is requested to the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) end deactivate Agent deactivate Customer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Agent Agent->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The agent can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\ncash-out transaction. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Object) end deactivate Agent deactivate Mobile Money Provider Customer-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Transactions Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has successfully compeleted. deactivate Mobile Money Provider deactivate Agent Customer-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Error Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has failed. deactivate Mobile Money Provider deactivate Agent Customer Cash-out at an ATM using an Authorisation Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised code. This in turn is presented by the withdrawing customer to the ATM which then initiates the cash-out request. Both flows in the diagram result in a callback.\n\nsequenceDiagram participant Customer participant ATM participant Mobile Money Provider Customer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App)\nsubmits the request to generate an authorisation code\nto the MMP. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) Mobile Money Provider->>Customer: PUT {Callback URL} (Authorisation Codes Object) Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer deactivate Mobile Money Provider Note right of Customer: (3) The customer enters the code into the ATM. Customer->>ATM: Code Entry activate Customer activate ATM activate Mobile Money Provider ATM->>Mobile Money Provider: POST /transactions/type/withdrawal Note right of Mobile Money Provider: (4) The ATM submits the cash-out request for processing\nto the MMP. The request will contain the authorisation\ncode. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>ATM: HTTP 202 (Request State Object) deactivate ATM Mobile Money Provider->>ATM: PUT {Callback URL} (Transactions Object) activate ATM Note right of Mobile Money Provider: (5) The MMP informs the ATM that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. ATM--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider ATM->>Customer: Notify deactivate Customer deactivate ATM Agent-initiated Customer Cash-in\n\nIn this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. The final result is returned in the callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/accountname activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves the name of the depositing customer\nand will check that the name is correct. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Holder Name Object) Agent->>Mobile Money Provider: POST /transactions/type/deposit Note right of Mobile Money Provider: (2) The agent submits the cash-in request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent activate Customer Mobile Money Provider->>Customer: Notify Note right of Customer: (4) The MMP notifies the customer that the\ncash-in has successfully compeleted. deactivate Mobile Money Provider deactivate Customer Cash-out Reversal\n\nIn some failure scenarios, an agent may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the reversal request for processing to\nthe MMP - passing the reference of the transaction that is\nto be reversed. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Register a Customer Mobile Money Account\n\nIn this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /accounts/individual activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the account\nregistration request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Account Object) Note right of Mobile Money Provider: (2) The MMP informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Verify a Customer’s KYC\n\nIn this diagram, an agent verifies the physical KYC provided by the customer against details held by the mobile money provider and informs the provider that the KYC has been successfully verified.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves account\ninformation from the MMP which\nincludes the customer's KYC\ndetails. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Object) Agent->>Mobile Money Provider: PATCH /accounts/{identifierType}/{identifier}/identities/{identityId} Note right of Mobile Money Provider: (2) The agent submits the KYC\nverification request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Success) Note right of Mobile Money Provider: (3) The MMP informs the agent that\nthe verification request has been\nsuccessfully processed. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Obtain an Agent Balance sequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Agent: HTTP 200 (Balance Object) deactivate Agent deactivate Mobile Money Provider Retrieve Transactions for an Agent\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests up to 20\ntransactions for the account\nfrom the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The agent requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Agent deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /heartbeat activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Agent deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the agent's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Agent: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Agent->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Agent uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Agent: HTTP 200 (Requested Object) deactivate Agent deactivate Mobile Money Provider Start developing\n\n\n# Testimonials\n\nAs a financial service provider operating in a country where the majority of the population have access to banking services through their mobile phones, establishing partnerships and integrating with MMPs has benefited us when extending services to the financially exclude Musoni Banks and MFIs\n\nAccount Linking\n\nAgent Services\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"bank and microfinance institutions that provide financial services such as loans and savings to customers with mobile money wallets can use the gsma api specification to integrate their system with the with the mobile money provider.\n\ncustomers will be able to make money transfers between their bank account and their mobile money wallet in a seamless manner.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\nuse case scenarios\n\np2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp submits a quotation\nrequest to the switch. the switch will return the request state object to indicate that the request\nis 'pending'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the receiving fsp.\nthe receiving fsp will return the request state object to indicate\nthat the request is 'pending'. receiving fsp--\x3e>switch: http 200 (request state object) switch--\x3e>sending fsp: http 200 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the transaction has succesfully complteted\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer request to the swith. the switch\nwill return the request state object to indicate that the request is 'pending'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the request state object\nto indicate that the request is 'pending'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the transaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp submits a transfer request.\nthe receiving fsp will return the request state object to indicate that the request is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the transation has been succesfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp's account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe account linking mobile money apis allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. conversely, mobile money providers can use the apis to link their customers mobile money accounts to financial service providers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations. all documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                  usage                                                          role\nfsp - mobile money providers              - to understand how to implement the mobile money api to       api provider\n                                          accept account linking requests from other financial service\n                                          providers.\n                                          - to understand how to implement the mobile money api to       api consumer\n                                          request linking of accounts to other financial service\n                                          providers.\nfsp banks and microfinance institutions   - to understand how to implement the mobile money api to       api provider\n                                          accept account linking requests mobile money providers.\n                                          - to understand how to implement the mobile money api to       api consumer\n                                          request linking of accounts to mobile money providers.\n\n\nuse case scenarios\n\nsetup an account link\n\nthis diagram illustrates the setting-up of an account link. the requesting fsp initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant requesting fps participant fsp participant account holder requesting fps->>fsp: post /accounts/{identifiertype}/{identifier}/links activate requesting fps activate fsp note right of fsp: (1) the requesting fps submits the debit mandate request for\nprocessing to the fsp. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fps: http 202 (request state object) fsp->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the account holder is requested by the\nfsp to authorise the link. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>fsp: (authorised) deactivate account holder fsp->>requesting fps: put {callback url} (debit mandates object) note right of fsp: (3) the fsp informs the requesting fps that the\nlink has been successfully created by\nreturning the final representation of the link. requesting fps--\x3e>fsp: http 204 deactivate requesting fps deactivate fsp setup an account link failure\n\nin this diagram, the account holder declines to provide authorisation to setup the account link. the requesting fsp receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant requesting fps participant fsp participant account holder requesting fps->>fsp: post /accounts/{identifiertype}/{identifier}/links activate requesting fps activate fsp note right of fsp: (1) the requesting fps submits the debit mandate request for\nprocessing to the fsp. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fps: http 202 (request state object) fsp->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the account holder declines the link\nrequest. account holder--\x3e>fsp: (declined) deactivate account holder fsp->>requesting fps: put {callback url} (error object) note right of fsp: (3) the fsp informs the requesting fps that the\nlink has been declined by returning an error\nobject. requesting fps--\x3e>fsp: http 204 deactivate requesting fps deactivate fsp perform a transfer for a linked account\n\nin this diagram, the requesting fsp initiates a transfer to the fsp using an established link.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference\nis provided for the transfer. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp fsp->>requesting fsp: put {callback url} (transactions object) activate requesting fsp note right of fsp: (2) the fsp informs the requesting fsp that the\ntransfer has been successfully completed by\nreturning the final representation of the\ntransaction. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp perform a transfer for a linked account - failure\n\nin this diagram, the requesting fsp initiates a transfer to the fsp using an established link. the fsp is unable to process the transfer and returns a callback containing the error object.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference is\nprovided for the transfer. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp fsp->>requesting fsp: put {callback url} (error object) activate requesting fsp note right of fsp: (2) the fsp informs the requesting fsp that the\ntransfer has failed and returns the error object\ndetailing the reason for failure. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp perform a transfer using an account link via the polling method\n\nin this example, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the transfer request.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference is\nprovided for the transfer. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp loop activate requesting fsp requesting fsp->>fsp: get /requeststates/{servercorrelationid} note right of fsp: (2) the requesting fsp polls the fsp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. fsp--\x3e>requesting fsp: http 200 (request state object) end deactivate fsp opt activate fsp requesting fsp->>fsp: get /transactions/transactionreference note right of fsp: (3) the requesting fsp can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted transfer. fsp--\x3e>requesting fsp: http 200 (transactions object) end deactivate requesting fsp deactivate fsp perform a transfer reversal\n\nin some failure scenarios, a requesting fsp may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/{original transaction reference}/reversals activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the reversal request for\nprocessing to the fsp - passing the reference of the\ntransaction that is to be reversed. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) fsp->>requesting fsp: put {callback url} (reversal object) note right of fsp: (2) the fsp informs the requesting fsp that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp obtain a financial service provider balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequested account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transfers for a financial service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests\nup to 20 transactions for the\naccount from the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests\nthe remaining transactions for\nthe account from the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the requesting fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /responses{clientcorrelationid} activate requesting fsp activate fsp note right of fsp: (1) using the requesting fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. fsp--\x3e>requesting fsp: http 200 (responses object) note right of fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. requesting fsp->>fsp: get /{link} note right of fsp: (3) the requesting fsp uses the link to\nobtain a representation of the missing\nresource. fsp--\x3e>requesting fsp: http 200 (requested object) deactivate fsp deactivate requesting fsp start developing\n\n\n# introduction\n\nagent services comprises of the following:\n\n\n\ncash-in and cash-out services\n\n * agent-initiated cash-out. the agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * customer-initiated cash-out. the mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * cash-out via authorisation code. the customer generates an authorisation code up to a maximum amount. the agent then enters or scans (if rendered as a qr code) the code to perform the withdrawal.\n * cash-in. the agent initiates the cash-in by entering the customer account identifier(s).\n\nclosed loop and open-loop agent cash-in and cash-out are supported by the mobile money api. closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nagents can be physical agents, i.e. customers that are serviced by an human, or can be an atm.\n\n\n\ncustomer account services\n\n * customer registration. agents can register new customers for mobile money.\n * kyc verification. agents that provide kyc verification services can confirm that they have verified customer kyc.\n   \n   \n\nfurther reading\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer kyc verification services on behalf of mobile\n                         money customers.\nagents                   to understand how to implement the mobile money api to         api consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and kyc verification.\n\n\nuse case scenarios\n\nagent-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) deactivate customer mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider agent-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. the customer\ndeclines the request or the request times-\nout. customer--\x3e>mobile money provider: (declined or timeout) deactivate customer mobile money provider->>agent: put {callback url} (error object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider agent-initiated cash-out using the polling method\n\nin this example, an asynchronous cash-out flow is used with the polling method. the client polls against the request state object to determine the outcome of the cash-out request.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the cash-out request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent par loop activate agent agent->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the agent polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>agent: http 200 (request state object) end and mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (3) the customer is requested to the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) end deactivate agent deactivate customer deactivate mobile money provider opt activate mobile money provider activate agent agent->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the agent can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\ncash-out transaction. mobile money provider--\x3e>agent: http 200 (transactions object) end deactivate agent deactivate mobile money provider customer-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (transactions object) activate customer note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has successfully compeleted. deactivate mobile money provider deactivate agent customer-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (error object) activate customer note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has failed. deactivate mobile money provider deactivate agent customer cash-out at an atm using an authorisation code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised code. this in turn is presented by the withdrawing customer to the atm which then initiates the cash-out request. both flows in the diagram result in a callback.\n\nsequencediagram participant customer participant atm participant mobile money provider customer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app)\nsubmits the request to generate an authorisation code\nto the mmp. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) mobile money provider->>customer: put {callback url} (authorisation codes object) note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. customer--\x3e>mobile money provider: http 204 deactivate customer deactivate mobile money provider note right of customer: (3) the customer enters the code into the atm. customer->>atm: code entry activate customer activate atm activate mobile money provider atm->>mobile money provider: post /transactions/type/withdrawal note right of mobile money provider: (4) the atm submits the cash-out request for processing\nto the mmp. the request will contain the authorisation\ncode. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>atm: http 202 (request state object) deactivate atm mobile money provider->>atm: put {callback url} (transactions object) activate atm note right of mobile money provider: (5) the mmp informs the atm that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. atm--\x3e>mobile money provider: http 204 deactivate mobile money provider atm->>customer: notify deactivate customer deactivate atm agent-initiated customer cash-in\n\nin this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. the final result is returned in the callback.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/accountname activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves the name of the depositing customer\nand will check that the name is correct. mobile money provider--\x3e>agent: http 200 (account holder name object) agent->>mobile money provider: post /transactions/type/deposit note right of mobile money provider: (2) the agent submits the cash-in request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent activate customer mobile money provider->>customer: notify note right of customer: (4) the mmp notifies the customer that the\ncash-in has successfully compeleted. deactivate mobile money provider deactivate customer cash-out reversal\n\nin some failure scenarios, an agent may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /transactions/{original transaction reference}/reversals activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the reversal request for processing to\nthe mmp - passing the reference of the transaction that is\nto be reversed. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider register a customer mobile money account\n\nin this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /accounts/individual activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the account\nregistration request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (account object) note right of mobile money provider: (2) the mmp informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider verify a customer’s kyc\n\nin this diagram, an agent verifies the physical kyc provided by the customer against details held by the mobile money provider and informs the provider that the kyc has been successfully verified.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier} activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves account\ninformation from the mmp which\nincludes the customer's kyc\ndetails. mobile money provider--\x3e>agent: http 200 (account object) agent->>mobile money provider: patch /accounts/{identifiertype}/{identifier}/identities/{identityid} note right of mobile money provider: (2) the agent submits the kyc\nverification request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (success) note right of mobile money provider: (3) the mmp informs the agent that\nthe verification request has been\nsuccessfully processed. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider obtain an agent balance sequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate agent activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>agent: http 200 (balance object) deactivate agent deactivate mobile money provider retrieve transactions for an agent\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests up to 20\ntransactions for the account\nfrom the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the agent requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) deactivate agent deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /heartbeat activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests the availability\nof the service from the mmp. mobile money provider--\x3e>agent: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate agent deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /responses{clientcorrelationid} activate agent activate mobile money provider note right of mobile money provider: (1) using the agent's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>agent: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. agent->>mobile money provider: get /{link} note right of mobile money provider: (3) the agent uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>agent: http 200 (requested object) deactivate agent deactivate mobile money provider start developing\n\n\n# testimonials\n\nas a financial service provider operating in a country where the majority of the population have access to banking services through their mobile phones, establishing partnerships and integrating with mmps has benefited us when extending services to the financially exclude musoni banks and mfis\n\naccount linking\n\nagent services\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{frontmatter:{pageClass:"dashboard-page"},regularPath:"/dashboard/",relativePath:"dashboard/index.md",key:"v-41c9cef1",path:"/dashboard/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Open OAS3 UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Open OAS3 UI"},regularPath:"/documentation/",relativePath:"documentation/index.md",key:"v-3ed9379e",path:"/documentation/",headers:[{level:2,title:"Open OAS3 UI",slug:"open-oas3-ui",normalizedTitle:"open oas3 ui",charIndex:0}],headersStr:"Open OAS3 UI",content:"# Open OAS3 UI",normalizedContent:"# open oas3 ui",charsets:{}},{title:"Education & Health",frontmatter:{pageClass:"industry-page custom",title:"Education & Health"},regularPath:"/education-and-health/",relativePath:"education-and-health/index.md",key:"v-71f73c49",path:"/education-and-health/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:392},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:417},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:958},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:417},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:958},{level:2,title:"Testimonials",slug:"testimonials",normalizedTitle:"testimonials",charIndex:24912},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:25405}],headersStr:"Use cases Introduction Intended Audience Introduction Intended Audience Testimonials Ready to explore?",content:"Education and Health are two sectors where these institutions can simplify the way they accept payments from clients.\n\nInstitutions such as school, colleges, universities, hospitals and clinics can set up online payment portal where clients can make one-off payments online or set up recurring payment which can be deducted from their mobile money account automatically on a regular basis.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe Recurring Payments Mobile Money APIs allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                        ROLE\nMobile Money Providers   - To understand how to implement the Mobile Money API to     API Provider\n                         receive recurring payment requests from service providers.\n                         - To understand how to implement the Mobile Money API to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nService Providers        To understand how to implement the Mobile Money API to       API Consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nUse case scenarios\n\nSetup a Recurring Payment\n\nThis diagram illustrates the setting-up of a recurring payment via a debit mandate. The service provider initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer is requested to the MMP to\nauthorise the mandate. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>Mobile Money Provider: (Authorised) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Setup a Recurring Payment Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the recurring payment. The service provider receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer declines the request by the\nMMP to accept the debit mandate. Account Holder--\x3e>Mobile Money Provider: (Declined) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been declined by returning\nan error object. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment Failure\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate. The FSP is unable to process the payment and returns a callback containing the error object.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider loop activate Service Provider Service Provider->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The service provider polls the MMP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Service Provider->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The service provider can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted payment. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Object) end deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Refund\n\nService Providers can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/adjustment activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Reversal\n\nIn some failure scenarios, a service provider may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the reversal request for\nprocessing to the MMP - passing the reference of the\ntransaction that is to be reversed. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Payer sets up a Recurring Payment using MMP Channel\n\nThis diagram illustrates how the MM API can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequenceDiagram participant Mobile Money Provider Channel participant Mobile Money Provider Mobile Money Provider Channel->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Mobile Money Provider Channel activate Mobile Money Provider Note right of Mobile Money Provider: (1) The MMP Channel submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Mobile Money Provider Channel: HTTP 202 (Request State Object) Mobile Money Provider->>Mobile Money Provider Channel: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (2) The MMP informs the MMP Channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Mobile Money Provider Channel--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider Channel deactivate Mobile Money Provider Obtain a Service Provider Balance sequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Balance Object) deactivate Service Provider deactivate Mobile Money Provider Retrieve Payments for a Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests\nup to 20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The service provider requests\nthe remaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Service Provider deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /heartbeat activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests the\navailability of the service from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Service Provider deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the service provider's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Service Provider->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The service provider uses the link to\nobtain a representation of the missing\nresource. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Requested Object) deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Introduction\n\nThe Bill Payments Mobile Money APIs allow service providers to accept bill payments from mobile money customers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                         ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to make   API Consumer\n                         bill payments to service providers.\nService Providers        To understand how to implement the Mobile Money API to        API Provider\n                         accept bill payments from Mobile Money Providers.\n\n\nUse case scenarios\n\nSuccessful Retrieval of Bills\n\nThis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Obtain all bills of a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bills Object) deactivate Mobile Money Provider deactivate Service Provider Unsuccessful Retrieval of Bills\n\nThis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Retrieve all bills for a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 4xx/5xx (Error Object) Note right of Service Provider: (2) Return the error object providing\ndetais of the failure reason. deactivate Mobile Money Provider deactivate Service Provider Make a Successful Bill Payment with Callback\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. To illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequenceDiagram participant Third Party Payment Provider participant Mobile Money Provider participant Service Provider Note right of Third Party Payment Provider: (1) The provider that enables the payer to pay\nbills submits a payment request to the MMP. Third Party Payment Provider->>Mobile Money Provider: POST /transactions/type/billpay activate Third Party Payment Provider activate Mobile Money Provider Mobile Money Provider--\x3e>Third Party Payment Provider: HTTP 202 (Request State Object) deactivate Third Party Payment Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider Note right of Service Provider: (2) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Bill Payments Object) activate Mobile Money Provider Note right of Service Provider: (3) The Service Provider informs the MMP\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider Note right of Third Party Payment Provider: (4) The MMP informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. Mobile Money Provider->>Third Party Payment Provider: PUT {Callback URL} (Transactions Object) activate Third Party Payment Provider Third Party Payment Provider--\x3e> Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Third Party Payment Provider Make an Unsuccessful Bill Payment with Callback\n\nThis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Error Object) activate Mobile Money Provider Note right of Service Provider: (2) The Service Provider informs the MMP\nthat the request failed by returning a\nrepresentation of the error object. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Make a Bill Payment with Polling\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request for processing\nto the Service Provider. The Service Provider will return\nthe Request State object to indicate that the request is\n'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider loop activate Mobile Money Provider Mobile Money Provider->>Service Provider: GET /requeststates/{serverCorrelationId} Note right of Service Provider: (2) The MMP polls the Service Provider for the Request State\nuntil the bill payment is processed or until the polling limit is\nreached. The request state will return the final status of the\nrequired, i.e. completed or failed. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Request State Object) end deactivate Service Provider deactivate Mobile Money Provider Retrieval of Bill Payments\n\nThis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=0&limit=10 activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests up to 10 bill\npayments for the account from the\nService Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) Note right of Service Provider: (2) The Service Provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=10&limit=10 Note right of Service Provider: (3) The MMP requests the remaining\nbill payments for the account\nfrom the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) deactivate Mobile Money Provider deactivate Service Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the Service Provider is in a state that enables an FSP to submit a request for processing.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /heartbeat activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests the availability of the\nservice from the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Heartbeat Object) Note right of Service Provider: (2) The Service Provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Testimonials\n\nAs a platform that offers educational content through mobile money, we appreciate the importance of being integrated with MMPs using APIs. It enables our consumers to easily purchase desired content. As we continue to expand our services and customer base, we hope to have access to a Standard API in the future, which will enable us to reach a wider base of users in remote areas. Eneza Education Education Service Provider\n\nP2P Transfers\n\nRecurring Payments\n\nBill Payments\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"education and health are two sectors where these institutions can simplify the way they accept payments from clients.\n\ninstitutions such as school, colleges, universities, hospitals and clinics can set up online payment portal where clients can make one-off payments online or set up recurring payment which can be deducted from their mobile money account automatically on a regular basis.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe recurring payments mobile money apis allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                        role\nmobile money providers   - to understand how to implement the mobile money api to     api provider\n                         receive recurring payment requests from service providers.\n                         - to understand how to implement the mobile money api to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nservice providers        to understand how to implement the mobile money api to       api consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nuse case scenarios\n\nsetup a recurring payment\n\nthis diagram illustrates the setting-up of a recurring payment via a debit mandate. the service provider initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer is requested to the mmp to\nauthorise the mandate. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>mobile money provider: (authorised) deactivate account holder mobile money provider->>service provider: put {callback url} (debit mandates object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider setup a recurring payment failure\n\nin this diagram, the account holder declines to provide authorisation to setup the recurring payment. the service provider receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer declines the request by the\nmmp to accept the debit mandate. account holder--\x3e>mobile money provider: (declined) deactivate account holder mobile money provider->>service provider: put {callback url} (error object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been declined by returning\nan error object. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (transactions object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment failure\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate. the fsp is unable to process the payment and returns a callback containing the error object.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (error object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider loop activate service provider service provider->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the service provider polls the mmp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. mobile money provider--\x3e>service provider: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider service provider->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the service provider can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted payment. mobile money provider--\x3e>service provider: http 200 (transactions object) end deactivate service provider deactivate mobile money provider recurring payment refund\n\nservice providers can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/adjustment activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider recurring payment reversal\n\nin some failure scenarios, a service provider may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/{original transaction reference}/reversals activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the reversal request for\nprocessing to the mmp - passing the reference of the\ntransaction that is to be reversed. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider payer sets up a recurring payment using mmp channel\n\nthis diagram illustrates how the mm api can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequencediagram participant mobile money provider channel participant mobile money provider mobile money provider channel->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate mobile money provider channel activate mobile money provider note right of mobile money provider: (1) the mmp channel submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>mobile money provider channel: http 202 (request state object) mobile money provider->>mobile money provider channel: put {callback url} (debit mandates object) note right of mobile money provider: (2) the mmp informs the mmp channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. mobile money provider channel--\x3e>mobile money provider: http 204 deactivate mobile money provider channel deactivate mobile money provider obtain a service provider balance sequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate service provider activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>service provider: http 200 (balance object) deactivate service provider deactivate mobile money provider retrieve payments for a service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests\nup to 20 transactions for the\naccount from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the service provider requests\nthe remaining transactions for\nthe account from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) deactivate service provider deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /heartbeat activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests the\navailability of the service from the mmp. mobile money provider--\x3e>service provider: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate service provider deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /responses{clientcorrelationid} activate service provider activate mobile money provider note right of mobile money provider: (1) using the service provider's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>service provider: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. service provider->>mobile money provider: get /{link} note right of mobile money provider: (3) the service provider uses the link to\nobtain a representation of the missing\nresource. mobile money provider--\x3e>service provider: http 200 (requested object) deactivate mobile money provider deactivate service provider start developing\n\n\n# introduction\n\nthe bill payments mobile money apis allow service providers to accept bill payments from mobile money customers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                         role\nmobile money providers   to understand how to implement the mobile money api to make   api consumer\n                         bill payments to service providers.\nservice providers        to understand how to implement the mobile money api to        api provider\n                         accept bill payments from mobile money providers.\n\n\nuse case scenarios\n\nsuccessful retrieval of bills\n\nthis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) obtain all bills of a given account. service provider--\x3e>mobile money provider: http 200 (bills object) deactivate mobile money provider deactivate service provider unsuccessful retrieval of bills\n\nthis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) retrieve all bills for a given account. service provider--\x3e>mobile money provider: http 4xx/5xx (error object) note right of service provider: (2) return the error object providing\ndetais of the failure reason. deactivate mobile money provider deactivate service provider make a successful bill payment with callback\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. to illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequencediagram participant third party payment provider participant mobile money provider participant service provider note right of third party payment provider: (1) the provider that enables the payer to pay\nbills submits a payment request to the mmp. third party payment provider->>mobile money provider: post /transactions/type/billpay activate third party payment provider activate mobile money provider mobile money provider--\x3e>third party payment provider: http 202 (request state object) deactivate third party payment provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider note right of service provider: (2) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (bill payments object) activate mobile money provider note right of service provider: (3) the service provider informs the mmp\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. mobile money provider--\x3e>service provider: http 204 deactivate service provider note right of third party payment provider: (4) the mmp informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. mobile money provider->>third party payment provider: put {callback url} (transactions object) activate third party payment provider third party payment provider--\x3e> mobile money provider: http 204 deactivate mobile money provider deactivate third party payment provider make an unsuccessful bill payment with callback\n\nthis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (error object) activate mobile money provider note right of service provider: (2) the service provider informs the mmp\nthat the request failed by returning a\nrepresentation of the error object. mobile money provider--\x3e>service provider: http 204 deactivate service provider deactivate mobile money provider make a bill payment with polling\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request for processing\nto the service provider. the service provider will return\nthe request state object to indicate that the request is\n'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider loop activate mobile money provider mobile money provider->>service provider: get /requeststates/{servercorrelationid} note right of service provider: (2) the mmp polls the service provider for the request state\nuntil the bill payment is processed or until the polling limit is\nreached. the request state will return the final status of the\nrequired, i.e. completed or failed. service provider--\x3e>mobile money provider: http 200 (request state object) end deactivate service provider deactivate mobile money provider retrieval of bill payments\n\nthis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=0&limit=10 activate mobile money provider activate service provider note right of service provider: (1) the mmp requests up to 10 bill\npayments for the account from the\nservice provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) note right of service provider: (2) the service provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=10&limit=10 note right of service provider: (3) the mmp requests the remaining\nbill payments for the account\nfrom the service provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) deactivate mobile money provider deactivate service provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the service provider is in a state that enables an fsp to submit a request for processing.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /heartbeat activate mobile money provider activate service provider note right of service provider: (1) the mmp requests the availability of the\nservice from the service provider. service provider--\x3e>mobile money provider: http 200 (heartbeat object) note right of service provider: (2) the service provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate mobile money provider deactivate service provider start developing\n\n\n# testimonials\n\nas a platform that offers educational content through mobile money, we appreciate the importance of being integrated with mmps using apis. it enables our consumers to easily purchase desired content. as we continue to expand our services and customer base, we hope to have access to a standard api in the future, which will enable us to reach a wider base of users in remote areas. eneza education education service provider\n\np2p transfers\n\nrecurring payments\n\nbill payments\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Energy & Utilities & AgriTech",frontmatter:{pageClass:"industry-page custom",title:"Energy & Utilities & AgriTech"},regularPath:"/energy-utilities-agritech/",relativePath:"energy-utilities-agritech/index.md",key:"v-8f2a935e",path:"/energy-utilities-agritech/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:357},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:382},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:923},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:382},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:923},{level:2,title:"Succeed case study",slug:"succeed-case-study",normalizedTitle:"succeed case study",charIndex:24877},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:26004}],headersStr:"Use cases Introduction Intended Audience Introduction Intended Audience Succeed case study Ready to explore?",content:"Companies in the energy, Utilities and Agritech industries can use the GSMA API specification to support their customers save time by automating the bill payment process. As an example, monthly utility payments can be set up which saves time for customers and resources for companies as this type of set up removes the need for manual payment processing.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe Recurring Payments Mobile Money APIs allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                        ROLE\nMobile Money Providers   - To understand how to implement the Mobile Money API to     API Provider\n                         receive recurring payment requests from service providers.\n                         - To understand how to implement the Mobile Money API to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nService Providers        To understand how to implement the Mobile Money API to       API Consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nUse case scenarios\n\nSetup a Recurring Payment\n\nThis diagram illustrates the setting-up of a recurring payment via a debit mandate. The service provider initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer is requested to the MMP to\nauthorise the mandate. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>Mobile Money Provider: (Authorised) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Setup a Recurring Payment Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the recurring payment. The service provider receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer declines the request by the\nMMP to accept the debit mandate. Account Holder--\x3e>Mobile Money Provider: (Declined) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been declined by returning\nan error object. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment Failure\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate. The FSP is unable to process the payment and returns a callback containing the error object.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider loop activate Service Provider Service Provider->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The service provider polls the MMP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Service Provider->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The service provider can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted payment. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Object) end deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Refund\n\nService Providers can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/adjustment activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Reversal\n\nIn some failure scenarios, a service provider may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the reversal request for\nprocessing to the MMP - passing the reference of the\ntransaction that is to be reversed. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Payer sets up a Recurring Payment using MMP Channel\n\nThis diagram illustrates how the MM API can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequenceDiagram participant Mobile Money Provider Channel participant Mobile Money Provider Mobile Money Provider Channel->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Mobile Money Provider Channel activate Mobile Money Provider Note right of Mobile Money Provider: (1) The MMP Channel submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Mobile Money Provider Channel: HTTP 202 (Request State Object) Mobile Money Provider->>Mobile Money Provider Channel: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (2) The MMP informs the MMP Channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Mobile Money Provider Channel--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider Channel deactivate Mobile Money Provider Obtain a Service Provider Balance sequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Balance Object) deactivate Service Provider deactivate Mobile Money Provider Retrieve Payments for a Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests\nup to 20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The service provider requests\nthe remaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Service Provider deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /heartbeat activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests the\navailability of the service from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Service Provider deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the service provider's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Service Provider->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The service provider uses the link to\nobtain a representation of the missing\nresource. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Requested Object) deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Introduction\n\nThe Bill Payments Mobile Money APIs allow service providers to accept bill payments from mobile money customers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                         ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to make   API Consumer\n                         bill payments to service providers.\nService Providers        To understand how to implement the Mobile Money API to        API Provider\n                         accept bill payments from Mobile Money Providers.\n\n\nUse case scenarios\n\nSuccessful Retrieval of Bills\n\nThis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Obtain all bills of a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bills Object) deactivate Mobile Money Provider deactivate Service Provider Unsuccessful Retrieval of Bills\n\nThis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Retrieve all bills for a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 4xx/5xx (Error Object) Note right of Service Provider: (2) Return the error object providing\ndetais of the failure reason. deactivate Mobile Money Provider deactivate Service Provider Make a Successful Bill Payment with Callback\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. To illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequenceDiagram participant Third Party Payment Provider participant Mobile Money Provider participant Service Provider Note right of Third Party Payment Provider: (1) The provider that enables the payer to pay\nbills submits a payment request to the MMP. Third Party Payment Provider->>Mobile Money Provider: POST /transactions/type/billpay activate Third Party Payment Provider activate Mobile Money Provider Mobile Money Provider--\x3e>Third Party Payment Provider: HTTP 202 (Request State Object) deactivate Third Party Payment Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider Note right of Service Provider: (2) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Bill Payments Object) activate Mobile Money Provider Note right of Service Provider: (3) The Service Provider informs the MMP\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider Note right of Third Party Payment Provider: (4) The MMP informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. Mobile Money Provider->>Third Party Payment Provider: PUT {Callback URL} (Transactions Object) activate Third Party Payment Provider Third Party Payment Provider--\x3e> Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Third Party Payment Provider Make an Unsuccessful Bill Payment with Callback\n\nThis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Error Object) activate Mobile Money Provider Note right of Service Provider: (2) The Service Provider informs the MMP\nthat the request failed by returning a\nrepresentation of the error object. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Make a Bill Payment with Polling\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request for processing\nto the Service Provider. The Service Provider will return\nthe Request State object to indicate that the request is\n'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider loop activate Mobile Money Provider Mobile Money Provider->>Service Provider: GET /requeststates/{serverCorrelationId} Note right of Service Provider: (2) The MMP polls the Service Provider for the Request State\nuntil the bill payment is processed or until the polling limit is\nreached. The request state will return the final status of the\nrequired, i.e. completed or failed. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Request State Object) end deactivate Service Provider deactivate Mobile Money Provider Retrieval of Bill Payments\n\nThis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=0&limit=10 activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests up to 10 bill\npayments for the account from the\nService Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) Note right of Service Provider: (2) The Service Provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=10&limit=10 Note right of Service Provider: (3) The MMP requests the remaining\nbill payments for the account\nfrom the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) deactivate Mobile Money Provider deactivate Service Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the Service Provider is in a state that enables an FSP to submit a request for processing.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /heartbeat activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests the availability of the\nservice from the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Heartbeat Object) Note right of Service Provider: (2) The Service Provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Succeed case study\n\nAs an energy provider whose business is mainly in rural areas, partnerships with MNOs are of extreme importance to its operations. Mobile Money is regarded an enabler of its business. Most of the third-party service provider’s consumers are pay-as-you go customers and by being directly integrated with over 10 MNO partners, it facilitates faster and smoother payments. Although the process of direct integrations has improved since its first integration over seven years ago, the provider are still experiences some challenges when integrating with new partners, particularly the length of integration. The energy provider has previously considered using aggregators; however, the costs proved to be significantly high. The business has stated it would be beneficial to use a Standardised API, as will allow the provider to connect with more MNOs and expand services it offers at a faster rate. One of the provider’s struggles has been maintaining the multiple MNO API connections, which can be minimised by using a Standard API. Engie Energy Provider\n\nBill Payments\n\nRecurring Payments\n\nDisbursements\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"companies in the energy, utilities and agritech industries can use the gsma api specification to support their customers save time by automating the bill payment process. as an example, monthly utility payments can be set up which saves time for customers and resources for companies as this type of set up removes the need for manual payment processing.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe recurring payments mobile money apis allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                        role\nmobile money providers   - to understand how to implement the mobile money api to     api provider\n                         receive recurring payment requests from service providers.\n                         - to understand how to implement the mobile money api to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nservice providers        to understand how to implement the mobile money api to       api consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nuse case scenarios\n\nsetup a recurring payment\n\nthis diagram illustrates the setting-up of a recurring payment via a debit mandate. the service provider initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer is requested to the mmp to\nauthorise the mandate. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>mobile money provider: (authorised) deactivate account holder mobile money provider->>service provider: put {callback url} (debit mandates object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider setup a recurring payment failure\n\nin this diagram, the account holder declines to provide authorisation to setup the recurring payment. the service provider receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer declines the request by the\nmmp to accept the debit mandate. account holder--\x3e>mobile money provider: (declined) deactivate account holder mobile money provider->>service provider: put {callback url} (error object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been declined by returning\nan error object. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (transactions object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment failure\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate. the fsp is unable to process the payment and returns a callback containing the error object.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (error object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider loop activate service provider service provider->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the service provider polls the mmp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. mobile money provider--\x3e>service provider: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider service provider->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the service provider can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted payment. mobile money provider--\x3e>service provider: http 200 (transactions object) end deactivate service provider deactivate mobile money provider recurring payment refund\n\nservice providers can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/adjustment activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider recurring payment reversal\n\nin some failure scenarios, a service provider may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/{original transaction reference}/reversals activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the reversal request for\nprocessing to the mmp - passing the reference of the\ntransaction that is to be reversed. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider payer sets up a recurring payment using mmp channel\n\nthis diagram illustrates how the mm api can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequencediagram participant mobile money provider channel participant mobile money provider mobile money provider channel->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate mobile money provider channel activate mobile money provider note right of mobile money provider: (1) the mmp channel submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>mobile money provider channel: http 202 (request state object) mobile money provider->>mobile money provider channel: put {callback url} (debit mandates object) note right of mobile money provider: (2) the mmp informs the mmp channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. mobile money provider channel--\x3e>mobile money provider: http 204 deactivate mobile money provider channel deactivate mobile money provider obtain a service provider balance sequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate service provider activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>service provider: http 200 (balance object) deactivate service provider deactivate mobile money provider retrieve payments for a service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests\nup to 20 transactions for the\naccount from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the service provider requests\nthe remaining transactions for\nthe account from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) deactivate service provider deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /heartbeat activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests the\navailability of the service from the mmp. mobile money provider--\x3e>service provider: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate service provider deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /responses{clientcorrelationid} activate service provider activate mobile money provider note right of mobile money provider: (1) using the service provider's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>service provider: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. service provider->>mobile money provider: get /{link} note right of mobile money provider: (3) the service provider uses the link to\nobtain a representation of the missing\nresource. mobile money provider--\x3e>service provider: http 200 (requested object) deactivate mobile money provider deactivate service provider start developing\n\n\n# introduction\n\nthe bill payments mobile money apis allow service providers to accept bill payments from mobile money customers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                         role\nmobile money providers   to understand how to implement the mobile money api to make   api consumer\n                         bill payments to service providers.\nservice providers        to understand how to implement the mobile money api to        api provider\n                         accept bill payments from mobile money providers.\n\n\nuse case scenarios\n\nsuccessful retrieval of bills\n\nthis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) obtain all bills of a given account. service provider--\x3e>mobile money provider: http 200 (bills object) deactivate mobile money provider deactivate service provider unsuccessful retrieval of bills\n\nthis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) retrieve all bills for a given account. service provider--\x3e>mobile money provider: http 4xx/5xx (error object) note right of service provider: (2) return the error object providing\ndetais of the failure reason. deactivate mobile money provider deactivate service provider make a successful bill payment with callback\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. to illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequencediagram participant third party payment provider participant mobile money provider participant service provider note right of third party payment provider: (1) the provider that enables the payer to pay\nbills submits a payment request to the mmp. third party payment provider->>mobile money provider: post /transactions/type/billpay activate third party payment provider activate mobile money provider mobile money provider--\x3e>third party payment provider: http 202 (request state object) deactivate third party payment provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider note right of service provider: (2) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (bill payments object) activate mobile money provider note right of service provider: (3) the service provider informs the mmp\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. mobile money provider--\x3e>service provider: http 204 deactivate service provider note right of third party payment provider: (4) the mmp informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. mobile money provider->>third party payment provider: put {callback url} (transactions object) activate third party payment provider third party payment provider--\x3e> mobile money provider: http 204 deactivate mobile money provider deactivate third party payment provider make an unsuccessful bill payment with callback\n\nthis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (error object) activate mobile money provider note right of service provider: (2) the service provider informs the mmp\nthat the request failed by returning a\nrepresentation of the error object. mobile money provider--\x3e>service provider: http 204 deactivate service provider deactivate mobile money provider make a bill payment with polling\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request for processing\nto the service provider. the service provider will return\nthe request state object to indicate that the request is\n'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider loop activate mobile money provider mobile money provider->>service provider: get /requeststates/{servercorrelationid} note right of service provider: (2) the mmp polls the service provider for the request state\nuntil the bill payment is processed or until the polling limit is\nreached. the request state will return the final status of the\nrequired, i.e. completed or failed. service provider--\x3e>mobile money provider: http 200 (request state object) end deactivate service provider deactivate mobile money provider retrieval of bill payments\n\nthis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=0&limit=10 activate mobile money provider activate service provider note right of service provider: (1) the mmp requests up to 10 bill\npayments for the account from the\nservice provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) note right of service provider: (2) the service provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=10&limit=10 note right of service provider: (3) the mmp requests the remaining\nbill payments for the account\nfrom the service provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) deactivate mobile money provider deactivate service provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the service provider is in a state that enables an fsp to submit a request for processing.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /heartbeat activate mobile money provider activate service provider note right of service provider: (1) the mmp requests the availability of the\nservice from the service provider. service provider--\x3e>mobile money provider: http 200 (heartbeat object) note right of service provider: (2) the service provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate mobile money provider deactivate service provider start developing\n\n\n# succeed case study\n\nas an energy provider whose business is mainly in rural areas, partnerships with mnos are of extreme importance to its operations. mobile money is regarded an enabler of its business. most of the third-party service provider’s consumers are pay-as-you go customers and by being directly integrated with over 10 mno partners, it facilitates faster and smoother payments. although the process of direct integrations has improved since its first integration over seven years ago, the provider are still experiences some challenges when integrating with new partners, particularly the length of integration. the energy provider has previously considered using aggregators; however, the costs proved to be significantly high. the business has stated it would be beneficial to use a standardised api, as will allow the provider to connect with more mnos and expand services it offers at a faster rate. one of the provider’s struggles has been maintaining the multiple mno api connections, which can be minimised by using a standard api. engie energy provider\n\nbill payments\n\nrecurring payments\n\ndisbursements\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Employers",frontmatter:{pageClass:"industry-page custom",title:"Employers"},regularPath:"/employers/",relativePath:"employers/index.md",key:"v-1eca3571",path:"/employers/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:279},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:304},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:769},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:304},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:32209}],headersStr:"Use cases Introduction Intended Audience Introduction Ready to explore?",content:"Employers can use the GSMA API specification to distribute salaries to their employees.\n\nThis is particular useful in countries where there is a large uptake of mobile money and where employees value the convenience of receiving their salaries directly in their mobile phones.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe Disbursement Mobile Money APIs allow organisations to disburse funds to mobile money recipients.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         organisations to disburse payments in singular and in bulk.\nNGOs                     To understand how to implement the Mobile Money API to         API Consumer\n                         provide aid payments to mobile money recipients.\nGovernment Departments   To understand how to implement the Mobile Money API to         API Consumer\n                         provide social credit payments to mobile money recipients.\nEmployers                To understand how to implement the Mobile Money API to         API Consumer\n                         provide salary payments to mobile money recipients.\n\n\nUse case scenarios\n\nIndividual Disbursement\n\nThis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Individual Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement\n\nThis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider opt Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (3) The disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Transactions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (4) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Completions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (5) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement with Maker / Checker\n\nThis flow allows a bulk request to be processed in two steps. The first step involves the ‘maker’ system loading the request into the mobile money provider. The second step involves the ‘checker’ system approving the request.\n\nsequenceDiagram participant Disbursement Organisation Maker participant Disbursement Organisation Checker participant Mobile Money Provider Disbursement Organisation Maker->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation Maker activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation maker submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Maker Mobile Money Provider->>Disbursement Organisation Maker: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Maker Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Maker--\x3e>Mobile Money Provider: HTTP 204 opt Disbursement Organisation Maker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (3) The disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Maker deactivate Mobile Money Provider Disbursement Organisation Checker->>Mobile Money Provider: PATCH /batchtransactions/{batchId} activate Disbursement Organisation Checker activate Mobile Money Provider Note right of Mobile Money Provider: (4) The disbursement organisation checker submits a request\nto approve the transaction batch. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Checker Mobile Money Provider->>Disbursement Organisation Checker: PUT {Callback URL} (Success) activate Disbursement Organisation Checker Note right of Mobile Money Provider: (5) The MMP informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Checker--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Disbursement Organisation Checker opt activate Mobile Money Provider activate Disbursement Organisation Checker Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId} Note right of Mobile Money Provider: (6) The disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Transactions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (7) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Completions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (8) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Checker deactivate Mobile Money Provider Individual Disbursement Using the Polling Method\n\nIn this diagram, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation loop activate Disbursement Organisation Disbursement Organisation->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The disbursement organisation polls the MMP for the\nRequest State until the transaction is authorised or declied\nor until the polling limit is reached. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The disbursement organisation can use the objectReference\nreturned in the Request State to retrieve a representation of\nthe completed disbursement. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Disbursement Reversal\n\nIn some failure scenarios, a organisation may need to reverse an individual disbursement transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the reversal\nrequest for processing to the MMP - passing the reference\nof the transaction that is to be reversed. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the The disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Obtain a Disbursement Organisation Balance sequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Balance Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve Transactions for a Disbursement Organisation\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement\norganisation requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The disbursement\norganisation requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Disbursement Organisation deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /heartbeat activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation requests\nthe availability of the service from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the disbursement organisations\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Disbursement Organisation->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Requested Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Start developing\n\n\n# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\nUse case scenarios\n\nP2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP submits a quotation\nrequest to the Switch. The Switch will return the Request State object to indicate that the request\nis 'pending'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the Receiving FSP.\nThe Receiving FSP will return the Request State object to indicate\nthat the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 200 (Request State Object) Switch--\x3e>Sending FSP: HTTP 200 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the transaction has succesfully complteted\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer request to the Swith. The Switch\nwill return the Request State object to indicate that the request is 'pending'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the Request State object\nto indicate that the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the transaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP submits a transfer request.\nThe Receiving FSP will return the Request State object to indicate that the request is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the transation has been succesfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP's account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"employers can use the gsma api specification to distribute salaries to their employees.\n\nthis is particular useful in countries where there is a large uptake of mobile money and where employees value the convenience of receiving their salaries directly in their mobile phones.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe disbursement mobile money apis allow organisations to disburse funds to mobile money recipients.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         organisations to disburse payments in singular and in bulk.\nngos                     to understand how to implement the mobile money api to         api consumer\n                         provide aid payments to mobile money recipients.\ngovernment departments   to understand how to implement the mobile money api to         api consumer\n                         provide social credit payments to mobile money recipients.\nemployers                to understand how to implement the mobile money api to         api consumer\n                         provide salary payments to mobile money recipients.\n\n\nuse case scenarios\n\nindividual disbursement\n\nthis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider individual disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement\n\nthis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (batch transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider opt disbursement organisation->>mobile money provider: get /batchtransactions/{batchid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (3) the disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. mobile money provider--\x3e>disbursement organisation: http 200 (batch transactions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (4) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. mobile money provider--\x3e>disbursement organisation: http 200 (batch completions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (5) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. mobile money provider--\x3e>disbursement organisation: http 200 (batch rejections object) end deactivate disbursement organisation deactivate mobile money provider bulk disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement with maker / checker\n\nthis flow allows a bulk request to be processed in two steps. the first step involves the ‘maker’ system loading the request into the mobile money provider. the second step involves the ‘checker’ system approving the request.\n\nsequencediagram participant disbursement organisation maker participant disbursement organisation checker participant mobile money provider disbursement organisation maker->>mobile money provider: post /batchtransactions activate disbursement organisation maker activate mobile money provider note right of mobile money provider: (1) the disbursement organisation maker submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation maker: http 202 (request state object) deactivate disbursement organisation maker mobile money provider->>disbursement organisation maker: put {callback url} (batch transactions object) activate disbursement organisation maker note right of mobile money provider: (2) the mmp informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation maker--\x3e>mobile money provider: http 204 opt disbursement organisation maker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (3) the disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation maker: http 200 (batch rejections object) end deactivate disbursement organisation maker deactivate mobile money provider disbursement organisation checker->>mobile money provider: patch /batchtransactions/{batchid} activate disbursement organisation checker activate mobile money provider note right of mobile money provider: (4) the disbursement organisation checker submits a request\nto approve the transaction batch. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>disbursement organisation checker: http 202 (request state object) deactivate disbursement organisation checker mobile money provider->>disbursement organisation checker: put {callback url} (success) activate disbursement organisation checker note right of mobile money provider: (5) the mmp informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation checker--\x3e>mobile money provider: http 204 deactivate mobile money provider deactivate disbursement organisation checker opt activate mobile money provider activate disbursement organisation checker disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid} note right of mobile money provider: (6) the disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch transactions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (7) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch completions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (8) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch rejections object) end deactivate disbursement organisation checker deactivate mobile money provider individual disbursement using the polling method\n\nin this diagram, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation loop activate disbursement organisation disbursement organisation->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the disbursement organisation polls the mmp for the\nrequest state until the transaction is authorised or declied\nor until the polling limit is reached. mobile money provider--\x3e>disbursement organisation: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider disbursement organisation->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the disbursement organisation can use the objectreference\nreturned in the request state to retrieve a representation of\nthe completed disbursement. mobile money provider--\x3e>disbursement organisation: http 200 (transactions object) end deactivate disbursement organisation deactivate mobile money provider disbursement reversal\n\nin some failure scenarios, a organisation may need to reverse an individual disbursement transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/{original transaction reference}/reversals activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the reversal\nrequest for processing to the mmp - passing the reference\nof the transaction that is to be reversed. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) mobile money provider->>disbursement organisation: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the the disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider obtain a disbursement organisation balance sequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>disbursement organisation: http 200 (balance object) deactivate disbursement organisation deactivate mobile money provider retrieve transactions for a disbursement organisation\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement\norganisation requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the disbursement\norganisation requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) deactivate disbursement organisation deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /heartbeat activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation requests\nthe availability of the service from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate disbursement organisation deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /responses{clientcorrelationid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) using the disbursement organisations\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>disbursement organisation: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. disbursement organisation->>mobile money provider: get /{link} note right of mobile money provider: (3) the disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. mobile money provider--\x3e>disbursement organisation: http 200 (requested object) deactivate disbursement organisation deactivate mobile money provider start developing\n\n\n# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\nuse case scenarios\n\np2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp submits a quotation\nrequest to the switch. the switch will return the request state object to indicate that the request\nis 'pending'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the receiving fsp.\nthe receiving fsp will return the request state object to indicate\nthat the request is 'pending'. receiving fsp--\x3e>switch: http 200 (request state object) switch--\x3e>sending fsp: http 200 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the transaction has succesfully complteted\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer request to the swith. the switch\nwill return the request state object to indicate that the request is 'pending'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the request state object\nto indicate that the request is 'pending'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the transaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp submits a transfer request.\nthe receiving fsp will return the request state object to indicate that the request is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the transation has been succesfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp's account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Here is Swagger",frontmatter:{pageClass:"api-page"},regularPath:"/examples/swagger-page.html",relativePath:"examples/swagger-page.md",key:"v-29ac1cd0",path:"/examples/swagger-page.html",headersStr:null,content:"# Here is Swagger",normalizedContent:"# here is swagger",charsets:{}},{title:"Examples page",frontmatter:{pageClass:"api-page has-code-panel",title:"Examples page"},regularPath:"/examples/",relativePath:"examples/index.md",key:"v-908bc336",path:"/examples/",headers:[{level:2,title:"Heading 2",slug:"heading-2",normalizedTitle:"heading 2",charIndex:643},{level:3,title:"Heading 3",slug:"heading-3",normalizedTitle:"heading 3",charIndex:789},{level:2,title:"Tips",slug:"tips",normalizedTitle:"tips",charIndex:935},{level:2,title:"Sidebar code sections",slug:"sidebar-code-sections",normalizedTitle:"sidebar code sections",charIndex:1118},{level:3,title:"Single language",slug:"single-language",normalizedTitle:"single language",charIndex:1144},{level:3,title:"1 method + 1 language (w/o a switcher)",slug:"_1-method-1-language-w-o-a-switcher",normalizedTitle:"1 method + 1 language (w/o a switcher)",charIndex:3333},{level:3,title:"Multiple methods/objects and languages (w/o switcher)",slug:"multiple-methods-objects-and-languages-w-o-switcher",normalizedTitle:"multiple methods/objects and languages (w/o switcher)",charIndex:5236},{level:3,title:"Multiple methods/objects and languages (with switcher)",slug:"multiple-methods-objects-and-languages-with-switcher",normalizedTitle:"multiple methods/objects and languages (with switcher)",charIndex:7140},{level:2,title:"Table",slug:"table",normalizedTitle:"table",charIndex:9120},{level:2,title:"Code examples",slug:"code-examples",normalizedTitle:"code examples",charIndex:9653},{level:2,title:"Demo component",slug:"demo-component",normalizedTitle:"demo component",charIndex:10461},{level:2,title:"Image in markdown",slug:"image-in-markdown",normalizedTitle:"image in markdown",charIndex:10480},{level:2,title:"Tabs",slug:"tabs",normalizedTitle:"tabs",charIndex:10866},{level:2,title:"Tech diagrams with mermaids",slug:"tech-diagrams-with-mermaids",normalizedTitle:"tech diagrams with mermaids",charIndex:11186},{level:2,title:"Test",slug:"test",normalizedTitle:"test",charIndex:12288}],headersStr:"Heading 2 Heading 3 Tips Sidebar code sections Single language 1 method + 1 language (w/o a switcher) Multiple methods/objects and languages (w/o switcher) Multiple methods/objects and languages (with switcher) Table Code examples Demo component Image in markdown Tabs Tech diagrams with mermaids Test",content:'# Heading 1\n\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \'Content here, content here\', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for \'lorem ipsum\' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\n\n# Heading 1\n\n\n# Heading 2\n\nFermentum, at volutpat tincidunt ut. Dui id aliquam sed interdum imperdiet. Donec magna egestas in neque, sed tempor nisl dapibus.\n\n\n# Heading 3\n\nFermentum, at volutpat tincidunt ut. Dui id aliquam sed interdum imperdiet. Donec magna egestas in neque, sed tempor nisl dapibus.\n\n\n# Tips\n\nNote\n\nHendrerit rhoncus, neque nunc massa purus risus.\n\nWarning\n\nHendrerit rhoncus, neque nunc massa purus risus.\n\nWarning\n\nHendrerit rhoncus, neque nunc massa purus risus.\n\n\n# Sidebar code sections\n\n\n# Single language\n\nThis will require a single group use as per VuePress documentation, or as per the next example (here and next we assume that the code group is wrapped by wrappers from above).\n\nIn a few word just use <code-group> tag as a wrapper for a View <code-block> and inside the View add the other combination of <code-group> and <code-block> to include the Object name and info.\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n"debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\nGET .../transactions/36125b528237\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n<?php \nrequire_once("mm-api.php");\ntry {\n  $TransferId = 11111111;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\n<?php \nrequire_once("mm-api.php");\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\n<?php \nrequire_once("mm-api.php");\ntry {\n  $TransferId = 33333333;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nPOST        POST                                         To be used for transaction creation when the provider’s API\n            /transactions/type/{transactiontype}         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET                                          To view a transaction.\n            /transactions/{transactionReference}\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n\n\n\n\n\n# 1 method + 1 language (w/o a switcher)\n\nThis is an example of how the right sidebar can be used for a single method/object w/o adding a language switcher.\n\nE.g. a single method/object needs to be described in one or few languages.\n\nJust use the default 2 groups View and Code, where Code will include a group of two blocks are named as languages, e.g. PHP and JavaScript.\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n//This is JavaScript\nrequire_once("mm-api.php");\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}\n\ntry {\n    $TransferId = 22222222;\n    $Transfer = $Api->Transfers->Get($TransferId);\n} catch(MM-API\\Libraries\\ResponseException $e) {\n    $e->GetErrorDetails()\n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n\n\n<?php \n//This is PHP\nrequire_once("mm-api.php");\ntry {\n  $TransferId = 11111111;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\nOPERATION   PATH                                   DESCRIPTION\nPOST        POST                                   To be used for transaction creation when the provider’s API\n            /transactions/type/{transactiontype}   Gateway requires that the transaction type be identified in\n                                                   the URL.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Multiple methods/objects and languages (w/o switcher)\n\nThis is an example of how multiple methods/objects and languages can be supported.\n\nE.g. we need 2 methods and code examples in two languages for them as separate tabs / <code-group>s.\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\nGET .../transactions/36125b528237\n\n\n//This is JavaScript\ntry {\n  $TransferId = 11111111;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n\n\n//This is JavaScript\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e)\n\n\n<?php \n//This is PHP\nrequire_once("mm-api.php");\ntry {\n  $TransferId = 11111111;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\n<?php \n//This is PHP\nrequire_once("mm-api.php");\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\nOPERATION   PATH                                   DESCRIPTION\nPOST        POST                                   To be used for transaction creation when the provider’s API\n            /transactions/type/{transactiontype}   Gateway requires that the transaction type be identified in\n                                                   the URL.\nView        GET                                    To view a transaction.\n            /transactions/{transactionReference}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Multiple methods/objects and languages (with switcher)\n\nThis is an example of how multiple methods/objects and languages can be supported.\n\nE.g. we need 2 methods and code examples in two languages for them.\n\nThis will require adding methods and code examples for all languages wrapping them into <code-language-selector> tags.\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\nGET .../transactions/36125b528237\n\n\n//This is JavaScript\ntry {\n  $TransferId = 11111111;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n\n\n//This is JavaScript\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e)\n\n\n<?php \n//This is PHP\nrequire_once("mm-api.php");\ntry {\n  $TransferId = 11111111;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\n<?php \n//This is PHP\nrequire_once("mm-api.php");\ntry {\n  $TransferId = 22222222;\n  $Transfer = $Api->Transfers->Get($TransferId);  \n} catch(MM-API\\Libraries\\ResponseException $e) {\n  $e->GetErrorDetails() \n} catch(MM-API\\Libraries\\Exception $e) {\n}  \n?>\n\n\nOPERATION   PATH                                   DESCRIPTION\nPOST        POST                                   To be used for transaction creation when the provider’s API\n            /transactions/type/{transactiontype}   Gateway requires that the transaction type be identified in\n                                                   the URL.\nView        GET                                    To view a transaction.\n            /transactions/{transactionReference}\n\n\n# Table\n\nAUDIENCE                 USAGE                                                    ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to   API provider\n                         receive payments from merchants.\nMerchants                To understand how to implement the Mobile Money API to   API consumer\n                         accept mobile money payments.\n\nFermentum, at volutpat tincidunt ut. Dui id aliquam sed interdum imperdiet. Donec magna egestas in neque, sed tempor nisl dapibus.\n\n\n# Code examples\n\nPOST/transactions/type/merchantpay \\\n\ncurl --location --request POST \'https://sandbox.mobilemoneyapi.io/simulator/v1.2/passthrough/mm/transactions/type/merchantpay\'\\\n--header \'X-CorrelationID: Please enter your UUID here\'\\\n--header \'X-Callback-URL: Please enter your callback URL here\'\\\n--header \'Content-Type: application/json\'\\\n--data-raw \'{\n    "amount": "200.00",\n\n{{ This will be displayed as-is }}\n\nfunction fancyAlert(arg) {\n  if (arg) {\n    $.facebox({div: \'#foo\'})\n  }\n}\n\n\n<?php\necho str_word_count("PHP");\n?> \n\n\nfunction fancyAlert(arg) {\n  if (arg) {\n    $.facebox({div: \'#foo\'})\n  }\n}\n\n\n<?php\necho str_word_count("PHP");\n?> \n\n\n<img :src="$withBase(\'/foo.png\')" alt="foo">\n\n\nDETAILS\n\nThis is a details block, which does not work in IE / Edge\n\n{{ This will be displayed as-is }}\n\n\n# Demo component\n\n\n# Image in markdown\n\n\n\n\n\n * Heading 2\n   * Heading 3\n * Tips\n * Sidebar code sections\n   * Single language\n   * 1 method + 1 language (w/o a switcher)\n   * Multiple methods/objects and languages (w/o switcher)\n   * Multiple methods/objects and languages (with switcher)\n * Table\n * Code examples\n * Demo component\n * Image in markdown\n * Tabs\n * Tech diagrams with mermaids\n * Test\n\n\n\n\n# Tabs\n\n:::: tabs type:board-card ::: tab PHP lazy\n\n<?php\necho str_word_count("PHP example");\n?> \n\n\n::: ::: tab JavaScript lazy\n\nfunction fancyAlert(arg) {\n  if (arg) {\n    $.facebox({div: \'#foo\'})\n  }\n}\n\n\n::: ::::\n\nyarn create vuepress-site [optionalDirectoryName]\n\n\nnpx create-vuepress-site [optionalDirectoryName]\n\n\n\n# Tech diagrams with mermaids\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>+Mobile Money Provider: POST /transactions/type/merchantpay important link Note right of Mobile Money Provider: (1) The merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is "pending". Mobile Money Provider--\x3e>-Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>+Payer: Obtain Customer Authorisation Note right of Payer: (2) The Payer is requested by the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>-Mobile Money Provider: (Authorised) Mobile Money Provider->>+Merchant: PUT (Callback URL) (transctions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>-Mobile Money Provider: HTTP 204\n\n\n# Test\n\nTest me please',normalizedContent:'# heading 1\n\nit is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. the point of using lorem ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \'content here, content here\', making it look like readable english. many desktop publishing packages and web page editors now use lorem ipsum as their default model text, and a search for \'lorem ipsum\' will uncover many web sites still in their infancy. various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\n\n\n# heading 1\n\n\n# heading 2\n\nfermentum, at volutpat tincidunt ut. dui id aliquam sed interdum imperdiet. donec magna egestas in neque, sed tempor nisl dapibus.\n\n\n# heading 3\n\nfermentum, at volutpat tincidunt ut. dui id aliquam sed interdum imperdiet. donec magna egestas in neque, sed tempor nisl dapibus.\n\n\n# tips\n\nnote\n\nhendrerit rhoncus, neque nunc massa purus risus.\n\nwarning\n\nhendrerit rhoncus, neque nunc massa purus risus.\n\nwarning\n\nhendrerit rhoncus, neque nunc massa purus risus.\n\n\n# sidebar code sections\n\n\n# single language\n\nthis will require a single group use as per vuepress documentation, or as per the next example (here and next we assume that the code group is wrapped by wrappers from above).\n\nin a few word just use <code-group> tag as a wrapper for a view <code-block> and inside the view add the other combination of <code-group> and <code-block> to include the object name and info.\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n"debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\nget .../transactions/36125b528237\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n<?php \nrequire_once("mm-api.php");\ntry {\n  $transferid = 11111111;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\n<?php \nrequire_once("mm-api.php");\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\n<?php \nrequire_once("mm-api.php");\ntry {\n  $transferid = 33333333;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\noperation   path                                         description\npost        post                                         to be used for transaction creation when the provider’s api\n            /transactions/type/{transactiontype}         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get                                          to view a transaction.\n            /transactions/{transactionreference}\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n\n\n\n\n\n# 1 method + 1 language (w/o a switcher)\n\nthis is an example of how the right sidebar can be used for a single method/object w/o adding a language switcher.\n\ne.g. a single method/object needs to be described in one or few languages.\n\njust use the default 2 groups view and code, where code will include a group of two blocks are named as languages, e.g. php and javascript.\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n//this is javascript\nrequire_once("mm-api.php");\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}\n\ntry {\n    $transferid = 22222222;\n    $transfer = $api->transfers->get($transferid);\n} catch(mm-api\\libraries\\responseexception $e) {\n    $e->geterrordetails()\n} catch(mm-api\\libraries\\exception $e) {\n}  \n\n\n<?php \n//this is php\nrequire_once("mm-api.php");\ntry {\n  $transferid = 11111111;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\noperation   path                                   description\npost        post                                   to be used for transaction creation when the provider’s api\n            /transactions/type/{transactiontype}   gateway requires that the transaction type be identified in\n                                                   the url.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# multiple methods/objects and languages (w/o switcher)\n\nthis is an example of how multiple methods/objects and languages can be supported.\n\ne.g. we need 2 methods and code examples in two languages for them as separate tabs / <code-group>s.\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\nget .../transactions/36125b528237\n\n\n//this is javascript\ntry {\n  $transferid = 11111111;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n\n\n//this is javascript\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e)\n\n\n<?php \n//this is php\nrequire_once("mm-api.php");\ntry {\n  $transferid = 11111111;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\n<?php \n//this is php\nrequire_once("mm-api.php");\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\noperation   path                                   description\npost        post                                   to be used for transaction creation when the provider’s api\n            /transactions/type/{transactiontype}   gateway requires that the transaction type be identified in\n                                                   the url.\nview        get                                    to view a transaction.\n            /transactions/{transactionreference}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# multiple methods/objects and languages (with switcher)\n\nthis is an example of how multiple methods/objects and languages can be supported.\n\ne.g. we need 2 methods and code examples in two languages for them.\n\nthis will require adding methods and code examples for all languages wrapping them into <code-language-selector> tags.\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\nget .../transactions/36125b528237\n\n\n//this is javascript\ntry {\n  $transferid = 11111111;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n\n\n//this is javascript\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e)\n\n\n<?php \n//this is php\nrequire_once("mm-api.php");\ntry {\n  $transferid = 11111111;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\n<?php \n//this is php\nrequire_once("mm-api.php");\ntry {\n  $transferid = 22222222;\n  $transfer = $api->transfers->get($transferid);  \n} catch(mm-api\\libraries\\responseexception $e) {\n  $e->geterrordetails() \n} catch(mm-api\\libraries\\exception $e) {\n}  \n?>\n\n\noperation   path                                   description\npost        post                                   to be used for transaction creation when the provider’s api\n            /transactions/type/{transactiontype}   gateway requires that the transaction type be identified in\n                                                   the url.\nview        get                                    to view a transaction.\n            /transactions/{transactionreference}\n\n\n# table\n\naudience                 usage                                                    role\nmobile money providers   to understand how to implement the mobile money api to   api provider\n                         receive payments from merchants.\nmerchants                to understand how to implement the mobile money api to   api consumer\n                         accept mobile money payments.\n\nfermentum, at volutpat tincidunt ut. dui id aliquam sed interdum imperdiet. donec magna egestas in neque, sed tempor nisl dapibus.\n\n\n# code examples\n\npost/transactions/type/merchantpay \\\n\ncurl --location --request post \'https://sandbox.mobilemoneyapi.io/simulator/v1.2/passthrough/mm/transactions/type/merchantpay\'\\\n--header \'x-correlationid: please enter your uuid here\'\\\n--header \'x-callback-url: please enter your callback url here\'\\\n--header \'content-type: application/json\'\\\n--data-raw \'{\n    "amount": "200.00",\n\n{{ this will be displayed as-is }}\n\nfunction fancyalert(arg) {\n  if (arg) {\n    $.facebox({div: \'#foo\'})\n  }\n}\n\n\n<?php\necho str_word_count("php");\n?> \n\n\nfunction fancyalert(arg) {\n  if (arg) {\n    $.facebox({div: \'#foo\'})\n  }\n}\n\n\n<?php\necho str_word_count("php");\n?> \n\n\n<img :src="$withbase(\'/foo.png\')" alt="foo">\n\n\ndetails\n\nthis is a details block, which does not work in ie / edge\n\n{{ this will be displayed as-is }}\n\n\n# demo component\n\n\n# image in markdown\n\n\n\n\n\n * heading 2\n   * heading 3\n * tips\n * sidebar code sections\n   * single language\n   * 1 method + 1 language (w/o a switcher)\n   * multiple methods/objects and languages (w/o switcher)\n   * multiple methods/objects and languages (with switcher)\n * table\n * code examples\n * demo component\n * image in markdown\n * tabs\n * tech diagrams with mermaids\n * test\n\n\n\n\n# tabs\n\n:::: tabs type:board-card ::: tab php lazy\n\n<?php\necho str_word_count("php example");\n?> \n\n\n::: ::: tab javascript lazy\n\nfunction fancyalert(arg) {\n  if (arg) {\n    $.facebox({div: \'#foo\'})\n  }\n}\n\n\n::: ::::\n\nyarn create vuepress-site [optionaldirectoryname]\n\n\nnpx create-vuepress-site [optionaldirectoryname]\n\n\n\n# tech diagrams with mermaids\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>+mobile money provider: post /transactions/type/merchantpay important link note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is "pending". mobile money provider--\x3e>-merchant: http 202 (request state object) mobile money provider->>+payer: obtain customer authorisation note right of payer: (2) the payer is requested by the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>-mobile money provider: (authorised) mobile money provider->>+merchant: put (callback url) (transctions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>-mobile money provider: http 204\n\n\n# test\n\ntest me please',charsets:{}},{title:"FAQ",frontmatter:{pageClass:"faq-page custom",title:"FAQ"},regularPath:"/faq/",relativePath:"faq/index.md",key:"v-07f4f7f1",path:"/faq/",headers:[{level:2,title:"General",slug:"general",normalizedTitle:"general",charIndex:125},{level:2,title:"Technical",slug:"technical",normalizedTitle:"technical",charIndex:2243},{level:2,title:"Security",slug:"security",normalizedTitle:"security",charIndex:4492}],headersStr:"General Technical Security",content:'FAQ Browse our frequently asked questions site from common questions as well as "how to" instructions.\n\n\nNo results found.\n\n\n# General\n\nWhat is the Mobile Money API? The GSMA Mobile Money API is an initiative developed through collaboration between the mobile money industry and the GSMA, which provides a harmonised API Specification for all the common mobile money use cases which is both easy to use and secure. Who created and maintains the Mobile Money API?\nThe API is a GSMA-led industry initiative, for and by the Mobile Money industry, mobile money operators and their technology platform providers. It is maintained by the GSMA working with the industry as it continues to evolve and grow.\nWho can use the Mobile Money API?\nThe API is designed to be used by any party in the Mobile Money industry. This includes Mobile Money Operators, other Payment Service Providers, Retail and eCommerce Merchants, Application Developers, companies receiving Bill Payments, and others.\nWhich use cases does the Mobile Money API support?\nThe GSMA Mobile Money API is an initiative developed through collaboration between the mobile money industry and the GSMA, which provides a harmonised API Specification for all the common mobile money use cases which is both easy to use and secure.\nWhat are the advantages of the Mobile Money API?\nAdoption of the Mobile Money API leads to key benefits including growth of your mobile money ecosystem from faster partner on-boarding as partners will only have to integrate to one common API. Adopting a harmonised API also leads to easier maintenance and evolution of your common Mobile Money operations by providing support for advanced features such as multi-wallets and batch payments.\nIs the GSMA Mobile Money API free to use?\nYes, the GSMA represents the interests of mobile operators worldwide, uniting more than 750 operators with almost 400 companies in the broader mobile ecosystem and the assets we maintain are there to support our members and our industry. We encourage use of the harmonised API and place no restrictions on its use.\nAre there any alternative API standards?\nThere is no other harmonised API that supports the range of Mobile Money use cases provided by the GSMA Mobile Money API.\n\n\n# Technical\n\nWhich API Version should we implement? The current version of the Mobile Money API is v1.1 and this version should be implemented by all new adopters. We encourage existing adopters who have implemented the previous version of the API to migrate to the latest version which is backwards compatible. How did you decide on which APIs to include in the current Specification?\nThe current set of APIs have been selected to cover the most common mobile money use cases that are used in the industry today.\nCan I implement only some of the APIs and still conform to the API Specification?\nYes, you can implement only the APIs which are relevant for your business.\nIs the Mobile Money API easy to implement?\nYes, the Mobile Money API is simple to implement as the API is based upon REST/JSON which is used extensively by the developer community, and most of the APIs are simply defined and only require a small number of mandatory fields. Developers can additionally use Swagger Codegen to rapidly generate Mobile Money API stubs for development and testing, and the GSMA can also support you in implementing the API.\nWhy are only REST and JSON supported over other API designs and data formats?\nThe design decision was based on REST and JSON being the best options for an API in terms of simplicity, ease of development, and because they are the most commonly used and understood architecture and data format today for all kinds of APIs.\nWhy was OAS chosen as the API definition framework over other API frameworks?\nOAS was chosen as it provides the best modelling flexibility and includes a comprehensive toolset to facilitate API implementation including client and server side SDKs.\nDoes the API support synchronous and asynchronous patterns?\nYes, the API supports synchronous and asynchronous patterns for resource creation and update requests, and synchronous patterns only for read requests, which provides support for the most commonly used request paradigms.\nCan you add support for a Mobile Money use case which is not included in the Specification?\nPlease contact us to let us know if you use APIs which are not currently included in the API Specification. We have a living roadmap and will continue to update the Spec over time.\n\n\n# Security\n\nAre there security recommendations to consider when implementing the Mobile Money API? Yes, we provide a comprehensive set of security guidelines, please see our latest Security Design and Implementation guidelines in the Developer Portal here. Do I need to implement an API Gateway to host the Mobile Money API?\nNo. However we recommend you use an API Gateway as this enables efficient developer on-boarding processes, making the implementation process simpler and allowing third parties to more rapidly exploit the benefits of the API. Off the shelf API Gateways do support the Mobile Money API security guidelines, including OAuth2.',normalizedContent:'faq browse our frequently asked questions site from common questions as well as "how to" instructions.\n\n\nno results found.\n\n\n# general\n\nwhat is the mobile money api? the gsma mobile money api is an initiative developed through collaboration between the mobile money industry and the gsma, which provides a harmonised api specification for all the common mobile money use cases which is both easy to use and secure. who created and maintains the mobile money api?\nthe api is a gsma-led industry initiative, for and by the mobile money industry, mobile money operators and their technology platform providers. it is maintained by the gsma working with the industry as it continues to evolve and grow.\nwho can use the mobile money api?\nthe api is designed to be used by any party in the mobile money industry. this includes mobile money operators, other payment service providers, retail and ecommerce merchants, application developers, companies receiving bill payments, and others.\nwhich use cases does the mobile money api support?\nthe gsma mobile money api is an initiative developed through collaboration between the mobile money industry and the gsma, which provides a harmonised api specification for all the common mobile money use cases which is both easy to use and secure.\nwhat are the advantages of the mobile money api?\nadoption of the mobile money api leads to key benefits including growth of your mobile money ecosystem from faster partner on-boarding as partners will only have to integrate to one common api. adopting a harmonised api also leads to easier maintenance and evolution of your common mobile money operations by providing support for advanced features such as multi-wallets and batch payments.\nis the gsma mobile money api free to use?\nyes, the gsma represents the interests of mobile operators worldwide, uniting more than 750 operators with almost 400 companies in the broader mobile ecosystem and the assets we maintain are there to support our members and our industry. we encourage use of the harmonised api and place no restrictions on its use.\nare there any alternative api standards?\nthere is no other harmonised api that supports the range of mobile money use cases provided by the gsma mobile money api.\n\n\n# technical\n\nwhich api version should we implement? the current version of the mobile money api is v1.1 and this version should be implemented by all new adopters. we encourage existing adopters who have implemented the previous version of the api to migrate to the latest version which is backwards compatible. how did you decide on which apis to include in the current specification?\nthe current set of apis have been selected to cover the most common mobile money use cases that are used in the industry today.\ncan i implement only some of the apis and still conform to the api specification?\nyes, you can implement only the apis which are relevant for your business.\nis the mobile money api easy to implement?\nyes, the mobile money api is simple to implement as the api is based upon rest/json which is used extensively by the developer community, and most of the apis are simply defined and only require a small number of mandatory fields. developers can additionally use swagger codegen to rapidly generate mobile money api stubs for development and testing, and the gsma can also support you in implementing the api.\nwhy are only rest and json supported over other api designs and data formats?\nthe design decision was based on rest and json being the best options for an api in terms of simplicity, ease of development, and because they are the most commonly used and understood architecture and data format today for all kinds of apis.\nwhy was oas chosen as the api definition framework over other api frameworks?\noas was chosen as it provides the best modelling flexibility and includes a comprehensive toolset to facilitate api implementation including client and server side sdks.\ndoes the api support synchronous and asynchronous patterns?\nyes, the api supports synchronous and asynchronous patterns for resource creation and update requests, and synchronous patterns only for read requests, which provides support for the most commonly used request paradigms.\ncan you add support for a mobile money use case which is not included in the specification?\nplease contact us to let us know if you use apis which are not currently included in the api specification. we have a living roadmap and will continue to update the spec over time.\n\n\n# security\n\nare there security recommendations to consider when implementing the mobile money api? yes, we provide a comprehensive set of security guidelines, please see our latest security design and implementation guidelines in the developer portal here. do i need to implement an api gateway to host the mobile money api?\nno. however we recommend you use an api gateway as this enables efficient developer on-boarding processes, making the implementation process simpler and allowing third parties to more rapidly exploit the benefits of the api. off the shelf api gateways do support the mobile money api security guidelines, including oauth2.',charsets:{}},{frontmatter:{pageClass:"auth-page"},regularPath:"/forgot-password/confirmation.html",relativePath:"forgot-password/confirmation.md",key:"v-347ddf46",path:"/forgot-password/confirmation.html",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"FinTech Providers (Insurance Savings Loans)",frontmatter:{pageClass:"industry-page custom",title:"FinTech Providers (Insurance Savings Loans)"},regularPath:"/fintech-providers/",relativePath:"fintech-providers/index.md",key:"v-d17b4d9e",path:"/fintech-providers/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:252},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:277},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:818},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:277},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:818},{level:2,title:"Succeed case study",slug:"succeed-case-study",normalizedTitle:"succeed case study",charIndex:24772},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:26090}],headersStr:"Use cases Introduction Intended Audience Introduction Intended Audience Succeed case study Ready to explore?",content:"Fintech companies that provide services such as insurance and other digital financial services can use the GSMA API specification to enable their customer to make one-off bill payments or set up recurring payments for services such as subscriptions.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe Recurring Payments Mobile Money APIs allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                        ROLE\nMobile Money Providers   - To understand how to implement the Mobile Money API to     API Provider\n                         receive recurring payment requests from service providers.\n                         - To understand how to implement the Mobile Money API to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nService Providers        To understand how to implement the Mobile Money API to       API Consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nUse case scenarios\n\nSetup a Recurring Payment\n\nThis diagram illustrates the setting-up of a recurring payment via a debit mandate. The service provider initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer is requested to the MMP to\nauthorise the mandate. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>Mobile Money Provider: (Authorised) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Setup a Recurring Payment Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the recurring payment. The service provider receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer declines the request by the\nMMP to accept the debit mandate. Account Holder--\x3e>Mobile Money Provider: (Declined) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been declined by returning\nan error object. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment Failure\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate. The FSP is unable to process the payment and returns a callback containing the error object.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider loop activate Service Provider Service Provider->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The service provider polls the MMP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Service Provider->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The service provider can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted payment. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Object) end deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Refund\n\nService Providers can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/adjustment activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Reversal\n\nIn some failure scenarios, a service provider may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the reversal request for\nprocessing to the MMP - passing the reference of the\ntransaction that is to be reversed. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Payer sets up a Recurring Payment using MMP Channel\n\nThis diagram illustrates how the MM API can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequenceDiagram participant Mobile Money Provider Channel participant Mobile Money Provider Mobile Money Provider Channel->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Mobile Money Provider Channel activate Mobile Money Provider Note right of Mobile Money Provider: (1) The MMP Channel submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Mobile Money Provider Channel: HTTP 202 (Request State Object) Mobile Money Provider->>Mobile Money Provider Channel: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (2) The MMP informs the MMP Channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Mobile Money Provider Channel--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider Channel deactivate Mobile Money Provider Obtain a Service Provider Balance sequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Balance Object) deactivate Service Provider deactivate Mobile Money Provider Retrieve Payments for a Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests\nup to 20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The service provider requests\nthe remaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Service Provider deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /heartbeat activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests the\navailability of the service from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Service Provider deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the service provider's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Service Provider->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The service provider uses the link to\nobtain a representation of the missing\nresource. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Requested Object) deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Introduction\n\nThe Bill Payments Mobile Money APIs allow service providers to accept bill payments from mobile money customers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                         ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to make   API Consumer\n                         bill payments to service providers.\nService Providers        To understand how to implement the Mobile Money API to        API Provider\n                         accept bill payments from Mobile Money Providers.\n\n\nUse case scenarios\n\nSuccessful Retrieval of Bills\n\nThis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Obtain all bills of a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bills Object) deactivate Mobile Money Provider deactivate Service Provider Unsuccessful Retrieval of Bills\n\nThis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Retrieve all bills for a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 4xx/5xx (Error Object) Note right of Service Provider: (2) Return the error object providing\ndetais of the failure reason. deactivate Mobile Money Provider deactivate Service Provider Make a Successful Bill Payment with Callback\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. To illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequenceDiagram participant Third Party Payment Provider participant Mobile Money Provider participant Service Provider Note right of Third Party Payment Provider: (1) The provider that enables the payer to pay\nbills submits a payment request to the MMP. Third Party Payment Provider->>Mobile Money Provider: POST /transactions/type/billpay activate Third Party Payment Provider activate Mobile Money Provider Mobile Money Provider--\x3e>Third Party Payment Provider: HTTP 202 (Request State Object) deactivate Third Party Payment Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider Note right of Service Provider: (2) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Bill Payments Object) activate Mobile Money Provider Note right of Service Provider: (3) The Service Provider informs the MMP\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider Note right of Third Party Payment Provider: (4) The MMP informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. Mobile Money Provider->>Third Party Payment Provider: PUT {Callback URL} (Transactions Object) activate Third Party Payment Provider Third Party Payment Provider--\x3e> Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Third Party Payment Provider Make an Unsuccessful Bill Payment with Callback\n\nThis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Error Object) activate Mobile Money Provider Note right of Service Provider: (2) The Service Provider informs the MMP\nthat the request failed by returning a\nrepresentation of the error object. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Make a Bill Payment with Polling\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request for processing\nto the Service Provider. The Service Provider will return\nthe Request State object to indicate that the request is\n'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider loop activate Mobile Money Provider Mobile Money Provider->>Service Provider: GET /requeststates/{serverCorrelationId} Note right of Service Provider: (2) The MMP polls the Service Provider for the Request State\nuntil the bill payment is processed or until the polling limit is\nreached. The request state will return the final status of the\nrequired, i.e. completed or failed. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Request State Object) end deactivate Service Provider deactivate Mobile Money Provider Retrieval of Bill Payments\n\nThis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=0&limit=10 activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests up to 10 bill\npayments for the account from the\nService Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) Note right of Service Provider: (2) The Service Provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=10&limit=10 Note right of Service Provider: (3) The MMP requests the remaining\nbill payments for the account\nfrom the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) deactivate Mobile Money Provider deactivate Service Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the Service Provider is in a state that enables an FSP to submit a request for processing.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /heartbeat activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests the availability of the\nservice from the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Heartbeat Object) Note right of Service Provider: (2) The Service Provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Succeed case study\n\nThe third party provides inclusive insurance services to multiple countries within the Sub-Saharan region. Services available include health, life, funeral and property insurance. The insurance provider is currently directly integrated with five MMPs, and working on expanding integrations with other MMPs. Working with MMPs, is expanding the reach of the insurance provider as the MMPs’ distributions tend to be higher, enabling the insurer to distribute services to consumers that have been traditionally excluded. The drawback for the third-party insurance provider when dealing with multiple MMP integrations has included maintenance, costs and speed of integrations as the expectations tend to vary on a partner basis. To continue reaching low income people, the insurance provider would benefit from integrating with a larger range of MMPs, enabling higher distribution. In addition, offering insurance as part of a bundle package can also increase mobile money usage as MMPs can cross-sell other services. Currently, there is no Standardised API available for the Insurance Provider; however, having access to one will enable it to offer inclusive insurance to a wider range of users, particularly those in remote areas. Inclusivity Insurance Provider\n\nBill Payments\n\nRecurring Payments\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"fintech companies that provide services such as insurance and other digital financial services can use the gsma api specification to enable their customer to make one-off bill payments or set up recurring payments for services such as subscriptions.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe recurring payments mobile money apis allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                        role\nmobile money providers   - to understand how to implement the mobile money api to     api provider\n                         receive recurring payment requests from service providers.\n                         - to understand how to implement the mobile money api to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nservice providers        to understand how to implement the mobile money api to       api consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nuse case scenarios\n\nsetup a recurring payment\n\nthis diagram illustrates the setting-up of a recurring payment via a debit mandate. the service provider initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer is requested to the mmp to\nauthorise the mandate. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>mobile money provider: (authorised) deactivate account holder mobile money provider->>service provider: put {callback url} (debit mandates object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider setup a recurring payment failure\n\nin this diagram, the account holder declines to provide authorisation to setup the recurring payment. the service provider receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer declines the request by the\nmmp to accept the debit mandate. account holder--\x3e>mobile money provider: (declined) deactivate account holder mobile money provider->>service provider: put {callback url} (error object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been declined by returning\nan error object. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (transactions object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment failure\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate. the fsp is unable to process the payment and returns a callback containing the error object.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (error object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider loop activate service provider service provider->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the service provider polls the mmp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. mobile money provider--\x3e>service provider: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider service provider->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the service provider can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted payment. mobile money provider--\x3e>service provider: http 200 (transactions object) end deactivate service provider deactivate mobile money provider recurring payment refund\n\nservice providers can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/adjustment activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider recurring payment reversal\n\nin some failure scenarios, a service provider may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/{original transaction reference}/reversals activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the reversal request for\nprocessing to the mmp - passing the reference of the\ntransaction that is to be reversed. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider payer sets up a recurring payment using mmp channel\n\nthis diagram illustrates how the mm api can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequencediagram participant mobile money provider channel participant mobile money provider mobile money provider channel->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate mobile money provider channel activate mobile money provider note right of mobile money provider: (1) the mmp channel submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>mobile money provider channel: http 202 (request state object) mobile money provider->>mobile money provider channel: put {callback url} (debit mandates object) note right of mobile money provider: (2) the mmp informs the mmp channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. mobile money provider channel--\x3e>mobile money provider: http 204 deactivate mobile money provider channel deactivate mobile money provider obtain a service provider balance sequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate service provider activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>service provider: http 200 (balance object) deactivate service provider deactivate mobile money provider retrieve payments for a service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests\nup to 20 transactions for the\naccount from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the service provider requests\nthe remaining transactions for\nthe account from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) deactivate service provider deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /heartbeat activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests the\navailability of the service from the mmp. mobile money provider--\x3e>service provider: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate service provider deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /responses{clientcorrelationid} activate service provider activate mobile money provider note right of mobile money provider: (1) using the service provider's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>service provider: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. service provider->>mobile money provider: get /{link} note right of mobile money provider: (3) the service provider uses the link to\nobtain a representation of the missing\nresource. mobile money provider--\x3e>service provider: http 200 (requested object) deactivate mobile money provider deactivate service provider start developing\n\n\n# introduction\n\nthe bill payments mobile money apis allow service providers to accept bill payments from mobile money customers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                         role\nmobile money providers   to understand how to implement the mobile money api to make   api consumer\n                         bill payments to service providers.\nservice providers        to understand how to implement the mobile money api to        api provider\n                         accept bill payments from mobile money providers.\n\n\nuse case scenarios\n\nsuccessful retrieval of bills\n\nthis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) obtain all bills of a given account. service provider--\x3e>mobile money provider: http 200 (bills object) deactivate mobile money provider deactivate service provider unsuccessful retrieval of bills\n\nthis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) retrieve all bills for a given account. service provider--\x3e>mobile money provider: http 4xx/5xx (error object) note right of service provider: (2) return the error object providing\ndetais of the failure reason. deactivate mobile money provider deactivate service provider make a successful bill payment with callback\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. to illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequencediagram participant third party payment provider participant mobile money provider participant service provider note right of third party payment provider: (1) the provider that enables the payer to pay\nbills submits a payment request to the mmp. third party payment provider->>mobile money provider: post /transactions/type/billpay activate third party payment provider activate mobile money provider mobile money provider--\x3e>third party payment provider: http 202 (request state object) deactivate third party payment provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider note right of service provider: (2) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (bill payments object) activate mobile money provider note right of service provider: (3) the service provider informs the mmp\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. mobile money provider--\x3e>service provider: http 204 deactivate service provider note right of third party payment provider: (4) the mmp informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. mobile money provider->>third party payment provider: put {callback url} (transactions object) activate third party payment provider third party payment provider--\x3e> mobile money provider: http 204 deactivate mobile money provider deactivate third party payment provider make an unsuccessful bill payment with callback\n\nthis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (error object) activate mobile money provider note right of service provider: (2) the service provider informs the mmp\nthat the request failed by returning a\nrepresentation of the error object. mobile money provider--\x3e>service provider: http 204 deactivate service provider deactivate mobile money provider make a bill payment with polling\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request for processing\nto the service provider. the service provider will return\nthe request state object to indicate that the request is\n'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider loop activate mobile money provider mobile money provider->>service provider: get /requeststates/{servercorrelationid} note right of service provider: (2) the mmp polls the service provider for the request state\nuntil the bill payment is processed or until the polling limit is\nreached. the request state will return the final status of the\nrequired, i.e. completed or failed. service provider--\x3e>mobile money provider: http 200 (request state object) end deactivate service provider deactivate mobile money provider retrieval of bill payments\n\nthis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=0&limit=10 activate mobile money provider activate service provider note right of service provider: (1) the mmp requests up to 10 bill\npayments for the account from the\nservice provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) note right of service provider: (2) the service provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=10&limit=10 note right of service provider: (3) the mmp requests the remaining\nbill payments for the account\nfrom the service provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) deactivate mobile money provider deactivate service provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the service provider is in a state that enables an fsp to submit a request for processing.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /heartbeat activate mobile money provider activate service provider note right of service provider: (1) the mmp requests the availability of the\nservice from the service provider. service provider--\x3e>mobile money provider: http 200 (heartbeat object) note right of service provider: (2) the service provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate mobile money provider deactivate service provider start developing\n\n\n# succeed case study\n\nthe third party provides inclusive insurance services to multiple countries within the sub-saharan region. services available include health, life, funeral and property insurance. the insurance provider is currently directly integrated with five mmps, and working on expanding integrations with other mmps. working with mmps, is expanding the reach of the insurance provider as the mmps’ distributions tend to be higher, enabling the insurer to distribute services to consumers that have been traditionally excluded. the drawback for the third-party insurance provider when dealing with multiple mmp integrations has included maintenance, costs and speed of integrations as the expectations tend to vary on a partner basis. to continue reaching low income people, the insurance provider would benefit from integrating with a larger range of mmps, enabling higher distribution. in addition, offering insurance as part of a bundle package can also increase mobile money usage as mmps can cross-sell other services. currently, there is no standardised api available for the insurance provider; however, having access to one will enable it to offer inclusive insurance to a wider range of users, particularly those in remote areas. inclusivity insurance provider\n\nbill payments\n\nrecurring payments\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{frontmatter:{pageClass:"auth-page"},regularPath:"/forgot-password/",relativePath:"forgot-password/index.md",key:"v-ad15e4de",path:"/forgot-password/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Glossary",frontmatter:{pageClass:"glossary-page custom",title:"Glossary"},regularPath:"/glossary/",relativePath:"glossary/index.md",key:"v-cf98898a",path:"/glossary/",headers:[{level:5,title:"ATM",slug:"atm",normalizedTitle:"atm",charIndex:104},{level:5,title:"Agent",slug:"agent",normalizedTitle:"agent",charIndex:392},{level:5,title:"API Service",slug:"api-service",normalizedTitle:"api service",charIndex:681},{level:5,title:"Application Programming Interfaces (APIs)",slug:"application-programming-interfaces-apis",normalizedTitle:"application programming interfaces (apis)",charIndex:882},{level:5,title:"Authentication",slug:"authentication",normalizedTitle:"authentication",charIndex:1180},{level:5,title:"Authorisation",slug:"authorisation",normalizedTitle:"authorisation",charIndex:1396},{level:5,title:"Business",slug:"business",normalizedTitle:"business",charIndex:1692},{level:5,title:"Client",slug:"client",normalizedTitle:"client",charIndex:1888},{level:5,title:"GUID",slug:"guid",normalizedTitle:"guid",charIndex:2041},{level:5,title:"HTTP",slug:"http",normalizedTitle:"http",charIndex:2199},{level:5,title:"ISO",slug:"iso",normalizedTitle:"iso",charIndex:2375},{level:5,title:"ITU",slug:"itu",normalizedTitle:"itu",charIndex:2493},{level:5,title:"JSON",slug:"json",normalizedTitle:"json",charIndex:2614},{level:5,title:"Merchant",slug:"merchant",normalizedTitle:"merchant",charIndex:2857},{level:5,title:"MSISDN",slug:"msisdn",normalizedTitle:"msisdn",charIndex:2976},{level:5,title:"Object",slug:"object",normalizedTitle:"object",charIndex:3105},{level:5,title:"Organisation",slug:"organisation",normalizedTitle:"organisation",charIndex:3241},{level:5,title:"Provider",slug:"provider",normalizedTitle:"provider",charIndex:3452},{level:5,title:"Resource",slug:"resource",normalizedTitle:"resource",charIndex:3517},{level:5,title:"REST-based API",slug:"rest-based-api",normalizedTitle:"rest-based api",charIndex:3705},{level:5,title:"URI",slug:"uri",normalizedTitle:"uri",charIndex:4456},{level:5,title:"Wallet",slug:"wallet",normalizedTitle:"wallet",charIndex:4711}],headersStr:"ATM Agent API Service Application Programming Interfaces (APIs) Authentication Authorisation Business Client GUID HTTP ISO ITU JSON Merchant MSISDN Object Organisation Provider Resource REST-based API URI Wallet",content:"Glossary Browse our glossary to find specific words.\n * {{ letter }}\n\n{{ letter }}\n\n\nNo results found.\n\n# ATM\n\nAutomated Teller Machine. Enables customer to be able to perform financial transactions without the need for a human cashier. For mobile money, the ATM machine can be considered as an automated agent, allowing withdrawals and some case deposits from and to the customer’s wallet.\n\n# Agent\n\nA person or business that is contracted to facilitate transactions for users. The most important of these are cash-in and cash-out (i.e. loading value into the mobile money system, and then converting it back to cash again); in many instances, agents register new customers too.\n\n# API Service\n\nAn API Service comprises of a URI which when combined with a HTTP Operation (GET, PATCH, POST) enables a specified operation to be conducted on a specific resource or set of resources.\n\n# Application Programming Interfaces (APIs)\n\nIn computer programming, an application programming interface (API) is a set of routines, protocols, and tools for building software applications. An API expresses a software component in terms of its operations, inputs, outputs, and underlying types.\n\n# Authentication\n\nConfirms the identity of the entity that is requesting the service by verifying supplied credential(s). In this document, the requesting entity is typically referred to as the initiator or sender.\n\n# Authorisation\n\nAuthorisation provides an authenticated identity with access to the system resources/services to which they are entitled. In the context of this document, the requesting entity (initiator) is provided with a defined set of services and functions that they can perform over API.\n\n# Business\n\nDescribes an entity such as a public limited or limited company that uses mobile money as a service. This includes taking bill payments, making bill payments and disbursing salaries.\n\n# Client\n\nDescribes the calling system/party that initiates and interacts with the API service. The Client may or may not be the debit or credit party.\n\n# GUID\n\nGlobally Unique Identifier. GUIDs are usually stored as 128-bit values and are used for as the datatype for correlation IDs in the mobile money API.\n\n# HTTP\n\nAcronym for Hyper Text Transfer Protocol. HTTP is the foundation of data communication for the World Wide Web. HTTP is the protocol to exchange or transfer hypertext.\n\n# ISO\n\nInternational Organisation for Standardisation. A number of ISO standards are used with the mobile money API.\n\n# ITU\n\nInternational Telecommunications Agency. ITU MSISDN format standards have been adopted for the mobile money API.\n\n# JSON\n\nAcronym for JavaScript Object Notation. Used to transmit data objects containing attribute/value pairs. One of two protocols (the other being XML) considered as the basis for a Data Exchange format for mobile money API harmonisation.\n\n# Merchant\n\nA retail merchant that accepts e-Money from mobile money customers in exchange for goods and/or services.\n\n# MSISDN\n\nA number uniquely identifying a subscription in a GSM or a UMTS mobile network. Analogous with a mobile phone number.\n\n# Object\n\nAn object holds a set of properties. Objects can be combined or used in isolation to provide a representation of a resource.\n\n# Organisation\n\nDescribes a non-business entity such as a charity or government department that uses mobile money as a service. This includes taking bill payments, making bill payments and disbursing salaries.\n\n# Provider\n\nHosts the Mobile Money API services (or subset of).\n\n# Resource\n\nA resource is the target for an API operation as identified in the API request. Resources are conceptually different from the representations that are returned to the client.\n\n# REST-based API\n\nIn computing, Representational State Transfer (REST) is the software architectural style adopted by many organisations that offer APIs. REST stipulates that interacting systems exhibit the following characteristics: Client-Server. Responsibilities between clients and servers are explicitly defined. Stateless. No context is stored between client and server during communication. Cacheable. As on the World Wide Web, clients and intermediaries can cache responses Layered System. A client cannot ordinarily tell whether it is connected directly to the end server, or to an intermediary along the way. Uniform Interface. A uniform interface simplifies and decouples the architecture, which enables each part to evolve independently.\n\n# URI\n\nAcronym for Uniform Resource Identifier. The URI is a string of characters used to identify a resource (such as an account, for example). In APIs a URI is represented in the form of a URL which is generally used to identify the service to invoke.\n\n# Wallet\n\nTerm used in this document to describe the store of value that identities (customers, agents, merchants and businesses) use to store e-Money. In general, the document uses the term Account in place of Wallet.",normalizedContent:"glossary browse our glossary to find specific words.\n * {{ letter }}\n\n{{ letter }}\n\n\nno results found.\n\n# atm\n\nautomated teller machine. enables customer to be able to perform financial transactions without the need for a human cashier. for mobile money, the atm machine can be considered as an automated agent, allowing withdrawals and some case deposits from and to the customer’s wallet.\n\n# agent\n\na person or business that is contracted to facilitate transactions for users. the most important of these are cash-in and cash-out (i.e. loading value into the mobile money system, and then converting it back to cash again); in many instances, agents register new customers too.\n\n# api service\n\nan api service comprises of a uri which when combined with a http operation (get, patch, post) enables a specified operation to be conducted on a specific resource or set of resources.\n\n# application programming interfaces (apis)\n\nin computer programming, an application programming interface (api) is a set of routines, protocols, and tools for building software applications. an api expresses a software component in terms of its operations, inputs, outputs, and underlying types.\n\n# authentication\n\nconfirms the identity of the entity that is requesting the service by verifying supplied credential(s). in this document, the requesting entity is typically referred to as the initiator or sender.\n\n# authorisation\n\nauthorisation provides an authenticated identity with access to the system resources/services to which they are entitled. in the context of this document, the requesting entity (initiator) is provided with a defined set of services and functions that they can perform over api.\n\n# business\n\ndescribes an entity such as a public limited or limited company that uses mobile money as a service. this includes taking bill payments, making bill payments and disbursing salaries.\n\n# client\n\ndescribes the calling system/party that initiates and interacts with the api service. the client may or may not be the debit or credit party.\n\n# guid\n\nglobally unique identifier. guids are usually stored as 128-bit values and are used for as the datatype for correlation ids in the mobile money api.\n\n# http\n\nacronym for hyper text transfer protocol. http is the foundation of data communication for the world wide web. http is the protocol to exchange or transfer hypertext.\n\n# iso\n\ninternational organisation for standardisation. a number of iso standards are used with the mobile money api.\n\n# itu\n\ninternational telecommunications agency. itu msisdn format standards have been adopted for the mobile money api.\n\n# json\n\nacronym for javascript object notation. used to transmit data objects containing attribute/value pairs. one of two protocols (the other being xml) considered as the basis for a data exchange format for mobile money api harmonisation.\n\n# merchant\n\na retail merchant that accepts e-money from mobile money customers in exchange for goods and/or services.\n\n# msisdn\n\na number uniquely identifying a subscription in a gsm or a umts mobile network. analogous with a mobile phone number.\n\n# object\n\nan object holds a set of properties. objects can be combined or used in isolation to provide a representation of a resource.\n\n# organisation\n\ndescribes a non-business entity such as a charity or government department that uses mobile money as a service. this includes taking bill payments, making bill payments and disbursing salaries.\n\n# provider\n\nhosts the mobile money api services (or subset of).\n\n# resource\n\na resource is the target for an api operation as identified in the api request. resources are conceptually different from the representations that are returned to the client.\n\n# rest-based api\n\nin computing, representational state transfer (rest) is the software architectural style adopted by many organisations that offer apis. rest stipulates that interacting systems exhibit the following characteristics: client-server. responsibilities between clients and servers are explicitly defined. stateless. no context is stored between client and server during communication. cacheable. as on the world wide web, clients and intermediaries can cache responses layered system. a client cannot ordinarily tell whether it is connected directly to the end server, or to an intermediary along the way. uniform interface. a uniform interface simplifies and decouples the architecture, which enables each part to evolve independently.\n\n# uri\n\nacronym for uniform resource identifier. the uri is a string of characters used to identify a resource (such as an account, for example). in apis a uri is represented in the form of a url which is generally used to identify the service to invoke.\n\n# wallet\n\nterm used in this document to describe the store of value that identities (customers, agents, merchants and businesses) use to store e-money. in general, the document uses the term account in place of wallet.",charsets:{}},{title:"Governments",frontmatter:{pageClass:"industry-page custom",title:"Governments"},regularPath:"/governments/",relativePath:"governments/index.md",key:"v-b972491e",path:"/governments/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:329},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:354},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:354},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:14651},{level:2,title:"Introduction",slug:"introduction-3",normalizedTitle:"introduction",charIndex:354},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:14651},{level:2,title:"Testimonials",slug:"testimonials",normalizedTitle:"testimonials",charIndex:41156},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:41546}],headersStr:"Use cases Introduction Introduction Intended Audience Introduction Intended Audience Testimonials Ready to explore?",content:"Government agencies can use the GSMA API specification to facilitate government to person (G2P) cash disbursement for social welfare programmes and make bulk payments to pay employee salaries.\n\nDisbursing payments through Mobile Money platforms has been shown to be more efficient and cost effective compared to other methods.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\nUse case scenarios\n\nP2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP submits a quotation\nrequest to the Switch. The Switch will return the Request State object to indicate that the request\nis 'pending'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the Receiving FSP.\nThe Receiving FSP will return the Request State object to indicate\nthat the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 200 (Request State Object) Switch--\x3e>Sending FSP: HTTP 200 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the transaction has succesfully complteted\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer request to the Swith. The Switch\nwill return the Request State object to indicate that the request is 'pending'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the Request State object\nto indicate that the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the transaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP submits a transfer request.\nThe Receiving FSP will return the Request State object to indicate that the request is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the transation has been succesfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP's account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe Disbursement Mobile Money APIs allow organisations to disburse funds to mobile money recipients.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         organisations to disburse payments in singular and in bulk.\nNGOs                     To understand how to implement the Mobile Money API to         API Consumer\n                         provide aid payments to mobile money recipients.\nGovernment Departments   To understand how to implement the Mobile Money API to         API Consumer\n                         provide social credit payments to mobile money recipients.\nEmployers                To understand how to implement the Mobile Money API to         API Consumer\n                         provide salary payments to mobile money recipients.\n\n\nUse case scenarios\n\nIndividual Disbursement\n\nThis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Individual Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement\n\nThis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider opt Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (3) The disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Transactions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (4) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Completions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (5) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement with Maker / Checker\n\nThis flow allows a bulk request to be processed in two steps. The first step involves the ‘maker’ system loading the request into the mobile money provider. The second step involves the ‘checker’ system approving the request.\n\nsequenceDiagram participant Disbursement Organisation Maker participant Disbursement Organisation Checker participant Mobile Money Provider Disbursement Organisation Maker->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation Maker activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation maker submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Maker Mobile Money Provider->>Disbursement Organisation Maker: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Maker Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Maker--\x3e>Mobile Money Provider: HTTP 204 opt Disbursement Organisation Maker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (3) The disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Maker deactivate Mobile Money Provider Disbursement Organisation Checker->>Mobile Money Provider: PATCH /batchtransactions/{batchId} activate Disbursement Organisation Checker activate Mobile Money Provider Note right of Mobile Money Provider: (4) The disbursement organisation checker submits a request\nto approve the transaction batch. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Checker Mobile Money Provider->>Disbursement Organisation Checker: PUT {Callback URL} (Success) activate Disbursement Organisation Checker Note right of Mobile Money Provider: (5) The MMP informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Checker--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Disbursement Organisation Checker opt activate Mobile Money Provider activate Disbursement Organisation Checker Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId} Note right of Mobile Money Provider: (6) The disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Transactions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (7) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Completions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (8) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Checker deactivate Mobile Money Provider Individual Disbursement Using the Polling Method\n\nIn this diagram, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation loop activate Disbursement Organisation Disbursement Organisation->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The disbursement organisation polls the MMP for the\nRequest State until the transaction is authorised or declied\nor until the polling limit is reached. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The disbursement organisation can use the objectReference\nreturned in the Request State to retrieve a representation of\nthe completed disbursement. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Disbursement Reversal\n\nIn some failure scenarios, a organisation may need to reverse an individual disbursement transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the reversal\nrequest for processing to the MMP - passing the reference\nof the transaction that is to be reversed. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the The disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Obtain a Disbursement Organisation Balance sequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Balance Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve Transactions for a Disbursement Organisation\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement\norganisation requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The disbursement\norganisation requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Disbursement Organisation deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /heartbeat activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation requests\nthe availability of the service from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the disbursement organisations\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Disbursement Organisation->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Requested Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Start developing\n\n\n# Introduction\n\nThe Bill Payments Mobile Money APIs allow service providers to accept bill payments from mobile money customers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                         ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to make   API Consumer\n                         bill payments to service providers.\nService Providers        To understand how to implement the Mobile Money API to        API Provider\n                         accept bill payments from Mobile Money Providers.\n\n\nUse case scenarios\n\nSuccessful Retrieval of Bills\n\nThis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Obtain all bills of a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bills Object) deactivate Mobile Money Provider deactivate Service Provider Unsuccessful Retrieval of Bills\n\nThis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Retrieve all bills for a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 4xx/5xx (Error Object) Note right of Service Provider: (2) Return the error object providing\ndetais of the failure reason. deactivate Mobile Money Provider deactivate Service Provider Make a Successful Bill Payment with Callback\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. To illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequenceDiagram participant Third Party Payment Provider participant Mobile Money Provider participant Service Provider Note right of Third Party Payment Provider: (1) The provider that enables the payer to pay\nbills submits a payment request to the MMP. Third Party Payment Provider->>Mobile Money Provider: POST /transactions/type/billpay activate Third Party Payment Provider activate Mobile Money Provider Mobile Money Provider--\x3e>Third Party Payment Provider: HTTP 202 (Request State Object) deactivate Third Party Payment Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider Note right of Service Provider: (2) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Bill Payments Object) activate Mobile Money Provider Note right of Service Provider: (3) The Service Provider informs the MMP\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider Note right of Third Party Payment Provider: (4) The MMP informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. Mobile Money Provider->>Third Party Payment Provider: PUT {Callback URL} (Transactions Object) activate Third Party Payment Provider Third Party Payment Provider--\x3e> Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Third Party Payment Provider Make an Unsuccessful Bill Payment with Callback\n\nThis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Error Object) activate Mobile Money Provider Note right of Service Provider: (2) The Service Provider informs the MMP\nthat the request failed by returning a\nrepresentation of the error object. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Make a Bill Payment with Polling\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request for processing\nto the Service Provider. The Service Provider will return\nthe Request State object to indicate that the request is\n'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider loop activate Mobile Money Provider Mobile Money Provider->>Service Provider: GET /requeststates/{serverCorrelationId} Note right of Service Provider: (2) The MMP polls the Service Provider for the Request State\nuntil the bill payment is processed or until the polling limit is\nreached. The request state will return the final status of the\nrequired, i.e. completed or failed. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Request State Object) end deactivate Service Provider deactivate Mobile Money Provider Retrieval of Bill Payments\n\nThis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=0&limit=10 activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests up to 10 bill\npayments for the account from the\nService Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) Note right of Service Provider: (2) The Service Provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=10&limit=10 Note right of Service Provider: (3) The MMP requests the remaining\nbill payments for the account\nfrom the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) deactivate Mobile Money Provider deactivate Service Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the Service Provider is in a state that enables an FSP to submit a request for processing.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /heartbeat activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests the availability of the\nservice from the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Heartbeat Object) Note right of Service Provider: (2) The Service Provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Testimonials\n\nMobile money is revolutionising the way citizens in our country are making payments. As a government authority, we are benefiting from direct API Integrations with MMPs as they enable users to make fast, efficient and secure payments for government services; while lessening the use of cash. URA Government / Government Agency\n\nDisbursements\n\nBill Payments\n\nP2P transfers\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"government agencies can use the gsma api specification to facilitate government to person (g2p) cash disbursement for social welfare programmes and make bulk payments to pay employee salaries.\n\ndisbursing payments through mobile money platforms has been shown to be more efficient and cost effective compared to other methods.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\nuse case scenarios\n\np2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp submits a quotation\nrequest to the switch. the switch will return the request state object to indicate that the request\nis 'pending'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the receiving fsp.\nthe receiving fsp will return the request state object to indicate\nthat the request is 'pending'. receiving fsp--\x3e>switch: http 200 (request state object) switch--\x3e>sending fsp: http 200 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the transaction has succesfully complteted\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer request to the swith. the switch\nwill return the request state object to indicate that the request is 'pending'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the request state object\nto indicate that the request is 'pending'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the transaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp submits a transfer request.\nthe receiving fsp will return the request state object to indicate that the request is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the transation has been succesfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp's account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe disbursement mobile money apis allow organisations to disburse funds to mobile money recipients.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         organisations to disburse payments in singular and in bulk.\nngos                     to understand how to implement the mobile money api to         api consumer\n                         provide aid payments to mobile money recipients.\ngovernment departments   to understand how to implement the mobile money api to         api consumer\n                         provide social credit payments to mobile money recipients.\nemployers                to understand how to implement the mobile money api to         api consumer\n                         provide salary payments to mobile money recipients.\n\n\nuse case scenarios\n\nindividual disbursement\n\nthis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider individual disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement\n\nthis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (batch transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider opt disbursement organisation->>mobile money provider: get /batchtransactions/{batchid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (3) the disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. mobile money provider--\x3e>disbursement organisation: http 200 (batch transactions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (4) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. mobile money provider--\x3e>disbursement organisation: http 200 (batch completions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (5) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. mobile money provider--\x3e>disbursement organisation: http 200 (batch rejections object) end deactivate disbursement organisation deactivate mobile money provider bulk disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement with maker / checker\n\nthis flow allows a bulk request to be processed in two steps. the first step involves the ‘maker’ system loading the request into the mobile money provider. the second step involves the ‘checker’ system approving the request.\n\nsequencediagram participant disbursement organisation maker participant disbursement organisation checker participant mobile money provider disbursement organisation maker->>mobile money provider: post /batchtransactions activate disbursement organisation maker activate mobile money provider note right of mobile money provider: (1) the disbursement organisation maker submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation maker: http 202 (request state object) deactivate disbursement organisation maker mobile money provider->>disbursement organisation maker: put {callback url} (batch transactions object) activate disbursement organisation maker note right of mobile money provider: (2) the mmp informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation maker--\x3e>mobile money provider: http 204 opt disbursement organisation maker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (3) the disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation maker: http 200 (batch rejections object) end deactivate disbursement organisation maker deactivate mobile money provider disbursement organisation checker->>mobile money provider: patch /batchtransactions/{batchid} activate disbursement organisation checker activate mobile money provider note right of mobile money provider: (4) the disbursement organisation checker submits a request\nto approve the transaction batch. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>disbursement organisation checker: http 202 (request state object) deactivate disbursement organisation checker mobile money provider->>disbursement organisation checker: put {callback url} (success) activate disbursement organisation checker note right of mobile money provider: (5) the mmp informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation checker--\x3e>mobile money provider: http 204 deactivate mobile money provider deactivate disbursement organisation checker opt activate mobile money provider activate disbursement organisation checker disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid} note right of mobile money provider: (6) the disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch transactions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (7) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch completions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (8) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch rejections object) end deactivate disbursement organisation checker deactivate mobile money provider individual disbursement using the polling method\n\nin this diagram, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation loop activate disbursement organisation disbursement organisation->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the disbursement organisation polls the mmp for the\nrequest state until the transaction is authorised or declied\nor until the polling limit is reached. mobile money provider--\x3e>disbursement organisation: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider disbursement organisation->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the disbursement organisation can use the objectreference\nreturned in the request state to retrieve a representation of\nthe completed disbursement. mobile money provider--\x3e>disbursement organisation: http 200 (transactions object) end deactivate disbursement organisation deactivate mobile money provider disbursement reversal\n\nin some failure scenarios, a organisation may need to reverse an individual disbursement transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/{original transaction reference}/reversals activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the reversal\nrequest for processing to the mmp - passing the reference\nof the transaction that is to be reversed. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) mobile money provider->>disbursement organisation: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the the disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider obtain a disbursement organisation balance sequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>disbursement organisation: http 200 (balance object) deactivate disbursement organisation deactivate mobile money provider retrieve transactions for a disbursement organisation\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement\norganisation requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the disbursement\norganisation requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) deactivate disbursement organisation deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /heartbeat activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation requests\nthe availability of the service from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate disbursement organisation deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /responses{clientcorrelationid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) using the disbursement organisations\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>disbursement organisation: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. disbursement organisation->>mobile money provider: get /{link} note right of mobile money provider: (3) the disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. mobile money provider--\x3e>disbursement organisation: http 200 (requested object) deactivate disbursement organisation deactivate mobile money provider start developing\n\n\n# introduction\n\nthe bill payments mobile money apis allow service providers to accept bill payments from mobile money customers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                         role\nmobile money providers   to understand how to implement the mobile money api to make   api consumer\n                         bill payments to service providers.\nservice providers        to understand how to implement the mobile money api to        api provider\n                         accept bill payments from mobile money providers.\n\n\nuse case scenarios\n\nsuccessful retrieval of bills\n\nthis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) obtain all bills of a given account. service provider--\x3e>mobile money provider: http 200 (bills object) deactivate mobile money provider deactivate service provider unsuccessful retrieval of bills\n\nthis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) retrieve all bills for a given account. service provider--\x3e>mobile money provider: http 4xx/5xx (error object) note right of service provider: (2) return the error object providing\ndetais of the failure reason. deactivate mobile money provider deactivate service provider make a successful bill payment with callback\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. to illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequencediagram participant third party payment provider participant mobile money provider participant service provider note right of third party payment provider: (1) the provider that enables the payer to pay\nbills submits a payment request to the mmp. third party payment provider->>mobile money provider: post /transactions/type/billpay activate third party payment provider activate mobile money provider mobile money provider--\x3e>third party payment provider: http 202 (request state object) deactivate third party payment provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider note right of service provider: (2) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (bill payments object) activate mobile money provider note right of service provider: (3) the service provider informs the mmp\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. mobile money provider--\x3e>service provider: http 204 deactivate service provider note right of third party payment provider: (4) the mmp informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. mobile money provider->>third party payment provider: put {callback url} (transactions object) activate third party payment provider third party payment provider--\x3e> mobile money provider: http 204 deactivate mobile money provider deactivate third party payment provider make an unsuccessful bill payment with callback\n\nthis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (error object) activate mobile money provider note right of service provider: (2) the service provider informs the mmp\nthat the request failed by returning a\nrepresentation of the error object. mobile money provider--\x3e>service provider: http 204 deactivate service provider deactivate mobile money provider make a bill payment with polling\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request for processing\nto the service provider. the service provider will return\nthe request state object to indicate that the request is\n'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider loop activate mobile money provider mobile money provider->>service provider: get /requeststates/{servercorrelationid} note right of service provider: (2) the mmp polls the service provider for the request state\nuntil the bill payment is processed or until the polling limit is\nreached. the request state will return the final status of the\nrequired, i.e. completed or failed. service provider--\x3e>mobile money provider: http 200 (request state object) end deactivate service provider deactivate mobile money provider retrieval of bill payments\n\nthis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=0&limit=10 activate mobile money provider activate service provider note right of service provider: (1) the mmp requests up to 10 bill\npayments for the account from the\nservice provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) note right of service provider: (2) the service provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=10&limit=10 note right of service provider: (3) the mmp requests the remaining\nbill payments for the account\nfrom the service provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) deactivate mobile money provider deactivate service provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the service provider is in a state that enables an fsp to submit a request for processing.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /heartbeat activate mobile money provider activate service provider note right of service provider: (1) the mmp requests the availability of the\nservice from the service provider. service provider--\x3e>mobile money provider: http 200 (heartbeat object) note right of service provider: (2) the service provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate mobile money provider deactivate service provider start developing\n\n\n# testimonials\n\nmobile money is revolutionising the way citizens in our country are making payments. as a government authority, we are benefiting from direct api integrations with mmps as they enable users to make fast, efficient and secure payments for government services; while lessening the use of cash. ura government / government agency\n\ndisbursements\n\nbill payments\n\np2p transfers\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Humanitarian Agencies",frontmatter:{pageClass:"industry-page custom",title:"Humanitarian Agencies"},regularPath:"/humanitarian-agencies/",relativePath:"humanitarian-agencies/index.md",key:"v-ab347f5e",path:"/humanitarian-agencies/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:226},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:251},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:251},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:14548},{level:2,title:"Succeed case study",slug:"succeed-case-study",normalizedTitle:"succeed case study",charIndex:32156},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:33672}],headersStr:"Use cases Introduction Introduction Intended Audience Succeed case study Ready to explore?",content:"Humanitarian agencies such as non-governmental organisations (NGOs) can use the GSMA Mobile Money API specification to increase the speed, efficiency, accountability and transparency on how cash disbursements are delivered.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\nUse case scenarios\n\nP2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP submits a quotation\nrequest to the Switch. The Switch will return the Request State object to indicate that the request\nis 'pending'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the Receiving FSP.\nThe Receiving FSP will return the Request State object to indicate\nthat the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 200 (Request State Object) Switch--\x3e>Sending FSP: HTTP 200 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the transaction has succesfully complteted\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer request to the Swith. The Switch\nwill return the Request State object to indicate that the request is 'pending'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the Request State object\nto indicate that the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the transaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP submits a transfer request.\nThe Receiving FSP will return the Request State object to indicate that the request is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the transation has been succesfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP's account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe Disbursement Mobile Money APIs allow organisations to disburse funds to mobile money recipients.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         organisations to disburse payments in singular and in bulk.\nNGOs                     To understand how to implement the Mobile Money API to         API Consumer\n                         provide aid payments to mobile money recipients.\nGovernment Departments   To understand how to implement the Mobile Money API to         API Consumer\n                         provide social credit payments to mobile money recipients.\nEmployers                To understand how to implement the Mobile Money API to         API Consumer\n                         provide salary payments to mobile money recipients.\n\n\nUse case scenarios\n\nIndividual Disbursement\n\nThis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Individual Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement\n\nThis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider opt Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (3) The disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Transactions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (4) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Completions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (5) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement with Maker / Checker\n\nThis flow allows a bulk request to be processed in two steps. The first step involves the ‘maker’ system loading the request into the mobile money provider. The second step involves the ‘checker’ system approving the request.\n\nsequenceDiagram participant Disbursement Organisation Maker participant Disbursement Organisation Checker participant Mobile Money Provider Disbursement Organisation Maker->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation Maker activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation maker submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Maker Mobile Money Provider->>Disbursement Organisation Maker: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Maker Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Maker--\x3e>Mobile Money Provider: HTTP 204 opt Disbursement Organisation Maker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (3) The disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Maker deactivate Mobile Money Provider Disbursement Organisation Checker->>Mobile Money Provider: PATCH /batchtransactions/{batchId} activate Disbursement Organisation Checker activate Mobile Money Provider Note right of Mobile Money Provider: (4) The disbursement organisation checker submits a request\nto approve the transaction batch. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Checker Mobile Money Provider->>Disbursement Organisation Checker: PUT {Callback URL} (Success) activate Disbursement Organisation Checker Note right of Mobile Money Provider: (5) The MMP informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Checker--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Disbursement Organisation Checker opt activate Mobile Money Provider activate Disbursement Organisation Checker Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId} Note right of Mobile Money Provider: (6) The disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Transactions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (7) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Completions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (8) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Checker deactivate Mobile Money Provider Individual Disbursement Using the Polling Method\n\nIn this diagram, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation loop activate Disbursement Organisation Disbursement Organisation->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The disbursement organisation polls the MMP for the\nRequest State until the transaction is authorised or declied\nor until the polling limit is reached. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The disbursement organisation can use the objectReference\nreturned in the Request State to retrieve a representation of\nthe completed disbursement. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Disbursement Reversal\n\nIn some failure scenarios, a organisation may need to reverse an individual disbursement transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the reversal\nrequest for processing to the MMP - passing the reference\nof the transaction that is to be reversed. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the The disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Obtain a Disbursement Organisation Balance sequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Balance Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve Transactions for a Disbursement Organisation\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement\norganisation requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The disbursement\norganisation requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Disbursement Organisation deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /heartbeat activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation requests\nthe availability of the service from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the disbursement organisations\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Disbursement Organisation->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Requested Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Start developing\n\n\n# Succeed case study\n\nThe disbursement process has to be efficient and being directly integrated with the MNOs results in faster and more successful outreach. A lot of humanitarian work will be in non-urban areas, which might be more difficult to reach physically. Being able to distribute money via mobile wallets, which can be easily facilitated through integrations with MNOs, offers lot of convenience to the organisation’s disbursement process. The organisation is currently directly integrated with over 30 MNOs in various regions, mainly in the Sub-Saharan African region. As an organisation, it works with two types of beneficiaries, those that receive a large chunk of money as a response to a disaster, and those that receive recurring payments, such as supplementary income. The pandemic intensified the need for MNO integrations, for instance, it was easier to disburse money to women in slums in East Africa. Additionally, the advantages of disbursing directly to mobile wallets has been felt particularly when dealing with vulnerable women, who can access funds discreetly. Overall, the process is fast and secure. The organisation favours API integrations is it feels it lowers the security risk associated with physical distribution, for both the beneficiary and the humanitarian worker. As an organisation that response to global crises, it would benefit from a Standard API which can allow it to connect to more MNOs in various regions globally. Humanitarian Agency\n\nDisbursements\n\nP2P transfers\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"humanitarian agencies such as non-governmental organisations (ngos) can use the gsma mobile money api specification to increase the speed, efficiency, accountability and transparency on how cash disbursements are delivered.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\nuse case scenarios\n\np2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp submits a quotation\nrequest to the switch. the switch will return the request state object to indicate that the request\nis 'pending'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the receiving fsp.\nthe receiving fsp will return the request state object to indicate\nthat the request is 'pending'. receiving fsp--\x3e>switch: http 200 (request state object) switch--\x3e>sending fsp: http 200 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the transaction has succesfully complteted\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer request to the swith. the switch\nwill return the request state object to indicate that the request is 'pending'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the request state object\nto indicate that the request is 'pending'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the transaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp submits a transfer request.\nthe receiving fsp will return the request state object to indicate that the request is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the transation has been succesfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp's account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe disbursement mobile money apis allow organisations to disburse funds to mobile money recipients.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         organisations to disburse payments in singular and in bulk.\nngos                     to understand how to implement the mobile money api to         api consumer\n                         provide aid payments to mobile money recipients.\ngovernment departments   to understand how to implement the mobile money api to         api consumer\n                         provide social credit payments to mobile money recipients.\nemployers                to understand how to implement the mobile money api to         api consumer\n                         provide salary payments to mobile money recipients.\n\n\nuse case scenarios\n\nindividual disbursement\n\nthis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider individual disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement\n\nthis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (batch transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider opt disbursement organisation->>mobile money provider: get /batchtransactions/{batchid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (3) the disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. mobile money provider--\x3e>disbursement organisation: http 200 (batch transactions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (4) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. mobile money provider--\x3e>disbursement organisation: http 200 (batch completions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (5) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. mobile money provider--\x3e>disbursement organisation: http 200 (batch rejections object) end deactivate disbursement organisation deactivate mobile money provider bulk disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement with maker / checker\n\nthis flow allows a bulk request to be processed in two steps. the first step involves the ‘maker’ system loading the request into the mobile money provider. the second step involves the ‘checker’ system approving the request.\n\nsequencediagram participant disbursement organisation maker participant disbursement organisation checker participant mobile money provider disbursement organisation maker->>mobile money provider: post /batchtransactions activate disbursement organisation maker activate mobile money provider note right of mobile money provider: (1) the disbursement organisation maker submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation maker: http 202 (request state object) deactivate disbursement organisation maker mobile money provider->>disbursement organisation maker: put {callback url} (batch transactions object) activate disbursement organisation maker note right of mobile money provider: (2) the mmp informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation maker--\x3e>mobile money provider: http 204 opt disbursement organisation maker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (3) the disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation maker: http 200 (batch rejections object) end deactivate disbursement organisation maker deactivate mobile money provider disbursement organisation checker->>mobile money provider: patch /batchtransactions/{batchid} activate disbursement organisation checker activate mobile money provider note right of mobile money provider: (4) the disbursement organisation checker submits a request\nto approve the transaction batch. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>disbursement organisation checker: http 202 (request state object) deactivate disbursement organisation checker mobile money provider->>disbursement organisation checker: put {callback url} (success) activate disbursement organisation checker note right of mobile money provider: (5) the mmp informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation checker--\x3e>mobile money provider: http 204 deactivate mobile money provider deactivate disbursement organisation checker opt activate mobile money provider activate disbursement organisation checker disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid} note right of mobile money provider: (6) the disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch transactions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (7) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch completions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (8) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch rejections object) end deactivate disbursement organisation checker deactivate mobile money provider individual disbursement using the polling method\n\nin this diagram, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation loop activate disbursement organisation disbursement organisation->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the disbursement organisation polls the mmp for the\nrequest state until the transaction is authorised or declied\nor until the polling limit is reached. mobile money provider--\x3e>disbursement organisation: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider disbursement organisation->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the disbursement organisation can use the objectreference\nreturned in the request state to retrieve a representation of\nthe completed disbursement. mobile money provider--\x3e>disbursement organisation: http 200 (transactions object) end deactivate disbursement organisation deactivate mobile money provider disbursement reversal\n\nin some failure scenarios, a organisation may need to reverse an individual disbursement transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/{original transaction reference}/reversals activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the reversal\nrequest for processing to the mmp - passing the reference\nof the transaction that is to be reversed. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) mobile money provider->>disbursement organisation: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the the disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider obtain a disbursement organisation balance sequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>disbursement organisation: http 200 (balance object) deactivate disbursement organisation deactivate mobile money provider retrieve transactions for a disbursement organisation\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement\norganisation requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the disbursement\norganisation requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) deactivate disbursement organisation deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /heartbeat activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation requests\nthe availability of the service from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate disbursement organisation deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /responses{clientcorrelationid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) using the disbursement organisations\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>disbursement organisation: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. disbursement organisation->>mobile money provider: get /{link} note right of mobile money provider: (3) the disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. mobile money provider--\x3e>disbursement organisation: http 200 (requested object) deactivate disbursement organisation deactivate mobile money provider start developing\n\n\n# succeed case study\n\nthe disbursement process has to be efficient and being directly integrated with the mnos results in faster and more successful outreach. a lot of humanitarian work will be in non-urban areas, which might be more difficult to reach physically. being able to distribute money via mobile wallets, which can be easily facilitated through integrations with mnos, offers lot of convenience to the organisation’s disbursement process. the organisation is currently directly integrated with over 30 mnos in various regions, mainly in the sub-saharan african region. as an organisation, it works with two types of beneficiaries, those that receive a large chunk of money as a response to a disaster, and those that receive recurring payments, such as supplementary income. the pandemic intensified the need for mno integrations, for instance, it was easier to disburse money to women in slums in east africa. additionally, the advantages of disbursing directly to mobile wallets has been felt particularly when dealing with vulnerable women, who can access funds discreetly. overall, the process is fast and secure. the organisation favours api integrations is it feels it lowers the security risk associated with physical distribution, for both the beneficiary and the humanitarian worker. as an organisation that response to global crises, it would benefit from a standard api which can allow it to connect to more mnos in various regions globally. humanitarian agency\n\ndisbursements\n\np2p transfers\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Home",frontmatter:{pageClass:"home-page custom",title:"Home"},regularPath:"/",relativePath:"index.md",key:"v-03130251",path:"/",headers:[{level:2,title:"What you’ll get",slug:"what-you-ll-get",normalizedTitle:"what you’ll get",charIndex:301},{level:2,title:"Benefits and objectives",slug:"benefits-and-objectives",normalizedTitle:"benefits and objectives",charIndex:499},{level:2,title:"Mobile Money Metrics",slug:"mobile-money-metrics",normalizedTitle:"mobile money metrics",charIndex:1096},{level:2,title:"Explore what’s possible",slug:"explore-what-s-possible",normalizedTitle:"explore what’s possible",charIndex:1255},{level:2,title:"Explore use cases",slug:"explore-use-cases",normalizedTitle:"explore use cases",charIndex:3339},{level:2,title:"Compliance platform",slug:"compliance-platform",normalizedTitle:"compliance platform",charIndex:4225},{level:2,title:"Collaboration platform",slug:"collaboration-platform",normalizedTitle:"collaboration platform",charIndex:4430},{level:2,title:"Get Started with Development",slug:"get-started-with-development",normalizedTitle:"get started with development",charIndex:4638},{level:2,title:"Testimonials",slug:"testimonials",normalizedTitle:"testimonials",charIndex:4805}],headersStr:"What you’ll get Benefits and objectives Mobile Money Metrics Explore what’s possible Explore use cases Compliance platform Collaboration platform Get Started with Development Testimonials",content:"Welcome to the GSMA Mobile Money API Developer Portal. The Mobile Money API is an initiative developed through collaboration between the mobile money industry and the GSMA, which provides a harmonized API Specification for all the common mobile money use cases which is both easy to use and secure.\n\n\n# What you’ll get\n\nWe provide access to harmonized API Specification for all the common mobile money use cases which is both easy to use and secure.\n * API Docs\n * API Use Cases\n * GSMA Simulator\n\n\n# Benefits and objectives\n\nLobortis porta aliquam morbi eget. Duis in vitae sed eleifend hendrerit justo, vestibulum, proin.\n\nFor API providers\n\n * Lobortis porta aliquam morbi eget. Duis in vitae sed eleifend hendrerit justo, vestibulum, proin.\n * Dictumst vel velit augue vitae, eu rhoncus quis.\n * Massa platea nunc metus vestibulum turpis lorem eu purus sed.\n\nFor API consumers\n\n * Aliquet sem ullamcorper metus, fames vivamus viverra varius ac aliquet.\n * Orci sodales sit aliquam enim non convallis. Pharetra, nulla sed consectetur eu suscipit diam.\n * Porta aenean a iaculis donec purus.\n\n\n# Mobile Money Metrics\n\nExplore our interactive tool that provides a comprehensive set of global metrics by combining unique data sources.\n\nDownload dataset\n\n\n# Explore what’s possible\n\nBibendum integer quam sem purus donec. Morbi volutpat euismod cras convallis quam.\n\nMobile Money Provider\n\nInteger pulvinar risus nisi tristique. Molestie dictumst ac in pulvinar et natoque semper vitae convallis.\nLearn more\n\n\nMobile Money Provider\n\nInteger pulvinar risus nisi tristique. Molestie dictumst ac in pulvinar et natoque semper vitae convallis.\nLearn more\n\nMerchants & Service Providers\n\nEuismod pulvinar mattis laoreet mauris neque egestas lorem enim. At scelerisque nisl eros, nunc, eu urna, nisl viverra non.\nLearn more\n\nGovernments\n\nRisus, ligula facilisis viverra placerat a neque sed. Sagittis, sit nunc consectetur amet feugiat ornare.\nLearn more\n\nHumanitarian Agencies\n\nTempor, pellentesque volutpat id ipsum ornare vestibulum, velit sed. Ut hendrerit commodo scelerisque ipsum vel.\nLearn more\n\nInternational Transfer Organisations\n\nFringilla egestas ut sit odio hendrerit in quis purus in. Molestie euismod cras dis neque eget urna eget amet enim.\nLearn more\n\nPayment Service Providers & Payment Aggregators\n\nAt et tristique vulputate est elementum aliquet. Odio magna semper mauris magna erat dolor justo condimentum.\nLearn more\n\nBanks & Microfinance Institutions\n\nAt et tristique vulputate est elementum aliquet. Odio magna semper mauris magna erat dolor justo condimentum.\nLearn more\n\nFinTech Providers (Insurance Savings Loans)\n\nEt vel tincidunt ipsum eleifend nisi. Ipsum sapien neque pellentesque nec nibh tellus scelerisque ut lectus.\nLearn more\n\nEmployers\n\nInteger pulvinar risus nisi tristique. Molestie dictumst ac in pulvinar et natoque semper vitae convallis.\nLearn more\n\nEnergy & Utilities & AgriTech\n\nEuismod pulvinar mattis laoreet mauris neque egestas lorem enim. At scelerisque nisl eros, nunc, eu urna, nisl viverra non.\nLearn more\n\nEducation & Health\n\nRisus, ligula facilisis viverra placerat a neque sed. Sagittis, sit nunc consectetur amet feugiat ornare.\nLearn more\n\nMobile Money Agents\n\nTempor, pellentesque volutpat id ipsum ornare vestibulum, velit sed. Ut hendrerit commodo scelerisque ipsum vel.\nLearn more\n\n\n# Explore use cases\n\nBibendum integer quam sem purus donec. Morbi volutpat euismod cras convallis quam.\nMerchant payments Ut hendrerit nunc id amet mollis. Cras urna dolor nibh a ut cursus ut.\nDisbursements Facilisis rutrum diam imperdiet euismod tincidunt id volutpat egestas. Fermentum ornare blandit.\nInternational transfers Facilisis rutrum diam imperdiet euismod tincidunt id volutpat egestas. Fermentum ornare blandit.\nP2P transfers Facilisis rutrum diam imperdiet euismod tincidunt id volutpat egestas. Fermentum ornare blandit.\nRecurring payments Ut hendrerit nunc id amet mollis. Cras urna dolor nibh a ut cursus ut.\nAccount linking Ut hendrerit nunc id amet mollis. Cras urna dolor nibh a ut cursus ut.\nBill payments Ut hendrerit nunc id amet mollis. Cras urna dolor nibh a ut cursus ut.\nAgent Services Ut hendrerit nunc id amet mollis. Cras urna dolor nibh a ut cursus ut.\n\n\n# Compliance platform\n\nDictumst habitasse ultrices elementum, consequat ultrices purus volutpat. Posuere amet amet, cum justo bibendum morbi. Auctor interdum morbi non platea justo, et neque.\nLearn more\n\n\n# Collaboration platform\n\nDictumst habitasse ultrices elementum, consequat ultrices purus volutpat. Posuere amet amet, cum justo bibendum morbi. Auctor interdum morbi non platea justo, et neque.\nLearn more\n\n\n# Get Started with Development\n\nWe offers a powerful and easy to use tools to take full advantage of the Mobile Money API Specification.\nLearn more Start developing\n\n\n# Testimonials\n\nAs a payment service provider that is directly integrated with over 35 MNO partners, we understand the importance of Standardised APIs to save time on development work, resources and keeping integrations up to date.\n\nCellulant\n\nPayment Service Provider\n\nMerchant Payments\n\nInternational Transfers\n\nP2P transfers\n\nMobile money is revolutionising the way citizens in our country are making payments. As a government authority, we are benefiting from direct API Integrations with MMPs as they enable users to make fast, efficient and secure payments for government services; while lessening the use of cash.\n\nUganda Revenue\n\nAuthority Government / Government Agency\n\nDisbursements\n\nBill Payments\n\nP2P transfers\n\nAs a platform that offers educational content through mobile money, we appreciate the importance of being integrated with MMPs using APIs. It enables our consumers to easily purchase desired content. As we continue to expand our services and customer base, we hope to have access to a Standard API in the future, which will enable us to reach a wider base of users in remote areas.\n\nEneza Education\n\nEducation Service Provider\n\nP2P Transfers\n\nRecurring Payments\n\nBill Payments\n\nOur mission is to extend affordable health services to users in remote areas, by using methods that are available to them such as mobile phones. By being integrated with MMPs, customers are able to easily make payments and subscribe to our services. Currently, we are integrated with 5 MMPs, and are looking to expand in the future, hopefully with the aid of a Standard API.\n\nBaobab Circle\n\nHealthcare Service Provider\n\nBill Payments\n\nRecurring Payments\n\nAs a financial service provider operating in a country where the majority of the population have access to banking services through their mobile phones, establishing partnerships and integrating with MMPs has benefited us when extending services to the financially exclude\n\nMusoni\n\nBanks and MFIs\n\nAccount Linking\n\nRecurring Payments",normalizedContent:"welcome to the gsma mobile money api developer portal. the mobile money api is an initiative developed through collaboration between the mobile money industry and the gsma, which provides a harmonized api specification for all the common mobile money use cases which is both easy to use and secure.\n\n\n# what you’ll get\n\nwe provide access to harmonized api specification for all the common mobile money use cases which is both easy to use and secure.\n * api docs\n * api use cases\n * gsma simulator\n\n\n# benefits and objectives\n\nlobortis porta aliquam morbi eget. duis in vitae sed eleifend hendrerit justo, vestibulum, proin.\n\nfor api providers\n\n * lobortis porta aliquam morbi eget. duis in vitae sed eleifend hendrerit justo, vestibulum, proin.\n * dictumst vel velit augue vitae, eu rhoncus quis.\n * massa platea nunc metus vestibulum turpis lorem eu purus sed.\n\nfor api consumers\n\n * aliquet sem ullamcorper metus, fames vivamus viverra varius ac aliquet.\n * orci sodales sit aliquam enim non convallis. pharetra, nulla sed consectetur eu suscipit diam.\n * porta aenean a iaculis donec purus.\n\n\n# mobile money metrics\n\nexplore our interactive tool that provides a comprehensive set of global metrics by combining unique data sources.\n\ndownload dataset\n\n\n# explore what’s possible\n\nbibendum integer quam sem purus donec. morbi volutpat euismod cras convallis quam.\n\nmobile money provider\n\ninteger pulvinar risus nisi tristique. molestie dictumst ac in pulvinar et natoque semper vitae convallis.\nlearn more\n\n\nmobile money provider\n\ninteger pulvinar risus nisi tristique. molestie dictumst ac in pulvinar et natoque semper vitae convallis.\nlearn more\n\nmerchants & service providers\n\neuismod pulvinar mattis laoreet mauris neque egestas lorem enim. at scelerisque nisl eros, nunc, eu urna, nisl viverra non.\nlearn more\n\ngovernments\n\nrisus, ligula facilisis viverra placerat a neque sed. sagittis, sit nunc consectetur amet feugiat ornare.\nlearn more\n\nhumanitarian agencies\n\ntempor, pellentesque volutpat id ipsum ornare vestibulum, velit sed. ut hendrerit commodo scelerisque ipsum vel.\nlearn more\n\ninternational transfer organisations\n\nfringilla egestas ut sit odio hendrerit in quis purus in. molestie euismod cras dis neque eget urna eget amet enim.\nlearn more\n\npayment service providers & payment aggregators\n\nat et tristique vulputate est elementum aliquet. odio magna semper mauris magna erat dolor justo condimentum.\nlearn more\n\nbanks & microfinance institutions\n\nat et tristique vulputate est elementum aliquet. odio magna semper mauris magna erat dolor justo condimentum.\nlearn more\n\nfintech providers (insurance savings loans)\n\net vel tincidunt ipsum eleifend nisi. ipsum sapien neque pellentesque nec nibh tellus scelerisque ut lectus.\nlearn more\n\nemployers\n\ninteger pulvinar risus nisi tristique. molestie dictumst ac in pulvinar et natoque semper vitae convallis.\nlearn more\n\nenergy & utilities & agritech\n\neuismod pulvinar mattis laoreet mauris neque egestas lorem enim. at scelerisque nisl eros, nunc, eu urna, nisl viverra non.\nlearn more\n\neducation & health\n\nrisus, ligula facilisis viverra placerat a neque sed. sagittis, sit nunc consectetur amet feugiat ornare.\nlearn more\n\nmobile money agents\n\ntempor, pellentesque volutpat id ipsum ornare vestibulum, velit sed. ut hendrerit commodo scelerisque ipsum vel.\nlearn more\n\n\n# explore use cases\n\nbibendum integer quam sem purus donec. morbi volutpat euismod cras convallis quam.\nmerchant payments ut hendrerit nunc id amet mollis. cras urna dolor nibh a ut cursus ut.\ndisbursements facilisis rutrum diam imperdiet euismod tincidunt id volutpat egestas. fermentum ornare blandit.\ninternational transfers facilisis rutrum diam imperdiet euismod tincidunt id volutpat egestas. fermentum ornare blandit.\np2p transfers facilisis rutrum diam imperdiet euismod tincidunt id volutpat egestas. fermentum ornare blandit.\nrecurring payments ut hendrerit nunc id amet mollis. cras urna dolor nibh a ut cursus ut.\naccount linking ut hendrerit nunc id amet mollis. cras urna dolor nibh a ut cursus ut.\nbill payments ut hendrerit nunc id amet mollis. cras urna dolor nibh a ut cursus ut.\nagent services ut hendrerit nunc id amet mollis. cras urna dolor nibh a ut cursus ut.\n\n\n# compliance platform\n\ndictumst habitasse ultrices elementum, consequat ultrices purus volutpat. posuere amet amet, cum justo bibendum morbi. auctor interdum morbi non platea justo, et neque.\nlearn more\n\n\n# collaboration platform\n\ndictumst habitasse ultrices elementum, consequat ultrices purus volutpat. posuere amet amet, cum justo bibendum morbi. auctor interdum morbi non platea justo, et neque.\nlearn more\n\n\n# get started with development\n\nwe offers a powerful and easy to use tools to take full advantage of the mobile money api specification.\nlearn more start developing\n\n\n# testimonials\n\nas a payment service provider that is directly integrated with over 35 mno partners, we understand the importance of standardised apis to save time on development work, resources and keeping integrations up to date.\n\ncellulant\n\npayment service provider\n\nmerchant payments\n\ninternational transfers\n\np2p transfers\n\nmobile money is revolutionising the way citizens in our country are making payments. as a government authority, we are benefiting from direct api integrations with mmps as they enable users to make fast, efficient and secure payments for government services; while lessening the use of cash.\n\nuganda revenue\n\nauthority government / government agency\n\ndisbursements\n\nbill payments\n\np2p transfers\n\nas a platform that offers educational content through mobile money, we appreciate the importance of being integrated with mmps using apis. it enables our consumers to easily purchase desired content. as we continue to expand our services and customer base, we hope to have access to a standard api in the future, which will enable us to reach a wider base of users in remote areas.\n\neneza education\n\neducation service provider\n\np2p transfers\n\nrecurring payments\n\nbill payments\n\nour mission is to extend affordable health services to users in remote areas, by using methods that are available to them such as mobile phones. by being integrated with mmps, customers are able to easily make payments and subscribe to our services. currently, we are integrated with 5 mmps, and are looking to expand in the future, hopefully with the aid of a standard api.\n\nbaobab circle\n\nhealthcare service provider\n\nbill payments\n\nrecurring payments\n\nas a financial service provider operating in a country where the majority of the population have access to banking services through their mobile phones, establishing partnerships and integrating with mmps has benefited us when extending services to the financially exclude\n\nmusoni\n\nbanks and mfis\n\naccount linking\n\nrecurring payments",charsets:{}},{title:"International Transfer Organisations",frontmatter:{pageClass:"industry-page custom",title:"International Transfer Organisations"},regularPath:"/international-transfer-organisations/",relativePath:"international-transfer-organisations/index.md",key:"v-8017e46a",path:"/international-transfer-organisations/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:361},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:386},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:900},{level:2,title:"Succeed case study",slug:"succeed-case-study",normalizedTitle:"succeed case study",charIndex:13082},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:14037}],headersStr:"Use cases Introduction Intended Audience Succeed case study Ready to explore?",content:"Organisations involved in transferring money across international borders such as remittance service providers rely on partnerships with mobile money providers.\n\nThe GSMA Mobile Money Specification can be used by international transfer organisations to integrate with mobile money wallets for a quick and easy pay-out channel for their customer’s recipients.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe International Transfer Mobile Money APIs allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                       USAGE                                                       ROLE\nFSP - Mobile Money Providers                   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive International transfers from other FSPs.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international transfers to other FSPs.\nFSP – International Remittance Organisations   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive international remittances from Mobile Money\n                                               Providers.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international remittances to Mobile Money Providers.\nInternational Transfer Hubs                    - To understand how to implement the Mobile Money APIs to   API Provider\n                                               receive international transfers from FSPs.\n                                               - To understand how to implement the Mobile Money APIs to   API Consumer\n                                               send international transfers to FSPs.\n\n\nUse case scenarios\n\nInternational Transfer via Hub\n\nIn this diagram, a hub is used by the sending FSP to obtain a quotation and perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return the quotation and the confirmation of the transfer.\n\nThis flow can also be used for bilateral international transfers.\n\nsequenceDiagram participant Sending FSP participant International Transfer Hub participant Receiving FSP Sending FSP->>International Transfer Hub: POST /quotations activate Sending FSP activate International Transfer Hub activate Receiving FSP Note right of International Transfer Hub: (1) The Sending FSP submits a quotation request to\nthe International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request\nis 'pending'. International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of International Transfer Hub: (2) The Hub returns the quotation to the Sending FSP. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Sending FSP->>International Transfer Hub: POST /transactions/type/inttransfer activate International Transfer Hub activate Sending FSP activate Receiving FSP Note right of International Transfer Hub: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request is 'pending'. International Transfer Hub->>Receiving FSP: POST /transactions/type/inttransfer Note right of Receiving FSP: (4) The Hub in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the\nRequest State object to indicate that the request is\n'pending'. Receiving FSP--\x3e>International Transfer Hub: HTTP 202 (Request State Object) International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate International Transfer Hub deactivate Sending FSP Receiving FSP->>International Transfer Hub: PUT {Callback URL} (Transactions Object) activate International Transfer Hub activate Sending FSP Note right of Receiving FSP: (5) The FSP informs the Hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. International Transfer Hub--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of International Transfer Hub: (6) The Hub in turn informs the Sending FSP that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Bilateral International Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to obtain a quotation and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transactions Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP International Transfer Failure\n\nThe failure of a transfer is reflected by the return of an error object in the callback from the receiving FSP. The same pattern would also apply to a quotation failure.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP International Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to be reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/balance activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Obtain the balance of the\nReceiving FSP's account with\nthe Sending FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Balance Object) deactivate Sending FSP deactivate Receiving FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending FSP via multiple requests.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests up to 20\ntransactions for their account from\nthe Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Receiving FSP: (2) The Receiving FSP returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Receiving FSP: (3) The Sending FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Sending FSP deactivate Receiving FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /heartbeat activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests the\navailability of the service from the\nReceiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Heartbeat Object) Note right of Receiving FSP: (2) The Receiving FSP returns the\navailability of the service - available,\nunavailable or degraded. deactivate Sending FSP deactivate Receiving FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Succeed case study\n\nThe remittance provider completed its first direct integration with an MNO six years ago, and now currently integrated with multiple MNO partners. According to the provider, the direct API Integrations offer a higher level of convenience as the recipients do not have to go to physical locations to cash out. During the pandemic, it was difficult for some to access agents or banks and direct integrations speeded remittance transactions to end users. The organisation is currently looking to increase its MNO integration partners; however, some challenges are slowing down the speed of expansion. Recently, it experienced a length integration with a provider, taking nearly two years to complete. Integrating with more providers will increase the reach of users. A Standardised API would be beneficial for the organisation as it will allow integrations with multiple MMPs in a seamless manner. Mama Money\n\nInternational Transfers\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"organisations involved in transferring money across international borders such as remittance service providers rely on partnerships with mobile money providers.\n\nthe gsma mobile money specification can be used by international transfer organisations to integrate with mobile money wallets for a quick and easy pay-out channel for their customer’s recipients.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe international transfer mobile money apis allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                       usage                                                       role\nfsp - mobile money providers                   - to understand how to implement the mobile money api to    api provider\n                                               receive international transfers from other fsps.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international transfers to other fsps.\nfsp – international remittance organisations   - to understand how to implement the mobile money api to    api provider\n                                               receive international remittances from mobile money\n                                               providers.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international remittances to mobile money providers.\ninternational transfer hubs                    - to understand how to implement the mobile money apis to   api provider\n                                               receive international transfers from fsps.\n                                               - to understand how to implement the mobile money apis to   api consumer\n                                               send international transfers to fsps.\n\n\nuse case scenarios\n\ninternational transfer via hub\n\nin this diagram, a hub is used by the sending fsp to obtain a quotation and perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return the quotation and the confirmation of the transfer.\n\nthis flow can also be used for bilateral international transfers.\n\nsequencediagram participant sending fsp participant international transfer hub participant receiving fsp sending fsp->>international transfer hub: post /quotations activate sending fsp activate international transfer hub activate receiving fsp note right of international transfer hub: (1) the sending fsp submits a quotation request to\nthe international remittance hub. the hub will return the\nrequest state object to indicate that the request\nis 'pending'. international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp international transfer hub->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of international transfer hub: (2) the hub returns the quotation to the sending fsp. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp sending fsp->>international transfer hub: post /transactions/type/inttransfer activate international transfer hub activate sending fsp activate receiving fsp note right of international transfer hub: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the international remittance hub. the hub will return the\nrequest state object to indicate that the request is 'pending'. international transfer hub->>receiving fsp: post /transactions/type/inttransfer note right of receiving fsp: (4) the hub in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the\nrequest state object to indicate that the request is\n'pending'. receiving fsp--\x3e>international transfer hub: http 202 (request state object) international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate international transfer hub deactivate sending fsp receiving fsp->>international transfer hub: put {callback url} (transactions object) activate international transfer hub activate sending fsp note right of receiving fsp: (5) the fsp informs the hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. international transfer hub--\x3e>receiving fsp: http 204 deactivate receiving fsp international transfer hub->>sending fsp: put {callback url} (transactions object) note right of international transfer hub: (6) the hub in turn informs the sending fsp that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp bilateral international transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to obtain a quotation and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transactions object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp international transfer failure\n\nthe failure of a transfer is reflected by the return of an error object in the callback from the receiving fsp. the same pattern would also apply to a quotation failure.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp international transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to be reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/balance activate sending fsp activate receiving fsp note right of receiving fsp: (1) obtain the balance of the\nreceiving fsp's account with\nthe sending fsp. receiving fsp--\x3e>sending fsp: http 200 (balance object) deactivate sending fsp deactivate receiving fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending fsp via multiple requests.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests up to 20\ntransactions for their account from\nthe receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) note right of receiving fsp: (2) the receiving fsp returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of receiving fsp: (3) the sending fsp requests the\nremaining transactions from the\naccount from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) deactivate sending fsp deactivate receiving fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /heartbeat activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests the\navailability of the service from the\nreceiving fsp. receiving fsp--\x3e>sending fsp: http 200 (heartbeat object) note right of receiving fsp: (2) the receiving fsp returns the\navailability of the service - available,\nunavailable or degraded. deactivate sending fsp deactivate receiving fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. receiving fsp--\x3e>sending fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# succeed case study\n\nthe remittance provider completed its first direct integration with an mno six years ago, and now currently integrated with multiple mno partners. according to the provider, the direct api integrations offer a higher level of convenience as the recipients do not have to go to physical locations to cash out. during the pandemic, it was difficult for some to access agents or banks and direct integrations speeded remittance transactions to end users. the organisation is currently looking to increase its mno integration partners; however, some challenges are slowing down the speed of expansion. recently, it experienced a length integration with a provider, taking nearly two years to complete. integrating with more providers will increase the reach of users. a standardised api would be beneficial for the organisation as it will allow integrations with multiple mmps in a seamless manner. mama money\n\ninternational transfers\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{frontmatter:{pageClass:"auth-page"},regularPath:"/login/",relativePath:"login/index.md",key:"v-6f863d11",path:"/login/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Mobile Money Agents",frontmatter:{pageClass:"industry-page custom",title:"Mobile Money Agents"},regularPath:"/mobile-money-agents/",relativePath:"mobile-money-agents/index.md",key:"v-1f7e901e",path:"/mobile-money-agents/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:228},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:253},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:1967},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:19633}],headersStr:"Use cases Introduction Intended Audience Ready to explore?",content:"Mobile money agents are the primary point of contact for mobile money account holders. Agents provide a support service where account holders can register for the mobile money service, cash-in and cash-out from their account.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nAgent Services comprises of the following:\n\n\n\nCash-in and Cash-out Services\n\n * Agent-initiated Cash-out. The agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * Customer-initiated Cash-out. The mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * Cash-out via Authorisation Code. The customer generates an authorisation code up to a maximum amount. The agent then enters or scans (if rendered as a QR code) the code to perform the withdrawal.\n * Cash-in. The agent initiates the cash-in by entering the customer account identifier(s).\n\nClosed loop and open-loop agent cash-in and cash-out are supported by the Mobile Money API. Closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. Open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nAgents can be physical agents, i.e. customers that are serviced by an human, or can be an ATM.\n\n\n\nCustomer Account Services\n\n * Customer Registration. Agents can register new customers for mobile money.\n * KYC Verification. Agents that provide KYC verification services can confirm that they have verified customer KYC.\n   \n   \n\nFurther Reading\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer KYC verification services on behalf of mobile\n                         money customers.\nAgents                   To understand how to implement the Mobile Money API to         API Consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and KYC verification.\n\n\nUse case scenarios\n\nAgent-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Agent-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. The customer\ndeclines the request or the request times-\nout. Customer--\x3e>Mobile Money Provider: (Declined or Timeout) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Error Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Agent-initiated Cash-out using the Polling Method\n\nIn this example, an asynchronous cash-out flow is used with the polling method. The client polls against the request state object to determine the outcome of the cash-out request.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the cash-out request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent par loop activate Agent Agent->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The agent polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Agent: HTTP 200 (Request State Object) end and Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (3) The Customer is requested to the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) end deactivate Agent deactivate Customer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Agent Agent->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The agent can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\ncash-out transaction. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Object) end deactivate Agent deactivate Mobile Money Provider Customer-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Transactions Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has successfully compeleted. deactivate Mobile Money Provider deactivate Agent Customer-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Error Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has failed. deactivate Mobile Money Provider deactivate Agent Customer Cash-out at an ATM using an Authorisation Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised code. This in turn is presented by the withdrawing customer to the ATM which then initiates the cash-out request. Both flows in the diagram result in a callback.\n\nsequenceDiagram participant Customer participant ATM participant Mobile Money Provider Customer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App)\nsubmits the request to generate an authorisation code\nto the MMP. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) Mobile Money Provider->>Customer: PUT {Callback URL} (Authorisation Codes Object) Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer deactivate Mobile Money Provider Note right of Customer: (3) The customer enters the code into the ATM. Customer->>ATM: Code Entry activate Customer activate ATM activate Mobile Money Provider ATM->>Mobile Money Provider: POST /transactions/type/withdrawal Note right of Mobile Money Provider: (4) The ATM submits the cash-out request for processing\nto the MMP. The request will contain the authorisation\ncode. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>ATM: HTTP 202 (Request State Object) deactivate ATM Mobile Money Provider->>ATM: PUT {Callback URL} (Transactions Object) activate ATM Note right of Mobile Money Provider: (5) The MMP informs the ATM that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. ATM--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider ATM->>Customer: Notify deactivate Customer deactivate ATM Agent-initiated Customer Cash-in\n\nIn this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. The final result is returned in the callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/accountname activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves the name of the depositing customer\nand will check that the name is correct. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Holder Name Object) Agent->>Mobile Money Provider: POST /transactions/type/deposit Note right of Mobile Money Provider: (2) The agent submits the cash-in request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent activate Customer Mobile Money Provider->>Customer: Notify Note right of Customer: (4) The MMP notifies the customer that the\ncash-in has successfully compeleted. deactivate Mobile Money Provider deactivate Customer Cash-out Reversal\n\nIn some failure scenarios, an agent may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the reversal request for processing to\nthe MMP - passing the reference of the transaction that is\nto be reversed. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Register a Customer Mobile Money Account\n\nIn this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /accounts/individual activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the account\nregistration request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Account Object) Note right of Mobile Money Provider: (2) The MMP informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Verify a Customer’s KYC\n\nIn this diagram, an agent verifies the physical KYC provided by the customer against details held by the mobile money provider and informs the provider that the KYC has been successfully verified.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves account\ninformation from the MMP which\nincludes the customer's KYC\ndetails. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Object) Agent->>Mobile Money Provider: PATCH /accounts/{identifierType}/{identifier}/identities/{identityId} Note right of Mobile Money Provider: (2) The agent submits the KYC\nverification request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Success) Note right of Mobile Money Provider: (3) The MMP informs the agent that\nthe verification request has been\nsuccessfully processed. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Obtain an Agent Balance sequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Agent: HTTP 200 (Balance Object) deactivate Agent deactivate Mobile Money Provider Retrieve Transactions for an Agent\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests up to 20\ntransactions for the account\nfrom the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The agent requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Agent deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /heartbeat activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Agent deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the agent's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Agent: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Agent->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Agent uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Agent: HTTP 200 (Requested Object) deactivate Agent deactivate Mobile Money Provider Start developing\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"mobile money agents are the primary point of contact for mobile money account holders. agents provide a support service where account holders can register for the mobile money service, cash-in and cash-out from their account.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nagent services comprises of the following:\n\n\n\ncash-in and cash-out services\n\n * agent-initiated cash-out. the agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * customer-initiated cash-out. the mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * cash-out via authorisation code. the customer generates an authorisation code up to a maximum amount. the agent then enters or scans (if rendered as a qr code) the code to perform the withdrawal.\n * cash-in. the agent initiates the cash-in by entering the customer account identifier(s).\n\nclosed loop and open-loop agent cash-in and cash-out are supported by the mobile money api. closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nagents can be physical agents, i.e. customers that are serviced by an human, or can be an atm.\n\n\n\ncustomer account services\n\n * customer registration. agents can register new customers for mobile money.\n * kyc verification. agents that provide kyc verification services can confirm that they have verified customer kyc.\n   \n   \n\nfurther reading\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer kyc verification services on behalf of mobile\n                         money customers.\nagents                   to understand how to implement the mobile money api to         api consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and kyc verification.\n\n\nuse case scenarios\n\nagent-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) deactivate customer mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider agent-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. the customer\ndeclines the request or the request times-\nout. customer--\x3e>mobile money provider: (declined or timeout) deactivate customer mobile money provider->>agent: put {callback url} (error object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider agent-initiated cash-out using the polling method\n\nin this example, an asynchronous cash-out flow is used with the polling method. the client polls against the request state object to determine the outcome of the cash-out request.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the cash-out request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent par loop activate agent agent->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the agent polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>agent: http 200 (request state object) end and mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (3) the customer is requested to the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) end deactivate agent deactivate customer deactivate mobile money provider opt activate mobile money provider activate agent agent->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the agent can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\ncash-out transaction. mobile money provider--\x3e>agent: http 200 (transactions object) end deactivate agent deactivate mobile money provider customer-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (transactions object) activate customer note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has successfully compeleted. deactivate mobile money provider deactivate agent customer-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (error object) activate customer note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has failed. deactivate mobile money provider deactivate agent customer cash-out at an atm using an authorisation code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised code. this in turn is presented by the withdrawing customer to the atm which then initiates the cash-out request. both flows in the diagram result in a callback.\n\nsequencediagram participant customer participant atm participant mobile money provider customer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app)\nsubmits the request to generate an authorisation code\nto the mmp. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) mobile money provider->>customer: put {callback url} (authorisation codes object) note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. customer--\x3e>mobile money provider: http 204 deactivate customer deactivate mobile money provider note right of customer: (3) the customer enters the code into the atm. customer->>atm: code entry activate customer activate atm activate mobile money provider atm->>mobile money provider: post /transactions/type/withdrawal note right of mobile money provider: (4) the atm submits the cash-out request for processing\nto the mmp. the request will contain the authorisation\ncode. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>atm: http 202 (request state object) deactivate atm mobile money provider->>atm: put {callback url} (transactions object) activate atm note right of mobile money provider: (5) the mmp informs the atm that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. atm--\x3e>mobile money provider: http 204 deactivate mobile money provider atm->>customer: notify deactivate customer deactivate atm agent-initiated customer cash-in\n\nin this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. the final result is returned in the callback.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/accountname activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves the name of the depositing customer\nand will check that the name is correct. mobile money provider--\x3e>agent: http 200 (account holder name object) agent->>mobile money provider: post /transactions/type/deposit note right of mobile money provider: (2) the agent submits the cash-in request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent activate customer mobile money provider->>customer: notify note right of customer: (4) the mmp notifies the customer that the\ncash-in has successfully compeleted. deactivate mobile money provider deactivate customer cash-out reversal\n\nin some failure scenarios, an agent may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /transactions/{original transaction reference}/reversals activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the reversal request for processing to\nthe mmp - passing the reference of the transaction that is\nto be reversed. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider register a customer mobile money account\n\nin this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /accounts/individual activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the account\nregistration request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (account object) note right of mobile money provider: (2) the mmp informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider verify a customer’s kyc\n\nin this diagram, an agent verifies the physical kyc provided by the customer against details held by the mobile money provider and informs the provider that the kyc has been successfully verified.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier} activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves account\ninformation from the mmp which\nincludes the customer's kyc\ndetails. mobile money provider--\x3e>agent: http 200 (account object) agent->>mobile money provider: patch /accounts/{identifiertype}/{identifier}/identities/{identityid} note right of mobile money provider: (2) the agent submits the kyc\nverification request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (success) note right of mobile money provider: (3) the mmp informs the agent that\nthe verification request has been\nsuccessfully processed. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider obtain an agent balance sequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate agent activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>agent: http 200 (balance object) deactivate agent deactivate mobile money provider retrieve transactions for an agent\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests up to 20\ntransactions for the account\nfrom the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the agent requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) deactivate agent deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /heartbeat activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests the availability\nof the service from the mmp. mobile money provider--\x3e>agent: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate agent deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /responses{clientcorrelationid} activate agent activate mobile money provider note right of mobile money provider: (1) using the agent's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>agent: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. agent->>mobile money provider: get /{link} note right of mobile money provider: (3) the agent uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>agent: http 200 (requested object) deactivate agent deactivate mobile money provider start developing\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Merchants & Service Providers",frontmatter:{pageClass:"industry-page custom",title:"Merchants & Service Providers"},regularPath:"/merchants-and-service-providers/",relativePath:"merchants-and-service-providers/index.md",key:"v-ff4aea1e",path:"/merchants-and-service-providers/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:315},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:340},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:1669},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:340},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:1669},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:32706}],headersStr:"Use cases Introduction Intended Audience Introduction Intended Audience Ready to explore?",content:"Merchants are typically stores selling products or services in a physical location or online.\n\nMerchants can use the GSMA API specification to accept online payments from customers using Mobile Money as a payment method. As well as one-off payments, furthermore, there is the option to set up recurring payments.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe Merchant Payment Mobile Money APIs allow merchants to accept payments from mobile money customers. Supported payment mechanisms include:\n\n * Payee-initiated merchant payment. The merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * Payer-initiated merchant payment. The payer initiates the payment by specifying the merchant that is to be paid.\n * Merchant payment via pre-authorised payment code. The payer generates a payment authorisation code up to a maximum payment amount. The merchant then enters or scans (if rendered as a QR code) the payer’s code to perform the payment.\n\nClosed loop and open-loop merchant payments are supported by the Mobile Money API. Closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. Open loop payments occur where the payer and payee accounts reside with different mobile money providers. For further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                    ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to   API Provider\n                         receive payments from merchants.\nMerchants                To understand how to implement the Mobile Money API to   API Consumer\n                         accept mobile money payments.\n\n\nUse case scenarios\n\nPayee-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The merchant initiates the request and will be credited when the payer approves the request.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Payee-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Payee-Initiated Merchant Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant par loop activate Merchant Merchant->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The Merchant polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Request State Object) end and Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (3) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>Mobile Money Provider: (Authorised) end deactivate Merchant deactivate Payer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Merchant Merchant->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The Merchant can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\npayment transaction. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Object) end deactivate Merchant deactivate Mobile Money Provider Payer-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The payer initiates the request and will be debited upon successful completion of the request.\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (transactions Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has successfully compeleted. deactivate Mobile Money Provider deactivate Merchant Payer-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (Error Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has failed. deactivate Mobile Money Provider deactivate Merchant Payee-Initiated Merchant Payment using a Pre-authorised Payment Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised payment code. This in turn is presented by the payer to the merchant who initiates the payment request. Both flows in the diagram result in a callback. This flow is primarily used for payment on delivery use cases.\n\nsequenceDiagram participant Payer participant Merchant participant Mobile Money Provider Payer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits\nthe request to generate an authorisation code to the\nMMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) Mobile Money Provider->>Payer: PUT {Callback URL} (Authorisation Code Object) Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Mobile Money Provider Note right of Payer: (3) The Payer communicates the code to the merchant. This\ncan be via QR code or by verbally communicating the code. Payer->>Merchant: Communicates Code Verbally or via QR Presentment activate Payer activate Merchant activate Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay Note right of Mobile Money Provider: (4) The Merchant submits the payment request for\nprocessing to the MMP. The request will contain the\nauthorisation code. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) activate Merchant Note right of Mobile Money Provider: (5) The MMP informs the Merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Merchant deactivate Mobile Money Provider Merchant Payment Refund\n\nMerchants can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/adjustment activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the refund request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Merchant Payment Reversal\n\nIn some failure scenarios, a merchant may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the reversal request for processing\nto the MMP - passing the reference of the transaction that\nis to be reversed. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Obtain a Merchant Balance sequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Balance Object) deactivate Merchant deactivate Mobile Money Provider Retrieve Payments for a Merchant\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The Merchant requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Merchant deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /heartbeat activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Merchant deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the Merchant's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Merchant->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Merchant uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Requested Object) deactivate Merchant deactivate Mobile Money Provider Start developing\n\n\n# Introduction\n\nThe Recurring Payments Mobile Money APIs allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                        ROLE\nMobile Money Providers   - To understand how to implement the Mobile Money API to     API Provider\n                         receive recurring payment requests from service providers.\n                         - To understand how to implement the Mobile Money API to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nService Providers        To understand how to implement the Mobile Money API to       API Consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nUse case scenarios\n\nSetup a Recurring Payment\n\nThis diagram illustrates the setting-up of a recurring payment via a debit mandate. The service provider initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer is requested to the MMP to\nauthorise the mandate. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>Mobile Money Provider: (Authorised) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Setup a Recurring Payment Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the recurring payment. The service provider receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer declines the request by the\nMMP to accept the debit mandate. Account Holder--\x3e>Mobile Money Provider: (Declined) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been declined by returning\nan error object. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment Failure\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate. The FSP is unable to process the payment and returns a callback containing the error object.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider loop activate Service Provider Service Provider->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The service provider polls the MMP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Service Provider->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The service provider can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted payment. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Object) end deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Refund\n\nService Providers can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/adjustment activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Reversal\n\nIn some failure scenarios, a service provider may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the reversal request for\nprocessing to the MMP - passing the reference of the\ntransaction that is to be reversed. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Payer sets up a Recurring Payment using MMP Channel\n\nThis diagram illustrates how the MM API can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequenceDiagram participant Mobile Money Provider Channel participant Mobile Money Provider Mobile Money Provider Channel->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Mobile Money Provider Channel activate Mobile Money Provider Note right of Mobile Money Provider: (1) The MMP Channel submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Mobile Money Provider Channel: HTTP 202 (Request State Object) Mobile Money Provider->>Mobile Money Provider Channel: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (2) The MMP informs the MMP Channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Mobile Money Provider Channel--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider Channel deactivate Mobile Money Provider Obtain a Service Provider Balance sequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Balance Object) deactivate Service Provider deactivate Mobile Money Provider Retrieve Payments for a Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests\nup to 20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The service provider requests\nthe remaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Service Provider deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /heartbeat activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests the\navailability of the service from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Service Provider deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the service provider's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Service Provider->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The service provider uses the link to\nobtain a representation of the missing\nresource. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Requested Object) deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"merchants are typically stores selling products or services in a physical location or online.\n\nmerchants can use the gsma api specification to accept online payments from customers using mobile money as a payment method. as well as one-off payments, furthermore, there is the option to set up recurring payments.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe merchant payment mobile money apis allow merchants to accept payments from mobile money customers. supported payment mechanisms include:\n\n * payee-initiated merchant payment. the merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * payer-initiated merchant payment. the payer initiates the payment by specifying the merchant that is to be paid.\n * merchant payment via pre-authorised payment code. the payer generates a payment authorisation code up to a maximum payment amount. the merchant then enters or scans (if rendered as a qr code) the payer’s code to perform the payment.\n\nclosed loop and open-loop merchant payments are supported by the mobile money api. closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. open loop payments occur where the payer and payee accounts reside with different mobile money providers. for further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                    role\nmobile money providers   to understand how to implement the mobile money api to   api provider\n                         receive payments from merchants.\nmerchants                to understand how to implement the mobile money api to   api consumer\n                         accept mobile money payments.\n\n\nuse case scenarios\n\npayee-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the merchant initiates the request and will be credited when the payer approves the request.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider payee-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider payee-initiated merchant payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant par loop activate merchant merchant->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the merchant polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>merchant: http 200 (request state object) end and mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (3) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>mobile money provider: (authorised) end deactivate merchant deactivate payer deactivate mobile money provider opt activate mobile money provider activate merchant merchant->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the merchant can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\npayment transaction. mobile money provider--\x3e>merchant: http 200 (transactions object) end deactivate merchant deactivate mobile money provider payer-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the payer initiates the request and will be debited upon successful completion of the request.\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (transactions object) activate payer note right of mobile money provider: (2) the mmp informs the payer's channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has successfully compeleted. deactivate mobile money provider deactivate merchant payer-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (error object) activate payer note right of mobile money provider: (2) the mmp informs the payer's channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has failed. deactivate mobile money provider deactivate merchant payee-initiated merchant payment using a pre-authorised payment code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised payment code. this in turn is presented by the payer to the merchant who initiates the payment request. both flows in the diagram result in a callback. this flow is primarily used for payment on delivery use cases.\n\nsequencediagram participant payer participant merchant participant mobile money provider payer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits\nthe request to generate an authorisation code to the\nmmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) mobile money provider->>payer: put {callback url} (authorisation code object) note right of mobile money provider: (2) the mmp informs the payer's channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. payer--\x3e>mobile money provider: http 204 deactivate payer deactivate mobile money provider note right of payer: (3) the payer communicates the code to the merchant. this\ncan be via qr code or by verbally communicating the code. payer->>merchant: communicates code verbally or via qr presentment activate payer activate merchant activate mobile money provider merchant->>mobile money provider: post /transactions/type/merchantpay note right of mobile money provider: (4) the merchant submits the payment request for\nprocessing to the mmp. the request will contain the\nauthorisation code. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>merchant: put {callback url} (transactions object) activate merchant note right of mobile money provider: (5) the mmp informs the merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate payer deactivate merchant deactivate mobile money provider merchant payment refund\n\nmerchants can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/type/adjustment activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the refund request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider merchant payment reversal\n\nin some failure scenarios, a merchant may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/{original transaction reference}/reversals activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the reversal request for processing\nto the mmp - passing the reference of the transaction that\nis to be reversed. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider obtain a merchant balance sequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate merchant activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>merchant: http 200 (balance object) deactivate merchant deactivate mobile money provider retrieve payments for a merchant\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the merchant requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) deactivate merchant deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /heartbeat activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests the availability\nof the service from the mmp. mobile money provider--\x3e>merchant: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate merchant deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /responses{clientcorrelationid} activate merchant activate mobile money provider note right of mobile money provider: (1) using the merchant's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>merchant: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. merchant->>mobile money provider: get /{link} note right of mobile money provider: (3) the merchant uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>merchant: http 200 (requested object) deactivate merchant deactivate mobile money provider start developing\n\n\n# introduction\n\nthe recurring payments mobile money apis allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                        role\nmobile money providers   - to understand how to implement the mobile money api to     api provider\n                         receive recurring payment requests from service providers.\n                         - to understand how to implement the mobile money api to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nservice providers        to understand how to implement the mobile money api to       api consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nuse case scenarios\n\nsetup a recurring payment\n\nthis diagram illustrates the setting-up of a recurring payment via a debit mandate. the service provider initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer is requested to the mmp to\nauthorise the mandate. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>mobile money provider: (authorised) deactivate account holder mobile money provider->>service provider: put {callback url} (debit mandates object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider setup a recurring payment failure\n\nin this diagram, the account holder declines to provide authorisation to setup the recurring payment. the service provider receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer declines the request by the\nmmp to accept the debit mandate. account holder--\x3e>mobile money provider: (declined) deactivate account holder mobile money provider->>service provider: put {callback url} (error object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been declined by returning\nan error object. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (transactions object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment failure\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate. the fsp is unable to process the payment and returns a callback containing the error object.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (error object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider loop activate service provider service provider->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the service provider polls the mmp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. mobile money provider--\x3e>service provider: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider service provider->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the service provider can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted payment. mobile money provider--\x3e>service provider: http 200 (transactions object) end deactivate service provider deactivate mobile money provider recurring payment refund\n\nservice providers can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/adjustment activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider recurring payment reversal\n\nin some failure scenarios, a service provider may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/{original transaction reference}/reversals activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the reversal request for\nprocessing to the mmp - passing the reference of the\ntransaction that is to be reversed. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider payer sets up a recurring payment using mmp channel\n\nthis diagram illustrates how the mm api can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequencediagram participant mobile money provider channel participant mobile money provider mobile money provider channel->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate mobile money provider channel activate mobile money provider note right of mobile money provider: (1) the mmp channel submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>mobile money provider channel: http 202 (request state object) mobile money provider->>mobile money provider channel: put {callback url} (debit mandates object) note right of mobile money provider: (2) the mmp informs the mmp channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. mobile money provider channel--\x3e>mobile money provider: http 204 deactivate mobile money provider channel deactivate mobile money provider obtain a service provider balance sequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate service provider activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>service provider: http 200 (balance object) deactivate service provider deactivate mobile money provider retrieve payments for a service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests\nup to 20 transactions for the\naccount from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the service provider requests\nthe remaining transactions for\nthe account from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) deactivate service provider deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /heartbeat activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests the\navailability of the service from the mmp. mobile money provider--\x3e>service provider: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate service provider deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /responses{clientcorrelationid} activate service provider activate mobile money provider note right of mobile money provider: (1) using the service provider's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>service provider: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. service provider->>mobile money provider: get /{link} note right of mobile money provider: (3) the service provider uses the link to\nobtain a representation of the missing\nresource. mobile money provider--\x3e>service provider: http 200 (requested object) deactivate mobile money provider deactivate service provider start developing\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Mobile Money Providers",frontmatter:{pageClass:"industry-page custom",title:"Mobile Money Providers"},regularPath:"/mobile-money-providers/",relativePath:"mobile-money-providers/index.md",key:"v-1f241ee3",path:"/mobile-money-providers/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:344},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Introduction",slug:"introduction-3",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Introduction",slug:"introduction-4",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience-3",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Introduction",slug:"introduction-5",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience-4",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Introduction",slug:"introduction-6",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience-5",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Introduction",slug:"introduction-7",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience-6",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Introduction",slug:"introduction-8",normalizedTitle:"introduction",charIndex:369},{level:2,title:"Intended Audience",slug:"intended-audience-7",normalizedTitle:"intended audience",charIndex:15530},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:117215}],headersStr:"Use cases Introduction Introduction Intended Audience Introduction Intended Audience Introduction Intended Audience Introduction Intended Audience Introduction Intended Audience Introduction Intended Audience Introduction Intended Audience Ready to explore?",content:"Mobile Money providers are companies that operate an electronic wallet which allows users to send, receive and store money using their mobile phone.\n\nMobile Money providers can use the GSMA API specification to simplify the integration process and to connect with many third party service providers at scale enabling further revenue streams.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\nUse case scenarios\n\nP2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP submits a quotation\nrequest to the Switch. The Switch will return the Request State object to indicate that the request\nis 'pending'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the Receiving FSP.\nThe Receiving FSP will return the Request State object to indicate\nthat the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 200 (Request State Object) Switch--\x3e>Sending FSP: HTTP 200 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the transaction has succesfully complteted\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer request to the Swith. The Switch\nwill return the Request State object to indicate that the request is 'pending'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the Request State object\nto indicate that the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the transaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP submits a transfer request.\nThe Receiving FSP will return the Request State object to indicate that the request is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the transation has been succesfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP's account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe Merchant Payment Mobile Money APIs allow merchants to accept payments from mobile money customers. Supported payment mechanisms include:\n\n * Payee-initiated merchant payment. The merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * Payer-initiated merchant payment. The payer initiates the payment by specifying the merchant that is to be paid.\n * Merchant payment via pre-authorised payment code. The payer generates a payment authorisation code up to a maximum payment amount. The merchant then enters or scans (if rendered as a QR code) the payer’s code to perform the payment.\n\nClosed loop and open-loop merchant payments are supported by the Mobile Money API. Closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. Open loop payments occur where the payer and payee accounts reside with different mobile money providers. For further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                    ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to   API Provider\n                         receive payments from merchants.\nMerchants                To understand how to implement the Mobile Money API to   API Consumer\n                         accept mobile money payments.\n\n\nUse case scenarios\n\nPayee-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The merchant initiates the request and will be credited when the payer approves the request.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Payee-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Payee-Initiated Merchant Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant par loop activate Merchant Merchant->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The Merchant polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Request State Object) end and Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (3) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>Mobile Money Provider: (Authorised) end deactivate Merchant deactivate Payer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Merchant Merchant->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The Merchant can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\npayment transaction. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Object) end deactivate Merchant deactivate Mobile Money Provider Payer-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The payer initiates the request and will be debited upon successful completion of the request.\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (transactions Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has successfully compeleted. deactivate Mobile Money Provider deactivate Merchant Payer-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (Error Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has failed. deactivate Mobile Money Provider deactivate Merchant Payee-Initiated Merchant Payment using a Pre-authorised Payment Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised payment code. This in turn is presented by the payer to the merchant who initiates the payment request. Both flows in the diagram result in a callback. This flow is primarily used for payment on delivery use cases.\n\nsequenceDiagram participant Payer participant Merchant participant Mobile Money Provider Payer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits\nthe request to generate an authorisation code to the\nMMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) Mobile Money Provider->>Payer: PUT {Callback URL} (Authorisation Code Object) Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Mobile Money Provider Note right of Payer: (3) The Payer communicates the code to the merchant. This\ncan be via QR code or by verbally communicating the code. Payer->>Merchant: Communicates Code Verbally or via QR Presentment activate Payer activate Merchant activate Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay Note right of Mobile Money Provider: (4) The Merchant submits the payment request for\nprocessing to the MMP. The request will contain the\nauthorisation code. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) activate Merchant Note right of Mobile Money Provider: (5) The MMP informs the Merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Merchant deactivate Mobile Money Provider Merchant Payment Refund\n\nMerchants can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/adjustment activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the refund request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Merchant Payment Reversal\n\nIn some failure scenarios, a merchant may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the reversal request for processing\nto the MMP - passing the reference of the transaction that\nis to be reversed. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Obtain a Merchant Balance sequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Balance Object) deactivate Merchant deactivate Mobile Money Provider Retrieve Payments for a Merchant\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The Merchant requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Merchant deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /heartbeat activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Merchant deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the Merchant's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Merchant->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Merchant uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Requested Object) deactivate Merchant deactivate Mobile Money Provider Start developing\n\n\n# Introduction\n\nThe Disbursement Mobile Money APIs allow organisations to disburse funds to mobile money recipients.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         organisations to disburse payments in singular and in bulk.\nNGOs                     To understand how to implement the Mobile Money API to         API Consumer\n                         provide aid payments to mobile money recipients.\nGovernment Departments   To understand how to implement the Mobile Money API to         API Consumer\n                         provide social credit payments to mobile money recipients.\nEmployers                To understand how to implement the Mobile Money API to         API Consumer\n                         provide salary payments to mobile money recipients.\n\n\nUse case scenarios\n\nIndividual Disbursement\n\nThis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Individual Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement\n\nThis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider opt Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (3) The disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Transactions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (4) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Completions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (5) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Bulk Disbursement with Maker / Checker\n\nThis flow allows a bulk request to be processed in two steps. The first step involves the ‘maker’ system loading the request into the mobile money provider. The second step involves the ‘checker’ system approving the request.\n\nsequenceDiagram participant Disbursement Organisation Maker participant Disbursement Organisation Checker participant Mobile Money Provider Disbursement Organisation Maker->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation Maker activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation maker submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Maker Mobile Money Provider->>Disbursement Organisation Maker: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Maker Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Maker--\x3e>Mobile Money Provider: HTTP 204 opt Disbursement Organisation Maker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (3) The disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Maker deactivate Mobile Money Provider Disbursement Organisation Checker->>Mobile Money Provider: PATCH /batchtransactions/{batchId} activate Disbursement Organisation Checker activate Mobile Money Provider Note right of Mobile Money Provider: (4) The disbursement organisation checker submits a request\nto approve the transaction batch. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Checker Mobile Money Provider->>Disbursement Organisation Checker: PUT {Callback URL} (Success) activate Disbursement Organisation Checker Note right of Mobile Money Provider: (5) The MMP informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Checker--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Disbursement Organisation Checker opt activate Mobile Money Provider activate Disbursement Organisation Checker Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId} Note right of Mobile Money Provider: (6) The disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Transactions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (7) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Completions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (8) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Checker deactivate Mobile Money Provider Individual Disbursement Using the Polling Method\n\nIn this diagram, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation loop activate Disbursement Organisation Disbursement Organisation->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The disbursement organisation polls the MMP for the\nRequest State until the transaction is authorised or declied\nor until the polling limit is reached. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The disbursement organisation can use the objectReference\nreturned in the Request State to retrieve a representation of\nthe completed disbursement. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider Disbursement Reversal\n\nIn some failure scenarios, a organisation may need to reverse an individual disbursement transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the reversal\nrequest for processing to the MMP - passing the reference\nof the transaction that is to be reversed. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the The disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider Obtain a Disbursement Organisation Balance sequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Balance Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve Transactions for a Disbursement Organisation\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement\norganisation requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The disbursement\norganisation requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Disbursement Organisation deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /heartbeat activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation requests\nthe availability of the service from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Disbursement Organisation deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the disbursement organisations\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Disbursement Organisation->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Requested Object) deactivate Disbursement Organisation deactivate Mobile Money Provider Start developing\n\n\n# Introduction\n\nThe International Transfer Mobile Money APIs allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                       USAGE                                                       ROLE\nFSP - Mobile Money Providers                   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive International transfers from other FSPs.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international transfers to other FSPs.\nFSP – International Remittance Organisations   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive international remittances from Mobile Money\n                                               Providers.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international remittances to Mobile Money Providers.\nInternational Transfer Hubs                    - To understand how to implement the Mobile Money APIs to   API Provider\n                                               receive international transfers from FSPs.\n                                               - To understand how to implement the Mobile Money APIs to   API Consumer\n                                               send international transfers to FSPs.\n\n\nUse case scenarios\n\nInternational Transfer via Hub\n\nIn this diagram, a hub is used by the sending FSP to obtain a quotation and perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return the quotation and the confirmation of the transfer.\n\nThis flow can also be used for bilateral international transfers.\n\nsequenceDiagram participant Sending FSP participant International Transfer Hub participant Receiving FSP Sending FSP->>International Transfer Hub: POST /quotations activate Sending FSP activate International Transfer Hub activate Receiving FSP Note right of International Transfer Hub: (1) The Sending FSP submits a quotation request to\nthe International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request\nis 'pending'. International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of International Transfer Hub: (2) The Hub returns the quotation to the Sending FSP. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Sending FSP->>International Transfer Hub: POST /transactions/type/inttransfer activate International Transfer Hub activate Sending FSP activate Receiving FSP Note right of International Transfer Hub: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request is 'pending'. International Transfer Hub->>Receiving FSP: POST /transactions/type/inttransfer Note right of Receiving FSP: (4) The Hub in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the\nRequest State object to indicate that the request is\n'pending'. Receiving FSP--\x3e>International Transfer Hub: HTTP 202 (Request State Object) International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate International Transfer Hub deactivate Sending FSP Receiving FSP->>International Transfer Hub: PUT {Callback URL} (Transactions Object) activate International Transfer Hub activate Sending FSP Note right of Receiving FSP: (5) The FSP informs the Hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. International Transfer Hub--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of International Transfer Hub: (6) The Hub in turn informs the Sending FSP that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Bilateral International Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to obtain a quotation and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transactions Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP International Transfer Failure\n\nThe failure of a transfer is reflected by the return of an error object in the callback from the receiving FSP. The same pattern would also apply to a quotation failure.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP International Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to be reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/balance activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Obtain the balance of the\nReceiving FSP's account with\nthe Sending FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Balance Object) deactivate Sending FSP deactivate Receiving FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending FSP via multiple requests.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests up to 20\ntransactions for their account from\nthe Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Receiving FSP: (2) The Receiving FSP returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Receiving FSP: (3) The Sending FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Sending FSP deactivate Receiving FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /heartbeat activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests the\navailability of the service from the\nReceiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Heartbeat Object) Note right of Receiving FSP: (2) The Receiving FSP returns the\navailability of the service - available,\nunavailable or degraded. deactivate Sending FSP deactivate Receiving FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe Recurring Payments Mobile Money APIs allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                        ROLE\nMobile Money Providers   - To understand how to implement the Mobile Money API to     API Provider\n                         receive recurring payment requests from service providers.\n                         - To understand how to implement the Mobile Money API to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nService Providers        To understand how to implement the Mobile Money API to       API Consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nUse case scenarios\n\nSetup a Recurring Payment\n\nThis diagram illustrates the setting-up of a recurring payment via a debit mandate. The service provider initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer is requested to the MMP to\nauthorise the mandate. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>Mobile Money Provider: (Authorised) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Setup a Recurring Payment Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the recurring payment. The service provider receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer declines the request by the\nMMP to accept the debit mandate. Account Holder--\x3e>Mobile Money Provider: (Declined) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been declined by returning\nan error object. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment Failure\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate. The FSP is unable to process the payment and returns a callback containing the error object.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Take a Recurring Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider loop activate Service Provider Service Provider->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The service provider polls the MMP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Service Provider->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The service provider can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted payment. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Object) end deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Refund\n\nService Providers can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/adjustment activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Recurring Payment Reversal\n\nIn some failure scenarios, a service provider may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the reversal request for\nprocessing to the MMP - passing the reference of the\ntransaction that is to be reversed. The MMP will return the\nRequest State object to indicate that the request is\n'pending'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Payer sets up a Recurring Payment using MMP Channel\n\nThis diagram illustrates how the MM API can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequenceDiagram participant Mobile Money Provider Channel participant Mobile Money Provider Mobile Money Provider Channel->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Mobile Money Provider Channel activate Mobile Money Provider Note right of Mobile Money Provider: (1) The MMP Channel submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Mobile Money Provider Channel: HTTP 202 (Request State Object) Mobile Money Provider->>Mobile Money Provider Channel: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (2) The MMP informs the MMP Channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Mobile Money Provider Channel--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider Channel deactivate Mobile Money Provider Obtain a Service Provider Balance sequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Balance Object) deactivate Service Provider deactivate Mobile Money Provider Retrieve Payments for a Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests\nup to 20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The service provider requests\nthe remaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Service Provider deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /heartbeat activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests the\navailability of the service from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Service Provider deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the service provider's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Service Provider->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The service provider uses the link to\nobtain a representation of the missing\nresource. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Requested Object) deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Introduction\n\nThe Account Linking Mobile Money APIs allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. Conversely, mobile money providers can use the APIs to link their customers mobile money accounts to financial service providers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations. All documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                  USAGE                                                          ROLE\nFSP - Mobile Money Providers              - To understand how to implement the Mobile Money API to       API Provider\n                                          accept account linking requests from other financial service\n                                          providers.\n                                          - To understand how to implement the Mobile Money API to       API Consumer\n                                          request linking of accounts to other financial service\n                                          providers.\nFSP Banks and Microfinance Institutions   - To understand how to implement the Mobile Money API to       API Provider\n                                          accept account linking requests mobile money providers.\n                                          - To understand how to implement the Mobile Money API to       API Consumer\n                                          request linking of accounts to mobile money providers.\n\n\nUse case scenarios\n\nSetup an Account Link\n\nThis diagram illustrates the setting-up of an account link. The requesting FSP initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\nsequenceDiagram participant Requesting FPS participant FSP participant Account Holder Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links activate Requesting FPS activate FSP Note right of FSP: (1) The requesting FPS submits the debit mandate request for\nprocessing to the FSP. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object) FSP->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The account holder is requested by the\nFSP to authorise the link. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>FSP: (Authorised) deactivate Account Holder FSP->>Requesting FPS: PUT {Callback URL} (Debit Mandates Object) Note right of FSP: (3) The FSP informs the requesting FPS that the\nlink has been successfully created by\nreturning the final representation of the link. Requesting FPS--\x3e>FSP: HTTP 204 deactivate Requesting FPS deactivate FSP Setup an Account Link Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the account link. The requesting FSP receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Requesting FPS participant FSP participant Account Holder Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links activate Requesting FPS activate FSP Note right of FSP: (1) The requesting FPS submits the debit mandate request for\nprocessing to the FSP. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object) FSP->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The account holder declines the link\nrequest. Account Holder--\x3e>FSP: (Declined) deactivate Account Holder FSP->>Requesting FPS: PUT {Callback URL} (Error Object) Note right of FSP: (3) The FSP informs the requesting FPS that the\nlink has been declined by returning an error\nobject. Requesting FPS--\x3e>FSP: HTTP 204 deactivate Requesting FPS deactivate FSP Perform a Transfer for a Linked Account\n\nIn this diagram, the requesting FSP initiates a transfer to the FSP using an established link.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference\nis provided for the transfer. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP FSP->>Requesting FSP: PUT {Callback URL} (Transactions Object) activate Requesting FSP Note right of FSP: (2) The FSP informs the requesting FSP that the\ntransfer has been successfully completed by\nreturning the final representation of the\ntransaction. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP Perform a Transfer for a Linked Account - Failure\n\nIn this diagram, the requesting FSP initiates a transfer to the FSP using an established link. The FSP is unable to process the transfer and returns a callback containing the error object.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference is\nprovided for the transfer. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP FSP->>Requesting FSP: PUT {Callback URL} (Error Object) activate Requesting FSP Note right of FSP: (2) The FSP informs the requesting FSP that the\ntransfer has failed and returns the error object\ndetailing the reason for failure. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP Perform a Transfer using an Account Link via the Polling Method\n\nIn this example, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the transfer request.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference is\nprovided for the transfer. The FSP will return the Request\nState object to indicate that the request is 'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP loop activate Requesting FSP Requesting FSP->>FSP: GET /requeststates/{serverCorrelationId} Note right of FSP: (2) The requesting FSP polls the FSP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. FSP--\x3e>Requesting FSP: HTTP 200 (Request State Object) end deactivate FSP opt activate FSP Requesting FSP->>FSP: GET /transactions/transactionReference Note right of FSP: (3) The requesting FSP can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted transfer. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Object) end deactivate Requesting FSP deactivate FSP Perform a Transfer Reversal\n\nIn some failure scenarios, a requesting FSP may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/{original transaction reference}/reversals activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the reversal request for\nprocessing to the FSP - passing the reference of the\ntransaction that is to be reversed. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) FSP->>Requesting FSP: PUT {Callback URL} (Reversal Object) Note right of FSP: (2) The FSP informs the Requesting FSP that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP Obtain a Financial Service Provider Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nrequested account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transfers for a Financial Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP requests\nup to 20 transactions for the\naccount from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The requesting FSP requests\nthe remaining transactions for\nthe account from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the requesting FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /responses{clientCorrelationId} activate Requesting FSP activate FSP Note right of FSP: (1) Using the requesting FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. FSP--\x3e>Requesting FSP: HTTP 200 (Responses Object) Note right of FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Requesting FSP->>FSP: GET /{link} Note right of FSP: (3) The requesting FSP uses the link to\nobtain a representation of the missing\nresource. FSP--\x3e>Requesting FSP: HTTP 200 (Requested Object) deactivate FSP deactivate Requesting FSP Start developing\n\n\n# Introduction\n\nThe Bill Payments Mobile Money APIs allow service providers to accept bill payments from mobile money customers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                         ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to make   API Consumer\n                         bill payments to service providers.\nService Providers        To understand how to implement the Mobile Money API to        API Provider\n                         accept bill payments from Mobile Money Providers.\n\n\nUse case scenarios\n\nSuccessful Retrieval of Bills\n\nThis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Obtain all bills of a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bills Object) deactivate Mobile Money Provider deactivate Service Provider Unsuccessful Retrieval of Bills\n\nThis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Retrieve all bills for a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 4xx/5xx (Error Object) Note right of Service Provider: (2) Return the error object providing\ndetais of the failure reason. deactivate Mobile Money Provider deactivate Service Provider Make a Successful Bill Payment with Callback\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. To illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequenceDiagram participant Third Party Payment Provider participant Mobile Money Provider participant Service Provider Note right of Third Party Payment Provider: (1) The provider that enables the payer to pay\nbills submits a payment request to the MMP. Third Party Payment Provider->>Mobile Money Provider: POST /transactions/type/billpay activate Third Party Payment Provider activate Mobile Money Provider Mobile Money Provider--\x3e>Third Party Payment Provider: HTTP 202 (Request State Object) deactivate Third Party Payment Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider Note right of Service Provider: (2) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Bill Payments Object) activate Mobile Money Provider Note right of Service Provider: (3) The Service Provider informs the MMP\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider Note right of Third Party Payment Provider: (4) The MMP informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. Mobile Money Provider->>Third Party Payment Provider: PUT {Callback URL} (Transactions Object) activate Third Party Payment Provider Third Party Payment Provider--\x3e> Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Third Party Payment Provider Make an Unsuccessful Bill Payment with Callback\n\nThis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is 'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Error Object) activate Mobile Money Provider Note right of Service Provider: (2) The Service Provider informs the MMP\nthat the request failed by returning a\nrepresentation of the error object. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider Make a Bill Payment with Polling\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request for processing\nto the Service Provider. The Service Provider will return\nthe Request State object to indicate that the request is\n'pending'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider loop activate Mobile Money Provider Mobile Money Provider->>Service Provider: GET /requeststates/{serverCorrelationId} Note right of Service Provider: (2) The MMP polls the Service Provider for the Request State\nuntil the bill payment is processed or until the polling limit is\nreached. The request state will return the final status of the\nrequired, i.e. completed or failed. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Request State Object) end deactivate Service Provider deactivate Mobile Money Provider Retrieval of Bill Payments\n\nThis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=0&limit=10 activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests up to 10 bill\npayments for the account from the\nService Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) Note right of Service Provider: (2) The Service Provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=10&limit=10 Note right of Service Provider: (3) The MMP requests the remaining\nbill payments for the account\nfrom the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) deactivate Mobile Money Provider deactivate Service Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the Service Provider is in a state that enables an FSP to submit a request for processing.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /heartbeat activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests the availability of the\nservice from the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Heartbeat Object) Note right of Service Provider: (2) The Service Provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate Mobile Money Provider deactivate Service Provider Start developing\n\n\n# Introduction\n\nAgent Services comprises of the following:\n\n\n\nCash-in and Cash-out Services\n\n * Agent-initiated Cash-out. The agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * Customer-initiated Cash-out. The mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * Cash-out via Authorisation Code. The customer generates an authorisation code up to a maximum amount. The agent then enters or scans (if rendered as a QR code) the code to perform the withdrawal.\n * Cash-in. The agent initiates the cash-in by entering the customer account identifier(s).\n\nClosed loop and open-loop agent cash-in and cash-out are supported by the Mobile Money API. Closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. Open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nAgents can be physical agents, i.e. customers that are serviced by an human, or can be an ATM.\n\n\n\nCustomer Account Services\n\n * Customer Registration. Agents can register new customers for mobile money.\n * KYC Verification. Agents that provide KYC verification services can confirm that they have verified customer KYC.\n   \n   \n\nFurther Reading\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer KYC verification services on behalf of mobile\n                         money customers.\nAgents                   To understand how to implement the Mobile Money API to         API Consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and KYC verification.\n\n\nUse case scenarios\n\nAgent-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Agent-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. The customer\ndeclines the request or the request times-\nout. Customer--\x3e>Mobile Money Provider: (Declined or Timeout) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Error Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Agent-initiated Cash-out using the Polling Method\n\nIn this example, an asynchronous cash-out flow is used with the polling method. The client polls against the request state object to determine the outcome of the cash-out request.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the cash-out request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent par loop activate Agent Agent->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The agent polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Agent: HTTP 200 (Request State Object) end and Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (3) The Customer is requested to the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) end deactivate Agent deactivate Customer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Agent Agent->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The agent can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\ncash-out transaction. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Object) end deactivate Agent deactivate Mobile Money Provider Customer-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Transactions Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has successfully compeleted. deactivate Mobile Money Provider deactivate Agent Customer-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Error Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has failed. deactivate Mobile Money Provider deactivate Agent Customer Cash-out at an ATM using an Authorisation Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised code. This in turn is presented by the withdrawing customer to the ATM which then initiates the cash-out request. Both flows in the diagram result in a callback.\n\nsequenceDiagram participant Customer participant ATM participant Mobile Money Provider Customer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer's channel (e.g. Mobile Money App)\nsubmits the request to generate an authorisation code\nto the MMP. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) Mobile Money Provider->>Customer: PUT {Callback URL} (Authorisation Codes Object) Note right of Mobile Money Provider: (2) The MMP informs the customer's channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer deactivate Mobile Money Provider Note right of Customer: (3) The customer enters the code into the ATM. Customer->>ATM: Code Entry activate Customer activate ATM activate Mobile Money Provider ATM->>Mobile Money Provider: POST /transactions/type/withdrawal Note right of Mobile Money Provider: (4) The ATM submits the cash-out request for processing\nto the MMP. The request will contain the authorisation\ncode. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>ATM: HTTP 202 (Request State Object) deactivate ATM Mobile Money Provider->>ATM: PUT {Callback URL} (Transactions Object) activate ATM Note right of Mobile Money Provider: (5) The MMP informs the ATM that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. ATM--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider ATM->>Customer: Notify deactivate Customer deactivate ATM Agent-initiated Customer Cash-in\n\nIn this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. The final result is returned in the callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/accountname activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves the name of the depositing customer\nand will check that the name is correct. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Holder Name Object) Agent->>Mobile Money Provider: POST /transactions/type/deposit Note right of Mobile Money Provider: (2) The agent submits the cash-in request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent activate Customer Mobile Money Provider->>Customer: Notify Note right of Customer: (4) The MMP notifies the customer that the\ncash-in has successfully compeleted. deactivate Mobile Money Provider deactivate Customer Cash-out Reversal\n\nIn some failure scenarios, an agent may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the reversal request for processing to\nthe MMP - passing the reference of the transaction that is\nto be reversed. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Register a Customer Mobile Money Account\n\nIn this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /accounts/individual activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the account\nregistration request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Account Object) Note right of Mobile Money Provider: (2) The MMP informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Verify a Customer’s KYC\n\nIn this diagram, an agent verifies the physical KYC provided by the customer against details held by the mobile money provider and informs the provider that the KYC has been successfully verified.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves account\ninformation from the MMP which\nincludes the customer's KYC\ndetails. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Object) Agent->>Mobile Money Provider: PATCH /accounts/{identifierType}/{identifier}/identities/{identityId} Note right of Mobile Money Provider: (2) The agent submits the KYC\nverification request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n'pending'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Success) Note right of Mobile Money Provider: (3) The MMP informs the agent that\nthe verification request has been\nsuccessfully processed. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider Obtain an Agent Balance sequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Agent: HTTP 200 (Balance Object) deactivate Agent deactivate Mobile Money Provider Retrieve Transactions for an Agent\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests up to 20\ntransactions for the account\nfrom the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The agent requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Agent deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /heartbeat activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Agent deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the agent's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Agent: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Agent->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Agent uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Agent: HTTP 200 (Requested Object) deactivate Agent deactivate Mobile Money Provider Start developing\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"mobile money providers are companies that operate an electronic wallet which allows users to send, receive and store money using their mobile phone.\n\nmobile money providers can use the gsma api specification to simplify the integration process and to connect with many third party service providers at scale enabling further revenue streams.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\nuse case scenarios\n\np2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp submits a quotation\nrequest to the switch. the switch will return the request state object to indicate that the request\nis 'pending'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the receiving fsp.\nthe receiving fsp will return the request state object to indicate\nthat the request is 'pending'. receiving fsp--\x3e>switch: http 200 (request state object) switch--\x3e>sending fsp: http 200 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the transaction has succesfully complteted\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer request to the swith. the switch\nwill return the request state object to indicate that the request is 'pending'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the request state object\nto indicate that the request is 'pending'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the transaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp submits a transfer request.\nthe receiving fsp will return the request state object to indicate that the request is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the transation has been succesfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp's account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe merchant payment mobile money apis allow merchants to accept payments from mobile money customers. supported payment mechanisms include:\n\n * payee-initiated merchant payment. the merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * payer-initiated merchant payment. the payer initiates the payment by specifying the merchant that is to be paid.\n * merchant payment via pre-authorised payment code. the payer generates a payment authorisation code up to a maximum payment amount. the merchant then enters or scans (if rendered as a qr code) the payer’s code to perform the payment.\n\nclosed loop and open-loop merchant payments are supported by the mobile money api. closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. open loop payments occur where the payer and payee accounts reside with different mobile money providers. for further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                    role\nmobile money providers   to understand how to implement the mobile money api to   api provider\n                         receive payments from merchants.\nmerchants                to understand how to implement the mobile money api to   api consumer\n                         accept mobile money payments.\n\n\nuse case scenarios\n\npayee-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the merchant initiates the request and will be credited when the payer approves the request.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider payee-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider payee-initiated merchant payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant par loop activate merchant merchant->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the merchant polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>merchant: http 200 (request state object) end and mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (3) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>mobile money provider: (authorised) end deactivate merchant deactivate payer deactivate mobile money provider opt activate mobile money provider activate merchant merchant->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the merchant can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\npayment transaction. mobile money provider--\x3e>merchant: http 200 (transactions object) end deactivate merchant deactivate mobile money provider payer-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the payer initiates the request and will be debited upon successful completion of the request.\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (transactions object) activate payer note right of mobile money provider: (2) the mmp informs the payer's channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has successfully compeleted. deactivate mobile money provider deactivate merchant payer-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (error object) activate payer note right of mobile money provider: (2) the mmp informs the payer's channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has failed. deactivate mobile money provider deactivate merchant payee-initiated merchant payment using a pre-authorised payment code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised payment code. this in turn is presented by the payer to the merchant who initiates the payment request. both flows in the diagram result in a callback. this flow is primarily used for payment on delivery use cases.\n\nsequencediagram participant payer participant merchant participant mobile money provider payer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits\nthe request to generate an authorisation code to the\nmmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) mobile money provider->>payer: put {callback url} (authorisation code object) note right of mobile money provider: (2) the mmp informs the payer's channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. payer--\x3e>mobile money provider: http 204 deactivate payer deactivate mobile money provider note right of payer: (3) the payer communicates the code to the merchant. this\ncan be via qr code or by verbally communicating the code. payer->>merchant: communicates code verbally or via qr presentment activate payer activate merchant activate mobile money provider merchant->>mobile money provider: post /transactions/type/merchantpay note right of mobile money provider: (4) the merchant submits the payment request for\nprocessing to the mmp. the request will contain the\nauthorisation code. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>merchant: put {callback url} (transactions object) activate merchant note right of mobile money provider: (5) the mmp informs the merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate payer deactivate merchant deactivate mobile money provider merchant payment refund\n\nmerchants can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/type/adjustment activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the refund request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider merchant payment reversal\n\nin some failure scenarios, a merchant may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/{original transaction reference}/reversals activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the reversal request for processing\nto the mmp - passing the reference of the transaction that\nis to be reversed. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider obtain a merchant balance sequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate merchant activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>merchant: http 200 (balance object) deactivate merchant deactivate mobile money provider retrieve payments for a merchant\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the merchant requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) deactivate merchant deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /heartbeat activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests the availability\nof the service from the mmp. mobile money provider--\x3e>merchant: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate merchant deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /responses{clientcorrelationid} activate merchant activate mobile money provider note right of mobile money provider: (1) using the merchant's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>merchant: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. merchant->>mobile money provider: get /{link} note right of mobile money provider: (3) the merchant uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>merchant: http 200 (requested object) deactivate merchant deactivate mobile money provider start developing\n\n\n# introduction\n\nthe disbursement mobile money apis allow organisations to disburse funds to mobile money recipients.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         organisations to disburse payments in singular and in bulk.\nngos                     to understand how to implement the mobile money api to         api consumer\n                         provide aid payments to mobile money recipients.\ngovernment departments   to understand how to implement the mobile money api to         api consumer\n                         provide social credit payments to mobile money recipients.\nemployers                to understand how to implement the mobile money api to         api consumer\n                         provide salary payments to mobile money recipients.\n\n\nuse case scenarios\n\nindividual disbursement\n\nthis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider individual disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement\n\nthis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (batch transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider opt disbursement organisation->>mobile money provider: get /batchtransactions/{batchid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (3) the disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. mobile money provider--\x3e>disbursement organisation: http 200 (batch transactions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (4) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. mobile money provider--\x3e>disbursement organisation: http 200 (batch completions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (5) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. mobile money provider--\x3e>disbursement organisation: http 200 (batch rejections object) end deactivate disbursement organisation deactivate mobile money provider bulk disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider bulk disbursement with maker / checker\n\nthis flow allows a bulk request to be processed in two steps. the first step involves the ‘maker’ system loading the request into the mobile money provider. the second step involves the ‘checker’ system approving the request.\n\nsequencediagram participant disbursement organisation maker participant disbursement organisation checker participant mobile money provider disbursement organisation maker->>mobile money provider: post /batchtransactions activate disbursement organisation maker activate mobile money provider note right of mobile money provider: (1) the disbursement organisation maker submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is 'pending'. mobile money provider--\x3e>disbursement organisation maker: http 202 (request state object) deactivate disbursement organisation maker mobile money provider->>disbursement organisation maker: put {callback url} (batch transactions object) activate disbursement organisation maker note right of mobile money provider: (2) the mmp informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation maker--\x3e>mobile money provider: http 204 opt disbursement organisation maker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (3) the disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation maker: http 200 (batch rejections object) end deactivate disbursement organisation maker deactivate mobile money provider disbursement organisation checker->>mobile money provider: patch /batchtransactions/{batchid} activate disbursement organisation checker activate mobile money provider note right of mobile money provider: (4) the disbursement organisation checker submits a request\nto approve the transaction batch. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>disbursement organisation checker: http 202 (request state object) deactivate disbursement organisation checker mobile money provider->>disbursement organisation checker: put {callback url} (success) activate disbursement organisation checker note right of mobile money provider: (5) the mmp informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation checker--\x3e>mobile money provider: http 204 deactivate mobile money provider deactivate disbursement organisation checker opt activate mobile money provider activate disbursement organisation checker disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid} note right of mobile money provider: (6) the disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch transactions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (7) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch completions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (8) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch rejections object) end deactivate disbursement organisation checker deactivate mobile money provider individual disbursement using the polling method\n\nin this diagram, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the individual disbursement request.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation loop activate disbursement organisation disbursement organisation->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the disbursement organisation polls the mmp for the\nrequest state until the transaction is authorised or declied\nor until the polling limit is reached. mobile money provider--\x3e>disbursement organisation: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider disbursement organisation->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the disbursement organisation can use the objectreference\nreturned in the request state to retrieve a representation of\nthe completed disbursement. mobile money provider--\x3e>disbursement organisation: http 200 (transactions object) end deactivate disbursement organisation deactivate mobile money provider disbursement reversal\n\nin some failure scenarios, a organisation may need to reverse an individual disbursement transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/{original transaction reference}/reversals activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the reversal\nrequest for processing to the mmp - passing the reference\nof the transaction that is to be reversed. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) mobile money provider->>disbursement organisation: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the the disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider obtain a disbursement organisation balance sequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>disbursement organisation: http 200 (balance object) deactivate disbursement organisation deactivate mobile money provider retrieve transactions for a disbursement organisation\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement\norganisation requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the disbursement\norganisation requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) deactivate disbursement organisation deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /heartbeat activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation requests\nthe availability of the service from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate disbursement organisation deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /responses{clientcorrelationid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) using the disbursement organisations\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>disbursement organisation: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. disbursement organisation->>mobile money provider: get /{link} note right of mobile money provider: (3) the disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. mobile money provider--\x3e>disbursement organisation: http 200 (requested object) deactivate disbursement organisation deactivate mobile money provider start developing\n\n\n# introduction\n\nthe international transfer mobile money apis allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                       usage                                                       role\nfsp - mobile money providers                   - to understand how to implement the mobile money api to    api provider\n                                               receive international transfers from other fsps.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international transfers to other fsps.\nfsp – international remittance organisations   - to understand how to implement the mobile money api to    api provider\n                                               receive international remittances from mobile money\n                                               providers.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international remittances to mobile money providers.\ninternational transfer hubs                    - to understand how to implement the mobile money apis to   api provider\n                                               receive international transfers from fsps.\n                                               - to understand how to implement the mobile money apis to   api consumer\n                                               send international transfers to fsps.\n\n\nuse case scenarios\n\ninternational transfer via hub\n\nin this diagram, a hub is used by the sending fsp to obtain a quotation and perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return the quotation and the confirmation of the transfer.\n\nthis flow can also be used for bilateral international transfers.\n\nsequencediagram participant sending fsp participant international transfer hub participant receiving fsp sending fsp->>international transfer hub: post /quotations activate sending fsp activate international transfer hub activate receiving fsp note right of international transfer hub: (1) the sending fsp submits a quotation request to\nthe international remittance hub. the hub will return the\nrequest state object to indicate that the request\nis 'pending'. international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp international transfer hub->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of international transfer hub: (2) the hub returns the quotation to the sending fsp. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp sending fsp->>international transfer hub: post /transactions/type/inttransfer activate international transfer hub activate sending fsp activate receiving fsp note right of international transfer hub: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the international remittance hub. the hub will return the\nrequest state object to indicate that the request is 'pending'. international transfer hub->>receiving fsp: post /transactions/type/inttransfer note right of receiving fsp: (4) the hub in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the\nrequest state object to indicate that the request is\n'pending'. receiving fsp--\x3e>international transfer hub: http 202 (request state object) international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate international transfer hub deactivate sending fsp receiving fsp->>international transfer hub: put {callback url} (transactions object) activate international transfer hub activate sending fsp note right of receiving fsp: (5) the fsp informs the hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. international transfer hub--\x3e>receiving fsp: http 204 deactivate receiving fsp international transfer hub->>sending fsp: put {callback url} (transactions object) note right of international transfer hub: (6) the hub in turn informs the sending fsp that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp bilateral international transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to obtain a quotation and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transactions object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp international transfer failure\n\nthe failure of a transfer is reflected by the return of an error object in the callback from the receiving fsp. the same pattern would also apply to a quotation failure.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp international transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to be reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/balance activate sending fsp activate receiving fsp note right of receiving fsp: (1) obtain the balance of the\nreceiving fsp's account with\nthe sending fsp. receiving fsp--\x3e>sending fsp: http 200 (balance object) deactivate sending fsp deactivate receiving fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending fsp via multiple requests.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests up to 20\ntransactions for their account from\nthe receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) note right of receiving fsp: (2) the receiving fsp returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of receiving fsp: (3) the sending fsp requests the\nremaining transactions from the\naccount from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) deactivate sending fsp deactivate receiving fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /heartbeat activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests the\navailability of the service from the\nreceiving fsp. receiving fsp--\x3e>sending fsp: http 200 (heartbeat object) note right of receiving fsp: (2) the receiving fsp returns the\navailability of the service - available,\nunavailable or degraded. deactivate sending fsp deactivate receiving fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. receiving fsp--\x3e>sending fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe recurring payments mobile money apis allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                        role\nmobile money providers   - to understand how to implement the mobile money api to     api provider\n                         receive recurring payment requests from service providers.\n                         - to understand how to implement the mobile money api to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nservice providers        to understand how to implement the mobile money api to       api consumer\n                         request recurring payment mandates against mobile money\n                         accounts.\n\n\nuse case scenarios\n\nsetup a recurring payment\n\nthis diagram illustrates the setting-up of a recurring payment via a debit mandate. the service provider initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer is requested to the mmp to\nauthorise the mandate. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>mobile money provider: (authorised) deactivate account holder mobile money provider->>service provider: put {callback url} (debit mandates object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider setup a recurring payment failure\n\nin this diagram, the account holder declines to provide authorisation to setup the recurring payment. the service provider receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer declines the request by the\nmmp to accept the debit mandate. account holder--\x3e>mobile money provider: (declined) deactivate account holder mobile money provider->>service provider: put {callback url} (error object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been declined by returning\nan error object. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (transactions object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment failure\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate. the fsp is unable to process the payment and returns a callback containing the error object.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (error object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider take a recurring payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider loop activate service provider service provider->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the service provider polls the mmp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. mobile money provider--\x3e>service provider: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider service provider->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the service provider can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted payment. mobile money provider--\x3e>service provider: http 200 (transactions object) end deactivate service provider deactivate mobile money provider recurring payment refund\n\nservice providers can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/adjustment activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider recurring payment reversal\n\nin some failure scenarios, a service provider may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/{original transaction reference}/reversals activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the reversal request for\nprocessing to the mmp - passing the reference of the\ntransaction that is to be reversed. the mmp will return the\nrequest state object to indicate that the request is\n'pending'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider payer sets up a recurring payment using mmp channel\n\nthis diagram illustrates how the mm api can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\nsequencediagram participant mobile money provider channel participant mobile money provider mobile money provider channel->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate mobile money provider channel activate mobile money provider note right of mobile money provider: (1) the mmp channel submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>mobile money provider channel: http 202 (request state object) mobile money provider->>mobile money provider channel: put {callback url} (debit mandates object) note right of mobile money provider: (2) the mmp informs the mmp channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. mobile money provider channel--\x3e>mobile money provider: http 204 deactivate mobile money provider channel deactivate mobile money provider obtain a service provider balance sequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate service provider activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>service provider: http 200 (balance object) deactivate service provider deactivate mobile money provider retrieve payments for a service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests\nup to 20 transactions for the\naccount from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the service provider requests\nthe remaining transactions for\nthe account from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) deactivate service provider deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /heartbeat activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests the\navailability of the service from the mmp. mobile money provider--\x3e>service provider: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate service provider deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /responses{clientcorrelationid} activate service provider activate mobile money provider note right of mobile money provider: (1) using the service provider's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>service provider: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. service provider->>mobile money provider: get /{link} note right of mobile money provider: (3) the service provider uses the link to\nobtain a representation of the missing\nresource. mobile money provider--\x3e>service provider: http 200 (requested object) deactivate mobile money provider deactivate service provider start developing\n\n\n# introduction\n\nthe account linking mobile money apis allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. conversely, mobile money providers can use the apis to link their customers mobile money accounts to financial service providers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations. all documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                  usage                                                          role\nfsp - mobile money providers              - to understand how to implement the mobile money api to       api provider\n                                          accept account linking requests from other financial service\n                                          providers.\n                                          - to understand how to implement the mobile money api to       api consumer\n                                          request linking of accounts to other financial service\n                                          providers.\nfsp banks and microfinance institutions   - to understand how to implement the mobile money api to       api provider\n                                          accept account linking requests mobile money providers.\n                                          - to understand how to implement the mobile money api to       api consumer\n                                          request linking of accounts to mobile money providers.\n\n\nuse case scenarios\n\nsetup an account link\n\nthis diagram illustrates the setting-up of an account link. the requesting fsp initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\nsequencediagram participant requesting fps participant fsp participant account holder requesting fps->>fsp: post /accounts/{identifiertype}/{identifier}/links activate requesting fps activate fsp note right of fsp: (1) the requesting fps submits the debit mandate request for\nprocessing to the fsp. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fps: http 202 (request state object) fsp->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the account holder is requested by the\nfsp to authorise the link. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>fsp: (authorised) deactivate account holder fsp->>requesting fps: put {callback url} (debit mandates object) note right of fsp: (3) the fsp informs the requesting fps that the\nlink has been successfully created by\nreturning the final representation of the link. requesting fps--\x3e>fsp: http 204 deactivate requesting fps deactivate fsp setup an account link failure\n\nin this diagram, the account holder declines to provide authorisation to setup the account link. the requesting fsp receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant requesting fps participant fsp participant account holder requesting fps->>fsp: post /accounts/{identifiertype}/{identifier}/links activate requesting fps activate fsp note right of fsp: (1) the requesting fps submits the debit mandate request for\nprocessing to the fsp. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fps: http 202 (request state object) fsp->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the account holder declines the link\nrequest. account holder--\x3e>fsp: (declined) deactivate account holder fsp->>requesting fps: put {callback url} (error object) note right of fsp: (3) the fsp informs the requesting fps that the\nlink has been declined by returning an error\nobject. requesting fps--\x3e>fsp: http 204 deactivate requesting fps deactivate fsp perform a transfer for a linked account\n\nin this diagram, the requesting fsp initiates a transfer to the fsp using an established link.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference\nis provided for the transfer. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp fsp->>requesting fsp: put {callback url} (transactions object) activate requesting fsp note right of fsp: (2) the fsp informs the requesting fsp that the\ntransfer has been successfully completed by\nreturning the final representation of the\ntransaction. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp perform a transfer for a linked account - failure\n\nin this diagram, the requesting fsp initiates a transfer to the fsp using an established link. the fsp is unable to process the transfer and returns a callback containing the error object.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference is\nprovided for the transfer. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp fsp->>requesting fsp: put {callback url} (error object) activate requesting fsp note right of fsp: (2) the fsp informs the requesting fsp that the\ntransfer has failed and returns the error object\ndetailing the reason for failure. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp perform a transfer using an account link via the polling method\n\nin this example, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the transfer request.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference is\nprovided for the transfer. the fsp will return the request\nstate object to indicate that the request is 'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp loop activate requesting fsp requesting fsp->>fsp: get /requeststates/{servercorrelationid} note right of fsp: (2) the requesting fsp polls the fsp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. fsp--\x3e>requesting fsp: http 200 (request state object) end deactivate fsp opt activate fsp requesting fsp->>fsp: get /transactions/transactionreference note right of fsp: (3) the requesting fsp can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted transfer. fsp--\x3e>requesting fsp: http 200 (transactions object) end deactivate requesting fsp deactivate fsp perform a transfer reversal\n\nin some failure scenarios, a requesting fsp may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/{original transaction reference}/reversals activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the reversal request for\nprocessing to the fsp - passing the reference of the\ntransaction that is to be reversed. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. fsp--\x3e>requesting fsp: http 202 (request state object) fsp->>requesting fsp: put {callback url} (reversal object) note right of fsp: (2) the fsp informs the requesting fsp that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp obtain a financial service provider balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequested account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transfers for a financial service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests\nup to 20 transactions for the\naccount from the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests\nthe remaining transactions for\nthe account from the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the requesting fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /responses{clientcorrelationid} activate requesting fsp activate fsp note right of fsp: (1) using the requesting fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. fsp--\x3e>requesting fsp: http 200 (responses object) note right of fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. requesting fsp->>fsp: get /{link} note right of fsp: (3) the requesting fsp uses the link to\nobtain a representation of the missing\nresource. fsp--\x3e>requesting fsp: http 200 (requested object) deactivate fsp deactivate requesting fsp start developing\n\n\n# introduction\n\nthe bill payments mobile money apis allow service providers to accept bill payments from mobile money customers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                         role\nmobile money providers   to understand how to implement the mobile money api to make   api consumer\n                         bill payments to service providers.\nservice providers        to understand how to implement the mobile money api to        api provider\n                         accept bill payments from mobile money providers.\n\n\nuse case scenarios\n\nsuccessful retrieval of bills\n\nthis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) obtain all bills of a given account. service provider--\x3e>mobile money provider: http 200 (bills object) deactivate mobile money provider deactivate service provider unsuccessful retrieval of bills\n\nthis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) retrieve all bills for a given account. service provider--\x3e>mobile money provider: http 4xx/5xx (error object) note right of service provider: (2) return the error object providing\ndetais of the failure reason. deactivate mobile money provider deactivate service provider make a successful bill payment with callback\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. to illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\nsequencediagram participant third party payment provider participant mobile money provider participant service provider note right of third party payment provider: (1) the provider that enables the payer to pay\nbills submits a payment request to the mmp. third party payment provider->>mobile money provider: post /transactions/type/billpay activate third party payment provider activate mobile money provider mobile money provider--\x3e>third party payment provider: http 202 (request state object) deactivate third party payment provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider note right of service provider: (2) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (bill payments object) activate mobile money provider note right of service provider: (3) the service provider informs the mmp\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. mobile money provider--\x3e>service provider: http 204 deactivate service provider note right of third party payment provider: (4) the mmp informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. mobile money provider->>third party payment provider: put {callback url} (transactions object) activate third party payment provider third party payment provider--\x3e> mobile money provider: http 204 deactivate mobile money provider deactivate third party payment provider make an unsuccessful bill payment with callback\n\nthis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is 'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (error object) activate mobile money provider note right of service provider: (2) the service provider informs the mmp\nthat the request failed by returning a\nrepresentation of the error object. mobile money provider--\x3e>service provider: http 204 deactivate service provider deactivate mobile money provider make a bill payment with polling\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request for processing\nto the service provider. the service provider will return\nthe request state object to indicate that the request is\n'pending'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider loop activate mobile money provider mobile money provider->>service provider: get /requeststates/{servercorrelationid} note right of service provider: (2) the mmp polls the service provider for the request state\nuntil the bill payment is processed or until the polling limit is\nreached. the request state will return the final status of the\nrequired, i.e. completed or failed. service provider--\x3e>mobile money provider: http 200 (request state object) end deactivate service provider deactivate mobile money provider retrieval of bill payments\n\nthis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=0&limit=10 activate mobile money provider activate service provider note right of service provider: (1) the mmp requests up to 10 bill\npayments for the account from the\nservice provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) note right of service provider: (2) the service provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=10&limit=10 note right of service provider: (3) the mmp requests the remaining\nbill payments for the account\nfrom the service provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) deactivate mobile money provider deactivate service provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the service provider is in a state that enables an fsp to submit a request for processing.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /heartbeat activate mobile money provider activate service provider note right of service provider: (1) the mmp requests the availability of the\nservice from the service provider. service provider--\x3e>mobile money provider: http 200 (heartbeat object) note right of service provider: (2) the service provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate mobile money provider deactivate service provider start developing\n\n\n# introduction\n\nagent services comprises of the following:\n\n\n\ncash-in and cash-out services\n\n * agent-initiated cash-out. the agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * customer-initiated cash-out. the mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * cash-out via authorisation code. the customer generates an authorisation code up to a maximum amount. the agent then enters or scans (if rendered as a qr code) the code to perform the withdrawal.\n * cash-in. the agent initiates the cash-in by entering the customer account identifier(s).\n\nclosed loop and open-loop agent cash-in and cash-out are supported by the mobile money api. closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nagents can be physical agents, i.e. customers that are serviced by an human, or can be an atm.\n\n\n\ncustomer account services\n\n * customer registration. agents can register new customers for mobile money.\n * kyc verification. agents that provide kyc verification services can confirm that they have verified customer kyc.\n   \n   \n\nfurther reading\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer kyc verification services on behalf of mobile\n                         money customers.\nagents                   to understand how to implement the mobile money api to         api consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and kyc verification.\n\n\nuse case scenarios\n\nagent-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) deactivate customer mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider agent-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. the customer\ndeclines the request or the request times-\nout. customer--\x3e>mobile money provider: (declined or timeout) deactivate customer mobile money provider->>agent: put {callback url} (error object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider agent-initiated cash-out using the polling method\n\nin this example, an asynchronous cash-out flow is used with the polling method. the client polls against the request state object to determine the outcome of the cash-out request.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the cash-out request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent par loop activate agent agent->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the agent polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>agent: http 200 (request state object) end and mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (3) the customer is requested to the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) end deactivate agent deactivate customer deactivate mobile money provider opt activate mobile money provider activate agent agent->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the agent can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\ncash-out transaction. mobile money provider--\x3e>agent: http 200 (transactions object) end deactivate agent deactivate mobile money provider customer-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (transactions object) activate customer note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has successfully compeleted. deactivate mobile money provider deactivate agent customer-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (error object) activate customer note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has failed. deactivate mobile money provider deactivate agent customer cash-out at an atm using an authorisation code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised code. this in turn is presented by the withdrawing customer to the atm which then initiates the cash-out request. both flows in the diagram result in a callback.\n\nsequencediagram participant customer participant atm participant mobile money provider customer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate customer activate mobile money provider note right of mobile money provider: (1) the customer's channel (e.g. mobile money app)\nsubmits the request to generate an authorisation code\nto the mmp. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>customer: http 202 (request state object) mobile money provider->>customer: put {callback url} (authorisation codes object) note right of mobile money provider: (2) the mmp informs the customer's channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. customer--\x3e>mobile money provider: http 204 deactivate customer deactivate mobile money provider note right of customer: (3) the customer enters the code into the atm. customer->>atm: code entry activate customer activate atm activate mobile money provider atm->>mobile money provider: post /transactions/type/withdrawal note right of mobile money provider: (4) the atm submits the cash-out request for processing\nto the mmp. the request will contain the authorisation\ncode. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>atm: http 202 (request state object) deactivate atm mobile money provider->>atm: put {callback url} (transactions object) activate atm note right of mobile money provider: (5) the mmp informs the atm that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. atm--\x3e>mobile money provider: http 204 deactivate mobile money provider atm->>customer: notify deactivate customer deactivate atm agent-initiated customer cash-in\n\nin this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. the final result is returned in the callback.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/accountname activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves the name of the depositing customer\nand will check that the name is correct. mobile money provider--\x3e>agent: http 200 (account holder name object) agent->>mobile money provider: post /transactions/type/deposit note right of mobile money provider: (2) the agent submits the cash-in request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent activate customer mobile money provider->>customer: notify note right of customer: (4) the mmp notifies the customer that the\ncash-in has successfully compeleted. deactivate mobile money provider deactivate customer cash-out reversal\n\nin some failure scenarios, an agent may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /transactions/{original transaction reference}/reversals activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the reversal request for processing to\nthe mmp - passing the reference of the transaction that is\nto be reversed. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider register a customer mobile money account\n\nin this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /accounts/individual activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the account\nregistration request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (account object) note right of mobile money provider: (2) the mmp informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider verify a customer’s kyc\n\nin this diagram, an agent verifies the physical kyc provided by the customer against details held by the mobile money provider and informs the provider that the kyc has been successfully verified.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier} activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves account\ninformation from the mmp which\nincludes the customer's kyc\ndetails. mobile money provider--\x3e>agent: http 200 (account object) agent->>mobile money provider: patch /accounts/{identifiertype}/{identifier}/identities/{identityid} note right of mobile money provider: (2) the agent submits the kyc\nverification request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n'pending'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (success) note right of mobile money provider: (3) the mmp informs the agent that\nthe verification request has been\nsuccessfully processed. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider obtain an agent balance sequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate agent activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>agent: http 200 (balance object) deactivate agent deactivate mobile money provider retrieve transactions for an agent\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests up to 20\ntransactions for the account\nfrom the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the agent requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) deactivate agent deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /heartbeat activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests the availability\nof the service from the mmp. mobile money provider--\x3e>agent: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate agent deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /responses{clientcorrelationid} activate agent activate mobile money provider note right of mobile money provider: (1) using the agent's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>agent: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. agent->>mobile money provider: get /{link} note right of mobile money provider: (3) the agent uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>agent: http 200 (requested object) deactivate agent deactivate mobile money provider start developing\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Payment Service Providers & Payment Aggregators",frontmatter:{pageClass:"industry-page custom",title:"Payment Service Providers & Payment Aggregators"},regularPath:"/payment-service-providers-and-payment-aggregators/",relativePath:"payment-service-providers-and-payment-aggregators/index.md",key:"v-15153551",path:"/payment-service-providers-and-payment-aggregators/",headers:[{level:2,title:"Use cases",slug:"use-cases",normalizedTitle:"use cases",charIndex:359},{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:384},{level:2,title:"Introduction",slug:"introduction-2",normalizedTitle:"introduction",charIndex:384},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:14730},{level:2,title:"Introduction",slug:"introduction-3",normalizedTitle:"introduction",charIndex:384},{level:2,title:"Intended Audience",slug:"intended-audience-2",normalizedTitle:"intended audience",charIndex:14730},{level:2,title:"Testimonials",slug:"testimonials",normalizedTitle:"testimonials",charIndex:43680},{level:2,title:"Ready to explore?",slug:"ready-to-explore",normalizedTitle:"ready to explore?",charIndex:44008}],headersStr:"Use cases Introduction Introduction Intended Audience Introduction Intended Audience Testimonials Ready to explore?",content:"Providers of payment services such as aggregators and hub that act as mediators. They help connect organisations with many other organisations using a single connection point.\n\nThe GSMA API Specification can be used by payment aggregators and hubs to speed up the integration time and simplify the complexity when working at large scale with multiple APIs.\n\n\n# Use cases\n\n{{ tab }}\n\n\n# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\nUse case scenarios\n\nP2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP submits a quotation\nrequest to the Switch. The Switch will return the Request State object to indicate that the request\nis 'pending'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the Receiving FSP.\nThe Receiving FSP will return the Request State object to indicate\nthat the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 200 (Request State Object) Switch--\x3e>Sending FSP: HTTP 200 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the transaction has succesfully complteted\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer request to the Swith. The Switch\nwill return the Request State object to indicate that the request is 'pending'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the Request State object\nto indicate that the request is 'pending'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the transaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the intended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP submits a transfer request.\nThe Receiving FSP will return the Request State object to indicate that the request is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the transation has been succesfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n'pending'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP's account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe International Transfer Mobile Money APIs allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                       USAGE                                                       ROLE\nFSP - Mobile Money Providers                   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive International transfers from other FSPs.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international transfers to other FSPs.\nFSP – International Remittance Organisations   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive international remittances from Mobile Money\n                                               Providers.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international remittances to Mobile Money Providers.\nInternational Transfer Hubs                    - To understand how to implement the Mobile Money APIs to   API Provider\n                                               receive international transfers from FSPs.\n                                               - To understand how to implement the Mobile Money APIs to   API Consumer\n                                               send international transfers to FSPs.\n\n\nUse case scenarios\n\nInternational Transfer via Hub\n\nIn this diagram, a hub is used by the sending FSP to obtain a quotation and perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return the quotation and the confirmation of the transfer.\n\nThis flow can also be used for bilateral international transfers.\n\nsequenceDiagram participant Sending FSP participant International Transfer Hub participant Receiving FSP Sending FSP->>International Transfer Hub: POST /quotations activate Sending FSP activate International Transfer Hub activate Receiving FSP Note right of International Transfer Hub: (1) The Sending FSP submits a quotation request to\nthe International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request\nis 'pending'. International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of International Transfer Hub: (2) The Hub returns the quotation to the Sending FSP. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Sending FSP->>International Transfer Hub: POST /transactions/type/inttransfer activate International Transfer Hub activate Sending FSP activate Receiving FSP Note right of International Transfer Hub: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request is 'pending'. International Transfer Hub->>Receiving FSP: POST /transactions/type/inttransfer Note right of Receiving FSP: (4) The Hub in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the\nRequest State object to indicate that the request is\n'pending'. Receiving FSP--\x3e>International Transfer Hub: HTTP 202 (Request State Object) International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate International Transfer Hub deactivate Sending FSP Receiving FSP->>International Transfer Hub: PUT {Callback URL} (Transactions Object) activate International Transfer Hub activate Sending FSP Note right of Receiving FSP: (5) The FSP informs the Hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. International Transfer Hub--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of International Transfer Hub: (6) The Hub in turn informs the Sending FSP that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Bilateral International Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to obtain a quotation and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transactions Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP International Transfer Failure\n\nThe failure of a transfer is reflected by the return of an error object in the callback from the receiving FSP. The same pattern would also apply to a quotation failure.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is 'pending'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP International Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to be reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is \"pending\". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Obtain an FSP Balance sequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/balance activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Obtain the balance of the\nReceiving FSP's account with\nthe Sending FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Balance Object) deactivate Sending FSP deactivate Receiving FSP Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending FSP via multiple requests.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests up to 20\ntransactions for their account from\nthe Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Receiving FSP: (2) The Receiving FSP returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Receiving FSP: (3) The Sending FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Sending FSP deactivate Receiving FSP Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /heartbeat activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests the\navailability of the service from the\nReceiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Heartbeat Object) Note right of Receiving FSP: (2) The Receiving FSP returns the\navailability of the service - available,\nunavailable or degraded. deactivate Sending FSP deactivate Receiving FSP Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP's\nclientCorrelationId, a request for the\nmissing API response is sent. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP Start developing\n\n\n# Introduction\n\nThe Merchant Payment Mobile Money APIs allow merchants to accept payments from mobile money customers. Supported payment mechanisms include:\n\n * Payee-initiated merchant payment. The merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * Payer-initiated merchant payment. The payer initiates the payment by specifying the merchant that is to be paid.\n * Merchant payment via pre-authorised payment code. The payer generates a payment authorisation code up to a maximum payment amount. The merchant then enters or scans (if rendered as a QR code) the payer’s code to perform the payment.\n\nClosed loop and open-loop merchant payments are supported by the Mobile Money API. Closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. Open loop payments occur where the payer and payee accounts reside with different mobile money providers. For further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                    ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to   API Provider\n                         receive payments from merchants.\nMerchants                To understand how to implement the Mobile Money API to   API Consumer\n                         accept mobile money payments.\n\n\nUse case scenarios\n\nPayee-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The merchant initiates the request and will be credited when the payer approves the request.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Payee-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Payee-Initiated Merchant Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant par loop activate Merchant Merchant->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The Merchant polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Request State Object) end and Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (3) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>Mobile Money Provider: (Authorised) end deactivate Merchant deactivate Payer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Merchant Merchant->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The Merchant can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\npayment transaction. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Object) end deactivate Merchant deactivate Mobile Money Provider Payer-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The payer initiates the request and will be debited upon successful completion of the request.\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (transactions Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has successfully compeleted. deactivate Mobile Money Provider deactivate Merchant Payer-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (Error Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has failed. deactivate Mobile Money Provider deactivate Merchant Payee-Initiated Merchant Payment using a Pre-authorised Payment Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised payment code. This in turn is presented by the payer to the merchant who initiates the payment request. Both flows in the diagram result in a callback. This flow is primarily used for payment on delivery use cases.\n\nsequenceDiagram participant Payer participant Merchant participant Mobile Money Provider Payer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer's channel (e.g. Mobile Money App) submits\nthe request to generate an authorisation code to the\nMMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) Mobile Money Provider->>Payer: PUT {Callback URL} (Authorisation Code Object) Note right of Mobile Money Provider: (2) The MMP informs the Payer's channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Mobile Money Provider Note right of Payer: (3) The Payer communicates the code to the merchant. This\ncan be via QR code or by verbally communicating the code. Payer->>Merchant: Communicates Code Verbally or via QR Presentment activate Payer activate Merchant activate Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay Note right of Mobile Money Provider: (4) The Merchant submits the payment request for\nprocessing to the MMP. The request will contain the\nauthorisation code. The MMP will return the Request\nState object to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) activate Merchant Note right of Mobile Money Provider: (5) The MMP informs the Merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Merchant deactivate Mobile Money Provider Merchant Payment Refund\n\nMerchants can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/adjustment activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the refund request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Merchant Payment Reversal\n\nIn some failure scenarios, a merchant may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the reversal request for processing\nto the MMP - passing the reference of the transaction that\nis to be reversed. The MMP will return the Request State\nobject to indicate that the request is 'pending'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider Obtain a Merchant Balance sequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Balance Object) deactivate Merchant deactivate Mobile Money Provider Retrieve Payments for a Merchant\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The Merchant requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Merchant deactivate Mobile Money Provider Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /heartbeat activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Merchant deactivate Mobile Money Provider Retrieve a Missing API Response\n\nThis API can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the Merchant's\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Merchant->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Merchant uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Requested Object) deactivate Merchant deactivate Mobile Money Provider Start developing\n\n\n# Testimonials\n\nAs a payment service provider that is directly integrated with over 35 MNO partners, we understand the importance of Standardised APIs to save time on development work, resources and keeping integrations up to date. Cellulant Payment Service Provider\n\nMerchant Payments\n\nInternational Transfers\n\nP2P transfers\n\n\n# Ready to explore?\n\nFind our latest API documentation.\n{{ borderedLink.text }} {{ accentLink.text }}",normalizedContent:"providers of payment services such as aggregators and hub that act as mediators. they help connect organisations with many other organisations using a single connection point.\n\nthe gsma api specification can be used by payment aggregators and hubs to speed up the integration time and simplify the complexity when working at large scale with multiple apis.\n\n\n# use cases\n\n{{ tab }}\n\n\n# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\nuse case scenarios\n\np2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to (3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp submits a quotation\nrequest to the switch. the switch will return the request state object to indicate that the request\nis 'pending'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the receiving fsp.\nthe receiving fsp will return the request state object to indicate\nthat the request is 'pending'. receiving fsp--\x3e>switch: http 200 (request state object) switch--\x3e>sending fsp: http 200 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation has been successfully\ncreated by returning the final representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the transaction has succesfully complteted\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer request to the swith. the switch\nwill return the request state object to indicate that the request is 'pending'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the request state object\nto indicate that the request is 'pending'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the transaction has been\nsuccessfully completed by returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the transaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the intended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp submits a transfer request.\nthe receiving fsp will return the request state object to indicate that the request is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the transation has been succesfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n'pending'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp's account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe international transfer mobile money apis allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                       usage                                                       role\nfsp - mobile money providers                   - to understand how to implement the mobile money api to    api provider\n                                               receive international transfers from other fsps.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international transfers to other fsps.\nfsp – international remittance organisations   - to understand how to implement the mobile money api to    api provider\n                                               receive international remittances from mobile money\n                                               providers.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international remittances to mobile money providers.\ninternational transfer hubs                    - to understand how to implement the mobile money apis to   api provider\n                                               receive international transfers from fsps.\n                                               - to understand how to implement the mobile money apis to   api consumer\n                                               send international transfers to fsps.\n\n\nuse case scenarios\n\ninternational transfer via hub\n\nin this diagram, a hub is used by the sending fsp to obtain a quotation and perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return the quotation and the confirmation of the transfer.\n\nthis flow can also be used for bilateral international transfers.\n\nsequencediagram participant sending fsp participant international transfer hub participant receiving fsp sending fsp->>international transfer hub: post /quotations activate sending fsp activate international transfer hub activate receiving fsp note right of international transfer hub: (1) the sending fsp submits a quotation request to\nthe international remittance hub. the hub will return the\nrequest state object to indicate that the request\nis 'pending'. international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp international transfer hub->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of international transfer hub: (2) the hub returns the quotation to the sending fsp. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp sending fsp->>international transfer hub: post /transactions/type/inttransfer activate international transfer hub activate sending fsp activate receiving fsp note right of international transfer hub: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the international remittance hub. the hub will return the\nrequest state object to indicate that the request is 'pending'. international transfer hub->>receiving fsp: post /transactions/type/inttransfer note right of receiving fsp: (4) the hub in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the\nrequest state object to indicate that the request is\n'pending'. receiving fsp--\x3e>international transfer hub: http 202 (request state object) international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate international transfer hub deactivate sending fsp receiving fsp->>international transfer hub: put {callback url} (transactions object) activate international transfer hub activate sending fsp note right of receiving fsp: (5) the fsp informs the hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. international transfer hub--\x3e>receiving fsp: http 204 deactivate receiving fsp international transfer hub->>sending fsp: put {callback url} (transactions object) note right of international transfer hub: (6) the hub in turn informs the sending fsp that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp bilateral international transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to obtain a quotation and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transactions object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp international transfer failure\n\nthe failure of a transfer is reflected by the return of an error object in the callback from the receiving fsp. the same pattern would also apply to a quotation failure.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is 'pending'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp international transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to be reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is \"pending\". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp obtain an fsp balance sequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/balance activate sending fsp activate receiving fsp note right of receiving fsp: (1) obtain the balance of the\nreceiving fsp's account with\nthe sending fsp. receiving fsp--\x3e>sending fsp: http 200 (balance object) deactivate sending fsp deactivate receiving fsp retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending fsp via multiple requests.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests up to 20\ntransactions for their account from\nthe receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) note right of receiving fsp: (2) the receiving fsp returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of receiving fsp: (3) the sending fsp requests the\nremaining transactions from the\naccount from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) deactivate sending fsp deactivate receiving fsp check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /heartbeat activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests the\navailability of the service from the\nreceiving fsp. receiving fsp--\x3e>sending fsp: http 200 (heartbeat object) note right of receiving fsp: (2) the receiving fsp returns the\navailability of the service - available,\nunavailable or degraded. deactivate sending fsp deactivate receiving fsp retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp's\nclientcorrelationid, a request for the\nmissing api response is sent. receiving fsp--\x3e>sending fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp start developing\n\n\n# introduction\n\nthe merchant payment mobile money apis allow merchants to accept payments from mobile money customers. supported payment mechanisms include:\n\n * payee-initiated merchant payment. the merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * payer-initiated merchant payment. the payer initiates the payment by specifying the merchant that is to be paid.\n * merchant payment via pre-authorised payment code. the payer generates a payment authorisation code up to a maximum payment amount. the merchant then enters or scans (if rendered as a qr code) the payer’s code to perform the payment.\n\nclosed loop and open-loop merchant payments are supported by the mobile money api. closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. open loop payments occur where the payer and payee accounts reside with different mobile money providers. for further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                    role\nmobile money providers   to understand how to implement the mobile money api to   api provider\n                         receive payments from merchants.\nmerchants                to understand how to implement the mobile money api to   api consumer\n                         accept mobile money payments.\n\n\nuse case scenarios\n\npayee-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the merchant initiates the request and will be credited when the payer approves the request.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider payee-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider payee-initiated merchant payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant par loop activate merchant merchant->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the merchant polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>merchant: http 200 (request state object) end and mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (3) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>mobile money provider: (authorised) end deactivate merchant deactivate payer deactivate mobile money provider opt activate mobile money provider activate merchant merchant->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the merchant can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\npayment transaction. mobile money provider--\x3e>merchant: http 200 (transactions object) end deactivate merchant deactivate mobile money provider payer-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the payer initiates the request and will be debited upon successful completion of the request.\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (transactions object) activate payer note right of mobile money provider: (2) the mmp informs the payer's channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has successfully compeleted. deactivate mobile money provider deactivate merchant payer-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (error object) activate payer note right of mobile money provider: (2) the mmp informs the payer's channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has failed. deactivate mobile money provider deactivate merchant payee-initiated merchant payment using a pre-authorised payment code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised payment code. this in turn is presented by the payer to the merchant who initiates the payment request. both flows in the diagram result in a callback. this flow is primarily used for payment on delivery use cases.\n\nsequencediagram participant payer participant merchant participant mobile money provider payer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate payer activate mobile money provider note right of mobile money provider: (1) the payer's channel (e.g. mobile money app) submits\nthe request to generate an authorisation code to the\nmmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>payer: http 202 (request state object) mobile money provider->>payer: put {callback url} (authorisation code object) note right of mobile money provider: (2) the mmp informs the payer's channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. payer--\x3e>mobile money provider: http 204 deactivate payer deactivate mobile money provider note right of payer: (3) the payer communicates the code to the merchant. this\ncan be via qr code or by verbally communicating the code. payer->>merchant: communicates code verbally or via qr presentment activate payer activate merchant activate mobile money provider merchant->>mobile money provider: post /transactions/type/merchantpay note right of mobile money provider: (4) the merchant submits the payment request for\nprocessing to the mmp. the request will contain the\nauthorisation code. the mmp will return the request\nstate object to indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>merchant: put {callback url} (transactions object) activate merchant note right of mobile money provider: (5) the mmp informs the merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate payer deactivate merchant deactivate mobile money provider merchant payment refund\n\nmerchants can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/type/adjustment activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the refund request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider merchant payment reversal\n\nin some failure scenarios, a merchant may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/{original transaction reference}/reversals activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the reversal request for processing\nto the mmp - passing the reference of the transaction that\nis to be reversed. the mmp will return the request state\nobject to indicate that the request is 'pending'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider obtain a merchant balance sequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate merchant activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>merchant: http 200 (balance object) deactivate merchant deactivate mobile money provider retrieve payments for a merchant\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the merchant requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) deactivate merchant deactivate mobile money provider check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /heartbeat activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests the availability\nof the service from the mmp. mobile money provider--\x3e>merchant: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate merchant deactivate mobile money provider retrieve a missing api response\n\nthis api can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /responses{clientcorrelationid} activate merchant activate mobile money provider note right of mobile money provider: (1) using the merchant's\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>merchant: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. merchant->>mobile money provider: get /{link} note right of mobile money provider: (3) the merchant uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>merchant: http 200 (requested object) deactivate merchant deactivate mobile money provider start developing\n\n\n# testimonials\n\nas a payment service provider that is directly integrated with over 35 mno partners, we understand the importance of standardised apis to save time on development work, resources and keeping integrations up to date. cellulant payment service provider\n\nmerchant payments\n\ninternational transfers\n\np2p transfers\n\n\n# ready to explore?\n\nfind our latest api documentation.\n{{ borderedlink.text }} {{ accentlink.text }}",charsets:{}},{title:"Downloads",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Downloads"},regularPath:"/sdks/android/downloads.html",relativePath:"sdks/android/downloads.md",key:"v-6a2d969a",path:"/sdks/android/downloads.html",headers:[{level:2,title:"Retrieval of Bill Payments",slug:"retrieval-of-bill-payments",normalizedTitle:"retrieval of bill payments",charIndex:0}],headersStr:"Retrieval of Bill Payments",content:"# Retrieval of Bill Payments\n\nAdded new endpoints to allow API clients to retrieve a bill payment:\n\n * GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments.\n * GET /accounts/{Account Identifiers}/bills/{billReference}/payments.\n\nStandard query string parameters and response headers have been included to enabled filtering of bill payments:\n\n * X-Records-Available-Count response header. Informs the client the number of records that can be returned.\n * X-Records-Returned-Count response header. Informs the client how many records have been returned.\n * limit query string. Used by the client to constrain the number of records returned.\n * offset query string. Used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. Used by the client to return records within a date range based on creationDate.\n * todatetime query string. Used by the client to return records within a date range based on creationDate.\n\nGet information Download",normalizedContent:"# retrieval of bill payments\n\nadded new endpoints to allow api clients to retrieve a bill payment:\n\n * get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments.\n * get /accounts/{account identifiers}/bills/{billreference}/payments.\n\nstandard query string parameters and response headers have been included to enabled filtering of bill payments:\n\n * x-records-available-count response header. informs the client the number of records that can be returned.\n * x-records-returned-count response header. informs the client how many records have been returned.\n * limit query string. used by the client to constrain the number of records returned.\n * offset query string. used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. used by the client to return records within a date range based on creationdate.\n * todatetime query string. used by the client to return records within a date range based on creationdate.\n\nget information download",charsets:{}},{title:"Introduction",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Introduction"},regularPath:"/sdks/android/introduction.html",relativePath:"sdks/android/introduction.md",key:"v-d8cb96d0",path:"/sdks/android/introduction.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"SDK Initialization",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"SDK Initialization"},regularPath:"/sdks/android/sdk-initialization.html",relativePath:"sdks/android/sdk-initialization.md",key:"v-23694f90",path:"/sdks/android/sdk-initialization.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"System requirements",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"System requirements"},regularPath:"/sdks/android/system-requirements.html",relativePath:"sdks/android/system-requirements.md",key:"v-64d2a214",path:"/sdks/android/system-requirements.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"API Authorization",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"API Authorization"},regularPath:"/sdks/auth/api-authorization.html",relativePath:"sdks/auth/api-authorization.md",key:"v-47209790",path:"/sdks/auth/api-authorization.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0},{level:2,title:"Test diagram",slug:"test-diagram",normalizedTitle:"test diagram",charIndex:960}],headersStr:"Transaction Status Update Test diagram",content:'# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.\n\n\n# Test diagram\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>+Mobile Money Provider: POST /transactions/type/merchantpay important link Note right of Mobile Money Provider: (1) The merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is "pending". Mobile Money Provider--\x3e>-Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>+Payer: Obtain Customer Authorisation Note right of Payer: (2) The Payer is requested by the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>-Mobile Money Provider: (Authorised) Mobile Money Provider->>+Merchant: PUT (Callback URL) (transctions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>-Mobile Money Provider: HTTP 204',normalizedContent:'# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.\n\n\n# test diagram\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>+mobile money provider: post /transactions/type/merchantpay important link note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is "pending". mobile money provider--\x3e>-merchant: http 202 (request state object) mobile money provider->>+payer: obtain customer authorisation note right of payer: (2) the payer is requested by the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>-mobile money provider: (authorised) mobile money provider->>+merchant: put (callback url) (transctions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>-mobile money provider: http 204',charsets:{}},{title:"Client authentication",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Client authentication"},regularPath:"/sdks/auth/client-authentication.html",relativePath:"sdks/auth/client-authentication.md",key:"v-b2df5790",path:"/sdks/auth/client-authentication.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0},{level:2,title:"Test diagram",slug:"test-diagram",normalizedTitle:"test diagram",charIndex:960}],headersStr:"Transaction Status Update Test diagram",content:'# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.\n\n\n# Test diagram\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>+Mobile Money Provider: POST /transactions/type/merchantpay important link Note right of Mobile Money Provider: (1) The merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is "pending". Mobile Money Provider--\x3e>-Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>+Payer: Obtain Customer Authorisation Note right of Payer: (2) The Payer is requested by the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>-Mobile Money Provider: (Authorised) Mobile Money Provider->>+Merchant: PUT (Callback URL) (transctions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>-Mobile Money Provider: HTTP 204',normalizedContent:'# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.\n\n\n# test diagram\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>+mobile money provider: post /transactions/type/merchantpay important link note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is "pending". mobile money provider--\x3e>-merchant: http 202 (request state object) mobile money provider->>+payer: obtain customer authorisation note right of payer: (2) the payer is requested by the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>-mobile money provider: (authorised) mobile money provider->>+merchant: put (callback url) (transctions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>-mobile money provider: http 204',charsets:{}},{title:"SDKs",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"SDKs"},regularPath:"/sdks/getting-started/sdks.html",relativePath:"sdks/getting-started/sdks.md",key:"v-30bc70d8",path:"/sdks/getting-started/sdks.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Introduction",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Introduction"},regularPath:"/sdks/getting-started/introduction.html",relativePath:"sdks/getting-started/introduction.md",key:"v-111e5a38",path:"/sdks/getting-started/introduction.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0},{level:2,title:"Test diagram",slug:"test-diagram",normalizedTitle:"test diagram",charIndex:960}],headersStr:"Transaction Status Update Test diagram",content:'# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.\n\n\n# Test diagram\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>+Mobile Money Provider: POST /transactions/type/merchantpay important link Note right of Mobile Money Provider: (1) The merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is "pending". Mobile Money Provider--\x3e>-Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>+Payer: Obtain Customer Authorisation Note right of Payer: (2) The Payer is requested by the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>-Mobile Money Provider: (Authorised) Mobile Money Provider->>+Merchant: PUT (Callback URL) (transctions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>-Mobile Money Provider: HTTP 204',normalizedContent:'# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.\n\n\n# test diagram\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>+mobile money provider: post /transactions/type/merchantpay important link note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is "pending". mobile money provider--\x3e>-merchant: http 202 (request state object) mobile money provider->>+payer: obtain customer authorisation note right of payer: (2) the payer is requested by the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>-mobile money provider: (authorised) mobile money provider->>+merchant: put (callback url) (transctions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>-mobile money provider: http 204',charsets:{}},{frontmatter:{},regularPath:"/sdks/",relativePath:"sdks/index.md",key:"v-7a35ca05",path:"/sdks/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Downloads",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Downloads"},regularPath:"/sdks/java/downloads.html",relativePath:"sdks/java/downloads.md",key:"v-696c4c18",path:"/sdks/java/downloads.html",headers:[{level:2,title:"Retrieval of Multiple Authorisation Codes",slug:"retrieval-of-multiple-authorisation-codes",normalizedTitle:"retrieval of multiple authorisation codes",charIndex:0}],headersStr:"Retrieval of Multiple Authorisation Codes",content:"# Retrieval of Multiple Authorisation Codes\n\nAllows multiple authorisation codes to be retrieved for a given account via the following new endpoints:\n\n * GET /accounts/{identifierType}/{identifier}/authorisationcodes.\n * GET /accounts/{Account Identifiers}/authorisationcodes.\n\nStandard query string parameters and response headers have been included to enabled filtering of authorisation codes:\n\n * X-Records-Available-Count response header. Informs the client the number of records that can be returned.\n * X-Records-Returned-Count response header. Informs the client how many records have been returned.\n * limit query string. Used by the client to constrain the number of records returned.\n * offset query string. Used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. Used by the client to return records within a date range.\n * todatetime query string. Used by the client to return records within a date range.\n\nAlso added a ‘codestate’ filter to return authorisation codes for a given state.\n\nGet information Download",normalizedContent:"# retrieval of multiple authorisation codes\n\nallows multiple authorisation codes to be retrieved for a given account via the following new endpoints:\n\n * get /accounts/{identifiertype}/{identifier}/authorisationcodes.\n * get /accounts/{account identifiers}/authorisationcodes.\n\nstandard query string parameters and response headers have been included to enabled filtering of authorisation codes:\n\n * x-records-available-count response header. informs the client the number of records that can be returned.\n * x-records-returned-count response header. informs the client how many records have been returned.\n * limit query string. used by the client to constrain the number of records returned.\n * offset query string. used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. used by the client to return records within a date range.\n * todatetime query string. used by the client to return records within a date range.\n\nalso added a ‘codestate’ filter to return authorisation codes for a given state.\n\nget information download",charsets:{}},{title:"Introduction",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Introduction"},regularPath:"/sdks/java/introduction.html",relativePath:"sdks/java/introduction.md",key:"v-c0047d3c",path:"/sdks/java/introduction.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"SDK Initialization",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"SDK Initialization"},regularPath:"/sdks/java/sdk-initialization.html",relativePath:"sdks/java/sdk-initialization.md",key:"v-bbe02a20",path:"/sdks/java/sdk-initialization.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"System requirements",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"System requirements"},regularPath:"/sdks/java/system-requirements.html",relativePath:"sdks/java/system-requirements.md",key:"v-7625d9b8",path:"/sdks/java/system-requirements.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Downloads",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Downloads"},regularPath:"/sdks/javascript/downloads.html",relativePath:"sdks/javascript/downloads.md",key:"v-2d074238",path:"/sdks/javascript/downloads.html",headers:[{level:2,title:"Retrieval of Multiple Authorisation Codes",slug:"retrieval-of-multiple-authorisation-codes",normalizedTitle:"retrieval of multiple authorisation codes",charIndex:0}],headersStr:"Retrieval of Multiple Authorisation Codes",content:"# Retrieval of Multiple Authorisation Codes\n\nAllows multiple authorisation codes to be retrieved for a given account via the following new endpoints:\n\n * GET /accounts/{identifierType}/{identifier}/authorisationcodes.\n * GET /accounts/{Account Identifiers}/authorisationcodes.\n\nStandard query string parameters and response headers have been included to enabled filtering of authorisation codes:\n\n * X-Records-Available-Count response header. Informs the client the number of records that can be returned.\n * X-Records-Returned-Count response header. Informs the client how many records have been returned.\n * limit query string. Used by the client to constrain the number of records returned.\n * offset query string. Used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. Used by the client to return records within a date range.\n * todatetime query string. Used by the client to return records within a date range.\n\nAlso added a ‘codestate’ filter to return authorisation codes for a given state.\n\nGet information Download",normalizedContent:"# retrieval of multiple authorisation codes\n\nallows multiple authorisation codes to be retrieved for a given account via the following new endpoints:\n\n * get /accounts/{identifiertype}/{identifier}/authorisationcodes.\n * get /accounts/{account identifiers}/authorisationcodes.\n\nstandard query string parameters and response headers have been included to enabled filtering of authorisation codes:\n\n * x-records-available-count response header. informs the client the number of records that can be returned.\n * x-records-returned-count response header. informs the client how many records have been returned.\n * limit query string. used by the client to constrain the number of records returned.\n * offset query string. used by the client to indicate the position from where records are to be returned.\n * fromdatetime query string. used by the client to return records within a date range.\n * todatetime query string. used by the client to return records within a date range.\n\nalso added a ‘codestate’ filter to return authorisation codes for a given state.\n\nget information download",charsets:{}},{title:"SDK Initialization",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"SDK Initialization"},regularPath:"/sdks/javascript/sdk-initialization.html",relativePath:"sdks/javascript/sdk-initialization.md",key:"v-10f7ddc6",path:"/sdks/javascript/sdk-initialization.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Downloads",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Downloads"},regularPath:"/sdks/nodejs/downloads.html",relativePath:"sdks/nodejs/downloads.md",key:"v-1ab93410",path:"/sdks/nodejs/downloads.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"System requirements",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"System requirements"},regularPath:"/sdks/javascript/system-requirements.html",relativePath:"sdks/javascript/system-requirements.md",key:"v-275a07d8",path:"/sdks/javascript/system-requirements.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"SDK Initialization",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"SDK Initialization"},regularPath:"/sdks/nodejs/sdk-initialization.html",relativePath:"sdks/nodejs/sdk-initialization.md",key:"v-01a97382",path:"/sdks/nodejs/sdk-initialization.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Introduction",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Introduction"},regularPath:"/sdks/nodejs/introduction.html",relativePath:"sdks/nodejs/introduction.md",key:"v-a5b20018",path:"/sdks/nodejs/introduction.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Downloads",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Downloads"},regularPath:"/sdks/php/downloads.html",relativePath:"sdks/php/downloads.md",key:"v-ad4ffaf0",path:"/sdks/php/downloads.html",headers:[{level:2,title:"Buttons",slug:"buttons",normalizedTitle:"buttons",charIndex:0}],headersStr:"Buttons",content:"# Buttons\n\nGet information Download",normalizedContent:"# buttons\n\nget information download",charsets:{}},{title:"Introduction",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Introduction"},regularPath:"/sdks/javascript/introduction.html",relativePath:"sdks/javascript/introduction.md",key:"v-d4f60b90",path:"/sdks/javascript/introduction.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Introduction",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"Introduction"},regularPath:"/sdks/php/introduction.html",relativePath:"sdks/php/introduction.md",key:"v-678ebab8",path:"/sdks/php/introduction.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"SDK Initialization",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"SDK Initialization"},regularPath:"/sdks/php/sdk-initialization.html",relativePath:"sdks/php/sdk-initialization.md",key:"v-1c327d98",path:"/sdks/php/sdk-initialization.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"System requirements",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"System requirements"},regularPath:"/sdks/nodejs/system-requirements.html",relativePath:"sdks/nodejs/system-requirements.md",key:"v-2be03798",path:"/sdks/nodejs/system-requirements.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{frontmatter:{pageClass:"auth-page"},regularPath:"/signup/",relativePath:"signup/index.md",key:"v-6e91a8f2",path:"/signup/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{pageClass:"auth-page"},regularPath:"/signup/set-new-password.html",relativePath:"signup/set-new-password.md",key:"v-16de81d8",path:"/signup/set-new-password.html",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"System requirements",frontmatter:{sidebarDepth:2,pageClass:"api-page",title:"System requirements"},regularPath:"/sdks/php/system-requirements.html",relativePath:"sdks/php/system-requirements.md",key:"v-3eca9242",path:"/sdks/php/system-requirements.html",headers:[{level:2,title:"Transaction Status Update",slug:"transaction-status-update",normalizedTitle:"transaction status update",charIndex:0}],headersStr:"Transaction Status Update",content:"# Transaction Status Update\n\nIntroduced the ability to update the transactionStatus of mobile money transactions through a new API - PATCH /transactions/{transactionReference}. This supports a number of scenarios including:\n\n * Resolution of doubt transactions. Some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. This may then require a subsequent API request from the client to inform the provider of the final outcome to the transaction.\n * Two stage transaction processing. Some systems require two steps to create a transaction:\n\n 1. The client submits the request to the provider to create the transaction. The provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. The client then must provide an explicit request to ‘confirm’ the transaction. Upon receiving the request, the provider will complete the transaction.",normalizedContent:"# transaction status update\n\nintroduced the ability to update the transactionstatus of mobile money transactions through a new api - patch /transactions/{transactionreference}. this supports a number of scenarios including:\n\n * resolution of doubt transactions. some mobile money providers will put transactions into ‘doubt’ where communication is interrupted. this may then require a subsequent api request from the client to inform the provider of the final outcome to the transaction.\n * two stage transaction processing. some systems require two steps to create a transaction:\n\n 1. the client submits the request to the provider to create the transaction. the provider then performs necessary checks on the transaction and returns a response indicating that the transaction is pending confirmation.\n 2. the client then must provide an explicit request to ‘confirm’ the transaction. upon receiving the request, the provider will complete the transaction.",charsets:{}},{title:"Security",frontmatter:{pageClass:"security-page api-page",title:"Security"},regularPath:"/security/",relativePath:"security/index.md",key:"v-aec34412",path:"/security/",headersStr:null,content:"# Security\n\nAlongside the GSMA Mobile Money API definitions to standardize the connection between API Clients and the Mobile Money Platforms, the GSMA have also produced complimentary security implementation guidelines. This security design provides the following guidance:\n\n * The security methods to be implemented for the connection between the API client and the API Gateway.\n * The security methods to be implemented for securely authenticating end user to the Mobile Money platform.\n * Best practices for API design.\n\nThis security design document for the GSMA Mobile Money APIs is to ensure that:\n\n 1. Applicable security measures and best practices are applied to the connection between the API Client and the API Gateway.\n 2. Applicable security measures and best practices are applied to authenticating end user to the Mobile Money platform.\n\nDownload PDF",normalizedContent:"# security\n\nalongside the gsma mobile money api definitions to standardize the connection between api clients and the mobile money platforms, the gsma have also produced complimentary security implementation guidelines. this security design provides the following guidance:\n\n * the security methods to be implemented for the connection between the api client and the api gateway.\n * the security methods to be implemented for securely authenticating end user to the mobile money platform.\n * best practices for api design.\n\nthis security design document for the gsma mobile money apis is to ensure that:\n\n 1. applicable security measures and best practices are applied to the connection between the api client and the api gateway.\n 2. applicable security measures and best practices are applied to authenticating end user to the mobile money platform.\n\ndownload pdf",charsets:{}},{title:"Using Vue in Markdown",frontmatter:{pageClass:"api-page"},regularPath:"/test/",relativePath:"test/index.md",key:"v-736185d3",path:"/test/",headers:[{level:2,title:"Browser API Access Restrictions",slug:"browser-api-access-restrictions",normalizedTitle:"browser api access restrictions",charIndex:26},{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0}],headersStr:"Browser API Access Restrictions ",content:"# Using Vue in Markdown\n\n\n# Browser API Access Restrictions\n\nBecause VuePress applications are server-rendered in Node.js when generating static builds, any Vue usage must conform to the universal code requirements. In short, make sure to only access Browser / DOM APIs in beforeMount or mounted hooks.\n\nIf you are using or demoing components that are not SSR friendly (for example containing custom directives), you can wrap them inside the built-in <ClientOnly> component:\n\n\n#",normalizedContent:"# using vue in markdown\n\n\n# browser api access restrictions\n\nbecause vuepress applications are server-rendered in node.js when generating static builds, any vue usage must conform to the universal code requirements. in short, make sure to only access browser / dom apis in beforemount or mounted hooks.\n\nif you are using or demoing components that are not ssr friendly (for example containing custom directives), you can wrap them inside the built-in <clientonly> component:\n\n\n#",charsets:{}},{title:"Account Linking - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Account Linking - Open OAS UI"},regularPath:"/use-cases/account-linking/account-linking-open-oas-ui.html",relativePath:"use-cases/account-linking/account-linking-open-oas-ui.md",key:"v-dc10ee10",path:"/use-cases/account-linking/account-linking-open-oas-ui.html",headers:[{level:2,title:"Account Linking - Open OAS UI",slug:"account-linking-open-oas-ui",normalizedTitle:"account linking - open oas ui",charIndex:0}],headersStr:"Account Linking - Open OAS UI",content:"# Account Linking - Open OAS UI",normalizedContent:"# account linking - open oas ui",charsets:{}},{title:"Support",frontmatter:{pageClass:"contact-us-page custom",title:"Support"},regularPath:"/support/",relativePath:"support/index.md",key:"v-2c57b75e",path:"/support/",headersStr:null,content:"Contact us. If you have any comments or you have found any issues please let us know by filling in the fields below.",normalizedContent:"contact us. if you have any comments or you have found any issues please let us know by filling in the fields below.",charsets:{}},{title:"Account Linking - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"Account Linking - API Service Definition"},regularPath:"/use-cases/account-linking/api-service-definition.html",relativePath:"use-cases/account-linking/api-service-definition.md",key:"v-12932556",path:"/use-cases/account-linking/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2237},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:2618},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:11807},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:12831},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:13203},{level:3,title:"Accounts APIs",slug:"accounts-apis",normalizedTitle:"accounts apis",charIndex:21600},{level:4,title:"Identifying an FSP Account",slug:"identifying-an-fsp-account",normalizedTitle:"identifying an fsp account",charIndex:21749},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:21904},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:22089},{level:3,title:"Retrieving Transactions for an Account",slug:"retrieving-transactions-for-an-account",normalizedTitle:"retrieving transactions for an account",charIndex:22588},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:24720},{level:3,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:25195},{level:4,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:25548},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:25681},{level:3,title:"Links API",slug:"links-api",normalizedTitle:"links api",charIndex:28205},{level:4,title:"Link UML Class Diagram",slug:"link-uml-class-diagram",normalizedTitle:"link uml class diagram",charIndex:29634},{level:4,title:"Link Object Definition",slug:"link-object-definition",normalizedTitle:"link object definition",charIndex:29862},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:33034},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:33057},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:33966},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:34809},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:35626},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:36532},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:37424},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:37441},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:37818},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:33057}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Accounts APIs Identifying an FSP Account Single Identifier Method Multiple Identifiers Method Retrieving Transactions for an Account Account Transaction UML Class Diagram Account Balances API Account Balance UML Class Diagram Account Balance Object Definition Links API Link UML Class Diagram Link Object Definition Supporting Objects Account Identifiers Object Metadata Object Custom Data Object Fees Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types Account Identifiers",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nThe transaction API can be used by FSPs to make a transfer for a linked account. Prior to making the transfer, a link must have been established between the debit and credit accounts.\n\nThe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Transaction Party "1..2" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction classDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                              \nName                                         Type        Description                                                           Reference                        Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                     \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers              creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                     debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers              debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                     If creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                     Enumeration = Transaction Types\n                                                         the URL)                                                       ← M\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                     \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                     Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                     Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                     \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                     \n                                                         was initiated.                                                 ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                     \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                         Provider                                                       ← O\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                                     \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                         populate additional transaction fields.                        ← O\n\n\n# Reversals API\n\nThe Reversals API is used to reverse, adjust or refund a financial transaction. The originating transaction reference must be provided in the path in order to identify the transfer to be reversed. For a partial reversal, the amount needs to be supplied. It should be noted that some API Providers do not support partial reversals and will return an error if a partial amount is supplied.\n\nFor viewing reversals, the Transactions API should be used. For performing a reversal without the original transaction reference, use the Transactions API.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Transaction Party "1..2" --* "1" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction classDiagram Credit Party Identifier "0..10" --* "1" Reversal Debit Party Identifier "0..10" --* "1" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                          TYPE        DESCRIPTION                                                         REFERENCE                        VALIDATION\ntransactionReference                          string      Unique reference for the transaction. This is returned in      NA                                    \n                                                          the response by API provider.                                  M\nrequesting OrganisationTransactionReference   string      A reference provided by the requesting organisation that is    O                                     \n                                                          to be associated with the transaction.                         O\noriginalTransactionReference                  string      For reversals and refunds, this field indicates the            NA                                    \n                                                          transaction which is the subject of the reversal.              M\ncreditParty                                   array       A series of key/value pairs that enable the credit party to    O    Account Identifiers              \n                                                          be identified. Keys include MSISDN and Wallet Identifier.      O\ndebitParty                                    array       A collection of key/value pairs that enable the debit party    O    Account Identifiers              \n                                                          to be identified. Keys include MSISDN and Wallet Identifier.   O\ntype                                          string      The harmonised Transaction Type                                M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                         M                                     Refunds (adjustments) are supported.\nsubType                                       string      A non-harmonised sub-classification of the type of             O                                     \n                                                          transaction. Values are not fixed, and usage will vary         O\n                                                          according to Provider.\ntransactionStatus                             string      Indicates the status of the transaction as stored by the API   NA                                    \n                                                          provider.                                                      M\namount                                        string      The transaction Amount.                                        O                                     Please refer to API Fundamentals document for amount\n                                                                                                                         O                                     validation rules.\ncurrency                                      string      Currency of the transaction amount.                            O                                     Enumeration = ISO Currency Codes\n                                                                                                                         O\ndescriptionText                               string      Free format text description of the transaction provided by    O                                     \n                                                          the client. This can be provided as a reference for the        O\n                                                          receiver on a notification SMS and on an account statement.\nfees                                          array       Allows the passing and/or returning of all fees pertaining     O    Fees Object                      \n                                                          to the transaction.                                            O\ngeoCode                                       string      Indicates the geographic location from where the transaction   O                                     \n                                                          was initiated.                                                 O\nrequestingOrganisation                        object      The originating organisation of the request.                   O    Requesting Organisation Object   \n                                                                                                                         O\nservicingIdentity                             string      The field is used to identify the servicing identity for       O                                     \n                                                          transactions, e.g. till, POS ID, assistant ID.                 O\ntransactionReceipt                            string      Transaction receipt number as notified to the parties. This    NA                                    \n                                                          may differ from the Transaction Reference.                     O\ncreationDate                                  date-time   Date and time when the transaction was created by the API      NA                                    \n                                                          Provider.                                                      O\nmodificationDate                              date-time   Date and time when the transaction was modified by the API     NA                                    \n                                                          Provider.                                                      O\nrequestDate                                   date-time   The date and time of the transaction request as supplied by    O                                     \n                                                          the client.                                                    O\ncustomData                                    string      A collection of key/value pairs that can be used for           O    Custom Data Object               \n                                                          provider specific fields.                                      O\nmetadata                                      array       A collection of key/value pairs. These can be used to          O    Metadata                         \n                                                          populate additional properties that describe administrative    O\n                                                          information regarding the transaction.\n\n\n# Accounts APIs\n\nUsing the mobile money APIs, financial service providers can:\n\n * View transfers for their account.\n * View their account balance.\n\n# Identifying an FSP Account\n\nTwo methods are provided for identifying an FSP account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifierType}/{identifier}.\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3}.\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Retrieving Transactions for an Account\n\nAn FSP should use this API to return a list of transfers against their account. One of the following paths can be used:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram Transaction Party "1..2" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account classDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2‑3 Account Transaction UML Class Diagram\n\n\n# Account Balances API\n\nUsing the Account Balances API, an FSP can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the FSP account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram Account Balance "1" --* "1" Account\n\nFigure 2‑4 Account Balance UML Class Diagram\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                         REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                NA               Please refer to API Fundamentals document for amount\n                                                                                           O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 O                validation rules.\ncurrency           string   Currency for all returned balances.                            NA               Enumeration = ISO Currency Codes\n                                                                                           O\n\n\n# Links API\n\nThe Links APIs are used to establish a link between two separate accounts between financial service providers. The API can be used for example to link a mobile wallet account to a microfinance institution account or a bank account. The link object does not mandate the processes to verify and authenticate a link request - this depends upon the use case. A link needs to be associated with a mode of operation:\n\n * pull. The link can be used by the client to debit the target account held by the provider.\n\n * push. The link can be used by the client to credit the target account held by the provider.\n\n * both. The link can be used for Push and Pull requests.\n\nTo identify the accounts that are to be linked, the target account is specified in the path whereas the source account is specified in the link object.\n\nThe permitted paths are as follows:\n\n * Creation: POST /accounts/{identifierType}/{identifier}/links or POST /accounts/{ Account Identifiers}/links.\n\n * Update of status and/or mode fields: PATCH /accounts/{identifierType}/{identifier}/links/{linkReference} or PATCH /accounts/{Account Identifiers}/links/{linkReference}.\n\n * Read. GET /accounts/{identifierType}/{identifier}/links/{linkReference} or GET /accounts/{Account Identifiers}/links/{linkReference}.\n\nSynchronous and asynchronous modes are supported for POST and PATCH methods whereas only synchronous mode is supported for the GET method.\n\n# Link UML Class Diagram\n\nclassDiagram Link Source Account "1" --* "1" Link Link "0..*" --* "1" Account classDiagram Source Account Identifier "1..10" --* "1" Link Link "0..*" --* "1" Account\n\nFigure 2-5 Link UML Class Diagram\n\n# Link Object Definition\n\n{\n  "linkReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "sourceAccountIdentifiers": [\n    {\n      "key":"MSISDN",\n      "value":"+1234567890"\n    }\n  ],\n  "mode": "both",\n  "status": "inactive",\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nLINK OBJECT                                                                                                                           \nName                       Type        Description                                                          Reference                 Validation\nlinkReference              string      Indicates the Link reference. This enables a linked account   → NA                             \n                                       to be uniquely identified.                                    ← M\nsourceAccountIdentifiers   array       A series of key/value pairs that identify the source          → M    Account Identifiers       \n                                       account. Keys include MSISDN and Wallet Identifier.           ← M\nmode                       string      Indicates the mode of operation for the Link.                 → M                              Enumeration = push, pull, both\n                                                                                                     ← M\nstatus                     string      Indicates the status of the Link.                             → M                              Enumeration = active, inactive\n                                                                                                     ← M\nrequestingOrganisation     object      The originating organisation of the request.                  → O    Requesting Organisation   \n                                                                                                     ← O\ncreationDate               date-time   Indicates when the link was created as recorded by the API    → NA                             \n                                       provider.                                                     ← O\nmodificationDate           date-time   Indicates when the link was modified as recorded by the API   → NA                             \n                                       provider.                                                     ← O\nrequestDate                date-time   The date and time of the link request as supplied by the      → O                              \n                                       client.                                                       ← O\ncustomData                 string      Contains provider specific fields.                            → O    Custom Data Object        \n                                                                                                     ← O\n\n\n# Supporting Objects\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                       REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         M               Enumeration = Account Identifiers\n                                                               M\nvalue   string   Provides the account identifier type value.   M               \n                                                               M\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                   REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  M               \n                                                                 M\nfeeAmount     string   Defines the amount of the fee.            M               Please refer to API Fundamentals document for amount\n                                                                 M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   M               Enumeration = ISO Currency Codes\n                                                                 M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE       DESCRIPTION\ntransfer   Transfer of funds between mobile money provider and another\n           provider or financial institution in the same country.\nreversal   Reversal of a prior transaction to return funds to the\n           payer.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\nthe transaction api can be used by fsps to make a transfer for a linked account. prior to making the transfer, a link must have been established between the debit and credit accounts.\n\nthe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram transaction party "1..2" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction classdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                              \nname                                         type        description                                                           reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                    \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                     \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers              creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                     debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers              debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                     if creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                     enumeration = transaction types\n                                                         the url)                                                       ← m\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                     \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                    \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                     please refer to api fundamentals document for amount\n                                                                                                                        ← m                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                     enumeration = iso currency codes\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                     \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                     \n                                                         was initiated.                                                 ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                     \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                    \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                    \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                    \n                                                         provider                                                       ← o\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                                     \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                         populate additional transaction fields.                        ← o\n\n\n# reversals api\n\nthe reversals api is used to reverse, adjust or refund a financial transaction. the originating transaction reference must be provided in the path in order to identify the transfer to be reversed. for a partial reversal, the amount needs to be supplied. it should be noted that some api providers do not support partial reversals and will return an error if a partial amount is supplied.\n\nfor viewing reversals, the transactions api should be used. for performing a reversal without the original transaction reference, use the transactions api.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram transaction party "1..2" --* "1" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction classdiagram credit party identifier "0..10" --* "1" reversal debit party identifier "0..10" --* "1" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                          type        description                                                         reference                        validation\ntransactionreference                          string      unique reference for the transaction. this is returned in      na                                    \n                                                          the response by api provider.                                  m\nrequesting organisationtransactionreference   string      a reference provided by the requesting organisation that is    o                                     \n                                                          to be associated with the transaction.                         o\noriginaltransactionreference                  string      for reversals and refunds, this field indicates the            na                                    \n                                                          transaction which is the subject of the reversal.              m\ncreditparty                                   array       a series of key/value pairs that enable the credit party to    o    account identifiers              \n                                                          be identified. keys include msisdn and wallet identifier.      o\ndebitparty                                    array       a collection of key/value pairs that enable the debit party    o    account identifiers              \n                                                          to be identified. keys include msisdn and wallet identifier.   o\ntype                                          string      the harmonised transaction type                                m                                     enumeration = transaction types note that only reversals and\n                                                                                                                         m                                     refunds (adjustments) are supported.\nsubtype                                       string      a non-harmonised sub-classification of the type of             o                                     \n                                                          transaction. values are not fixed, and usage will vary         o\n                                                          according to provider.\ntransactionstatus                             string      indicates the status of the transaction as stored by the api   na                                    \n                                                          provider.                                                      m\namount                                        string      the transaction amount.                                        o                                     please refer to api fundamentals document for amount\n                                                                                                                         o                                     validation rules.\ncurrency                                      string      currency of the transaction amount.                            o                                     enumeration = iso currency codes\n                                                                                                                         o\ndescriptiontext                               string      free format text description of the transaction provided by    o                                     \n                                                          the client. this can be provided as a reference for the        o\n                                                          receiver on a notification sms and on an account statement.\nfees                                          array       allows the passing and/or returning of all fees pertaining     o    fees object                      \n                                                          to the transaction.                                            o\ngeocode                                       string      indicates the geographic location from where the transaction   o                                     \n                                                          was initiated.                                                 o\nrequestingorganisation                        object      the originating organisation of the request.                   o    requesting organisation object   \n                                                                                                                         o\nservicingidentity                             string      the field is used to identify the servicing identity for       o                                     \n                                                          transactions, e.g. till, pos id, assistant id.                 o\ntransactionreceipt                            string      transaction receipt number as notified to the parties. this    na                                    \n                                                          may differ from the transaction reference.                     o\ncreationdate                                  date-time   date and time when the transaction was created by the api      na                                    \n                                                          provider.                                                      o\nmodificationdate                              date-time   date and time when the transaction was modified by the api     na                                    \n                                                          provider.                                                      o\nrequestdate                                   date-time   the date and time of the transaction request as supplied by    o                                     \n                                                          the client.                                                    o\ncustomdata                                    string      a collection of key/value pairs that can be used for           o    custom data object               \n                                                          provider specific fields.                                      o\nmetadata                                      array       a collection of key/value pairs. these can be used to          o    metadata                         \n                                                          populate additional properties that describe administrative    o\n                                                          information regarding the transaction.\n\n\n# accounts apis\n\nusing the mobile money apis, financial service providers can:\n\n * view transfers for their account.\n * view their account balance.\n\n# identifying an fsp account\n\ntwo methods are provided for identifying an fsp account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifiertype}/{identifier}.\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3}.\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# retrieving transactions for an account\n\nan fsp should use this api to return a list of transfers against their account. one of the following paths can be used:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram transaction party "1..2" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account classdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2‑3 account transaction uml class diagram\n\n\n# account balances api\n\nusing the account balances api, an fsp can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the fsp account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram account balance "1" --* "1" account\n\nfigure 2‑4 account balance uml class diagram\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                         reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                na               please refer to api fundamentals document for amount\n                                                                                           o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 o                validation rules.\ncurrency           string   currency for all returned balances.                            na               enumeration = iso currency codes\n                                                                                           o\n\n\n# links api\n\nthe links apis are used to establish a link between two separate accounts between financial service providers. the api can be used for example to link a mobile wallet account to a microfinance institution account or a bank account. the link object does not mandate the processes to verify and authenticate a link request - this depends upon the use case. a link needs to be associated with a mode of operation:\n\n * pull. the link can be used by the client to debit the target account held by the provider.\n\n * push. the link can be used by the client to credit the target account held by the provider.\n\n * both. the link can be used for push and pull requests.\n\nto identify the accounts that are to be linked, the target account is specified in the path whereas the source account is specified in the link object.\n\nthe permitted paths are as follows:\n\n * creation: post /accounts/{identifiertype}/{identifier}/links or post /accounts/{ account identifiers}/links.\n\n * update of status and/or mode fields: patch /accounts/{identifiertype}/{identifier}/links/{linkreference} or patch /accounts/{account identifiers}/links/{linkreference}.\n\n * read. get /accounts/{identifiertype}/{identifier}/links/{linkreference} or get /accounts/{account identifiers}/links/{linkreference}.\n\nsynchronous and asynchronous modes are supported for post and patch methods whereas only synchronous mode is supported for the get method.\n\n# link uml class diagram\n\nclassdiagram link source account "1" --* "1" link link "0..*" --* "1" account classdiagram source account identifier "1..10" --* "1" link link "0..*" --* "1" account\n\nfigure 2-5 link uml class diagram\n\n# link object definition\n\n{\n  "linkreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "sourceaccountidentifiers": [\n    {\n      "key":"msisdn",\n      "value":"+1234567890"\n    }\n  ],\n  "mode": "both",\n  "status": "inactive",\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nlink object                                                                                                                           \nname                       type        description                                                          reference                 validation\nlinkreference              string      indicates the link reference. this enables a linked account   → na                             \n                                       to be uniquely identified.                                    ← m\nsourceaccountidentifiers   array       a series of key/value pairs that identify the source          → m    account identifiers       \n                                       account. keys include msisdn and wallet identifier.           ← m\nmode                       string      indicates the mode of operation for the link.                 → m                              enumeration = push, pull, both\n                                                                                                     ← m\nstatus                     string      indicates the status of the link.                             → m                              enumeration = active, inactive\n                                                                                                     ← m\nrequestingorganisation     object      the originating organisation of the request.                  → o    requesting organisation   \n                                                                                                     ← o\ncreationdate               date-time   indicates when the link was created as recorded by the api    → na                             \n                                       provider.                                                     ← o\nmodificationdate           date-time   indicates when the link was modified as recorded by the api   → na                             \n                                       provider.                                                     ← o\nrequestdate                date-time   the date and time of the link request as supplied by the      → o                              \n                                       client.                                                       ← o\ncustomdata                 string      contains provider specific fields.                            → o    custom data object        \n                                                                                                     ← o\n\n\n# supporting objects\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                       reference   validation\nkey     string   provides the account identifier type.         m               enumeration = account identifiers\n                                                               m\nvalue   string   provides the account identifier type value.   m               \n                                                               m\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                   reference   validation\nfeetype       string   defines the type of fee.                  m               \n                                                                 m\nfeeamount     string   defines the amount of the fee.            m               please refer to api fundamentals document for amount\n                                                                 m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   m               enumeration = iso currency codes\n                                                                 m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode       description\ntransfer   transfer of funds between mobile money provider and another\n           provider or financial institution in the same country.\nreversal   reversal of a prior transaction to return funds to the\n           payer.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.',charsets:{}},{title:"Account Linking",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Account Linking"},regularPath:"/use-cases/account-linking/",relativePath:"use-cases/account-linking/index.md",key:"v-db14a79e",path:"/use-cases/account-linking/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:698}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nThe Account Linking Mobile Money APIs allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. Conversely, mobile money providers can use the APIs to link their customers mobile money accounts to financial service providers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations. All documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                  USAGE                                                          ROLE\nFSP - Mobile Money Providers              - To understand how to implement the Mobile Money API to       API Provider\n                                          accept account linking requests from other financial service\n                                          providers.\n                                          - To understand how to implement the Mobile Money API to       API Consumer\n                                          request linking of accounts to other financial service\n                                          providers.\nFSP Banks and Microfinance Institutions   - To understand how to implement the Mobile Money API to       API Provider\n                                          accept account linking requests mobile money providers.\n                                          - To understand how to implement the Mobile Money API to       API Consumer\n                                          request linking of accounts to mobile money providers.",normalizedContent:"# introduction\n\nthe account linking mobile money apis allow financial service providers to link customer accounts to mobile money accounts, thus allowing their customers to push funds to and pull funds from mobile money. conversely, mobile money providers can use the apis to link their customers mobile money accounts to financial service providers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations. all documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                  usage                                                          role\nfsp - mobile money providers              - to understand how to implement the mobile money api to       api provider\n                                          accept account linking requests from other financial service\n                                          providers.\n                                          - to understand how to implement the mobile money api to       api consumer\n                                          request linking of accounts to other financial service\n                                          providers.\nfsp banks and microfinance institutions   - to understand how to implement the mobile money api to       api provider\n                                          accept account linking requests mobile money providers.\n                                          - to understand how to implement the mobile money api to       api consumer\n                                          request linking of accounts to mobile money providers.",charsets:{}},{title:"Account Linking - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"Account Linking - Use Case Scenarios"},regularPath:"/use-cases/account-linking/scenarios/scenarios.html",relativePath:"use-cases/account-linking/scenarios/scenarios.md",key:"v-15d08cd8",path:"/use-cases/account-linking/scenarios/scenarios.html",headers:[{level:2,title:"Setup an Account Link",slug:"setup-an-account-link",normalizedTitle:"setup an account link",charIndex:599},{level:2,title:"Setup an Account Link Failure",slug:"setup-an-account-link-failure",normalizedTitle:"setup an account link failure",charIndex:2800},{level:2,title:"Perform a Transfer for a Linked Account",slug:"perform-a-transfer-for-a-linked-account",normalizedTitle:"perform a transfer for a linked account",charIndex:3940},{level:2,title:"Perform a Transfer for a Linked Account - Failure",slug:"perform-a-transfer-for-a-linked-account-failure",normalizedTitle:"perform a transfer for a linked account - failure",charIndex:5572},{level:2,title:"Perform a Transfer using an Account Link via the Polling Method",slug:"perform-a-transfer-using-an-account-link-via-the-polling-method",normalizedTitle:"perform a transfer using an account link via the polling method",charIndex:6599},{level:2,title:"Perform a Transfer Reversal",slug:"perform-a-transfer-reversal",normalizedTitle:"perform a transfer reversal",charIndex:8862},{level:2,title:"Obtain a Financial Service Provider Balance",slug:"obtain-a-financial-service-provider-balance",normalizedTitle:"obtain a financial service provider balance",charIndex:10308},{level:2,title:"Retrieve Transfers for a Financial Service Provider",slug:"retrieve-transfers-for-a-financial-service-provider",normalizedTitle:"retrieve transfers for a financial service provider",charIndex:10865},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:12170},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:12950}],headersStr:"Setup an Account Link Setup an Account Link Failure Perform a Transfer for a Linked Account Perform a Transfer for a Linked Account - Failure Perform a Transfer using an Account Link via the Polling Method Perform a Transfer Reversal Obtain a Financial Service Provider Balance Retrieve Transfers for a Financial Service Provider Check for Service Availability Retrieve a Missing API Response",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# Setup an Account Link\n\nThis diagram illustrates the setting-up of an account link. The requesting FSP initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/2000/links\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "sourceAccountIdentifiers": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "status": "active",\n    "mode": "both",\n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "12345"\n  }                 \n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FPS participant FSP participant Account Holder Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links activate Requesting FPS activate FSP Note right of FSP: (1) The requesting FPS submits the debit mandate request for\nprocessing to the FSP. The FSP will return the Request\nState object to indicate that the request is \'pending\'. FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object) FSP->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The account holder is requested by the\nFSP to authorise the link. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>FSP: (Authorised) deactivate Account Holder FSP->>Requesting FPS: PUT {Callback URL} (Debit Mandates Object) Note right of FSP: (3) The FSP informs the requesting FPS that the\nlink has been successfully created by\nreturning the final representation of the link. Requesting FPS--\x3e>FSP: HTTP 204 deactivate Requesting FPS deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Setup an Account Link Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the account link. The requesting FSP receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Requesting FPS participant FSP participant Account Holder Requesting FPS->>FSP: POST /accounts/{identifierType}/{identifier}/links activate Requesting FPS activate FSP Note right of FSP: (1) The requesting FPS submits the debit mandate request for\nprocessing to the FSP. The FSP will return the Request\nState object to indicate that the request is \'pending\'. FSP--\x3e>Requesting FPS: HTTP 202 (Request State Object) FSP->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The account holder declines the link\nrequest. Account Holder--\x3e>FSP: (Declined) deactivate Account Holder FSP->>Requesting FPS: PUT {Callback URL} (Error Object) Note right of FSP: (3) The FSP informs the requesting FPS that the\nlink has been declined by returning an error\nobject. Requesting FPS--\x3e>FSP: HTTP 204 deactivate Requesting FPS deactivate FSP\n\n\n# Perform a Transfer for a Linked Account\n\nIn this diagram, the requesting FSP initiates a transfer to the FSP using an established link.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/transfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "creditParty": [\n        {\n            "key": "linkref",\n            "value": "Place your Link Reference here"\n        }\n    ],\n    "currency": "RWF",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ]\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference\nis provided for the transfer. The FSP will return the Request\nState object to indicate that the request is \'pending\'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP FSP->>Requesting FSP: PUT {Callback URL} (Transactions Object) activate Requesting FSP Note right of FSP: (2) The FSP informs the requesting FSP that the\ntransfer has been successfully completed by\nreturning the final representation of the\ntransaction. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Perform a Transfer for a Linked Account - Failure\n\nIn this diagram, the requesting FSP initiates a transfer to the FSP using an established link. The FSP is unable to process the transfer and returns a callback containing the error object.\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference is\nprovided for the transfer. The FSP will return the Request\nState object to indicate that the request is \'pending\'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP FSP->>Requesting FSP: PUT {Callback URL} (Error Object) activate Requesting FSP Note right of FSP: (2) The FSP informs the requesting FSP that the\ntransfer has failed and returns the error object\ndetailing the reason for failure. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP\n\n\n# Perform a Transfer using an Account Link via the Polling Method\n\nIn this example, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the transfer request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/transfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "creditParty": [\n        {\n            "key": "linkref",\n            "value": "Place your Link Reference here"\n        }\n    ],\n    "currency": "RWF",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ]\n}\n\n\n \n\n\nGET .../requeststates/Place the Server Correlation Id here\n\n\n \n\n\nGET .../transactions/Place Transaction Reference here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/type/transfer activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the transfer request for\nprocessing to the FSP, ensuring that a link reference is\nprovided for the transfer. The FSP will return the Request\nState object to indicate that the request is \'pending\'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) deactivate Requesting FSP loop activate Requesting FSP Requesting FSP->>FSP: GET /requeststates/{serverCorrelationId} Note right of FSP: (2) The requesting FSP polls the FSP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. FSP--\x3e>Requesting FSP: HTTP 200 (Request State Object) end deactivate FSP opt activate FSP Requesting FSP->>FSP: GET /transactions/transactionReference Note right of FSP: (3) The requesting FSP can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted transfer. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Object) end deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Perform a Transfer Reversal\n\nIn some failure scenarios, a requesting FSP may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: POST /transactions/{original transaction reference}/reversals activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP submits the reversal request for\nprocessing to the FSP - passing the reference of the\ntransaction that is to be reversed. The FSP will return the\nRequest State object to indicate that the request is\n\'pending\'. FSP--\x3e>Requesting FSP: HTTP 202 (Request State Object) FSP->>Requesting FSP: PUT {Callback URL} (Reversal Object) Note right of FSP: (2) The FSP informs the Requesting FSP that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Requesting FSP--\x3e>FSP: HTTP 204 deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain a Financial Service Provider Balance\n\n \n\n\nGET .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nrequested account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Transfers for a Financial Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP requests\nup to 20 transactions for the\naccount from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The requesting FSP requests\nthe remaining transactions for\nthe account from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the requesting FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /responses{clientCorrelationId} activate Requesting FSP activate FSP Note right of FSP: (1) Using the requesting FSP\'s\nclientCorrelationId, a request for the\nmissing API response is sent. FSP--\x3e>Requesting FSP: HTTP 200 (Responses Object) Note right of FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Requesting FSP->>FSP: GET /{link} Note right of FSP: (3) The requesting FSP uses the link to\nobtain a representation of the missing\nresource. FSP--\x3e>Requesting FSP: HTTP 200 (Requested Object) deactivate FSP deactivate Requesting FSP\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# setup an account link\n\nthis diagram illustrates the setting-up of an account link. the requesting fsp initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/2000/links\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "sourceaccountidentifiers": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "status": "active",\n    "mode": "both",\n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "12345"\n  }                 \n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fps participant fsp participant account holder requesting fps->>fsp: post /accounts/{identifiertype}/{identifier}/links activate requesting fps activate fsp note right of fsp: (1) the requesting fps submits the debit mandate request for\nprocessing to the fsp. the fsp will return the request\nstate object to indicate that the request is \'pending\'. fsp--\x3e>requesting fps: http 202 (request state object) fsp->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the account holder is requested by the\nfsp to authorise the link. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>fsp: (authorised) deactivate account holder fsp->>requesting fps: put {callback url} (debit mandates object) note right of fsp: (3) the fsp informs the requesting fps that the\nlink has been successfully created by\nreturning the final representation of the link. requesting fps--\x3e>fsp: http 204 deactivate requesting fps deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# setup an account link failure\n\nin this diagram, the account holder declines to provide authorisation to setup the account link. the requesting fsp receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant requesting fps participant fsp participant account holder requesting fps->>fsp: post /accounts/{identifiertype}/{identifier}/links activate requesting fps activate fsp note right of fsp: (1) the requesting fps submits the debit mandate request for\nprocessing to the fsp. the fsp will return the request\nstate object to indicate that the request is \'pending\'. fsp--\x3e>requesting fps: http 202 (request state object) fsp->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the account holder declines the link\nrequest. account holder--\x3e>fsp: (declined) deactivate account holder fsp->>requesting fps: put {callback url} (error object) note right of fsp: (3) the fsp informs the requesting fps that the\nlink has been declined by returning an error\nobject. requesting fps--\x3e>fsp: http 204 deactivate requesting fps deactivate fsp\n\n\n# perform a transfer for a linked account\n\nin this diagram, the requesting fsp initiates a transfer to the fsp using an established link.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/transfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "creditparty": [\n        {\n            "key": "linkref",\n            "value": "place your link reference here"\n        }\n    ],\n    "currency": "rwf",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ]\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference\nis provided for the transfer. the fsp will return the request\nstate object to indicate that the request is \'pending\'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp fsp->>requesting fsp: put {callback url} (transactions object) activate requesting fsp note right of fsp: (2) the fsp informs the requesting fsp that the\ntransfer has been successfully completed by\nreturning the final representation of the\ntransaction. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# perform a transfer for a linked account - failure\n\nin this diagram, the requesting fsp initiates a transfer to the fsp using an established link. the fsp is unable to process the transfer and returns a callback containing the error object.\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference is\nprovided for the transfer. the fsp will return the request\nstate object to indicate that the request is \'pending\'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp fsp->>requesting fsp: put {callback url} (error object) activate requesting fsp note right of fsp: (2) the fsp informs the requesting fsp that the\ntransfer has failed and returns the error object\ndetailing the reason for failure. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp\n\n\n# perform a transfer using an account link via the polling method\n\nin this example, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the transfer request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/transfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "creditparty": [\n        {\n            "key": "linkref",\n            "value": "place your link reference here"\n        }\n    ],\n    "currency": "rwf",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ]\n}\n\n\n \n\n\nget .../requeststates/place the server correlation id here\n\n\n \n\n\nget .../transactions/place transaction reference here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/type/transfer activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the transfer request for\nprocessing to the fsp, ensuring that a link reference is\nprovided for the transfer. the fsp will return the request\nstate object to indicate that the request is \'pending\'. fsp--\x3e>requesting fsp: http 202 (request state object) deactivate requesting fsp loop activate requesting fsp requesting fsp->>fsp: get /requeststates/{servercorrelationid} note right of fsp: (2) the requesting fsp polls the fsp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. fsp--\x3e>requesting fsp: http 200 (request state object) end deactivate fsp opt activate fsp requesting fsp->>fsp: get /transactions/transactionreference note right of fsp: (3) the requesting fsp can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted transfer. fsp--\x3e>requesting fsp: http 200 (transactions object) end deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# perform a transfer reversal\n\nin some failure scenarios, a requesting fsp may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: post /transactions/{original transaction reference}/reversals activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp submits the reversal request for\nprocessing to the fsp - passing the reference of the\ntransaction that is to be reversed. the fsp will return the\nrequest state object to indicate that the request is\n\'pending\'. fsp--\x3e>requesting fsp: http 202 (request state object) fsp->>requesting fsp: put {callback url} (reversal object) note right of fsp: (2) the fsp informs the requesting fsp that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. requesting fsp--\x3e>fsp: http 204 deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# obtain a financial service provider balance\n\n \n\n\nget .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequested account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# retrieve transfers for a financial service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transfers for a financial service provider via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests\nup to 20 transactions for the\naccount from the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests\nthe remaining transactions for\nthe account from the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the requesting fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /responses{clientcorrelationid} activate requesting fsp activate fsp note right of fsp: (1) using the requesting fsp\'s\nclientcorrelationid, a request for the\nmissing api response is sent. fsp--\x3e>requesting fsp: http 200 (responses object) note right of fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. requesting fsp->>fsp: get /{link} note right of fsp: (3) the requesting fsp uses the link to\nobtain a representation of the missing\nresource. fsp--\x3e>requesting fsp: http 200 (requested object) deactivate fsp deactivate requesting fsp\nopen postman collection open postman collection with authentication',charsets:{}},{title:"Agent Services",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Agent Services"},regularPath:"/use-cases/agent-services/",relativePath:"use-cases/agent-services/index.md",key:"v-13461887",path:"/use-cases/agent-services/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:1714}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nAgent Services comprises of the following:\n\n\n\nCash-in and Cash-out Services\n\n * Agent-initiated Cash-out. The agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * Customer-initiated Cash-out. The mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * Cash-out via Authorisation Code. The customer generates an authorisation code up to a maximum amount. The agent then enters or scans (if rendered as a QR code) the code to perform the withdrawal.\n * Cash-in. The agent initiates the cash-in by entering the customer account identifier(s).\n\nClosed loop and open-loop agent cash-in and cash-out are supported by the Mobile Money API. Closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. Open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nAgents can be physical agents, i.e. customers that are serviced by an human, or can be an ATM.\n\n\n\nCustomer Account Services\n\n * Customer Registration. Agents can register new customers for mobile money.\n * KYC Verification. Agents that provide KYC verification services can confirm that they have verified customer KYC.\n   \n   \n\nFurther Reading\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer KYC verification services on behalf of mobile\n                         money customers.\nAgents                   To understand how to implement the Mobile Money API to         API Consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and KYC verification.",normalizedContent:"# introduction\n\nagent services comprises of the following:\n\n\n\ncash-in and cash-out services\n\n * agent-initiated cash-out. the agent initiates the cash-out and the mobile money customer is requested to authenticate the cash-out by the mobile money provider.\n * customer-initiated cash-out. the mobile money customer initiates the payment by specifying the agent that is to be performing the cash-out.\n * cash-out via authorisation code. the customer generates an authorisation code up to a maximum amount. the agent then enters or scans (if rendered as a qr code) the code to perform the withdrawal.\n * cash-in. the agent initiates the cash-in by entering the customer account identifier(s).\n\nclosed loop and open-loop agent cash-in and cash-out are supported by the mobile money api. closed loop cash-in/cash-out occurs where the agent and customer accounts reside with the same mobile money provider. open loop cash-in/cash-out occurs where the agent and customer accounts reside with different mobile money providers.\n\nagents can be physical agents, i.e. customers that are serviced by an human, or can be an atm.\n\n\n\ncustomer account services\n\n * customer registration. agents can register new customers for mobile money.\n * kyc verification. agents that provide kyc verification services can confirm that they have verified customer kyc.\n   \n   \n\nfurther reading\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         agents to perform cash-in, cash-out, customer registration\n                         and customer kyc verification services on behalf of mobile\n                         money customers.\nagents                   to understand how to implement the mobile money api to         api consumer\n                         service customer requests for cash-in, cash-out,\n                         registration and kyc verification.",charsets:{}},{title:"Agent Services - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"Agent Services - API Service Definition"},regularPath:"/use-cases/agent-services/api-service-definition.html",relativePath:"use-cases/agent-services/api-service-definition.md",key:"v-7d83edb8",path:"/use-cases/agent-services/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2157},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:2545},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:11734},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:12134},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:12545},{level:3,title:"Agent Accounts APIs",slug:"agent-accounts-apis",normalizedTitle:"agent accounts apis",charIndex:20942},{level:4,title:"Identifying an Agent Account",slug:"identifying-an-agent-account",normalizedTitle:"identifying an agent account",charIndex:21188},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:21346},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:21532},{level:3,title:"Customer Account Services",slug:"customer-account-services",normalizedTitle:"customer account services",charIndex:22032},{level:4,title:"Register a Customer Mobile Money Account",slug:"register-a-customer-mobile-money-account",normalizedTitle:"register a customer mobile money account",charIndex:22061},{level:4,title:"Verify a Customer’s KYC",slug:"verify-a-customer-s-kyc",normalizedTitle:"verify a customer’s kyc",charIndex:22515},{level:5,title:"Retrieve Customer KYC Details from the Mobile Money Provider",slug:"retrieve-customer-kyc-details-from-the-mobile-money-provider",normalizedTitle:"retrieve customer kyc details from the mobile money provider",charIndex:23155},{level:5,title:"Provide Customer KYC Verification Update to the Mobile Money Provider",slug:"provide-customer-kyc-verification-update-to-the-mobile-money-provider",normalizedTitle:"provide customer kyc verification update to the mobile money provider",charIndex:23570},{level:4,title:"Account UML Diagram",slug:"account-uml-diagram",normalizedTitle:"account uml diagram",charIndex:25480},{level:4,title:"Account Object Definition",slug:"account-object-definition",normalizedTitle:"account object definition",charIndex:25859},{level:3,title:"View Transactions for an Agent",slug:"view-transactions-for-an-agent",normalizedTitle:"view transactions for an agent",charIndex:31868},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:34104},{level:3,title:"View an Agent’s Account Balance",slug:"view-an-agent-s-account-balance",normalizedTitle:"view an agent’s account balance",charIndex:34579},{level:4,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:34943},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:35076},{level:3,title:"Account Holder Name API",slug:"account-holder-name-api",normalizedTitle:"account holder name api",charIndex:37600},{level:4,title:"Account Holder Name UML Class Diagram",slug:"account-holder-name-uml-class-diagram",normalizedTitle:"account holder name uml class diagram",charIndex:37917},{level:4,title:"Account Holder Name Object Definition",slug:"account-holder-name-object-definition",normalizedTitle:"account holder name object definition",charIndex:38062},{level:3,title:"Authorisation Codes API",slug:"authorisation-codes-api",normalizedTitle:"authorisation codes api",charIndex:38631},{level:4,title:"Authorisation Code UML Class Diagram",slug:"authorisation-code-uml-class-diagram",normalizedTitle:"authorisation code uml class diagram",charIndex:41856},{level:4,title:"Authorisation Code Object Definition",slug:"authorisation-code-object-definition",normalizedTitle:"authorisation code object definition",charIndex:42491},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:48326},{level:3,title:"Name Object",slug:"name-object",normalizedTitle:"name object",charIndex:48349},{level:3,title:"Account Identifier Object",slug:"account-identifier-object",normalizedTitle:"account identifier object",charIndex:49899},{level:3,title:"Identity Object",slug:"identity-object",normalizedTitle:"identity object",charIndex:50807},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:53820},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:54663},{level:3,title:"Transaction Type Object",slug:"transaction-type-object",normalizedTitle:"transaction type object",charIndex:55490},{level:3,title:"Channel Type Object",slug:"channel-type-object",normalizedTitle:"channel type object",charIndex:56405},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:56984},{level:3,title:"Commission Object",slug:"commission-object",normalizedTitle:"commission object",charIndex:57890},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:58982},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:59874},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:59891},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:60268},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:60794}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Agent Accounts APIs Identifying an Agent Account Single Identifier Method Multiple Identifiers Method Customer Account Services Register a Customer Mobile Money Account Verify a Customer’s KYC Retrieve Customer KYC Details from the Mobile Money Provider Provide Customer KYC Verification Update to the Mobile Money Provider Account UML Diagram Account Object Definition View Transactions for an Agent Account Transaction UML Class Diagram View an Agent’s Account Balance Account Balance UML Class Diagram Account Balance Object Definition Account Holder Name API Account Holder Name UML Class Diagram Account Holder Name Object Definition Authorisation Codes API Authorisation Code UML Class Diagram Authorisation Code Object Definition Supporting Objects Name Object Account Identifier Object Identity Object Metadata Object Custom Data Object Transaction Type Object Channel Type Object Fees Object Commission Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types Account Identifiers",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nCustomer cash-in and cash-out transactions can be created, updated, and viewed using Transactions APIs.\n\nThe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Transaction Party "1..2" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction classDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction\n\nFigure 2‑1 Transaction UML Class Diagram\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                              \nName                                         Type        Description                                                           Reference                        Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                     \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers              creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                     debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers              debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                     If creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                     Enumeration = Transaction Types\n                                                         the URL)                                                       ← M\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                     \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                     Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                     Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                     \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                     \n                                                         was initiated.                                                 ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                     \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                         Provider                                                       ← O\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                                     \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                         populate additional transaction fields.                        ← O\n\n\n# Reversals API\n\nThe Reversals API is used to reverse a cash-in or cash-out. The originating transaction reference must be provided in the path in order to identify the transaction to be reversed. For a partial reversal, the amount needs to be supplied.\n\nFor viewing reversals, the Transactions API should be used.\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Transaction Party "1..2" --* "1" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction classDiagram Credit Party Identifier "0..10" --* "1" Reversal Debit Party Identifier "0..10" --* "1" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\nFigure 2-2 Reversal UML Class Diagram\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                          TYPE        DESCRIPTION                                                         REFERENCE                        VALIDATION\ntransactionReference                          string      Unique reference for the transaction. This is returned in      NA                                    \n                                                          the response by API provider.                                  M\nrequesting OrganisationTransactionReference   string      A reference provided by the requesting organisation that is    O                                     \n                                                          to be associated with the transaction.                         O\noriginalTransactionReference                  string      For reversals and refunds, this field indicates the            NA                                    \n                                                          transaction which is the subject of the reversal.              M\ncreditParty                                   array       A series of key/value pairs that enable the credit party to    O    Account Identifiers              \n                                                          be identified. Keys include MSISDN and Wallet Identifier.      O\ndebitParty                                    array       A collection of key/value pairs that enable the debit party    O    Account Identifiers              \n                                                          to be identified. Keys include MSISDN and Wallet Identifier.   O\ntype                                          string      The harmonised Transaction Type                                M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                         M                                     Refunds (adjustments) are supported.\nsubType                                       string      A non-harmonised sub-classification of the type of             O                                     \n                                                          transaction. Values are not fixed, and usage will vary         O\n                                                          according to Provider.\ntransactionStatus                             string      Indicates the status of the transaction as stored by the API   NA                                    \n                                                          provider.                                                      M\namount                                        string      The transaction Amount.                                        O                                     Please refer to API Fundamentals document for amount\n                                                                                                                         O                                     validation rules.\ncurrency                                      string      Currency of the transaction amount.                            O                                     Enumeration = ISO Currency Codes\n                                                                                                                         O\ndescriptionText                               string      Free format text description of the transaction provided by    O                                     \n                                                          the client. This can be provided as a reference for the        O\n                                                          receiver on a notification SMS and on an account statement.\nfees                                          array       Allows the passing and/or returning of all fees pertaining     O    Fees Object                      \n                                                          to the transaction.                                            O\ngeoCode                                       string      Indicates the geographic location from where the transaction   O                                     \n                                                          was initiated.                                                 O\nrequestingOrganisation                        object      The originating organisation of the request.                   O    Requesting Organisation Object   \n                                                                                                                         O\nservicingIdentity                             string      The field is used to identify the servicing identity for       O                                     \n                                                          transactions, e.g. till, POS ID, assistant ID.                 O\ntransactionReceipt                            string      Transaction receipt number as notified to the parties. This    NA                                    \n                                                          may differ from the Transaction Reference.                     O\ncreationDate                                  date-time   Date and time when the transaction was created by the API      NA                                    \n                                                          Provider.                                                      O\nmodificationDate                              date-time   Date and time when the transaction was modified by the API     NA                                    \n                                                          Provider.                                                      O\nrequestDate                                   date-time   The date and time of the transaction request as supplied by    O                                     \n                                                          the client.                                                    O\ncustomData                                    string      A collection of key/value pairs that can be used for           O    Custom Data Object               \n                                                          provider specific fields.                                      O\nmetadata                                      array       A collection of key/value pairs. These can be used to          O    Metadata                         \n                                                          populate additional properties that describe administrative    O\n                                                          information regarding the transaction.\n\n\n# Agent Accounts APIs\n\nUsing the mobile money Account APIs, agents can:\n\n * Register a new customer mobile money account.\n * Perform KYC verification services for a customer.\n * View transactions for their account.\n * View their account balance\n\n# Identifying an Agent Account\n\nTwo methods are provided for identifying an agent account, the single identifier method, and the multiple identifiers method\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifierType}/{identifier} .\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3} .\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Customer Account Services\n\n# Register a Customer Mobile Money Account\n\nThe Mobile Money API allows account creation for customers who are classified as individuals. Upon registration, new customers are generally provided with account and transaction limits based upon the level of KYC information they have provided and whether their KYC information has been physically verified.\n\nTo create an account, use POST /accounts/{identityType}, supplying individual as the identityType.\n\n# Verify a Customer’s KYC\n\nIn some markets, customers are able self-register for a mobile money account but have limited access to services until they have physically verified their KYC documentation with an authorised mobile money agent. The agent will compare the physical KYC against the details held by the mobile money provider. Agents can use the mobile money API to notify the outcome of the KYC verification to the mobile money provider. The steps are as follows:\n\n 1. Retrieve the KYC details for the customer from the mobile money provider.\n 2. Inform the mobile money provider as to whether the KYC verification was successful.\n\n# Retrieve Customer KYC Details from the Mobile Money Provider\n\nKYC details for a customer(s) associated with an account can be retrieved via the following paths:\n\nGET /accounts/{accountIdentifierType}/{identifier} OR\n\nGET /accounts/{Account Identifiers}\n\nThe identityId of the customer will also be returned in the response which must then be used to identify the customer in the subsequent verification request.\n\n# Provide Customer KYC Verification Update to the Mobile Money Provider\n\nTo verify a customer’s KYC, use one of the following paths:\n\nPATCH /accounts/{identifierType}/{identifier}/identities/{identityId} OR\n\nPATCH /accounts/{Account Identifiers}/identities/{identityId}\n\nThe following identity fields can be updated:\n\n{\n  "identity.kycVerificationStatus": {\n    "op": "replace", \n    "path": "/kycVerificationStatus", \n    "value": "string"\n  },\n  "identity.kycVerificationEntity": {\n    "op": "replace", \n    "path": "/kycVerificationEntity", \n    "value": "string"\n  },\n  "identity.kycLevel": {\n    "op": "replace", \n    "path": "/kycLevel", \n    "value": "string"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nFIELD                            PATCH BODY                                                    DESCRIPTION\nidentity.kycVerificationStatus   "op": "replace", "path": "/kycVerificationStatus", "value":   Use to change the KYC verification status of an identity\n(required)                       “string”                                                      associated with an account. The values that can be set will\n                                                                                               be provided by the mobile money provider.\nidentity.kycVerificationEntity   "op": "replace", "path": "/kycVerificationEntity", "value":   Use to indicate the agent that performed the verification.\n(optional)                       “string”\nidentity.kycLevel                "op": "replace", "path": "/kycLevel", "value": “integer”      Use to modify the KYC level of an identity associated with\n(optional)                                                                                     an account. Valid KYC levels will be provided by the mobile\n                                                                                               money provider.\n\n# Account UML Diagram\n\nclassDiagram ID Document "0..10" --* "1" KYC Information Address "0..1" --* "1" KYC Information Name "0..1" --* "1" KYC Information KYC Information "1" --* "1" Identity Account Identifier "1..10" --* "1" Account Identity "1..20" --* "1" Account Fee "1..20" --* "1" Account Commission "1..20" --* "1" Account\n\nFigure 2‑3 Account Creation UML Class Diagram\n\n# Account Object Definition\n\n{\n  "accountIdentifiers": [\n    {\n      "key": "myCustomKey",\n      "value": "myCustomValue"\n    }\n  ],\n  "identity": [\n    {\n      "identityId": "12345",\n      "identityType": "individual",\n      "identityKyc": {\n        "dateOfBirth": "2000-11-20",\n        "birthCountry": "GB",\n        "contactPhone": "+1234567890"\n      },\n      "accountRelationship": "accountholder"\n    }\n  ],\n  "accountType": "seller",\n  "accountSubStatus": "api",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "commissionEarned": {\n    "commissionType": "transfer",\n    "commissionAmount": "2.50",\n    "commissionCurrency": "GBP"\n  },\n  "registeringEntity": "My FSP",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nACCOUNT OBJECT                                                                                                               \nName                 Type        Description                                                           Reference             Validation\naccountIdentifiers   array       A series of key/value pairs that enable the account to be      → O    Account Identifiers   \n                                 identified. Identifiers are assigned by the API Provider       ← M\n                                 during creation.\nidentity             array       An account must be associated with one or more identities.     → M    Identity Object       \n                                                                                                ← M\naccountType          string      A non-harmonised field that indicates the type of the          → O                          \n                                 account.                                                       ← O\naccountStatus        string      Indicates a simplified representation of the account status.   → NA                         \n                                 This will be shown as ‘available’ or ‘unavailable’. A state    ← M\n                                 of ‘unavailable’ means that the account is in a state that\n                                 does not allow posting of transactions.\naccountSubStatus     string      Field can be used to return a provider-specific status for     → NA                         \n                                 the account.                                                   ← O\ncurrentBalance       string      The current outstanding balance on the account.                → NA                         Please refer to API Fundamentals document for amount\n                                                                                                ← O                          validation rules.\navailableBalance     string      Indicates the balance that is able to be debited for an        → NA                         Please refer to API Fundamentals document for amount\n                                 account. This balance is only provided on some API provider    ← O                          validation rules.\n                                 systems.\nreservedBalance      string      Indicates the portion of the balance that is reserved, i.e.    → NA                         Please refer to API Fundamentals document for amount\n                                 intended to be debited. This balance is only provided on       ← O                          validation rules.\n                                 some API provider systems.\nunClearedBalance     string      Indicates the sum of uncleared funds in an account, i.e.       → NA                         Please refer to API Fundamentals document for amount\n                                 those that are awaiting a credit confirmation.                 ← O                          validation rules.\ncurrency             string      Currency of the account.                                       → NA                         Enumeration = ISO Currency Codes\n                                                                                                ← O\ncustomData           string      A collection of key/value pairs that can be used for           → O    Custom Data Object    \n                                 provider specific fields.                                      ← O\nfees                 string      Returns all fees related to the creation of the account.       → O    Fees Object           \n                                                                                                ← O\ncommissionEarned     string      Returns all commission earned by the registering entity for    → NA   Commission Object     \n                                 the creation of the account.                                   ← O\nregisteringEntity    string      The entity that registered the account, for example, a         → O                          \n                                 mobile money agent.                                            ← O\ncreationDate         date-time   Indicates when the account was created as recorded by the      → NA                         \n                                 API provider.                                                  ← O\nmodificationDate     date-time   Indicates when the account was modified as recorded by the     → NA                         \n                                 API provider.                                                  ← O\nrequestDate          date-time   The date and time of the account request as supplied by the    → O                          \n                                 client.                                                        ← O\n\n\n# View Transactions for an Agent\n\nAn agent should use this API to return a list of transactions against their account. One of the following paths can be used:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned. This\n                                          can be ‘deposit’, ‘withdrawal’, ‘reversal’ or ‘adjustment’.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram Transaction Party "1..2" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account classDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2‑4 Account Transaction UML Class Diagram\n\n\n# View an Agent’s Account Balance\n\nUsing the Account Balances API, an FSP can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the FSP account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram Account Balance "1" --* "1" Account\n\nFigure 2‑5 Account Balance UML Class Diagram\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                         REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                NA               Please refer to API Fundamentals document for amount\n                                                                                           O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 O                validation rules.\ncurrency           string   Currency for all returned balances.                            NA               Enumeration = ISO Currency Codes\n                                                                                           O\n\n\n# Account Holder Name API\n\nUsing the Account Holder Name API, an agent can retrieve the name of the depositing customer to confirm the name is correct prior to authorising the request.\n\nPermitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/accountname\n\nor GET /accounts/{Account Identifiers}/accountname\n\n# Account Holder Name UML Class Diagram\n\nclassDiagram Account Holder Name "1" --* "1" Account\n\nFigure 2‑6 Account Holder Name UML Class Diagram\n\n# Account Holder Name Object Definition\n\n{\n  "name": {\n    "title": "Mr",\n    "firstName": "John",\n    "middleName": "Alan",\n    "lastName": "Doe",\n    "fullName": "John Alan Doe",\n    "nativeName": "John Doe"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME   TYPE        DESCRIPTION                                                     REFERENCE   VALIDATION\nname   Reference   A collection of fields detailing the name of the primary   NA   Name        \n                   account holder.                                            O\n\n\n# Authorisation Codes API\n\nThe Authorisation Codes API allows a withdrawing customer to generate a code which when presented to the agent, can be redeemed for an amount set by the withdrawing customer. The code can then be presented to the agent in the form of a digital code or QR code displayed on an app. The agent enters the digital code or scans the QR code via their POS.\n\nAuthorisation codes can be set to expire. Note that expiry time can be specified via the API, however the mobile money provider may mandate a common expiry period for all codes.\n\nThe following paths are permitted:\n\n * Generate an Authorisation Code. POST /accounts/{identifierType}/{identifier}/authorisationcodes or POST /accounts/{Account Identifiers}/authorisationcodes\n * Cancel an Authorisation Code (codeState = ‘cancelled’). PATCH /accounts/{identifierType}/{identifier}/authorisationcodes/{authorisationCode} or PATCH /accounts/{Account Identifiers}/authorisationcodes/{authorisationCode}.\n * View An Authorisation Code for a given account. GET /accounts/{identifierType}/{identifier}/authorisationcodes/{authorisationCode} or GET /accounts/{Requestor Account Identifiers}/authorisationcodes/{authorisationCode}.\n * View all Authorisation Codes for a given account. GET /accounts/{identifierType}/{identifier}/authorisationcodes or GET /accounts/{Requestor Account Identifiers}/authorisationcodes.\n\nWhen retrieving authorisation codes, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "codeState": "active"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\ncodeState      string    string      Allows filtering on the state of the authorisation code.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the authorisation codes are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\nSynchronous and asynchronous modes are supported for the POST and PATCH methods whereas only synchronous mode is supported for the GET method.\n\n# Authorisation Code UML Class Diagram\n\nclassDiagram Redemption Party "1" --* "1" Authorisation Code Metadata "0..20" --* "1" Authorisation Code Redemption Channel "0..50" --* "1" Authorisation Code Redemption Transaction Type "0..50" --* "1" Authorisation Code Authorisation Code "0..*" --* "1" Account classDiagram Redemption Account Identifier "0..10" --* "1" Authorisation Code Metadata "0..20" --* "1" Authorisation Code Redemption Channel "0..50" --* "1" Authorisation Code Redemption Transaction Type "0..50" --* "1" Authorisation Code Authorisation Code "0..*" --* "1" Account\n\nFigure 2-7 Authorisation Code UML Class Diagram\n\n# Authorisation Code Object Definition\n\n{\n  "authorisationCode": "12345",\n  "codeState": "expired",\n  "amount": "123.45",\n  "currency": "GBP",\n  "amountType": "exact",\n  "codeLifetime": 30000,\n  "holdFundsIndicator": true,\n  "redemptionAccountIdentifiers": [\n    {\n      "key":"MSISDN",\n      "value":"+1234567890"\n    }\n  ],\n  "redemptionChannels": "ATM",\n  "redemptionTransactionTypes": {\n    "transactionStatus": "completed",\n    "transactionType": "merchantpay"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nAUTHORISATION CODES OBJECT                                                                                                                  \nName                           Type        Description                                                           Reference                  Validation\nauthorisationCode              string      The code that will be presented to the other party for         → NA                              \n                                           redemption.                                                    ← M\ncodeState                      string      Indicates the state of the Authorisation Code                  → NA                              Enumeration = ‘active’, ‘expired’, ‘cancelled’\n                                                                                                          ← M\namount                         string      Indicates the amount associated with the authorisation code.   → O                               Please refer to API Fundamentals document for amount\n                                           Typically, this is set by the client.                          ← O                               validation rules.\ncurrency                       string      Indicates the amount currency. Must be supplied when an        → O                               Enumeration = ISO Currency Codes\n                                           amount is supplied.                                            ← O\namountType                     string      The amount for the authorisation can be an exact amount or     → O                               Enumeration = ‘exact’, ‘maximum’\n                                           can be a maximum amount, i.e. redemption up to but not         ← O\n                                           higher than the amount specified.\ncodeLifetime                   integer     Indicates the expiry time in seconds of the code. Depending    → O                               If supplied, then must be 1 second or greater.\n                                           upon the use case, this can be set by the client or server.    ← O\nholdFundsIndicator             boolean     Indicates whether funds should be reserved against the         → O                               \n                                           payer’s account where the payer is the requestor.              ← O\nredemptionAccountIdentifiers   array       A series of key/value pairs that identify the account where    → O    Account Identifiers        \n                                           the code must be redeemed. Only needed if the redemption       ← O\n                                           account needs to be explicitly stated.\nredemptionChannels             string      Indicates the channel(s) that the code can be redeemed         → O    Channel Types Object       \n                                           against, e.g. ATM, Merchant, etc..                             ← O\nredemptionTransactionTypes     string      Indicates the Transaction Types(s) that the code can be        → O    Transaction Types Object   \n                                           redeemed against.                                              ← O\nrequestingOrganisation         object      The originating organisation of the request.                   → O    Requesting Organisation    \n                                                                                                          ← O\ncreationDate                   date-time   Indicates when the link was created as recorded by the API     → NA                              \n                                           provider.                                                      ← O\nmodificationDate               date-time   Indicates when the link was modified as recorded by the API    → NA                              \n                                           provider.                                                      ← O\nrequestDate                    date-time   The date and time of the request as provided by the client.    → O                               \n                                                                                                          ← O\ncustomData                     string      A collection of key/value pairs that can be used for           → O    Custom Data Object         \n                                           provider specific fields.                                      ← O\nmetadata                       array       A collection of key/value pairs. These can be used to          → O    Metadata                   \n                                           populate additional properties that describe administrative    ← O\n                                           information regarding the authorisation code\n\n\n# Supporting Objects\n\n\n# Name Object\n\nThe name object identifies the name details for the subject identity.\n\n{\n  "title": "Mr",\n  "firstName": "John",\n  "middleName": "Alan",\n  "lastName": "Doe",\n  "fullName": "John Alan Doe",\n  "nativeName": "John Doe"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME         TYPE     DESCRIPTION                                                        REFERENCE   VALIDATION\ntitle        string   The given title of the KYC subject, e.g. Mr, Mrs, Dr.          O               \n                                                                                     O\nfirstName    string   First name (also referred to as given name) of the KYC         O               \n                      subject.                                                       O\nmiddleName   string   Middle Name of the KYC subject.                                O               \n                                                                                     O\nlastName     string   Surname (also referred to as last or family name) of the KYC   O               \n                      subject.                                                       O\nfullName     string   The full name of the KYC subject.                              O               \n                                                                                     O\nnativeName   string   The full name expressed as in the native language.             O               \n                                                                                     O\n\n\n# Account Identifier Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                       REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         M               Enumeration = Account Identifiers\n                                                               M\nvalue   string   Provides the account identifier type value.   M               \n                                                               M\n\n\n# Identity Object\n\nThe Identity object defines the information for an identity associated with an account. Between one and twenty identities can be associated with an account.\n\n{\n  "identityId": "12345",\n  "identityType": "individual",\n  "identityStatus": "Completed",\n  "identityKyc": {\n    "dateOfBirth": "2000-11-20",\n    "birthCountry": "GB",\n    "contactPhone": "+1234567890"\n  },\n  "accountRelationship": "accountholder",\n  "kycVerificationStatus": "verified",\n  "kycVerificationEntity": "123456789",\n  "kycLevel": "Regular",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nIDENTITY OBJECT                                                                                                          \nName                    Type      Description                                                          Reference         Validation\nidentityId              string    A unique id for the identity as assigned by the API           → NA                     \n                                  Provider.                                                     ← M\nidentityType            string    Indicates the type of the identity. Currently, only           → NA                     ‘individual’\n                                  ‘individual’ is supported.                                    ← M\nidentityStatus          string    A non-harmonised field describing the status of the           → NA                     \n                                  identity.                                                     ← O\nidentityKyc             object    A collection of fields detailing the KYC held for the         → M    KYC Information   \n                                  identity.                                                     ← M\naccountRelationship     string    Describes the relationship that the identity holds with the   → M                      ‘accountholder’\n                                  account.                                                      ← M\nkycVerificationStatus   string    Indicates the status of the identity’s KYC verification.      → O                      ‘verified’, ‘unverified’, ‘rejected’\n                                                                                                ← O\nkycVerificationEntity   string    Indicates the entity (e.g. mobile money agent) that has       → O                      \n                                  verified the KYC of the identity.                             ← O\nkycLevel                integer   Indicates the KYC level that the identity is associated       → O                      \n                                  with.                                                         ← O\ncustomData              array     A collection of key/value pairs that can be used for          → O                      \n                                  provider specific fields.                                     ← O\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Transaction Type Object\n\nThis object enables multiple transaction types to be specified along with paired sub-types. This object is used where multiple transaction types need to be passed in an API.\n\n{\n  "transactionType": "merchantpay",\n  "transactionSubType": "local",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION TYPE OBJECT                                                                     \nName                      Type     Description                                  Reference   Validation\ntransactionType           string   Identifies the Transaction Type.       → M               Enumeration = Transaction Types\n                                                                          ← M\ntransactionSubType        string   Identifies the Transaction Sub-Type.   → O               \n                                                                          ← O\n\n\n# Channel Type Object\n\nThis object enables multiple channel types to be specified. This object is used where multiple channel types need to be passed in an API.\n\n{\n  "channelType": "ATM"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCHANNEL TYPE OBJECT                                                             \nName                  Type     Description                          Reference   Validation\nchannelType           string   Identifies the Channel Type.   → M               \n                                                              ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                   REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  M               \n                                                                 M\nfeeAmount     string   Defines the amount of the fee.            M               Please refer to API Fundamentals document for amount\n                                                                 M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   M               Enumeration = ISO Currency Codes\n                                                                 M\n\n\n# Commission Object\n\nAn object that enables earned commission that is calculated by the API provider to be returned.\n\n{\n  "commissionType": "surcharge",\n  "commissionAmount": "2",\n  "commissionCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCOMMISSION OBJECT                                                                         \nName                 Type     Description                                     Reference   Validation\ncommissionType       string   Defines the type of commission.           → M               \n                                                                        ← M\ncommissionAmount     string   Defines the amount of the commission.     → M               Please refer to API Fundamentals document for amount\n                                                                        ← M               validation rules.\ncommissionCurrency   string   Defines the currency of the commission.   → M               Enumeration = ISO Currency Codes\n                                                                        ← M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE         DESCRIPTION\ndeposit      Exchange of cash in return for e-Money at a physical agent\n             or via ATM (cash-in).\nadjustment   General adjustments to an account via an adjustment\n             transaction (e.g. refunds).\nreversal     Reversal of a prior transaction to return funds to the\n             payer.\nwithdrawal   Exchange of e-Money in return for cash at a physical agent\n             or via ATM (cash-out).\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\ncustomer cash-in and cash-out transactions can be created, updated, and viewed using transactions apis.\n\nthe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram transaction party "1..2" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction classdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction\n\nfigure 2‑1 transaction uml class diagram\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                              \nname                                         type        description                                                           reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                    \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                     \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers              creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                     debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers              debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                     if creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                     enumeration = transaction types\n                                                         the url)                                                       ← m\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                     \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                    \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                     please refer to api fundamentals document for amount\n                                                                                                                        ← m                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                     enumeration = iso currency codes\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                     \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                     \n                                                         was initiated.                                                 ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                     \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                    \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                    \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                    \n                                                         provider                                                       ← o\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                                     \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                         populate additional transaction fields.                        ← o\n\n\n# reversals api\n\nthe reversals api is used to reverse a cash-in or cash-out. the originating transaction reference must be provided in the path in order to identify the transaction to be reversed. for a partial reversal, the amount needs to be supplied.\n\nfor viewing reversals, the transactions api should be used.\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram transaction party "1..2" --* "1" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction classdiagram credit party identifier "0..10" --* "1" reversal debit party identifier "0..10" --* "1" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\nfigure 2-2 reversal uml class diagram\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                          type        description                                                         reference                        validation\ntransactionreference                          string      unique reference for the transaction. this is returned in      na                                    \n                                                          the response by api provider.                                  m\nrequesting organisationtransactionreference   string      a reference provided by the requesting organisation that is    o                                     \n                                                          to be associated with the transaction.                         o\noriginaltransactionreference                  string      for reversals and refunds, this field indicates the            na                                    \n                                                          transaction which is the subject of the reversal.              m\ncreditparty                                   array       a series of key/value pairs that enable the credit party to    o    account identifiers              \n                                                          be identified. keys include msisdn and wallet identifier.      o\ndebitparty                                    array       a collection of key/value pairs that enable the debit party    o    account identifiers              \n                                                          to be identified. keys include msisdn and wallet identifier.   o\ntype                                          string      the harmonised transaction type                                m                                     enumeration = transaction types note that only reversals and\n                                                                                                                         m                                     refunds (adjustments) are supported.\nsubtype                                       string      a non-harmonised sub-classification of the type of             o                                     \n                                                          transaction. values are not fixed, and usage will vary         o\n                                                          according to provider.\ntransactionstatus                             string      indicates the status of the transaction as stored by the api   na                                    \n                                                          provider.                                                      m\namount                                        string      the transaction amount.                                        o                                     please refer to api fundamentals document for amount\n                                                                                                                         o                                     validation rules.\ncurrency                                      string      currency of the transaction amount.                            o                                     enumeration = iso currency codes\n                                                                                                                         o\ndescriptiontext                               string      free format text description of the transaction provided by    o                                     \n                                                          the client. this can be provided as a reference for the        o\n                                                          receiver on a notification sms and on an account statement.\nfees                                          array       allows the passing and/or returning of all fees pertaining     o    fees object                      \n                                                          to the transaction.                                            o\ngeocode                                       string      indicates the geographic location from where the transaction   o                                     \n                                                          was initiated.                                                 o\nrequestingorganisation                        object      the originating organisation of the request.                   o    requesting organisation object   \n                                                                                                                         o\nservicingidentity                             string      the field is used to identify the servicing identity for       o                                     \n                                                          transactions, e.g. till, pos id, assistant id.                 o\ntransactionreceipt                            string      transaction receipt number as notified to the parties. this    na                                    \n                                                          may differ from the transaction reference.                     o\ncreationdate                                  date-time   date and time when the transaction was created by the api      na                                    \n                                                          provider.                                                      o\nmodificationdate                              date-time   date and time when the transaction was modified by the api     na                                    \n                                                          provider.                                                      o\nrequestdate                                   date-time   the date and time of the transaction request as supplied by    o                                     \n                                                          the client.                                                    o\ncustomdata                                    string      a collection of key/value pairs that can be used for           o    custom data object               \n                                                          provider specific fields.                                      o\nmetadata                                      array       a collection of key/value pairs. these can be used to          o    metadata                         \n                                                          populate additional properties that describe administrative    o\n                                                          information regarding the transaction.\n\n\n# agent accounts apis\n\nusing the mobile money account apis, agents can:\n\n * register a new customer mobile money account.\n * perform kyc verification services for a customer.\n * view transactions for their account.\n * view their account balance\n\n# identifying an agent account\n\ntwo methods are provided for identifying an agent account, the single identifier method, and the multiple identifiers method\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifiertype}/{identifier} .\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3} .\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# customer account services\n\n# register a customer mobile money account\n\nthe mobile money api allows account creation for customers who are classified as individuals. upon registration, new customers are generally provided with account and transaction limits based upon the level of kyc information they have provided and whether their kyc information has been physically verified.\n\nto create an account, use post /accounts/{identitytype}, supplying individual as the identitytype.\n\n# verify a customer’s kyc\n\nin some markets, customers are able self-register for a mobile money account but have limited access to services until they have physically verified their kyc documentation with an authorised mobile money agent. the agent will compare the physical kyc against the details held by the mobile money provider. agents can use the mobile money api to notify the outcome of the kyc verification to the mobile money provider. the steps are as follows:\n\n 1. retrieve the kyc details for the customer from the mobile money provider.\n 2. inform the mobile money provider as to whether the kyc verification was successful.\n\n# retrieve customer kyc details from the mobile money provider\n\nkyc details for a customer(s) associated with an account can be retrieved via the following paths:\n\nget /accounts/{accountidentifiertype}/{identifier} or\n\nget /accounts/{account identifiers}\n\nthe identityid of the customer will also be returned in the response which must then be used to identify the customer in the subsequent verification request.\n\n# provide customer kyc verification update to the mobile money provider\n\nto verify a customer’s kyc, use one of the following paths:\n\npatch /accounts/{identifiertype}/{identifier}/identities/{identityid} or\n\npatch /accounts/{account identifiers}/identities/{identityid}\n\nthe following identity fields can be updated:\n\n{\n  "identity.kycverificationstatus": {\n    "op": "replace", \n    "path": "/kycverificationstatus", \n    "value": "string"\n  },\n  "identity.kycverificationentity": {\n    "op": "replace", \n    "path": "/kycverificationentity", \n    "value": "string"\n  },\n  "identity.kyclevel": {\n    "op": "replace", \n    "path": "/kyclevel", \n    "value": "string"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nfield                            patch body                                                    description\nidentity.kycverificationstatus   "op": "replace", "path": "/kycverificationstatus", "value":   use to change the kyc verification status of an identity\n(required)                       “string”                                                      associated with an account. the values that can be set will\n                                                                                               be provided by the mobile money provider.\nidentity.kycverificationentity   "op": "replace", "path": "/kycverificationentity", "value":   use to indicate the agent that performed the verification.\n(optional)                       “string”\nidentity.kyclevel                "op": "replace", "path": "/kyclevel", "value": “integer”      use to modify the kyc level of an identity associated with\n(optional)                                                                                     an account. valid kyc levels will be provided by the mobile\n                                                                                               money provider.\n\n# account uml diagram\n\nclassdiagram id document "0..10" --* "1" kyc information address "0..1" --* "1" kyc information name "0..1" --* "1" kyc information kyc information "1" --* "1" identity account identifier "1..10" --* "1" account identity "1..20" --* "1" account fee "1..20" --* "1" account commission "1..20" --* "1" account\n\nfigure 2‑3 account creation uml class diagram\n\n# account object definition\n\n{\n  "accountidentifiers": [\n    {\n      "key": "mycustomkey",\n      "value": "mycustomvalue"\n    }\n  ],\n  "identity": [\n    {\n      "identityid": "12345",\n      "identitytype": "individual",\n      "identitykyc": {\n        "dateofbirth": "2000-11-20",\n        "birthcountry": "gb",\n        "contactphone": "+1234567890"\n      },\n      "accountrelationship": "accountholder"\n    }\n  ],\n  "accounttype": "seller",\n  "accountsubstatus": "api",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "commissionearned": {\n    "commissiontype": "transfer",\n    "commissionamount": "2.50",\n    "commissioncurrency": "gbp"\n  },\n  "registeringentity": "my fsp",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\naccount object                                                                                                               \nname                 type        description                                                           reference             validation\naccountidentifiers   array       a series of key/value pairs that enable the account to be      → o    account identifiers   \n                                 identified. identifiers are assigned by the api provider       ← m\n                                 during creation.\nidentity             array       an account must be associated with one or more identities.     → m    identity object       \n                                                                                                ← m\naccounttype          string      a non-harmonised field that indicates the type of the          → o                          \n                                 account.                                                       ← o\naccountstatus        string      indicates a simplified representation of the account status.   → na                         \n                                 this will be shown as ‘available’ or ‘unavailable’. a state    ← m\n                                 of ‘unavailable’ means that the account is in a state that\n                                 does not allow posting of transactions.\naccountsubstatus     string      field can be used to return a provider-specific status for     → na                         \n                                 the account.                                                   ← o\ncurrentbalance       string      the current outstanding balance on the account.                → na                         please refer to api fundamentals document for amount\n                                                                                                ← o                          validation rules.\navailablebalance     string      indicates the balance that is able to be debited for an        → na                         please refer to api fundamentals document for amount\n                                 account. this balance is only provided on some api provider    ← o                          validation rules.\n                                 systems.\nreservedbalance      string      indicates the portion of the balance that is reserved, i.e.    → na                         please refer to api fundamentals document for amount\n                                 intended to be debited. this balance is only provided on       ← o                          validation rules.\n                                 some api provider systems.\nunclearedbalance     string      indicates the sum of uncleared funds in an account, i.e.       → na                         please refer to api fundamentals document for amount\n                                 those that are awaiting a credit confirmation.                 ← o                          validation rules.\ncurrency             string      currency of the account.                                       → na                         enumeration = iso currency codes\n                                                                                                ← o\ncustomdata           string      a collection of key/value pairs that can be used for           → o    custom data object    \n                                 provider specific fields.                                      ← o\nfees                 string      returns all fees related to the creation of the account.       → o    fees object           \n                                                                                                ← o\ncommissionearned     string      returns all commission earned by the registering entity for    → na   commission object     \n                                 the creation of the account.                                   ← o\nregisteringentity    string      the entity that registered the account, for example, a         → o                          \n                                 mobile money agent.                                            ← o\ncreationdate         date-time   indicates when the account was created as recorded by the      → na                         \n                                 api provider.                                                  ← o\nmodificationdate     date-time   indicates when the account was modified as recorded by the     → na                         \n                                 api provider.                                                  ← o\nrequestdate          date-time   the date and time of the account request as supplied by the    → o                          \n                                 client.                                                        ← o\n\n\n# view transactions for an agent\n\nan agent should use this api to return a list of transactions against their account. one of the following paths can be used:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned. this\n                                          can be ‘deposit’, ‘withdrawal’, ‘reversal’ or ‘adjustment’.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram transaction party "1..2" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account classdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2‑4 account transaction uml class diagram\n\n\n# view an agent’s account balance\n\nusing the account balances api, an fsp can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the fsp account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram account balance "1" --* "1" account\n\nfigure 2‑5 account balance uml class diagram\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                         reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                na               please refer to api fundamentals document for amount\n                                                                                           o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 o                validation rules.\ncurrency           string   currency for all returned balances.                            na               enumeration = iso currency codes\n                                                                                           o\n\n\n# account holder name api\n\nusing the account holder name api, an agent can retrieve the name of the depositing customer to confirm the name is correct prior to authorising the request.\n\npermitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/accountname\n\nor get /accounts/{account identifiers}/accountname\n\n# account holder name uml class diagram\n\nclassdiagram account holder name "1" --* "1" account\n\nfigure 2‑6 account holder name uml class diagram\n\n# account holder name object definition\n\n{\n  "name": {\n    "title": "mr",\n    "firstname": "john",\n    "middlename": "alan",\n    "lastname": "doe",\n    "fullname": "john alan doe",\n    "nativename": "john doe"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname   type        description                                                     reference   validation\nname   reference   a collection of fields detailing the name of the primary   na   name        \n                   account holder.                                            o\n\n\n# authorisation codes api\n\nthe authorisation codes api allows a withdrawing customer to generate a code which when presented to the agent, can be redeemed for an amount set by the withdrawing customer. the code can then be presented to the agent in the form of a digital code or qr code displayed on an app. the agent enters the digital code or scans the qr code via their pos.\n\nauthorisation codes can be set to expire. note that expiry time can be specified via the api, however the mobile money provider may mandate a common expiry period for all codes.\n\nthe following paths are permitted:\n\n * generate an authorisation code. post /accounts/{identifiertype}/{identifier}/authorisationcodes or post /accounts/{account identifiers}/authorisationcodes\n * cancel an authorisation code (codestate = ‘cancelled’). patch /accounts/{identifiertype}/{identifier}/authorisationcodes/{authorisationcode} or patch /accounts/{account identifiers}/authorisationcodes/{authorisationcode}.\n * view an authorisation code for a given account. get /accounts/{identifiertype}/{identifier}/authorisationcodes/{authorisationcode} or get /accounts/{requestor account identifiers}/authorisationcodes/{authorisationcode}.\n * view all authorisation codes for a given account. get /accounts/{identifiertype}/{identifier}/authorisationcodes or get /accounts/{requestor account identifiers}/authorisationcodes.\n\nwhen retrieving authorisation codes, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "codestate": "active"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\ncodestate      string    string      allows filtering on the state of the authorisation code.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the authorisation codes are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\nsynchronous and asynchronous modes are supported for the post and patch methods whereas only synchronous mode is supported for the get method.\n\n# authorisation code uml class diagram\n\nclassdiagram redemption party "1" --* "1" authorisation code metadata "0..20" --* "1" authorisation code redemption channel "0..50" --* "1" authorisation code redemption transaction type "0..50" --* "1" authorisation code authorisation code "0..*" --* "1" account classdiagram redemption account identifier "0..10" --* "1" authorisation code metadata "0..20" --* "1" authorisation code redemption channel "0..50" --* "1" authorisation code redemption transaction type "0..50" --* "1" authorisation code authorisation code "0..*" --* "1" account\n\nfigure 2-7 authorisation code uml class diagram\n\n# authorisation code object definition\n\n{\n  "authorisationcode": "12345",\n  "codestate": "expired",\n  "amount": "123.45",\n  "currency": "gbp",\n  "amounttype": "exact",\n  "codelifetime": 30000,\n  "holdfundsindicator": true,\n  "redemptionaccountidentifiers": [\n    {\n      "key":"msisdn",\n      "value":"+1234567890"\n    }\n  ],\n  "redemptionchannels": "atm",\n  "redemptiontransactiontypes": {\n    "transactionstatus": "completed",\n    "transactiontype": "merchantpay"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nauthorisation codes object                                                                                                                  \nname                           type        description                                                           reference                  validation\nauthorisationcode              string      the code that will be presented to the other party for         → na                              \n                                           redemption.                                                    ← m\ncodestate                      string      indicates the state of the authorisation code                  → na                              enumeration = ‘active’, ‘expired’, ‘cancelled’\n                                                                                                          ← m\namount                         string      indicates the amount associated with the authorisation code.   → o                               please refer to api fundamentals document for amount\n                                           typically, this is set by the client.                          ← o                               validation rules.\ncurrency                       string      indicates the amount currency. must be supplied when an        → o                               enumeration = iso currency codes\n                                           amount is supplied.                                            ← o\namounttype                     string      the amount for the authorisation can be an exact amount or     → o                               enumeration = ‘exact’, ‘maximum’\n                                           can be a maximum amount, i.e. redemption up to but not         ← o\n                                           higher than the amount specified.\ncodelifetime                   integer     indicates the expiry time in seconds of the code. depending    → o                               if supplied, then must be 1 second or greater.\n                                           upon the use case, this can be set by the client or server.    ← o\nholdfundsindicator             boolean     indicates whether funds should be reserved against the         → o                               \n                                           payer’s account where the payer is the requestor.              ← o\nredemptionaccountidentifiers   array       a series of key/value pairs that identify the account where    → o    account identifiers        \n                                           the code must be redeemed. only needed if the redemption       ← o\n                                           account needs to be explicitly stated.\nredemptionchannels             string      indicates the channel(s) that the code can be redeemed         → o    channel types object       \n                                           against, e.g. atm, merchant, etc..                             ← o\nredemptiontransactiontypes     string      indicates the transaction types(s) that the code can be        → o    transaction types object   \n                                           redeemed against.                                              ← o\nrequestingorganisation         object      the originating organisation of the request.                   → o    requesting organisation    \n                                                                                                          ← o\ncreationdate                   date-time   indicates when the link was created as recorded by the api     → na                              \n                                           provider.                                                      ← o\nmodificationdate               date-time   indicates when the link was modified as recorded by the api    → na                              \n                                           provider.                                                      ← o\nrequestdate                    date-time   the date and time of the request as provided by the client.    → o                               \n                                                                                                          ← o\ncustomdata                     string      a collection of key/value pairs that can be used for           → o    custom data object         \n                                           provider specific fields.                                      ← o\nmetadata                       array       a collection of key/value pairs. these can be used to          → o    metadata                   \n                                           populate additional properties that describe administrative    ← o\n                                           information regarding the authorisation code\n\n\n# supporting objects\n\n\n# name object\n\nthe name object identifies the name details for the subject identity.\n\n{\n  "title": "mr",\n  "firstname": "john",\n  "middlename": "alan",\n  "lastname": "doe",\n  "fullname": "john alan doe",\n  "nativename": "john doe"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname         type     description                                                        reference   validation\ntitle        string   the given title of the kyc subject, e.g. mr, mrs, dr.          o               \n                                                                                     o\nfirstname    string   first name (also referred to as given name) of the kyc         o               \n                      subject.                                                       o\nmiddlename   string   middle name of the kyc subject.                                o               \n                                                                                     o\nlastname     string   surname (also referred to as last or family name) of the kyc   o               \n                      subject.                                                       o\nfullname     string   the full name of the kyc subject.                              o               \n                                                                                     o\nnativename   string   the full name expressed as in the native language.             o               \n                                                                                     o\n\n\n# account identifier object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                       reference   validation\nkey     string   provides the account identifier type.         m               enumeration = account identifiers\n                                                               m\nvalue   string   provides the account identifier type value.   m               \n                                                               m\n\n\n# identity object\n\nthe identity object defines the information for an identity associated with an account. between one and twenty identities can be associated with an account.\n\n{\n  "identityid": "12345",\n  "identitytype": "individual",\n  "identitystatus": "completed",\n  "identitykyc": {\n    "dateofbirth": "2000-11-20",\n    "birthcountry": "gb",\n    "contactphone": "+1234567890"\n  },\n  "accountrelationship": "accountholder",\n  "kycverificationstatus": "verified",\n  "kycverificationentity": "123456789",\n  "kyclevel": "regular",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nidentity object                                                                                                          \nname                    type      description                                                          reference         validation\nidentityid              string    a unique id for the identity as assigned by the api           → na                     \n                                  provider.                                                     ← m\nidentitytype            string    indicates the type of the identity. currently, only           → na                     ‘individual’\n                                  ‘individual’ is supported.                                    ← m\nidentitystatus          string    a non-harmonised field describing the status of the           → na                     \n                                  identity.                                                     ← o\nidentitykyc             object    a collection of fields detailing the kyc held for the         → m    kyc information   \n                                  identity.                                                     ← m\naccountrelationship     string    describes the relationship that the identity holds with the   → m                      ‘accountholder’\n                                  account.                                                      ← m\nkycverificationstatus   string    indicates the status of the identity’s kyc verification.      → o                      ‘verified’, ‘unverified’, ‘rejected’\n                                                                                                ← o\nkycverificationentity   string    indicates the entity (e.g. mobile money agent) that has       → o                      \n                                  verified the kyc of the identity.                             ← o\nkyclevel                integer   indicates the kyc level that the identity is associated       → o                      \n                                  with.                                                         ← o\ncustomdata              array     a collection of key/value pairs that can be used for          → o                      \n                                  provider specific fields.                                     ← o\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# transaction type object\n\nthis object enables multiple transaction types to be specified along with paired sub-types. this object is used where multiple transaction types need to be passed in an api.\n\n{\n  "transactiontype": "merchantpay",\n  "transactionsubtype": "local",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction type object                                                                     \nname                      type     description                                  reference   validation\ntransactiontype           string   identifies the transaction type.       → m               enumeration = transaction types\n                                                                          ← m\ntransactionsubtype        string   identifies the transaction sub-type.   → o               \n                                                                          ← o\n\n\n# channel type object\n\nthis object enables multiple channel types to be specified. this object is used where multiple channel types need to be passed in an api.\n\n{\n  "channeltype": "atm"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nchannel type object                                                             \nname                  type     description                          reference   validation\nchanneltype           string   identifies the channel type.   → m               \n                                                              ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                   reference   validation\nfeetype       string   defines the type of fee.                  m               \n                                                                 m\nfeeamount     string   defines the amount of the fee.            m               please refer to api fundamentals document for amount\n                                                                 m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   m               enumeration = iso currency codes\n                                                                 m\n\n\n# commission object\n\nan object that enables earned commission that is calculated by the api provider to be returned.\n\n{\n  "commissiontype": "surcharge",\n  "commissionamount": "2",\n  "commissioncurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncommission object                                                                         \nname                 type     description                                     reference   validation\ncommissiontype       string   defines the type of commission.           → m               \n                                                                        ← m\ncommissionamount     string   defines the amount of the commission.     → m               please refer to api fundamentals document for amount\n                                                                        ← m               validation rules.\ncommissioncurrency   string   defines the currency of the commission.   → m               enumeration = iso currency codes\n                                                                        ← m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode         description\ndeposit      exchange of cash in return for e-money at a physical agent\n             or via atm (cash-in).\nadjustment   general adjustments to an account via an adjustment\n             transaction (e.g. refunds).\nreversal     reversal of a prior transaction to return funds to the\n             payer.\nwithdrawal   exchange of e-money in return for cash at a physical agent\n             or via atm (cash-out).\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.',charsets:{}},{title:"Agent Services - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Agent Services - Open OAS UI"},regularPath:"/use-cases/agent-services/agent-services-open-oas-ui.html",relativePath:"use-cases/agent-services/agent-services-open-oas-ui.md",key:"v-51ac86f8",path:"/use-cases/agent-services/agent-services-open-oas-ui.html",headers:[{level:2,title:"Agent Services - Open OAS UI",slug:"agent-services-open-oas-ui",normalizedTitle:"agent services - open oas ui",charIndex:0}],headersStr:"Agent Services - Open OAS UI",content:"# Agent Services - Open OAS UI",normalizedContent:"# agent services - open oas ui",charsets:{}},{title:"Agent Services - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"Agent Services - Use Case Scenarios"},regularPath:"/use-cases/agent-services/scenarios/scenarios.html",relativePath:"use-cases/agent-services/scenarios/scenarios.md",key:"v-95b8cb78",path:"/use-cases/agent-services/scenarios/scenarios.html",headers:[{level:2,title:"Agent-initiated Cash-out",slug:"agent-initiated-cash-out",normalizedTitle:"agent-initiated cash-out",charIndex:599},{level:2,title:"Agent-initiated Cash-out Failure",slug:"agent-initiated-cash-out-failure",normalizedTitle:"agent-initiated cash-out failure",charIndex:2581},{level:2,title:"Agent-initiated Cash-out using the Polling Method",slug:"agent-initiated-cash-out-using-the-polling-method",normalizedTitle:"agent-initiated cash-out using the polling method",charIndex:3853},{level:2,title:"Customer-initiated Cash-out",slug:"customer-initiated-cash-out",normalizedTitle:"customer-initiated cash-out",charIndex:6614},{level:2,title:"Customer-initiated Cash-out Failure",slug:"customer-initiated-cash-out-failure",normalizedTitle:"customer-initiated cash-out failure",charIndex:8463},{level:2,title:"Customer Cash-out at an ATM using an Authorisation Code",slug:"customer-cash-out-at-an-atm-using-an-authorisation-code",normalizedTitle:"customer cash-out at an atm using an authorisation code",charIndex:9653},{level:2,title:"Agent-initiated Customer Cash-in",slug:"agent-initiated-customer-cash-in",normalizedTitle:"agent-initiated customer cash-in",charIndex:12975},{level:2,title:"Cash-out Reversal",slug:"cash-out-reversal",normalizedTitle:"cash-out reversal",charIndex:15271},{level:2,title:"Register a Customer Mobile Money Account",slug:"register-a-customer-mobile-money-account",normalizedTitle:"register a customer mobile money account",charIndex:16780},{level:2,title:"Verify a Customer’s KYC",slug:"verify-a-customer-s-kyc",normalizedTitle:"verify a customer’s kyc",charIndex:19932},{level:2,title:"Obtain an Agent Balance",slug:"obtain-an-agent-balance",normalizedTitle:"obtain an agent balance",charIndex:21714},{level:2,title:"Retrieve Transactions for an Agent",slug:"retrieve-transactions-for-an-agent",normalizedTitle:"retrieve transactions for an agent",charIndex:22314},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:23684},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:24554}],headersStr:"Agent-initiated Cash-out Agent-initiated Cash-out Failure Agent-initiated Cash-out using the Polling Method Customer-initiated Cash-out Customer-initiated Cash-out Failure Customer Cash-out at an ATM using an Authorisation Code Agent-initiated Customer Cash-in Cash-out Reversal Register a Customer Mobile Money Account Verify a Customer’s KYC Obtain an Agent Balance Retrieve Transactions for an Agent Check for Service Availability Retrieve a Missing API Response",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# Agent-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/withdrawal\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Agent-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Agent submits the payment request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (2) The customer is requested by the MMP to\nauthorise the cash-out. The customer\ndeclines the request or the request times-\nout. Customer--\x3e>Mobile Money Provider: (Declined or Timeout) deactivate Customer Mobile Money Provider->>Agent: PUT {Callback URL} (Error Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider\n\n\n# Agent-initiated Cash-out using the Polling Method\n\nIn this example, an asynchronous cash-out flow is used with the polling method. The client polls against the request state object to determine the outcome of the cash-out request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/withdrawal\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n \n\n\nGET .../requeststates/Place the Server Correlation Id here\n\n\n \n\n\nGET .../transactions/Place Transaction Reference here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: POST /transactions/type/withdrawal activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the cash-out request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent par loop activate Agent Agent->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The agent polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Agent: HTTP 200 (Request State Object) end and Mobile Money Provider->>Customer: Obtain Customer Authorisation activate Customer Note right of Customer: (3) The Customer is requested to the MMP to\nauthorise the cash-out. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for cash-out\nauthorisation. Customer--\x3e>Mobile Money Provider: (Authorised) end deactivate Agent deactivate Customer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Agent Agent->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The agent can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\ncash-out transaction. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Object) end deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Customer-initiated Cash-out\n\nIn this example, an asynchronous cash-out flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/withdrawal\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer\'s channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is \'pending\'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Transactions Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer\'s channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has successfully compeleted. deactivate Mobile Money Provider deactivate Agent\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Customer-initiated Cash-out Failure\n\nIn this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequenceDiagram participant Customer participant Mobile Money Provider participant Agent Customer->>Mobile Money Provider: POST /transactions/type/withdrawal activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer\'s channel (e.g. Mobile Money App) submits\nthe cash-out request for processing to the MMP. The MMP\nwill return the Request State object to indicate that the\nrequest is \'pending\'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) deactivate Customer Mobile Money Provider->>Customer: PUT {Callback URL} (Error Object) activate Customer Note right of Mobile Money Provider: (2) The MMP informs the customer\'s channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer activate Agent Mobile Money Provider->>Agent: Notify Note right of Agent: (3) The MMP notifies the agent tha the cash-\nout has failed. deactivate Mobile Money Provider deactivate Agent\n\n\n# Customer Cash-out at an ATM using an Authorisation Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised code. This in turn is presented by the withdrawing customer to the ATM which then initiates the cash-out request. Both flows in the diagram result in a callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/2000/authorisationcodes\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "requestDate": "2017-07-21T17:32:28Z",\n    "currency": "GBP",\n    "amount": "1000.00"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/withdrawal\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "type": "transfer",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF",\n    "oneTimeCode": "Place your Authorisation Code here"\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Customer participant ATM participant Mobile Money Provider Customer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Customer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The customer\'s channel (e.g. Mobile Money App)\nsubmits the request to generate an authorisation code\nto the MMP. The MMP will return the Request State\nobject to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Customer: HTTP 202 (Request State Object) Mobile Money Provider->>Customer: PUT {Callback URL} (Authorisation Codes Object) Note right of Mobile Money Provider: (2) The MMP informs the customer\'s channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. Customer--\x3e>Mobile Money Provider: HTTP 204 deactivate Customer deactivate Mobile Money Provider Note right of Customer: (3) The customer enters the code into the ATM. Customer->>ATM: Code Entry activate Customer activate ATM activate Mobile Money Provider ATM->>Mobile Money Provider: POST /transactions/type/withdrawal Note right of Mobile Money Provider: (4) The ATM submits the cash-out request for processing\nto the MMP. The request will contain the authorisation\ncode. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>ATM: HTTP 202 (Request State Object) deactivate ATM Mobile Money Provider->>ATM: PUT {Callback URL} (Transactions Object) activate ATM Note right of Mobile Money Provider: (5) The MMP informs the ATM that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. ATM--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider ATM->>Customer: Notify deactivate Customer deactivate ATM\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Agent-initiated Customer Cash-in\n\nIn this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. The final result is returned in the callback.\n\n \n\n\nGET .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/deposit\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider participant Customer Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/accountname activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves the name of the depositing customer\nand will check that the name is correct. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Holder Name Object) Agent->>Mobile Money Provider: POST /transactions/type/deposit Note right of Mobile Money Provider: (2) The agent submits the cash-in request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) deactivate Agent Mobile Money Provider->>Agent: PUT {Callback URL} (Transactions Object) activate Agent Note right of Mobile Money Provider: (3) The MMP informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent activate Customer Mobile Money Provider->>Customer: Notify Note right of Customer: (4) The MMP notifies the customer that the\ncash-in has successfully compeleted. deactivate Mobile Money Provider deactivate Customer\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Cash-out Reversal\n\nIn some failure scenarios, an agent may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the reversal request for processing to\nthe MMP - passing the reference of the transaction that is\nto be reversed. The MMP will return the Request State\nobject to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Register a Customer Mobile Money Account\n\nIn this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/individual\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n  "accountIdentifiers": [\n    {\n      "key": "msisdn",\n      "value": "Place a valid Mobile Number here"\n    }\n  ],\n  "identity": [\n    {\n      "identityKyc": {\n        "birthCountry": "AD",\n        "contactPhone": "+447777777777",\n        "dateOfBirth": "2000-11-20",\n        "emailAddress": "xyz@xyz.com",\n        "employerName": "string",\n        "gender": "m",\n        "idDocument": [\n          {\n            "idType": "passport",\n            "idNumber": "111111",\n            "issueDate": "2018-11-20",\n            "expiryDate": "2018-11-20",\n            "issuer": "ABC",\n            "issuerPlace": "DEF",\n            "issuerCountry": "AD"\n          }\n        ],\n        "nationality": "AD",\n        "occupation": "Miner",\n        "postalAddress": {\n          "addressLine1": "37",\n          "addressLine2": "ABC Drive",\n          "addressLine3": "string",\n          "city": "Berlin",\n          "stateProvince": "string",\n          "postalCode": "AF1234",\n          "country": "AD"\n        },\n        "subjectName": {\n          "title": "Mr",\n          "firstName": "H",\n          "middleName": "I",\n          "lastName": "J",\n          "fullName": "H I J",\n          "nativeName": "string"\n        }\n      },\n      "accountRelationship": "accountholder",\n      "kycVerificationStatus": "verified",\n      "kycVerificationEntity": "ABC Agent",\n      "kycLevel": 1,\n      "customData": [\n        {\n          "key": "test",\n          "value": "custom"\n        }\n      ]\n    }\n  ],\n  "accountType": "string",\n  "customData": [\n    {\n      "key": "test",\n      "value": "custom1"\n    }\n  ],\n  "fees": [\n    {\n      "feeType": "string",\n      "feeAmount": "5.46",\n      "feeCurrency": "AED"\n    }\n  ],\n  "registeringEntity": "ABC Agent",\n  "requestDate": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: POST /accounts/individual activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent submits the account\nregistration request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Account Object) Note right of Mobile Money Provider: (2) The MMP informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Verify a Customer’s KYC\n\nIn this diagram, an agent verifies the physical KYC provided by the customer against details held by the mobile money provider and informs the provider that the KYC has been successfully verified.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPATCH .../accounts/accountid/2000/identities/105\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n  [\n    {\n        "op": "replace",\n        "path": "/kycVerificationStatus",\n        "value": "verified"\n    }\n  ]\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent retrieves account\ninformation from the MMP which\nincludes the customer\'s KYC\ndetails. Mobile Money Provider--\x3e>Agent: HTTP 200 (Account Object) Agent->>Mobile Money Provider: PATCH /accounts/{identifierType}/{identifier}/identities/{identityId} Note right of Mobile Money Provider: (2) The agent submits the KYC\nverification request for processing\nto the MMP. The MMP will return\nthe Request State object to\nindicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Agent: HTTP 202 (Request State Object) Mobile Money Provider->>Agent: PUT {Callback URL} (Success) Note right of Mobile Money Provider: (3) The MMP informs the agent that\nthe verification request has been\nsuccessfully processed. Agent--\x3e>Mobile Money Provider: HTTP 204 deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain an Agent Balance\n\n \n\n\nGET .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Agent: HTTP 200 (Balance Object) deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Transactions for an Agent\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests up to 20\ntransactions for the account\nfrom the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Agent->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The agent requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /heartbeat activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) The agent requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Agent: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Agent participant Mobile Money Provider Agent->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Agent activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the agent\'s\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Agent: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Agent->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Agent uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Agent: HTTP 200 (Requested Object) deactivate Agent deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# agent-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/withdrawal\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) deactivate customer mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# agent-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the payment request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (2) the customer is requested by the mmp to\nauthorise the cash-out. the customer\ndeclines the request or the request times-\nout. customer--\x3e>mobile money provider: (declined or timeout) deactivate customer mobile money provider->>agent: put {callback url} (error object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-out\nhas failed and returns the error object detailing\nthe reason for failure. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider\n\n\n# agent-initiated cash-out using the polling method\n\nin this example, an asynchronous cash-out flow is used with the polling method. the client polls against the request state object to determine the outcome of the cash-out request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/withdrawal\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n \n\n\nget .../requeststates/place the server correlation id here\n\n\n \n\n\nget .../transactions/place transaction reference here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: post /transactions/type/withdrawal activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the cash-out request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent par loop activate agent agent->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the agent polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>agent: http 200 (request state object) end and mobile money provider->>customer: obtain customer authorisation activate customer note right of customer: (3) the customer is requested to the mmp to\nauthorise the cash-out. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for cash-out\nauthorisation. customer--\x3e>mobile money provider: (authorised) end deactivate agent deactivate customer deactivate mobile money provider opt activate mobile money provider activate agent agent->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the agent can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\ncash-out transaction. mobile money provider--\x3e>agent: http 200 (transactions object) end deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# customer-initiated cash-out\n\nin this example, an asynchronous cash-out flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/withdrawal\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer\'s channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is \'pending\'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (transactions object) activate customer note right of mobile money provider: (2) the mmp informs the customer\'s channel that\nthe cash-out has been successfully completed\nby returning the final representation of the\ntransaction. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has successfully compeleted. deactivate mobile money provider deactivate agent\nopen postman collection open postman collection with authentication\n\n\n# customer-initiated cash-out failure\n\nin this example, an asynchronous cash-out flow is used with a final callback that contains the reason for failure.\n\nsequencediagram participant customer participant mobile money provider participant agent customer->>mobile money provider: post /transactions/type/withdrawal activate customer activate mobile money provider note right of mobile money provider: (1) the customer\'s channel (e.g. mobile money app) submits\nthe cash-out request for processing to the mmp. the mmp\nwill return the request state object to indicate that the\nrequest is \'pending\'. mobile money provider--\x3e>customer: http 202 (request state object) deactivate customer mobile money provider->>customer: put {callback url} (error object) activate customer note right of mobile money provider: (2) the mmp informs the customer\'s channel that\nthe cash-out has failed and returns the error\nobject detailing the reason for failure. customer--\x3e>mobile money provider: http 204 deactivate customer activate agent mobile money provider->>agent: notify note right of agent: (3) the mmp notifies the agent tha the cash-\nout has failed. deactivate mobile money provider deactivate agent\n\n\n# customer cash-out at an atm using an authorisation code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised code. this in turn is presented by the withdrawing customer to the atm which then initiates the cash-out request. both flows in the diagram result in a callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/2000/authorisationcodes\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "requestdate": "2017-07-21t17:32:28z",\n    "currency": "gbp",\n    "amount": "1000.00"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/withdrawal\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "type": "transfer",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf",\n    "onetimecode": "place your authorisation code here"\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant customer participant atm participant mobile money provider customer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate customer activate mobile money provider note right of mobile money provider: (1) the customer\'s channel (e.g. mobile money app)\nsubmits the request to generate an authorisation code\nto the mmp. the mmp will return the request state\nobject to indicate that the request is \'pending\'. mobile money provider--\x3e>customer: http 202 (request state object) mobile money provider->>customer: put {callback url} (authorisation codes object) note right of mobile money provider: (2) the mmp informs the customer\'s channel that\nthe request has been successfully completed by\nreturing the final representation of the\nauthorisation code. customer--\x3e>mobile money provider: http 204 deactivate customer deactivate mobile money provider note right of customer: (3) the customer enters the code into the atm. customer->>atm: code entry activate customer activate atm activate mobile money provider atm->>mobile money provider: post /transactions/type/withdrawal note right of mobile money provider: (4) the atm submits the cash-out request for processing\nto the mmp. the request will contain the authorisation\ncode. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>atm: http 202 (request state object) deactivate atm mobile money provider->>atm: put {callback url} (transactions object) activate atm note right of mobile money provider: (5) the mmp informs the atm that the cash-out\nhas been successfully completed by returning\nthe final representation of the transaction. atm--\x3e>mobile money provider: http 204 deactivate mobile money provider atm->>customer: notify deactivate customer deactivate atm\nopen postman collection open postman collection with authentication\n\n\n# agent-initiated customer cash-in\n\nin this diagram, the agent firstly checks that the depositing customer’s name is correct and will then submit the cash-in request. the final result is returned in the callback.\n\n \n\n\nget .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/deposit\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider participant customer agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/accountname activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves the name of the depositing customer\nand will check that the name is correct. mobile money provider--\x3e>agent: http 200 (account holder name object) agent->>mobile money provider: post /transactions/type/deposit note right of mobile money provider: (2) the agent submits the cash-in request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) deactivate agent mobile money provider->>agent: put {callback url} (transactions object) activate agent note right of mobile money provider: (3) the mmp informs the agent that the cash-in\nhas been successfully completed by returning\nthe final representation of the transaction. agent--\x3e>mobile money provider: http 204 deactivate agent activate customer mobile money provider->>customer: notify note right of customer: (4) the mmp notifies the customer that the\ncash-in has successfully compeleted. deactivate mobile money provider deactivate customer\nopen postman collection open postman collection with authentication\n\n\n# cash-out reversal\n\nin some failure scenarios, an agent may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /transactions/{original transaction reference}/reversals activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the reversal request for processing to\nthe mmp - passing the reference of the transaction that is\nto be reversed. the mmp will return the request state\nobject to indicate that the request is \'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the agent that the reversal\nhas been successfully completed by returning\nthe final representation of the reversal\ntransaction. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# register a customer mobile money account\n\nin this diagram, an agent registers a new mobile money customer on behalf of a mobile money provider.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/individual\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n  "accountidentifiers": [\n    {\n      "key": "msisdn",\n      "value": "place a valid mobile number here"\n    }\n  ],\n  "identity": [\n    {\n      "identitykyc": {\n        "birthcountry": "ad",\n        "contactphone": "+447777777777",\n        "dateofbirth": "2000-11-20",\n        "emailaddress": "xyz@xyz.com",\n        "employername": "string",\n        "gender": "m",\n        "iddocument": [\n          {\n            "idtype": "passport",\n            "idnumber": "111111",\n            "issuedate": "2018-11-20",\n            "expirydate": "2018-11-20",\n            "issuer": "abc",\n            "issuerplace": "def",\n            "issuercountry": "ad"\n          }\n        ],\n        "nationality": "ad",\n        "occupation": "miner",\n        "postaladdress": {\n          "addressline1": "37",\n          "addressline2": "abc drive",\n          "addressline3": "string",\n          "city": "berlin",\n          "stateprovince": "string",\n          "postalcode": "af1234",\n          "country": "ad"\n        },\n        "subjectname": {\n          "title": "mr",\n          "firstname": "h",\n          "middlename": "i",\n          "lastname": "j",\n          "fullname": "h i j",\n          "nativename": "string"\n        }\n      },\n      "accountrelationship": "accountholder",\n      "kycverificationstatus": "verified",\n      "kycverificationentity": "abc agent",\n      "kyclevel": 1,\n      "customdata": [\n        {\n          "key": "test",\n          "value": "custom"\n        }\n      ]\n    }\n  ],\n  "accounttype": "string",\n  "customdata": [\n    {\n      "key": "test",\n      "value": "custom1"\n    }\n  ],\n  "fees": [\n    {\n      "feetype": "string",\n      "feeamount": "5.46",\n      "feecurrency": "aed"\n    }\n  ],\n  "registeringentity": "abc agent",\n  "requestdate": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: post /accounts/individual activate agent activate mobile money provider note right of mobile money provider: (1) the agent submits the account\nregistration request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n\'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (account object) note right of mobile money provider: (2) the mmp informs the agent that\nthe reversal has been successfully\nregistered by returning the final\nrepresentation of the account. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# verify a customer’s kyc\n\nin this diagram, an agent verifies the physical kyc provided by the customer against details held by the mobile money provider and informs the provider that the kyc has been successfully verified.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npatch .../accounts/accountid/2000/identities/105\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n  [\n    {\n        "op": "replace",\n        "path": "/kycverificationstatus",\n        "value": "verified"\n    }\n  ]\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier} activate agent activate mobile money provider note right of mobile money provider: (1) the agent retrieves account\ninformation from the mmp which\nincludes the customer\'s kyc\ndetails. mobile money provider--\x3e>agent: http 200 (account object) agent->>mobile money provider: patch /accounts/{identifiertype}/{identifier}/identities/{identityid} note right of mobile money provider: (2) the agent submits the kyc\nverification request for processing\nto the mmp. the mmp will return\nthe request state object to\nindicate that the request is\n\'pending\'. mobile money provider--\x3e>agent: http 202 (request state object) mobile money provider->>agent: put {callback url} (success) note right of mobile money provider: (3) the mmp informs the agent that\nthe verification request has been\nsuccessfully processed. agent--\x3e>mobile money provider: http 204 deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# obtain an agent balance\n\n \n\n\nget .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate agent activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>agent: http 200 (balance object) deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve transactions for an agent\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for an agent via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests up to 20\ntransactions for the account\nfrom the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. agent->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the agent requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>agent: http 200 (transactions array) (x-records-available-count=40) deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /heartbeat activate agent activate mobile money provider note right of mobile money provider: (1) the agent requests the availability\nof the service from the mmp. mobile money provider--\x3e>agent: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the agent to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant agent participant mobile money provider agent->>mobile money provider: get /responses{clientcorrelationid} activate agent activate mobile money provider note right of mobile money provider: (1) using the agent\'s\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>agent: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. agent->>mobile money provider: get /{link} note right of mobile money provider: (3) the agent uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>agent: http 200 (requested object) deactivate agent deactivate mobile money provider\nopen postman collection open postman collection with authentication',charsets:{}},{title:"Bill Payments - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"Bill Payments - API Service Definition"},regularPath:"/use-cases/bill-payments/api-service-definition.html",relativePath:"use-cases/bill-payments/api-service-definition.md",key:"v-7eff6d2c",path:"/use-cases/bill-payments/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Identifying a Target Account",slug:"identifying-a-target-account",normalizedTitle:"identifying a target account",charIndex:817},{level:4,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:1007},{level:4,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:1190},{level:3,title:"Bills API",slug:"bills-api",normalizedTitle:"bills api",charIndex:1688},{level:4,title:"Bill UML Class Diagram",slug:"bill-uml-class-diagram",normalizedTitle:"bill uml class diagram",charIndex:3614},{level:4,title:"Bill Object Definition",slug:"bill-object-definition",normalizedTitle:"bill object definition",charIndex:3747},{level:3,title:"Bill Payments API",slug:"bill-payments-api",normalizedTitle:"bill payments api",charIndex:7358},{level:4,title:"Bill Payment UML Class Diagram",slug:"bill-payment-uml-class-diagram",normalizedTitle:"bill payment uml class diagram",charIndex:10086},{level:4,title:"Bill Payment Object Definition",slug:"bill-payment-object-definition",normalizedTitle:"bill payment object definition",charIndex:10475},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:16775},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:16798},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:17707},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:18550},{level:3,title:"Supplementary Bill Reference Object",slug:"supplementary-bill-reference-object",normalizedTitle:"supplementary bill reference object",charIndex:19377},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:20533},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:20550},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:16798},{level:3,title:"ISO Country Codes",slug:"iso-country-codes",normalizedTitle:"iso country codes",charIndex:22511}],headersStr:"API Endpoints Identifying a Target Account Single Identifier Method Multiple Identifiers Method Bills API Bill UML Class Diagram Bill Object Definition Bill Payments API Bill Payment UML Class Diagram Bill Payment Object Definition Supporting Objects Account Identifiers Object Metadata Object Custom Data Object Supplementary Bill Reference Object Enumerations ISO Currency Codes Account Identifiers ISO Country Codes",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Identifying a Target Account\n\nTwo methods are provided for identifying an account on all bills and bill payments APIs - the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used: /accounts/{identifierType}/{identifier}.\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used: /accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3}.\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Bills API\n\nThe Bills API are used to return all outstanding bills associated with an account. The main purpose of the API is to support Bill Presentment, i.e. presenting all applicable bills for a payer to view and select for payment. To pay a bill, the Bill Payments API is used. Permitted paths are GET /accounts/{identifierType}/{identifier}/bills or GET /accounts/{Account Identifiers}/bills.\n\nTo filter the number of records returned, the following query string parameters can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the bills are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Bill UML Class Diagram\n\nclassDiagram Metadata "0..20" --* "1" Bill Bill "0..*" --* "1" Account\n\nFigure 2-1 Bill UML Class Diagram\n\n# Bill Object Definition\n\n{\n  "billReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "billStatus": "partialpaid",\n  "amountDue": "123.45",\n  "billDescription": "My custom description...",\n  "currency": "GBP",\n  "dueDate": "2018-11-20",\n  "minimumAmountDue": "23.45",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBILL OBJECT                                                                                                              \nName               Type        Description                                                          Reference            Validation\nbillReference      string      Reference number for the Bill that the payer can use when     → NA                        \n                               making a payment.                                             ← O\nbillStatus         string      Identifies the status of the Bill.                            → NA                        ‘paid’, ‘unpaid’, ‘partialpaid’\n                                                                                             ← O\namountDue          string      Amount outstanding on the bill to be paid.                    → NA                        Please refer to API Fundamentals document for amount\n                                                                                             ← O                         validation rules.\nbillDescription    string      Description of the bill that is to be paid.                   → NA                        \n                                                                                             ← O\ncurrency           string      Currency of the bill to be paid.                              → NA                        Enumeration = ISO Currency Codes\n                                                                                             ← O\ndueDate            date        Date on which the Bill is due to be paid.                     → NA                        \n                                                                                             ← O\nminimumAmountDue   string      The minimum amount that is outstanding on the bill to be      → NA                        Please refer to API Fundamentals document for amount\n                               paid.                                                         ← O                         validation rules.\ncreationDate       date-time   Indicates when the bill was created by the API provider.      → NA                        \n                                                                                             ← O\nmodificationDate   date-time   Indicates when the bill was modified by the API provider.     → NA                        \n                                                                                             ← O\ncustomData         string      A collection of key/value pairs that can be used for          → O    Custom Data Object   \n                               provider specific fields.                                     ← O\nmetadata           array       A collection of key/value pairs. These can be used to         → NA   Metadata             \n                               populate additional properties that describe administrative   ← O\n                               information regarding the bill.\n\n\n# Bill Payments API\n\nThe Bill Payments API is used to pay a specific bill associated with an account held with a service provider.\n\nPATH                                                                     USAGE\n/accounts/{identifierType}/{identifier}/bills/{billReference}/payments   Use when a single identifier suffices to identify the bill\n                                                                         account.\n/accounts/{Account                                                       Use when two or three identifiers are required to identify\nIdentifiers}/bills/{billReference}/payments                              an account.\n/bills/{billReference}/payments                                          Use when a bill payment is not associated with a service\n                                                                         provider account.\n/accounts/{identifierType}/{identifier}/bills/payments* OR               Use when a bill does not have a bill reference\n/accounts/{Account Identifiers}/bills/payments\n\nAs per MM API standards, POST is used to create a bill payment whereas GET is used to retrieve all payments associated with a bill.\n\nWhen retrieving bill payments, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the bill payments are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Bill Payment UML Class Diagram\n\nBill payment - No Account\n\nclassDiagram Supplementary Bill Reference "0..20" --* "1" Bill Payment Metadata "0..20" --* "1" Bill Payment\n\nBill payment - With Account\n\nclassDiagram Supplementary Bill Reference "0..20" --* "1" Bill Payment Metadata "0..20" --* "1" Bill Payment Bill Payment "0..*" --* "1" Account\n\nFigure 2-2 Bill Payment UML Class Diagram\n\n# Bill Payment Object Definition\n\n{\n  "serviceProviderPaymentReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "paymentType": "fullpayment",\n  "billPaymentStatus": "approved",\n  "amountPaid": "123.45",\n  "currency": "GBP",\n  "customerReference": "Customer reference text...",\n  "requestingOrganisation": "creditFSP",\n  "supplementaryBillReferenceDetails": [\n    {\n      "paymentReferenceType": "paymentReferenceValue"\n    }\n  ],\n  "serviceProviderComment": "This is SP comment...",\n  "serviceProviderNotification": "This is SP notification...",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBILL PAYMENT OBJECT                                                                                                                                 \nName                                         Type        Description                                                           Reference            Validation\nserviceProviderPaymentReference              string      Reference for the payment generated by the service provider.   → O                         \n                                                                                                                        ← O\nrequestingOrganisationTransactionReference   string      The mobile money provider’s (or Financial Institution’s)       → O                         \n                                                         transaction reference used to debit the customer and credit    ← O\n                                                         the service provider.\npaymentType                                  string      Describes the type of Bill Payment, i.e. whether a full or     → O                         Enumeration = ‘fullpayment’, ‘partialpayment’\n                                                         partial payment.                                               ← O\nbillPaymentStatus                            string      Indicates the status of the bill payment as stored by the      → NA                        \n                                                         API provider.                                                  ← M\namountPaid                                   string      Amount that is being paid.                                     → M                         Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                         validation rules.\ncurrency                                     string      Currency of the amount that is being paid.                     → M                         Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ncustomerReference                            string      Textual reference provided by the customer paying the bill.    → O                         \n                                                                                                                        ← O\nrequestingOrganisation                       string      The originating mobile money provider or financial             → O                         \n                                                         institution that holds the wallet/account of the payer.        ← O\nsupplementaryBillReferenceDetails            array       In some cases, a single reference is not sufficient to         → C    Bill References      Not applicable if billReference is no passed in the path.\n                                                         identify a bill. This key-value collection enables further     ← C\n                                                         reference information to be supplied.\nserviceProviderComment                       string      Allows the Service Provider to include specific information    → NA                        \n                                                         regarding the bill payment.                                    ← O\nserviceProviderNotification                  string      Allows the Service Provider to include specific information    → NA                        \n                                                         that will be included on the notification to the customer by   ← O\n                                                         the mobile money provider.\ncreationDate                                 date-time   Indicates when the bill payment was created as recorded by     → NA                        \n                                                         the API provider.                                              ← O\nmodificationDate                             date-time   Indicates when the bill payment was modified as recorded by    → NA                        \n                                                         the API provider.                                              ← O\nrequestDate                                  date-time   The date and time of the bill payment request as supplied by   → O                         \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object   \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata             \n                                                         populate additional properties that describe administrative    ← O\n                                                         information regarding the bill payment.\n\n\n# Supporting Objects\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                       REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         M               Enumeration = Account Identifiers\n                                                               M\nvalue   string   Provides the account identifier type value.   M               \n                                                               M\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Supplementary Bill Reference Object\n\nThis object enables additional payment references to be specified for a bill payment in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "paymentReferenceType": "paymentReferenceValue"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nSUPPLEMENTARY BILL REFERENCE OBJECT                                                                                          \nName                                  Type     Description                                                       Reference   Validation\npaymentReferenceType                  string   Identifies the type of the additional payment reference.    → M               \n                                                                                                           ← M\npaymentReferenceValue                 string   Identifies the value of the additional payment reference.   → M               \n                                                                                                           ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "emailaddress":"example@email.com",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE              SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountid         Account Holder Identity           string   Identifier for the account holder.\nmsisdn            MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                             First character can contain a ‘+’ or digit\n                                                             Can contain spaces.\norganisationid    Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                             be made.\nusername          Username                          string   Used to identify target account via an associated username.\nconsumerno        Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider   Service Provider                  String   Provides a reference for a Service Provider.\nemailaddress      Email Address                     String   emailaddress of the party.\n\n\n# ISO Country Codes\n\nThe two-character alphabetic code for country as defined by ISO 3166 is to be used for all fields specifying a country or nationality. The full list of codes is maintained by the International Organisation for Standardisation. The list can be obtained via the following website - http://www.iso.org/iso/country_codes.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# identifying a target account\n\ntwo methods are provided for identifying an account on all bills and bill payments apis - the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used: /accounts/{identifiertype}/{identifier}.\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used: /accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3}.\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# bills api\n\nthe bills api are used to return all outstanding bills associated with an account. the main purpose of the api is to support bill presentment, i.e. presenting all applicable bills for a payer to view and select for payment. to pay a bill, the bill payments api is used. permitted paths are get /accounts/{identifiertype}/{identifier}/bills or get /accounts/{account identifiers}/bills.\n\nto filter the number of records returned, the following query string parameters can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the bills are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# bill uml class diagram\n\nclassdiagram metadata "0..20" --* "1" bill bill "0..*" --* "1" account\n\nfigure 2-1 bill uml class diagram\n\n# bill object definition\n\n{\n  "billreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "billstatus": "partialpaid",\n  "amountdue": "123.45",\n  "billdescription": "my custom description...",\n  "currency": "gbp",\n  "duedate": "2018-11-20",\n  "minimumamountdue": "23.45",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbill object                                                                                                              \nname               type        description                                                          reference            validation\nbillreference      string      reference number for the bill that the payer can use when     → na                        \n                               making a payment.                                             ← o\nbillstatus         string      identifies the status of the bill.                            → na                        ‘paid’, ‘unpaid’, ‘partialpaid’\n                                                                                             ← o\namountdue          string      amount outstanding on the bill to be paid.                    → na                        please refer to api fundamentals document for amount\n                                                                                             ← o                         validation rules.\nbilldescription    string      description of the bill that is to be paid.                   → na                        \n                                                                                             ← o\ncurrency           string      currency of the bill to be paid.                              → na                        enumeration = iso currency codes\n                                                                                             ← o\nduedate            date        date on which the bill is due to be paid.                     → na                        \n                                                                                             ← o\nminimumamountdue   string      the minimum amount that is outstanding on the bill to be      → na                        please refer to api fundamentals document for amount\n                               paid.                                                         ← o                         validation rules.\ncreationdate       date-time   indicates when the bill was created by the api provider.      → na                        \n                                                                                             ← o\nmodificationdate   date-time   indicates when the bill was modified by the api provider.     → na                        \n                                                                                             ← o\ncustomdata         string      a collection of key/value pairs that can be used for          → o    custom data object   \n                               provider specific fields.                                     ← o\nmetadata           array       a collection of key/value pairs. these can be used to         → na   metadata             \n                               populate additional properties that describe administrative   ← o\n                               information regarding the bill.\n\n\n# bill payments api\n\nthe bill payments api is used to pay a specific bill associated with an account held with a service provider.\n\npath                                                                     usage\n/accounts/{identifiertype}/{identifier}/bills/{billreference}/payments   use when a single identifier suffices to identify the bill\n                                                                         account.\n/accounts/{account                                                       use when two or three identifiers are required to identify\nidentifiers}/bills/{billreference}/payments                              an account.\n/bills/{billreference}/payments                                          use when a bill payment is not associated with a service\n                                                                         provider account.\n/accounts/{identifiertype}/{identifier}/bills/payments* or               use when a bill does not have a bill reference\n/accounts/{account identifiers}/bills/payments\n\nas per mm api standards, post is used to create a bill payment whereas get is used to retrieve all payments associated with a bill.\n\nwhen retrieving bill payments, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the bill payments are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# bill payment uml class diagram\n\nbill payment - no account\n\nclassdiagram supplementary bill reference "0..20" --* "1" bill payment metadata "0..20" --* "1" bill payment\n\nbill payment - with account\n\nclassdiagram supplementary bill reference "0..20" --* "1" bill payment metadata "0..20" --* "1" bill payment bill payment "0..*" --* "1" account\n\nfigure 2-2 bill payment uml class diagram\n\n# bill payment object definition\n\n{\n  "serviceproviderpaymentreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "paymenttype": "fullpayment",\n  "billpaymentstatus": "approved",\n  "amountpaid": "123.45",\n  "currency": "gbp",\n  "customerreference": "customer reference text...",\n  "requestingorganisation": "creditfsp",\n  "supplementarybillreferencedetails": [\n    {\n      "paymentreferencetype": "paymentreferencevalue"\n    }\n  ],\n  "serviceprovidercomment": "this is sp comment...",\n  "serviceprovidernotification": "this is sp notification...",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbill payment object                                                                                                                                 \nname                                         type        description                                                           reference            validation\nserviceproviderpaymentreference              string      reference for the payment generated by the service provider.   → o                         \n                                                                                                                        ← o\nrequestingorganisationtransactionreference   string      the mobile money provider’s (or financial institution’s)       → o                         \n                                                         transaction reference used to debit the customer and credit    ← o\n                                                         the service provider.\npaymenttype                                  string      describes the type of bill payment, i.e. whether a full or     → o                         enumeration = ‘fullpayment’, ‘partialpayment’\n                                                         partial payment.                                               ← o\nbillpaymentstatus                            string      indicates the status of the bill payment as stored by the      → na                        \n                                                         api provider.                                                  ← m\namountpaid                                   string      amount that is being paid.                                     → m                         please refer to api fundamentals document for amount\n                                                                                                                        ← m                         validation rules.\ncurrency                                     string      currency of the amount that is being paid.                     → m                         enumeration = iso currency codes\n                                                                                                                        ← m\ncustomerreference                            string      textual reference provided by the customer paying the bill.    → o                         \n                                                                                                                        ← o\nrequestingorganisation                       string      the originating mobile money provider or financial             → o                         \n                                                         institution that holds the wallet/account of the payer.        ← o\nsupplementarybillreferencedetails            array       in some cases, a single reference is not sufficient to         → c    bill references      not applicable if billreference is no passed in the path.\n                                                         identify a bill. this key-value collection enables further     ← c\n                                                         reference information to be supplied.\nserviceprovidercomment                       string      allows the service provider to include specific information    → na                        \n                                                         regarding the bill payment.                                    ← o\nserviceprovidernotification                  string      allows the service provider to include specific information    → na                        \n                                                         that will be included on the notification to the customer by   ← o\n                                                         the mobile money provider.\ncreationdate                                 date-time   indicates when the bill payment was created as recorded by     → na                        \n                                                         the api provider.                                              ← o\nmodificationdate                             date-time   indicates when the bill payment was modified as recorded by    → na                        \n                                                         the api provider.                                              ← o\nrequestdate                                  date-time   the date and time of the bill payment request as supplied by   → o                         \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object   \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata             \n                                                         populate additional properties that describe administrative    ← o\n                                                         information regarding the bill payment.\n\n\n# supporting objects\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                       reference   validation\nkey     string   provides the account identifier type.         m               enumeration = account identifiers\n                                                               m\nvalue   string   provides the account identifier type value.   m               \n                                                               m\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# supplementary bill reference object\n\nthis object enables additional payment references to be specified for a bill payment in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "paymentreferencetype": "paymentreferencevalue"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nsupplementary bill reference object                                                                                          \nname                                  type     description                                                       reference   validation\npaymentreferencetype                  string   identifies the type of the additional payment reference.    → m               \n                                                                                                           ← m\npaymentreferencevalue                 string   identifies the value of the additional payment reference.   → m               \n                                                                                                           ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "emailaddress":"example@email.com",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode              short description                 type     description\naccountid         account holder identity           string   identifier for the account holder.\nmsisdn            msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                             first character can contain a ‘+’ or digit\n                                                             can contain spaces.\norganisationid    organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                             be made.\nusername          username                          string   used to identify target account via an associated username.\nconsumerno        consumer number                   string   identifies the consumer associated with the account.\nserviceprovider   service provider                  string   provides a reference for a service provider.\nemailaddress      email address                     string   emailaddress of the party.\n\n\n# iso country codes\n\nthe two-character alphabetic code for country as defined by iso 3166 is to be used for all fields specifying a country or nationality. the full list of codes is maintained by the international organisation for standardisation. the list can be obtained via the following website - http://www.iso.org/iso/country_codes.',charsets:{}},{title:"Bill Payments - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Bill Payments - Open OAS UI"},regularPath:"/use-cases/bill-payments/bill-payments-open-oas-ui.html",relativePath:"use-cases/bill-payments/bill-payments-open-oas-ui.md",key:"v-f2258890",path:"/use-cases/bill-payments/bill-payments-open-oas-ui.html",headers:[{level:2,title:"Bill Payments - Open OAS UI",slug:"bill-payments-open-oas-ui",normalizedTitle:"bill payments - open oas ui",charIndex:0}],headersStr:"Bill Payments - Open OAS UI",content:"# Bill Payments - Open OAS UI",normalizedContent:"# bill payments - open oas ui",charsets:{}},{title:"Bill Payments - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"Bill Payments - Use Case Scenarios"},regularPath:"/use-cases/bill-payments/scenarios/scenarios.html",relativePath:"use-cases/bill-payments/scenarios/scenarios.md",key:"v-41d3ccb8",path:"/use-cases/bill-payments/scenarios/scenarios.html",headers:[{level:2,title:"Successful Retrieval of Bills",slug:"successful-retrieval-of-bills",normalizedTitle:"successful retrieval of bills",charIndex:599},{level:2,title:"Unsuccessful Retrieval of Bills",slug:"unsuccessful-retrieval-of-bills",normalizedTitle:"unsuccessful retrieval of bills",charIndex:1444},{level:2,title:"Make a Successful Bill Payment with Callback",slug:"make-a-successful-bill-payment-with-callback",normalizedTitle:"make a successful bill payment with callback",charIndex:2159},{level:2,title:"Make an Unsuccessful Bill Payment with Callback",slug:"make-an-unsuccessful-bill-payment-with-callback",normalizedTitle:"make an unsuccessful bill payment with callback",charIndex:4831},{level:2,title:"Make a Bill Payment with Polling",slug:"make-a-bill-payment-with-polling",normalizedTitle:"make a bill payment with polling",charIndex:5954},{level:2,title:"Retrieval of Bill Payments",slug:"retrieval-of-bill-payments",normalizedTitle:"retrieval of bill payments",charIndex:7925},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:9462}],headersStr:"Successful Retrieval of Bills Unsuccessful Retrieval of Bills Make a Successful Bill Payment with Callback Make an Unsuccessful Bill Payment with Callback Make a Bill Payment with Polling Retrieval of Bill Payments Check for Service Availability",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# Successful Retrieval of Bills\n\nThis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/1/bills?offset=0&limit=20\n---\nParams: \n{\n  "offset": 0,\n  "limit": 20                \n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Obtain all bills of a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bills Object) deactivate Mobile Money Provider deactivate Service Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Unsuccessful Retrieval of Bills\n\nThis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) Retrieve all bills for a given account. Service Provider--\x3e>Mobile Money Provider: HTTP 4xx/5xx (Error Object) Note right of Service Provider: (2) Return the error object providing\ndetais of the failure reason. deactivate Mobile Money Provider deactivate Service Provider\n\n\n# Make a Successful Bill Payment with Callback\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. To illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/1/bills/REF-000001/payments\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "currency": "GBP",\n    "amountPaid": "5.30"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Third Party Payment Provider participant Mobile Money Provider participant Service Provider Note right of Third Party Payment Provider: (1) The provider that enables the payer to pay\nbills submits a payment request to the MMP. Third Party Payment Provider->>Mobile Money Provider: POST /transactions/type/billpay activate Third Party Payment Provider activate Mobile Money Provider Mobile Money Provider--\x3e>Third Party Payment Provider: HTTP 202 (Request State Object) deactivate Third Party Payment Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider Note right of Service Provider: (2) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is \'pending\'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Bill Payments Object) activate Mobile Money Provider Note right of Service Provider: (3) The Service Provider informs the MMP\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider Note right of Third Party Payment Provider: (4) The MMP informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. Mobile Money Provider->>Third Party Payment Provider: PUT {Callback URL} (Transactions Object) activate Third Party Payment Provider Third Party Payment Provider--\x3e> Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Third Party Payment Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Make an Unsuccessful Bill Payment with Callback\n\nThis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request\nfor processing to the Service Provider. The\nService Provider will return the Request State\nobject to indicate that the request is \'pending\'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider Service Provider->>Mobile Money Provider: PUT {Callback URL} (Error Object) activate Mobile Money Provider Note right of Service Provider: (2) The Service Provider informs the MMP\nthat the request failed by returning a\nrepresentation of the error object. Mobile Money Provider--\x3e>Service Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\n\n\n# Make a Bill Payment with Polling\n\nThis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/1/bills/REF-000001/payments\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "currency": "GBP",\n    "amountPaid": "5.30"\n}\n\n\n \n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/bills/REF-000001/payments?limit=5\n---\nParams:\n{\n  "limit": 5\n}\n\n\n \n\n\nGET .../requestStates/Place the Server Correlation Id here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: POST /accounts/{identifierType}/{identifier}/bills/{billReference}/payments activate Service Provider activate Mobile Money Provider Note right of Service Provider: (1) The MMP submits the bill payment request for processing\nto the Service Provider. The Service Provider will return\nthe Request State object to indicate that the request is\n\'pending\'. Service Provider--\x3e>Mobile Money Provider: HTTP 202 (Request State Object) deactivate Mobile Money Provider loop activate Mobile Money Provider Mobile Money Provider->>Service Provider: GET /requeststates/{serverCorrelationId} Note right of Service Provider: (2) The MMP polls the Service Provider for the Request State\nuntil the bill payment is processed or until the polling limit is\nreached. The request state will return the final status of the\nrequired, i.e. completed or failed. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Request State Object) end deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieval of Bill Payments\n\nThis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/1/bills/REF-000001/payments?offset=0&limit=20\n---\nParams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=0&limit=10 activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests up to 10 bill\npayments for the account from the\nService Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) Note right of Service Provider: (2) The Service Provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. Mobile Money Provider->>Service Provider: GET /accounts/{identifierType}/{identifier}/bills/{billReference}/payments?offset=10&limit=10 Note right of Service Provider: (3) The MMP requests the remaining\nbill payments for the account\nfrom the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Bill Payments Array) (X-Records-Available-Count=20) deactivate Mobile Money Provider deactivate Service Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the Service Provider is in a state that enables an FSP to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Mobile Money Provider participant Service Provider Mobile Money Provider->>Service Provider: GET /heartbeat activate Mobile Money Provider activate Service Provider Note right of Service Provider: (1) The MMP requests the availability of the\nservice from the Service Provider. Service Provider--\x3e>Mobile Money Provider: HTTP 200 (Heartbeat Object) Note right of Service Provider: (2) The Service Provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate Mobile Money Provider deactivate Service Provider\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# successful retrieval of bills\n\nthis diagram illustrates how a mobile money provider can retrieve bills for a given service provider customer account.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/1/bills?offset=0&limit=20\n---\nparams: \n{\n  "offset": 0,\n  "limit": 20                \n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) obtain all bills of a given account. service provider--\x3e>mobile money provider: http 200 (bills object) deactivate mobile money provider deactivate service provider\nopen postman collection open postman collection with authentication\n\n\n# unsuccessful retrieval of bills\n\nthis diagram illustrates the return of an error object where a service provider is unable to return bill details to a mobile money provider.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills activate mobile money provider activate service provider note right of service provider: (1) retrieve all bills for a given account. service provider--\x3e>mobile money provider: http 4xx/5xx (error object) note right of service provider: (2) return the error object providing\ndetais of the failure reason. deactivate mobile money provider deactivate service provider\n\n\n# make a successful bill payment with callback\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous callback method. to illustrate the end to end flow, a leg has been added to describe how a third payment provider can initiate a bill payment request to a mobile money provider.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/1/bills/ref-000001/payments\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "currency": "gbp",\n    "amountpaid": "5.30"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant third party payment provider participant mobile money provider participant service provider note right of third party payment provider: (1) the provider that enables the payer to pay\nbills submits a payment request to the mmp. third party payment provider->>mobile money provider: post /transactions/type/billpay activate third party payment provider activate mobile money provider mobile money provider--\x3e>third party payment provider: http 202 (request state object) deactivate third party payment provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider note right of service provider: (2) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is \'pending\'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (bill payments object) activate mobile money provider note right of service provider: (3) the service provider informs the mmp\nthat the request has been succesfully\ncompleted by returning the final\nrepresentation of the bill payment. mobile money provider--\x3e>service provider: http 204 deactivate service provider note right of third party payment provider: (4) the mmp informs the third party payment provider that the\nrequest has been succesfully completed by returning the\nfinal representation of the transactions object. mobile money provider->>third party payment provider: put {callback url} (transactions object) activate third party payment provider third party payment provider--\x3e> mobile money provider: http 204 deactivate mobile money provider deactivate third party payment provider\nopen postman collection open postman collection with authentication\n\n\n# make an unsuccessful bill payment with callback\n\nthis diagram illustrates the return of an error object where a service provider fails to process a bill payment request.\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request\nfor processing to the service provider. the\nservice provider will return the request state\nobject to indicate that the request is \'pending\'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider service provider->>mobile money provider: put {callback url} (error object) activate mobile money provider note right of service provider: (2) the service provider informs the mmp\nthat the request failed by returning a\nrepresentation of the error object. mobile money provider--\x3e>service provider: http 204 deactivate service provider deactivate mobile money provider\n\n\n# make a bill payment with polling\n\nthis diagram illustrates how a mobile money provider can make a bill payment to a service provider using the asynchronous polling method.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/1/bills/ref-000001/payments\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "currency": "gbp",\n    "amountpaid": "5.30"\n}\n\n\n \n\n\n\n\n\n\n\nget .../accounts/accountid/2000/bills/ref-000001/payments?limit=5\n---\nparams:\n{\n  "limit": 5\n}\n\n\n \n\n\nget .../requeststates/place the server correlation id here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: post /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments activate service provider activate mobile money provider note right of service provider: (1) the mmp submits the bill payment request for processing\nto the service provider. the service provider will return\nthe request state object to indicate that the request is\n\'pending\'. service provider--\x3e>mobile money provider: http 202 (request state object) deactivate mobile money provider loop activate mobile money provider mobile money provider->>service provider: get /requeststates/{servercorrelationid} note right of service provider: (2) the mmp polls the service provider for the request state\nuntil the bill payment is processed or until the polling limit is\nreached. the request state will return the final status of the\nrequired, i.e. completed or failed. service provider--\x3e>mobile money provider: http 200 (request state object) end deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieval of bill payments\n\nthis diagram illustrates how a mobile money provider can retrieve payments against a given bill for a given service provider customer account.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/1/bills/ref-000001/payments?offset=0&limit=20\n---\nparams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=0&limit=10 activate mobile money provider activate service provider note right of service provider: (1) the mmp requests up to 10 bill\npayments for the account from the\nservice provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) note right of service provider: (2) the service provider returns an array\nof 10 bill payments and indicates via a\nresponse header that there are 20\nrecords available in total. mobile money provider->>service provider: get /accounts/{identifiertype}/{identifier}/bills/{billreference}/payments?offset=10&limit=10 note right of service provider: (3) the mmp requests the remaining\nbill payments for the account\nfrom the service provider. service provider--\x3e>mobile money provider: http 200 (bill payments array) (x-records-available-count=20) deactivate mobile money provider deactivate service provider\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the service provider is in a state that enables an fsp to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant mobile money provider participant service provider mobile money provider->>service provider: get /heartbeat activate mobile money provider activate service provider note right of service provider: (1) the mmp requests the availability of the\nservice from the service provider. service provider--\x3e>mobile money provider: http 200 (heartbeat object) note right of service provider: (2) the service provider returns the\navailability of the service - available,\nunavailable or degraded. deactivate mobile money provider deactivate service provider\nopen postman collection open postman collection with authentication',charsets:{}},{title:"Bill Payments",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Bill Payments"},regularPath:"/use-cases/bill-payments/",relativePath:"use-cases/bill-payments/index.md",key:"v-519aee11",path:"/use-cases/bill-payments/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:477}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nThe Bill Payments Mobile Money APIs allow service providers to accept bill payments from mobile money customers.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                         ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to make   API Consumer\n                         bill payments to service providers.\nService Providers        To understand how to implement the Mobile Money API to        API Provider\n                         accept bill payments from Mobile Money Providers.",normalizedContent:"# introduction\n\nthe bill payments mobile money apis allow service providers to accept bill payments from mobile money customers.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                         role\nmobile money providers   to understand how to implement the mobile money api to make   api consumer\n                         bill payments to service providers.\nservice providers        to understand how to implement the mobile money api to        api provider\n                         accept bill payments from mobile money providers.",charsets:{}},{title:"Disbursements - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"Disbursements - API Service Definition"},regularPath:"/use-cases/disbursements/api-service-definition.html",relativePath:"use-cases/disbursements/api-service-definition.md",key:"v-3268c0ea",path:"/use-cases/disbursements/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2194},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:2490},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:11679},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:12436},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:12702},{level:3,title:"Batch Transactions",slug:"batch-transactions",normalizedTitle:"batch transactions",charIndex:21185},{level:4,title:"Batch Transactions Workflow",slug:"batch-transactions-workflow",normalizedTitle:"batch transactions workflow",charIndex:21691},{level:5,title:"One-Shot Batch Processing",slug:"one-shot-batch-processing",normalizedTitle:"one-shot batch processing",charIndex:23352},{level:5,title:"Batch Processing with Maker/Checker",slug:"batch-processing-with-maker-checker",normalizedTitle:"batch processing with maker/checker",charIndex:24450},{level:3,title:"Batch Transactions API",slug:"batch-transactions-api",normalizedTitle:"batch transactions api",charIndex:26500},{level:4,title:"Batch Transaction Object UML Diagram",slug:"batch-transaction-object-uml-diagram",normalizedTitle:"batch transaction object uml diagram",charIndex:27124},{level:4,title:"Batch Transaction Object Definition",slug:"batch-transaction-object-definition",normalizedTitle:"batch transaction object definition",charIndex:27442},{level:3,title:"Batch Rejections API",slug:"batch-rejections-api",normalizedTitle:"batch rejections api",charIndex:33008},{level:4,title:"Batch Rejection UML Class Diagram",slug:"batch-rejection-uml-class-diagram",normalizedTitle:"batch rejection uml class diagram",charIndex:34634},{level:4,title:"Batch Rejection Object Definition",slug:"batch-rejection-object-definition",normalizedTitle:"batch rejection object definition",charIndex:34891},{level:3,title:"Batch Completions API",slug:"batch-completions-api",normalizedTitle:"batch completions api",charIndex:37737},{level:4,title:"Batch Completion UML Class Diagram",slug:"batch-completion-uml-class-diagram",normalizedTitle:"batch completion uml class diagram",charIndex:39326},{level:4,title:"Batch Completion Object Definition",slug:"batch-completion-object-definition",normalizedTitle:"batch completion object definition",charIndex:39588},{level:3,title:"Disbursement Accounts APIs",slug:"disbursement-accounts-apis",normalizedTitle:"disbursement accounts apis",charIndex:42429},{level:4,title:"Identifying aDisbursement Organisation Account",slug:"identifying-adisbursement-organisation-account",normalizedTitle:"identifying adisbursement organisation account",charIndex:42593},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:42789},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:42972},{level:3,title:"Account Transactions API",slug:"account-transactions-api",normalizedTitle:"account transactions api",charIndex:43470},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:45611},{level:3,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:45924},{level:4,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:46307},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:46439},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:48989},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:49012},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:49931},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:50784},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:51611},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:52531},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:53423},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:53440},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:53817},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:49012}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Batch Transactions Batch Transactions Workflow One-Shot Batch Processing Batch Processing with Maker/Checker Batch Transactions API Batch Transaction Object UML Diagram Batch Transaction Object Definition Batch Rejections API Batch Rejection UML Class Diagram Batch Rejection Object Definition Batch Completions API Batch Completion UML Class Diagram Batch Completion Object Definition Disbursement Accounts APIs Identifying aDisbursement Organisation Account Single Identifier Method Multiple Identifiers Method Account Transactions API Account Transaction UML Class Diagram Account Balances API Account Balance UML Class Diagram Account Balance Object Definition Supporting Objects Account Identifiers Object Metadata Object Custom Data Object Fees Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types Account Identifiers",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nIndividual disbursements can be created and viewed using transactions APIs. The following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\nFor batches of disbursements, please refer to Bulk Disbursement.\n\n# Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2‑1 Transaction UML Class Diagram\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                              \nName                                         Type        Description                                                           Reference                        Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                     \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers              creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                     debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers              debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                     If creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                     Enumeration = Transaction Types\n                                                         the URL)                                                       ← M\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                     \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                     Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                     Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                     \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                     \n                                                         was initiated.                                                 ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                     \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                         Provider                                                       ← O\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                                     \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                         populate additional transaction fields.                        ← O\n\n\n# Reversals API\n\nThe Reversals API is used to reverse a P2P transfer. The originating transaction reference must be provided in the path to identify the payment to be reversed. For a partial reversal, the amount needs to be supplied.\n\nFor viewing reversals, the Transactions API should be used.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Credit Party Identifier "0..10" --* "" Reversal Debit Party Identifier "0..10" --* "" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\nFigure 2‑2 Reversal UML Class Diagram\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                          TYPE        DESCRIPTION                                                           REFERENCE                        VALIDATION\ntransactionReference                          string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                          the response by API provider.                                  ← M\nrequesting OrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                          to be associated with the transaction.                         ← O\noriginalTransactionReference                  string      For reversals and refunds, this field indicates the            → NA                                    \n                                                          transaction which is the subject of the reversal.              ← M\ncreditParty                                   array       A series of key/value pairs that enable the credit party to    → O    Account Identifiers              \n                                                          be identified. Keys include MSISDN and Wallet Identifier.      ← O\ndebitParty                                    array       A collection of key/value pairs that enable the debit party    → O    Account Identifiers              \n                                                          to be identified. Keys include MSISDN and Wallet Identifier.   ← O\ntype                                          string      The harmonised Transaction Type                                → M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                         ← M                                     Refunds (adjustments) are supported.\nsubType                                       string      A non-harmonised sub-classification of the type of             → O                                     \n                                                          transaction. Values are not fixed, and usage will vary         ← O\n                                                          according to Provider.\ntransactionStatus                             string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                          provider.                                                      ← M\namount                                        string      The transaction Amount.                                        → O                                     Please refer to API Fundamentals document for amount\n                                                                                                                         ← O                                     validation rules.\ncurrency                                      string      Currency of the transaction amount.                            → O                                     Enumeration = ISO Currency Codes\n                                                                                                                         ← O\ndescriptionText                               string      Free format text description of the transaction provided by    → O                                     \n                                                          the client. This can be provided as a reference for the        ← O\n                                                          receiver on a notification SMS and on an account statement.\nfees                                          array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                          to the transaction.                                            ← O\ngeoCode                                       string      Indicates the geographic location from where the transaction   → O                                     \n                                                          was initiated.                                                 ← O\nrequestingOrganisation                        object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                         ← O\nservicingIdentity                             string      The field is used to identify the servicing identity for       → O                                     \n                                                          transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                            string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                          may differ from the Transaction Reference.                     ← O\ncreationDate                                  date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                          Provider.                                                      ← O\nmodificationDate                              date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                          Provider.                                                      ← O\nrequestDate                                   date-time   The date and time of the transaction request as supplied by    → O                                     \n                                                          the client.                                                    ← O\ncustomData                                    string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                          provider specific fields.                                      ← O\nmetadata                                      array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                          populate additional properties that describe administrative    ← O\n                                                          information regarding the transaction.\n\n\n# Batch Transactions\n\nThe Mobile Money API allows organisations to submit, approve and view batches of disbursements. The following steps describe an end to end flow for processing batch disbursements. Two types of processing modes are supported:\n\n * One shot processing without an approver.\n * Maker/checker approval, i.e. transactions are not completed until approved via a second API request.\n\nThe individual APIs that are referenced in the steps below are fully documented in subsequent sub-sections.\n\n# Batch Transactions Workflow\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../batchtransactions\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchTitle": "Batch_Test",\n    "batchDescription": "Testing a Batch",\n    "scheduledStartDate": "2017-07-21T17:32:28Z"\n}\n\n\n \n\n\nGET .../batchtransactions/Place your Batch Id here/completions\n\n\n \n\n\nGET .../batchtransactions/Place your Batch Id here/rejections\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n# One-Shot Batch Processing\n\nCreating a Batch\n\n 1. Client submits the batch for processing via POST /batchtransactions.\n\n 2. The client will return the requestState object indicating whether a callback will be provided or polling is required.\n\n 3. The API provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. Once parsing has completed, the API provider will set the batch status in the batchTransactions object to ‘completed’.\n\nVerifying a Batch\n\n 1. The client will be able to retrieve the batch transaction object by invoking GET /batchtransactions using the object reference provided by the requestState object. Alternatively, if Callback is specified, the client will receive the representation of the batchTransactions object to their nominated URL set in the X-Callback-URL header.\n\n 2. If errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via GET /batchtransactions/rejections. Successfully completed transactions can be viewed via GET /batchtransactions/completions.\n\n# Batch Processing with Maker/Checker\n\nCreating a Batch\n\n 1. Client submits the batch for processing via POST /batchtransactions.\n\n 2. The client will return the requestState object indicating whether a callback will be provided or polling is required.\n\n 3. The API provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. Once parsing has completed, the API provider will set the batch status in the batchTransactions object to ‘created’.\n\nVerifying a Batch\n\n 1. The client will be able to retrieve the batch transaction object by invoking GET /batchtransactions using the object reference provided by the requestState object. Alternatively, if Callback is specified, the client will receive the representation of the batchTransactions object to their nominated URL set in the X-Callback-URL header.\n\n 2. If errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via GET /batchtransactions/rejections.\n\nApproving a Batch\n\n 1. A client can approve the batch for posting by issuing a PATCH /batchtransactions in order to update the status to ‘approved’.\n\n 2. As per step 2, a requestState object will be returned indicating whether a callback will be provided or polling is required.\n\n 3. The API provider will then post the transactions in the batch considering any scheduling considerations.\n\n 4. Once posting is completed, the API provider will set the batch status in the batchTransactions object to ‘completed’.\n\n 5. The client will be able to retrieve the batchTransactions object by invoking GET /batchtransactions using the object reference provided by the requestState object. Alternatively, if Callback is specified, the client will receive the representation of the batchTransactions object to their nominated URL set in the X-Callback-URL header.\n\n 6. The client will also be able to retrieve a list of successful transaction completions /batchtransactions/completions and transaction failures /batchtransactions/rejections.\n\n\n# Batch Transactions API\n\nThis API enables clients to submit and approve a batch of transactions. The API allows transactions of multiple types to be included in a single batch. The following paths are permitted:\n\n- Submit a batch: POST /batchtransactions\n\n- Approve a batch: PATCH /bathtransactions/{batchID}. The Batch Status needs to be set to ‘approved’.\n\n- View details regarding batch processing: GET /batchtransactions/{batchID}\n\n\n\nOnly asynchronous mode is supported for the POST and PATCH methods. For the GET method, only synchronous mode is supported.\n\nThere is a limit of 999,999 transaction records per batch.\n\n# Batch Transaction Object UML Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0.." --* "1" Batch Transaction\n\nFigure 2-3 Batch Transaction UML Class Diagram\n\n# Batch Transaction Object Definition\n\n{\n  "batchID": "d24651c4-ef6f-4c5c-af0e-468f1dc53624",\n  "batchStatus": "approved",\n  "Transactions": [\n    {\n      //transaction 1 object...\n      },\n    {\n      //transaction 2 object...\n    }\n  ]\n  "approvalDate": "2017-07-21T17:32:28Z", \n  "completionDate": "2017-07-21T17:32:28Z",\n  "batchTitle": "Batch title...",\n  "batchDescription": "Batch description...",\n  "processingFlag": true,\n  "completedCount": 3,\n  "parsingSuccessCount": 2,\n  "rejectionCount": 1,\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "scheduledStartDate": "2017-07-21T17:32:28Z",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBATCH TRANSACTION OBJECT                                                                                                               \nName                       Type        Description                                                           Reference                 Validation\nbatchID                    string      Identifier for the Batch that is assigned by the API           → NA                             \n                                       provider. This ID is used by the client on subsequent GET or   ← M\n                                       PATCH methods.\nbatchStatus                string      Indicates the status of the batch.                             → O                              Enumeration = created, approved, completed\n                                                                                                      ← M\nTransactions               array       Collection of Transactions that are to be processed. Note      → M    Transactions              \n                                       that the representation of each completed transaction can be   ← NA\n                                       retrieved via the ‘/completions API.\napprovalDate               date-time   Indicates when the batch was approved as recorded by the API   → NA                             \n                                       provider.                                                      ← M\ncompletionDate             date-time   Indicates when the batch was completed as recorded by the      → NA                             \n                                       API provider.                                                  ← M\nbatchTitle                 string      Client-provided title for the batch.                           → O                              \n                                                                                                      ← O\nbatchDescription           string      Client-provided description of the batch.                      → O                              \n                                                                                                      ← O\nprocessingFlag             boolean     Indicates whether the batch is currently undergoing            → NA                             \n                                       processing by the API Provider.                                ← O\ncompletedCount             integer     Indicates the number of records that have been successfully    → NA                             \n                                       completed.                                                     ← O\nparsingSuccessCount        integer     Indicates the number of records that have been parsed          → NA                             \n                                       successfully.                                                  ← O\nrejectionCount             integer     Indicates the number of records that have been rejected,       → NA                             \n                                       either during parsing or during final processing.              ← O\nrequestingOrganisation     object      The originating organisation of the request.                   → O    Requesting Organisation   \n                                                                                                      ← O\nscheduledStartDate         date-time   If the batch has been scheduled, the expected start time is    → O                              \n                                       provided here.                                                 ← O\ncreationDate               date-time   Indicates when the batch was created as recorded by the API    → NA                             \n                                       provider.                                                      ← O\nmodificationDate           date-time   Indicates when the batch was modified as recorded by the API   → NA                             \n                                       provider.                                                      ← O\nrequestDate                date-time   The date and time of the batch request as supplied by the      → O                              \n                                       client.                                                        ← O\ncustomData                 string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                       provider specific fields.                                      ← O\n\n\n# Batch Rejections API\n\nThis API enables clients to retrieve information on all transactions that have either failed parsing or have failed to complete. Only the GET method is supported. The path is batchtransactions/{batchID}/rejections.\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Batch Rejection UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Batch Rejection Debit Party Identifier "1..10" --* "1" Batch Rejection Batch Rejection "0..*" --* "1" Batch Transaction\n\nFigure 2-4 Batch Rejection UML Class Diagram\n\n# Batch Rejection Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "rejectionReason": "Some rejection reason...",\n  "rejectionDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBATCH REJECTION OBJECT                                                                                                                               \nName                                         Type        Description                                                           Reference             Validation\ntransactionReference                         string      Transaction Reference as assigned by the API provider.         → NA                         \n                                                                                                                        ← O\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → NA                         \n                                                         to be associated with the transactions.                        ← O\ncreditParty                                  array       The credit party identifiers for the transaction as specific   → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\ndebitParty                                   array       The debit party identifiers for the transaction as specific    → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\nrejectionReason                              string      The reason for the transaction request as indicated by the     → NA                         \n                                                         API provider.                                                  ← M\nrejectionDate                                date-time   Date and time of the rejection.                                → NA                         \n                                                                                                                        ← M\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object    \n                                                         provider specific fields.                                      ← O\n\n\n# Batch Completions API\n\nThis API lists all transactions that have successfully completed for a given batch. Only the GET method is supported. The path format is batchtransactions/{batchID}/completions.\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\n\nTIP\n\nNote: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count)\n\n# Batch Completion UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Batch Completion Debit Party Identifier "1..10" --* "1" Batch Completion Batch Completion "0..*" --* "1" Batch Transaction\n\nFigure 2-5 Batch Completion UML Class Diagram\n\n# Batch Completion Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "completionDate": "2017-07-21T17:32:28Z",\n  "link": "https://application.com/uuid",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nBATCH COMPLETION OBJECT                                                                                                                              \nName                                         Type        Description                                                           Reference             Validation\ntransactionReference                         string      Transaction Reference as assigned by the API provider.         → NA                         \n                                                                                                                        ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → NA                         \n                                                         to be associated with the transactions.                        ← O\ncreditParty                                  array       The credit party identifiers for the transaction as specific   → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\ndebitParty                                   array       The debit party identifiers for the transaction as specific    → NA   Account Identifiers   \n                                                         in the batch request.                                          ← M\ncompletionDate                               date-time   Date and time indicating when the transaction was completed.   → NA                         \n                                                                                                                        ← M\nlink                                         string      Provides a URL to the transaction resource.                    → NA                         \n                                                                                                                        ← M\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object    \n                                                         provider specific fields.                                      ← O\n\n\n# Disbursement Accounts APIs\n\nUsing the mobile money APIs, disbursement organisations can:\n\n * View transactions for their account.\n * View their account balance.\n\n# Identifying aDisbursement Organisation Account\n\nTwo methods are provided for identifying a disbursement organisation account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n/accounts/{identifierType}/{identifier}.\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3}.\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Account Transactions API\n\nA disbursement organisation should use this API to return a list of transactions against their account. One of the following paths can be used\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2‑6 Account Transaction UML Class Diagram\n\n\n# Account Balances API\n\nUsing the Account Balances API, a disbursement organisation can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the organisation account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram AccountBalance "1" --* "1" Account\n\nFigure 2‑7 Account Balance UML Class Diagram\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                           REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    → NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    ← O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                → NA               Please refer to API Fundamentals document for amount\n                                                                                           ← O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        → NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    ← O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    → NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       ← O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       → NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← O                validation rules.\ncurrency           string   Currency for all returned balances.                            → NA               Enumeration = ISO Currency Codes\n                                                                                           ← O\n\n\n# Supporting Objects\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         → M               Enumeration = Account Identifiers\n                                                               ← M\nvalue   string   Provides the account identifier type value.   → M               \n                                                               ← M\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                     REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  → M               \n                                                                 ← M\nfeeAmount     string   Defines the amount of the fee.            → M               Please refer to API Fundamentals document for amount\n                                                                 ← M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   → M               Enumeration = ISO Currency Codes\n                                                                 ← M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE           DESCRIPTION\ndisbursement   Disbursement of funds (making payments from an organisation\n               (business, NGO, government entity) to a mobile money\n               recipient.\nreversal       Reversal of a prior transaction to return funds to the\n               payer.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\nindividual disbursements can be created and viewed using transactions apis. the following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\nfor batches of disbursements, please refer to bulk disbursement.\n\n# transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2‑1 transaction uml class diagram\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                              \nname                                         type        description                                                           reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                    \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                     \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers              creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                     debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers              debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                     if creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                     enumeration = transaction types\n                                                         the url)                                                       ← m\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                     \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                    \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                     please refer to api fundamentals document for amount\n                                                                                                                        ← m                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                     enumeration = iso currency codes\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                     \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                     \n                                                         was initiated.                                                 ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                     \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                    \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                    \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                    \n                                                         provider                                                       ← o\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                                     \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                         populate additional transaction fields.                        ← o\n\n\n# reversals api\n\nthe reversals api is used to reverse a p2p transfer. the originating transaction reference must be provided in the path to identify the payment to be reversed. for a partial reversal, the amount needs to be supplied.\n\nfor viewing reversals, the transactions api should be used.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram credit party identifier "0..10" --* "" reversal debit party identifier "0..10" --* "" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\nfigure 2‑2 reversal uml class diagram\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                          type        description                                                           reference                        validation\ntransactionreference                          string      unique reference for the transaction. this is returned in      → na                                    \n                                                          the response by api provider.                                  ← m\nrequesting organisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                          to be associated with the transaction.                         ← o\noriginaltransactionreference                  string      for reversals and refunds, this field indicates the            → na                                    \n                                                          transaction which is the subject of the reversal.              ← m\ncreditparty                                   array       a series of key/value pairs that enable the credit party to    → o    account identifiers              \n                                                          be identified. keys include msisdn and wallet identifier.      ← o\ndebitparty                                    array       a collection of key/value pairs that enable the debit party    → o    account identifiers              \n                                                          to be identified. keys include msisdn and wallet identifier.   ← o\ntype                                          string      the harmonised transaction type                                → m                                     enumeration = transaction types note that only reversals and\n                                                                                                                         ← m                                     refunds (adjustments) are supported.\nsubtype                                       string      a non-harmonised sub-classification of the type of             → o                                     \n                                                          transaction. values are not fixed, and usage will vary         ← o\n                                                          according to provider.\ntransactionstatus                             string      indicates the status of the transaction as stored by the api   → na                                    \n                                                          provider.                                                      ← m\namount                                        string      the transaction amount.                                        → o                                     please refer to api fundamentals document for amount\n                                                                                                                         ← o                                     validation rules.\ncurrency                                      string      currency of the transaction amount.                            → o                                     enumeration = iso currency codes\n                                                                                                                         ← o\ndescriptiontext                               string      free format text description of the transaction provided by    → o                                     \n                                                          the client. this can be provided as a reference for the        ← o\n                                                          receiver on a notification sms and on an account statement.\nfees                                          array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                          to the transaction.                                            ← o\ngeocode                                       string      indicates the geographic location from where the transaction   → o                                     \n                                                          was initiated.                                                 ← o\nrequestingorganisation                        object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                         ← o\nservicingidentity                             string      the field is used to identify the servicing identity for       → o                                     \n                                                          transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                            string      transaction receipt number as notified to the parties. this    → na                                    \n                                                          may differ from the transaction reference.                     ← o\ncreationdate                                  date-time   date and time when the transaction was created by the api      → na                                    \n                                                          provider.                                                      ← o\nmodificationdate                              date-time   date and time when the transaction was modified by the api     → na                                    \n                                                          provider.                                                      ← o\nrequestdate                                   date-time   the date and time of the transaction request as supplied by    → o                                     \n                                                          the client.                                                    ← o\ncustomdata                                    string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                          provider specific fields.                                      ← o\nmetadata                                      array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                          populate additional properties that describe administrative    ← o\n                                                          information regarding the transaction.\n\n\n# batch transactions\n\nthe mobile money api allows organisations to submit, approve and view batches of disbursements. the following steps describe an end to end flow for processing batch disbursements. two types of processing modes are supported:\n\n * one shot processing without an approver.\n * maker/checker approval, i.e. transactions are not completed until approved via a second api request.\n\nthe individual apis that are referenced in the steps below are fully documented in subsequent sub-sections.\n\n# batch transactions workflow\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../batchtransactions\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchtitle": "batch_test",\n    "batchdescription": "testing a batch",\n    "scheduledstartdate": "2017-07-21t17:32:28z"\n}\n\n\n \n\n\nget .../batchtransactions/place your batch id here/completions\n\n\n \n\n\nget .../batchtransactions/place your batch id here/rejections\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n# one-shot batch processing\n\ncreating a batch\n\n 1. client submits the batch for processing via post /batchtransactions.\n\n 2. the client will return the requeststate object indicating whether a callback will be provided or polling is required.\n\n 3. the api provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. once parsing has completed, the api provider will set the batch status in the batchtransactions object to ‘completed’.\n\nverifying a batch\n\n 1. the client will be able to retrieve the batch transaction object by invoking get /batchtransactions using the object reference provided by the requeststate object. alternatively, if callback is specified, the client will receive the representation of the batchtransactions object to their nominated url set in the x-callback-url header.\n\n 2. if errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via get /batchtransactions/rejections. successfully completed transactions can be viewed via get /batchtransactions/completions.\n\n# batch processing with maker/checker\n\ncreating a batch\n\n 1. client submits the batch for processing via post /batchtransactions.\n\n 2. the client will return the requeststate object indicating whether a callback will be provided or polling is required.\n\n 3. the api provider will parse the batch in order to determine whether the transactions are capable of being processed.\n\n 4. once parsing has completed, the api provider will set the batch status in the batchtransactions object to ‘created’.\n\nverifying a batch\n\n 1. the client will be able to retrieve the batch transaction object by invoking get /batchtransactions using the object reference provided by the requeststate object. alternatively, if callback is specified, the client will receive the representation of the batchtransactions object to their nominated url set in the x-callback-url header.\n\n 2. if errors are indicated, i.e. some of the transactions failed parsing, the client is able to retrieve the errors via get /batchtransactions/rejections.\n\napproving a batch\n\n 1. a client can approve the batch for posting by issuing a patch /batchtransactions in order to update the status to ‘approved’.\n\n 2. as per step 2, a requeststate object will be returned indicating whether a callback will be provided or polling is required.\n\n 3. the api provider will then post the transactions in the batch considering any scheduling considerations.\n\n 4. once posting is completed, the api provider will set the batch status in the batchtransactions object to ‘completed’.\n\n 5. the client will be able to retrieve the batchtransactions object by invoking get /batchtransactions using the object reference provided by the requeststate object. alternatively, if callback is specified, the client will receive the representation of the batchtransactions object to their nominated url set in the x-callback-url header.\n\n 6. the client will also be able to retrieve a list of successful transaction completions /batchtransactions/completions and transaction failures /batchtransactions/rejections.\n\n\n# batch transactions api\n\nthis api enables clients to submit and approve a batch of transactions. the api allows transactions of multiple types to be included in a single batch. the following paths are permitted:\n\n- submit a batch: post /batchtransactions\n\n- approve a batch: patch /bathtransactions/{batchid}. the batch status needs to be set to ‘approved’.\n\n- view details regarding batch processing: get /batchtransactions/{batchid}\n\n\n\nonly asynchronous mode is supported for the post and patch methods. for the get method, only synchronous mode is supported.\n\nthere is a limit of 999,999 transaction records per batch.\n\n# batch transaction object uml diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0.." --* "1" batch transaction\n\nfigure 2-3 batch transaction uml class diagram\n\n# batch transaction object definition\n\n{\n  "batchid": "d24651c4-ef6f-4c5c-af0e-468f1dc53624",\n  "batchstatus": "approved",\n  "transactions": [\n    {\n      //transaction 1 object...\n      },\n    {\n      //transaction 2 object...\n    }\n  ]\n  "approvaldate": "2017-07-21t17:32:28z", \n  "completiondate": "2017-07-21t17:32:28z",\n  "batchtitle": "batch title...",\n  "batchdescription": "batch description...",\n  "processingflag": true,\n  "completedcount": 3,\n  "parsingsuccesscount": 2,\n  "rejectioncount": 1,\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "scheduledstartdate": "2017-07-21t17:32:28z",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbatch transaction object                                                                                                               \nname                       type        description                                                           reference                 validation\nbatchid                    string      identifier for the batch that is assigned by the api           → na                             \n                                       provider. this id is used by the client on subsequent get or   ← m\n                                       patch methods.\nbatchstatus                string      indicates the status of the batch.                             → o                              enumeration = created, approved, completed\n                                                                                                      ← m\ntransactions               array       collection of transactions that are to be processed. note      → m    transactions              \n                                       that the representation of each completed transaction can be   ← na\n                                       retrieved via the ‘/completions api.\napprovaldate               date-time   indicates when the batch was approved as recorded by the api   → na                             \n                                       provider.                                                      ← m\ncompletiondate             date-time   indicates when the batch was completed as recorded by the      → na                             \n                                       api provider.                                                  ← m\nbatchtitle                 string      client-provided title for the batch.                           → o                              \n                                                                                                      ← o\nbatchdescription           string      client-provided description of the batch.                      → o                              \n                                                                                                      ← o\nprocessingflag             boolean     indicates whether the batch is currently undergoing            → na                             \n                                       processing by the api provider.                                ← o\ncompletedcount             integer     indicates the number of records that have been successfully    → na                             \n                                       completed.                                                     ← o\nparsingsuccesscount        integer     indicates the number of records that have been parsed          → na                             \n                                       successfully.                                                  ← o\nrejectioncount             integer     indicates the number of records that have been rejected,       → na                             \n                                       either during parsing or during final processing.              ← o\nrequestingorganisation     object      the originating organisation of the request.                   → o    requesting organisation   \n                                                                                                      ← o\nscheduledstartdate         date-time   if the batch has been scheduled, the expected start time is    → o                              \n                                       provided here.                                                 ← o\ncreationdate               date-time   indicates when the batch was created as recorded by the api    → na                             \n                                       provider.                                                      ← o\nmodificationdate           date-time   indicates when the batch was modified as recorded by the api   → na                             \n                                       provider.                                                      ← o\nrequestdate                date-time   the date and time of the batch request as supplied by the      → o                              \n                                       client.                                                        ← o\ncustomdata                 string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                       provider specific fields.                                      ← o\n\n\n# batch rejections api\n\nthis api enables clients to retrieve information on all transactions that have either failed parsing or have failed to complete. only the get method is supported. the path is batchtransactions/{batchid}/rejections.\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# batch rejection uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" batch rejection debit party identifier "1..10" --* "1" batch rejection batch rejection "0..*" --* "1" batch transaction\n\nfigure 2-4 batch rejection uml class diagram\n\n# batch rejection object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "rejectionreason": "some rejection reason...",\n  "rejectiondate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbatch rejection object                                                                                                                               \nname                                         type        description                                                           reference             validation\ntransactionreference                         string      transaction reference as assigned by the api provider.         → na                         \n                                                                                                                        ← o\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → na                         \n                                                         to be associated with the transactions.                        ← o\ncreditparty                                  array       the credit party identifiers for the transaction as specific   → na   account identifiers   \n                                                         in the batch request.                                          ← m\ndebitparty                                   array       the debit party identifiers for the transaction as specific    → na   account identifiers   \n                                                         in the batch request.                                          ← m\nrejectionreason                              string      the reason for the transaction request as indicated by the     → na                         \n                                                         api provider.                                                  ← m\nrejectiondate                                date-time   date and time of the rejection.                                → na                         \n                                                                                                                        ← m\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object    \n                                                         provider specific fields.                                      ← o\n\n\n# batch completions api\n\nthis api lists all transactions that have successfully completed for a given batch. only the get method is supported. the path format is batchtransactions/{batchid}/completions.\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\n\ntip\n\nnote: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count)\n\n# batch completion uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" batch completion debit party identifier "1..10" --* "1" batch completion batch completion "0..*" --* "1" batch transaction\n\nfigure 2-5 batch completion uml class diagram\n\n# batch completion object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "completiondate": "2017-07-21t17:32:28z",\n  "link": "https://application.com/uuid",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nbatch completion object                                                                                                                              \nname                                         type        description                                                           reference             validation\ntransactionreference                         string      transaction reference as assigned by the api provider.         → na                         \n                                                                                                                        ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → na                         \n                                                         to be associated with the transactions.                        ← o\ncreditparty                                  array       the credit party identifiers for the transaction as specific   → na   account identifiers   \n                                                         in the batch request.                                          ← m\ndebitparty                                   array       the debit party identifiers for the transaction as specific    → na   account identifiers   \n                                                         in the batch request.                                          ← m\ncompletiondate                               date-time   date and time indicating when the transaction was completed.   → na                         \n                                                                                                                        ← m\nlink                                         string      provides a url to the transaction resource.                    → na                         \n                                                                                                                        ← m\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object    \n                                                         provider specific fields.                                      ← o\n\n\n# disbursement accounts apis\n\nusing the mobile money apis, disbursement organisations can:\n\n * view transactions for their account.\n * view their account balance.\n\n# identifying adisbursement organisation account\n\ntwo methods are provided for identifying a disbursement organisation account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n/accounts/{identifiertype}/{identifier}.\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3}.\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# account transactions api\n\na disbursement organisation should use this api to return a list of transactions against their account. one of the following paths can be used\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2‑6 account transaction uml class diagram\n\n\n# account balances api\n\nusing the account balances api, a disbursement organisation can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the organisation account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram accountbalance "1" --* "1" account\n\nfigure 2‑7 account balance uml class diagram\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                           reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    → na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    ← o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                → na               please refer to api fundamentals document for amount\n                                                                                           ← o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        → na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    ← o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    → na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       ← o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       → na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← o                validation rules.\ncurrency           string   currency for all returned balances.                            → na               enumeration = iso currency codes\n                                                                                           ← o\n\n\n# supporting objects\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   provides the account identifier type.         → m               enumeration = account identifiers\n                                                               ← m\nvalue   string   provides the account identifier type value.   → m               \n                                                               ← m\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                     reference   validation\nfeetype       string   defines the type of fee.                  → m               \n                                                                 ← m\nfeeamount     string   defines the amount of the fee.            → m               please refer to api fundamentals document for amount\n                                                                 ← m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   → m               enumeration = iso currency codes\n                                                                 ← m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode           description\ndisbursement   disbursement of funds (making payments from an organisation\n               (business, ngo, government entity) to a mobile money\n               recipient.\nreversal       reversal of a prior transaction to return funds to the\n               payer.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.',charsets:{}},{title:"Disbursements - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Disbursements - Open OAS UI"},regularPath:"/use-cases/disbursements/disbursements-open-oas-ui.html",relativePath:"use-cases/disbursements/disbursements-open-oas-ui.md",key:"v-5a8d68f8",path:"/use-cases/disbursements/disbursements-open-oas-ui.html",headers:[{level:2,title:"Disbursements - Open OAS UI",slug:"disbursements-open-oas-ui",normalizedTitle:"disbursements - open oas ui",charIndex:0}],headersStr:"Disbursements - Open OAS UI",content:"# Disbursements - Open OAS UI",normalizedContent:"# disbursements - open oas ui",charsets:{}},{title:"Disbursements",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Disbursements"},regularPath:"/use-cases/disbursements/",relativePath:"use-cases/disbursements/index.md",key:"v-acf0f39e",path:"/use-cases/disbursements/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:465}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nThe Disbursement Mobile Money APIs allow organisations to disburse funds to mobile money recipients.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                          ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to allow   API Provider\n                         organisations to disburse payments in singular and in bulk.\nNGOs                     To understand how to implement the Mobile Money API to         API Consumer\n                         provide aid payments to mobile money recipients.\nGovernment Departments   To understand how to implement the Mobile Money API to         API Consumer\n                         provide social credit payments to mobile money recipients.\nEmployers                To understand how to implement the Mobile Money API to         API Consumer\n                         provide salary payments to mobile money recipients.",normalizedContent:"# introduction\n\nthe disbursement mobile money apis allow organisations to disburse funds to mobile money recipients.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                          role\nmobile money providers   to understand how to implement the mobile money api to allow   api provider\n                         organisations to disburse payments in singular and in bulk.\nngos                     to understand how to implement the mobile money api to         api consumer\n                         provide aid payments to mobile money recipients.\ngovernment departments   to understand how to implement the mobile money api to         api consumer\n                         provide social credit payments to mobile money recipients.\nemployers                to understand how to implement the mobile money api to         api consumer\n                         provide salary payments to mobile money recipients.",charsets:{}},{title:"International Transfers - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"International Transfers - API Service Definition"},regularPath:"/use-cases/international-transfers/api-service-definition.html",relativePath:"use-cases/international-transfers/api-service-definition.md",key:"v-961caed0",path:"/use-cases/international-transfers/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2128},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:2613},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:11802},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:12675},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:12941},{level:3,title:"Accounts APIs",slug:"accounts-apis",normalizedTitle:"accounts apis",charIndex:21424},{level:4,title:"Identifying an FSP Account",slug:"identifying-an-fsp-account",normalizedTitle:"identifying an fsp account",charIndex:21550},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:21705},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:21890},{level:3,title:"Account Transactions API",slug:"account-transactions-api",normalizedTitle:"account transactions api",charIndex:22389},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:24506},{level:3,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:25042},{level:4,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:25395},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:25528},{level:3,title:"Quotations API",slug:"quotations-api",normalizedTitle:"quotations api",charIndex:28078},{level:4,title:"Quotation UML Class Diagram",slug:"quotation-uml-class-diagram",normalizedTitle:"quotation uml class diagram",charIndex:28610},{level:4,title:"Quotation Object Definition",slug:"quotation-object-definition",normalizedTitle:"quotation object definition",charIndex:29046},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:37452},{level:3,title:"International Transfer Information Object",slug:"international-transfer-information-object",normalizedTitle:"international transfer information object",charIndex:37475},{level:3,title:"KYC Information Object",slug:"kyc-information-object",normalizedTitle:"kyc information object",charIndex:41031},{level:3,title:"Name Object",slug:"name-object",normalizedTitle:"name object",charIndex:44522},{level:3,title:"Id Document Object",slug:"id-document-object",normalizedTitle:"id document object",charIndex:46072},{level:3,title:"Address Object",slug:"address-object",normalizedTitle:"address object",charIndex:48394},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:49869},{level:3,title:"Quote Object",slug:"quote-object",normalizedTitle:"quote object",charIndex:50778},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:54321},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:55164},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:55991},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:56897},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:57789},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:57806},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:58183},{level:3,title:"ID Types",slug:"id-types",normalizedTitle:"id types",charIndex:58575},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:49869},{level:3,title:"ISO Country Codes",slug:"iso-country-codes",normalizedTitle:"iso country codes",charIndex:65472},{level:3,title:"Delivery Method Types",slug:"delivery-method-types",normalizedTitle:"delivery method types",charIndex:65813}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Accounts APIs Identifying an FSP Account Single Identifier Method Multiple Identifiers Method Account Transactions API Account Transaction UML Class Diagram Account Balances API Account Balance UML Class Diagram Account Balance Object Definition Quotations API Quotation UML Class Diagram Quotation Object Definition Supporting Objects International Transfer Information Object KYC Information Object Name Object Id Document Object Address Object Account Identifiers Object Quote Object Metadata Object Custom Data Object Fees Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types ID Types Account Identifiers ISO Country Codes Delivery Method Types",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nInternational Transfers can be created and viewed using transactions APIs.\n\nThe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Transaction "1" *-- "0..20" Metadata Transaction "1" *-- "0..2" KYC Information Transaction "1" *-- "0..1" International Transfer Information KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name\n\nFigure 2‑1 Transaction UML Class Diagram\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                              \nName                                         Type        Description                                                           Reference                        Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                     \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers              creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                     debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers              debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                     If creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                     Enumeration = Transaction Types\n                                                         the URL)                                                       ← M\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                     \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                     Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                     Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                     \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                     \n                                                         was initiated.                                                 ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                     \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                         Provider                                                       ← O\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                                     \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                         populate additional transaction fields.                        ← O\n\n\n# Reversals API\n\nThe Reversals API is used to reverse an international transfer. The originating transaction reference must be provided in the path in order to identify the payment to be reversed. For a partial reversal, the amount needs to be supplied.\n\nFor viewing reversals, the Transactions API should be used. For performing a reversal without the original transaction reference, use the Transactions API.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Credit Party Identifier "0..10" --* "" Reversal Debit Party Identifier "0..10" --* "" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\nFigure 2‑2 Reversal UML Class Diagram\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                          TYPE        DESCRIPTION                                                           REFERENCE                        VALIDATION\ntransactionReference                          string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                          the response by API provider.                                  ← M\nrequesting OrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                          to be associated with the transaction.                         ← O\noriginalTransactionReference                  string      For reversals and refunds, this field indicates the            → NA                                    \n                                                          transaction which is the subject of the reversal.              ← M\ncreditParty                                   array       A series of key/value pairs that enable the credit party to    → O    Account Identifiers              \n                                                          be identified. Keys include MSISDN and Wallet Identifier.      ← O\ndebitParty                                    array       A collection of key/value pairs that enable the debit party    → O    Account Identifiers              \n                                                          to be identified. Keys include MSISDN and Wallet Identifier.   ← O\ntype                                          string      The harmonised Transaction Type                                → M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                         ← M                                     Refunds (adjustments) are supported.\nsubType                                       string      A non-harmonised sub-classification of the type of             → O                                     \n                                                          transaction. Values are not fixed, and usage will vary         ← O\n                                                          according to Provider.\ntransactionStatus                             string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                          provider.                                                      ← M\namount                                        string      The transaction Amount.                                        → O                                     Please refer to API Fundamentals document for amount\n                                                                                                                         ← O                                     validation rules.\ncurrency                                      string      Currency of the transaction amount.                            → O                                     Enumeration = ISO Currency Codes\n                                                                                                                         ← O\ndescriptionText                               string      Free format text description of the transaction provided by    → O                                     \n                                                          the client. This can be provided as a reference for the        ← O\n                                                          receiver on a notification SMS and on an account statement.\nfees                                          array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                          to the transaction.                                            ← O\ngeoCode                                       string      Indicates the geographic location from where the transaction   → O                                     \n                                                          was initiated.                                                 ← O\nrequestingOrganisation                        object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                         ← O\nservicingIdentity                             string      The field is used to identify the servicing identity for       → O                                     \n                                                          transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                            string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                          may differ from the Transaction Reference.                     ← O\ncreationDate                                  date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                          Provider.                                                      ← O\nmodificationDate                              date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                          Provider.                                                      ← O\nrequestDate                                   date-time   The date and time of the transaction request as supplied by    → O                                     \n                                                          the client.                                                    ← O\ncustomData                                    string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                          provider specific fields.                                      ← O\nmetadata                                      array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                          populate additional properties that describe administrative    ← O\n                                                          information regarding the transaction.\n\n\n# Accounts APIs\n\nUsing account APIs, a sending FSP can:\n\n * View transfers for their account.\n * View their account balance.\n\n# Identifying an FSP Account\n\nTwo methods are provided for identifying an FSP account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifierType}/{identifier}.\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3}.\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Account Transactions API\n\nAn FSP should use this API to return a list of payments against their account. One of the following paths can be used:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram ID Document "0..10" --* "1" KYC Information Address "0..1" --* "1" KYC Information Name "0..1" --* "1" KYC Information Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction KYC Information "0..2" --* "1" Transaction Metadata "0..20" --* "1" Transaction International TransferInformation "0..1" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2‑3 Account Transaction UML Class Diagram\n\n\n# Account Balances API\n\nUsing the Account Balances API, an FSP can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the FSP account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram Account Balance "1" --* "1" Account\n\nFigure 2‑4 Account Balance UML Class Diagram\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                           REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    → NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    ← O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                → NA               Please refer to API Fundamentals document for amount\n                                                                                           ← O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        → NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    ← O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    → NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       ← O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       → NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← O                validation rules.\ncurrency           string   Currency for all returned balances.                            → NA               Enumeration = ISO Currency Codes\n                                                                                           ← O\n\n\n# Quotations API\n\nThe quotations APIs are used by the sending FSP to obtain an international transfer quotation from the receiving FSP. The generated quotation can include any fees that will be levied and will include the forex rate.\n\nWhere a sending FSP is connecting via a hub, the hub can generate and return a quotation containing multiple quotes for multiple potential receiving FSPs.\n\nThe following paths are permitted:\n\n * Creation of a quotation: POST /quotations\n * View a quotation: GET /quotations/{Quotation Reference}\n\n# Quotation UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Quotation Debit Party Identifier "1..10" --* "1" Quotation Metadata "0..20" --* "1" Quotation Quotation "1" *-- "0..2" KYC Information Quotation "1" *-- "0..1" Quote KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name Quote "1" *-- "0..20" Fee\n\nFigure 2‑5 Quotation UML Class Diagram\n\n# Quotation Object Definition\n\n{\n  "quotationReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "quotationStatus": "completed",\n  "requestAmount": "123.45",\n  "requestCurrency": "GBP",\n  "availableDeliveryMethod": "directtoaccount",\n  "chosenDeliveryMethod": "personaldelivery",\n  "originCountry": "GB",\n  "receivingCountry": "IE",\n  "quotes": [\n    {\n      "quoteId": "123456789",\n      "receivingAmount": "123.45",\n      "receivingCurrency": "GBP",\n      "sendingAmount": "123.45",\n      "sendingCurrency": "GBP"\n    }\n  ],\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "recipientBlockingReason": "No supported currency...",\n  "senderBlockingReason": "Not enough funds...",\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "sendingServiceProviderCountry": "GB",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nQUOTATION OBJECT DEFINITION                                                                                                                 \nName                            Type        Description                                                           Reference                 Validation\nquotationReference              string      Unique reference for the quotation as provided by the API      → NA                             \n                                            Provider.                                                      ← M\ncreditParty                     array       A series of key/value pairs that enable the credit party to    → M    Account Identifiers       \n                                            be identified. Keys include MSISDN and Wallet Identifier.      ← M\ndebitParty                      array       A collection of key/value pairs that enable the debit party    → M    Account Identifiers       \n                                            to be identified. Keys include MSISDN and Wallet Identifier.   ← M\ntype                            string      The transaction type that the quotation has been requested     → O                              Enumeration = Transaction Types\n                                            for.                                                           ← O\nsubtype                         string      The transaction sub-type that the quotation has been           → O                              \n                                            requested for.                                                 ← O\nquotationStatus                 string      Indicates the creation state of the quotation.                 → NA                             Enumeration = pending, rejected, completed\n                                                                                                           ← O\nrequestAmount                   string      Requested Quotation amount.                                    → M                              Please refer to API Fundamentals document for amount\n                                                                                                           ← M                              validation rules.\nrequestCurrency                 string      Currency of the requested quotation amount.                    → M                              Enumeration = ISO Currency Codes\n                                                                                                           ← M\navailableDeliveryMethod         string      Delivery Method that is possible for the intended recipient.   → NA                             Enumeration = Delivery Method\n                                                                                                           ← O\nchosenDeliveryMethod            string      The delivery method chosen by the sending end user as the      → O                              Enumeration = Delivery Method\n                                            specific delivery method to be used in the quotes received.    ← O\noriginCountry                   string      The originating country of the quotation request, i.e. the     → O                              \n                                            country where the request was initiated.                       ← O\nreceivingCountry                string      Destination country of the quotation request, i.e. the         → O                              \n                                            country that the sender wishes to send to.                     ← O\nquotes                          array       A collection of quotes. A quote can be received from a         → NA   Quotes                    \n                                            single receiving financial service provider or from multiple   ← O\n                                            providers.\nrecipientKyc                    object      A collection of fields detailing the KYC of the transaction    → O    KYC Information           \n                                            recipient, typically used for International Transfers.         ← O\nsenderKyc                       object      A collection of fields detailing the KYC of the transaction    → O    KYC Information           \n                                            sender, typically used for International Transfers.            ← O\nrecipientBlockingReason         string      The reason for blocking the quotation, based on AML checks     → NA                             \n                                            on the recipient.                                              ← O\nsenderBlockingReason            string      The reason for blocking the quotation, based on AML checks     → NA                             \n                                            on the sender.                                                 ← O\nrequestingOrganisation          object      The originating organisation of the request.                   → NA   Requesting Organisation   \n                                                                                                           ← O\nsendingServiceProviderCountry   string      The country of the sending service provider that holds the     → O                              \n                                            account of the sender.                                         ← O\ncreationDate                    date-time   Date and time when the quotation was created by the API        → NA                             \n                                            Provider.                                                      ← O\nmodificationDate                date-time   Date and time when the quotation was modified by the API       → NA                             \n                                            Provider.                                                      ← O\nrequestDate                     date-time   The date and time of the quotation request as supplied by      → O                              \n                                            the client.                                                    ← O\ncustomData                      string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                            provider specific fields.                                      ← O\nmetadata                        array       A collection of key/value pairs. These can be used to          → O    Metadata                  \n                                            populate additional properties that describe administrative    ← O\n                                            information regarding the quotation.\n\n\n# Supporting Objects\n\n\n# International Transfer Information Object\n\nThe International Transfer Information object contains details that are specific to international money transfers.\n\n{\n  "quotationReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "quoteId": "123456789",\n  "originCountry": "GB",\n  "deliveryMethod": "personaldelivery",\n  "receivingCountry": "IE",\n  "relationshipSender": "Household",\n  "recipientBlockingReason": "ID card is expired...",\n  "senderBlockingReason": "Address must be provided...",\n  "remittancePurpose": "Commission...",\n  "sendingServiceProviderCountry": "GB"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nINTERNATIONAL TRANSFER INFORMATION OBJECT                                                                                              \nName                                        Type     Description                                                           Reference   Validation\nquotationReference                          string   Reference for the quotation that was provided to the sender.   → O                \n                                                     (refer to Quotations API for more information).                ← O\nquoteId                                     string   The specific quote associated with the quotation (refer to     → O                \n                                                     Quotes object for more information).                           ← O\noriginCountry                               string   The originating country of the transaction, i.e. the country   → M                Enumeration = ISO Country Codes.\n                                                     where the transaction was initiated.                           ← M\ndeliveryMethod                              string   The recipient delivery method as chosen by the sender.         → O                Enumeration = Delivery Method Types\n                                                                                                                    ← O\nreceivingCountry                            string   Destination country of the international transfer.             → O                \n                                                                                                                    ← O\nrelationshipSender                          string   Indicates the relationship (if any) between the sender and     → O                \n                                                     the receiver.                                                  ← O\nrecipientBlockingReason                     string   The reason for blocking the transaction, based on AML checks   → NA               \n                                                     on the recipient.                                              ← O\nsenderBlockingReason                        string   The reason for blocking the transaction, based on AML checks   → NA               \n                                                     on the sender.                                                 ← O\nremittancePurpose                           string   field providing a description of the reason for the            → O                \n                                                     international transfer.                                        ← O\nsendingServiceProviderCountry               string   The country of the sending service provider that holds the     → O                \n                                                     account of the sender.                                         ← O\n\n\n# KYC Information Object\n\nKYC refers to ‘Know your Customer’. The KYC object contains a number of fields that enable the identity of subject to be verified. KYC is typically provided for international transfers for the sending identity and the receiving identity. There are no mandatory KYC object fields.\n\n{\n  "birthCountry": "GB",\n  "dateOfBirth": "2000-11-20",\n  "contactPhone": "+1234567890",\n  "emailAddress": "example@mail.com",\n  "employerName": "Employer LLC",\n  "gender": "m",\n  "idDocument": [\n    {\n      "idType": "passport",\n      "idNumber": "TEST123456"\n    }\n  ],\n  "nationality": "GB",\n  "postalAddress": {\n    "addressLine1": "33 Brow Rd",\n    "addressLine2": "Unit 200",\n    "addressLine3": "Paddock",\n    "city": "Huddersfield",\n    "stateProvince": "West Yorkshire",\n    "postalCode": "HD1 4TP",\n    "country": "GB"\n  },\n  "occupation": "Manager",\n  "subjectName": {\n    "title": "Mr",\n    "firstName": "John",\n    "middleName": "Alan",\n    "lastName": "Doe",\n    "fullName": "John Alan Doe",\n    "nativeName": "John Doe"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME            TYPE     DESCRIPTION                                                     REFERENCE     VALIDATION\nbirthCountry    string   The country of birth of the KYC subject.                    O                 Enumeration = ISO Country Codes\n                                                                                     O\ndateOfBirth     date     Birth date of the KYC subject.                              O                 \n                                                                                     O\ncontactPhone    string   Contact phone number (mobile or landline) of the KYC        O                 Must contain between 6 and 15 consecutive digits\n                         subject.                                                    O                 First character can contain a ‘+’ or digit\n                                                                                                       Can contain spaces.\nemailAddress    string   Email address of the KYC subject.                           O                 \n                                                                                     O\nemployerName    string   Employer name of the KYC subject.                           O                 \n                                                                                     O\ngender          string   Gender of the KYC Object.                                   O                 Length=1, Enumeration = (m)ale, (f)emale, (u)nspecified\n                                                                                     O\nidDocument      array    An array of fields containing the forms of identification   O   Id Document   \n                         that are associated with the subject.                       O\nnationality     string   Nationality of the KYC subject.                             O                 Enumeration = ISO Country Codes\n                                                                                     O\npostalAddress   object   A collection of fields that details the postal address of   O   Address       \n                         the KYC subject.                                            O\noccupation      string   Occupation of the KYC subject.                              O                 \n                                                                                     O\n\n\n# Name Object\n\nThe name object identifies the name details for the subject identity.\n\n{\n  "title": "Mr",\n  "firstName": "John",\n  "middleName": "Alan",\n  "lastName": "Doe",\n  "fullName": "John Alan Doe",\n  "nativeName": "John Doe"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME         TYPE     DESCRIPTION                                                        REFERENCE   VALIDATION\ntitle        string   The given title of the KYC subject, e.g. Mr, Mrs, Dr.          O               \n                                                                                     O\nfirstName    string   First name (also referred to as given name) of the KYC         O               \n                      subject.                                                       O\nmiddleName   string   Middle Name of the KYC subject.                                O               \n                                                                                     O\nlastName     string   Surname (also referred to as last or family name) of the KYC   O               \n                      subject.                                                       O\nfullName     string   The full name of the KYC subject.                              O               \n                                                                                     O\nnativeName   string   The full name expressed as in the native language.             O               \n                                                                                     O\n\n\n# Id Document Object\n\nAs part of KYC information, identification documentation is normally required. The Id Document Object enables documents pertaining to a subject’s identity to be described.\n\n{\n  "idType": "passport",\n  "idNumber": "TEST123456",\n  "issueDate": "2018-11-20",\n  "expiryDate ": "2018-11-20",\n  "issuer": "123456789",\n  "issuerPlace": "London",\n  "issuerCountry": "GB",\n  "otherIdDescription": "Other ID description..."\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                 TYPE     DESCRIPTION                                                        REFERENCE   VALIDATION\nidType               string   Indicates the type of identification for the KYC subject,      M               Enumeration = ID Types\n                              e.g. passport, driving licence etc.                            M\nidNumber             string   Reference pertaining to the type of identification for the     O               \n                              KYC subject.                                                   O\nissueDate            date     Date of issue for the identification document.                 O               \n                                                                                             O\nexpiryDate           date     Date of expiry for the identification document.                O               \n                                                                                             O\nissuer               string   Indicates the organisation/government entity that issued the   O               \n                              ID document.                                                   O\nissuerPlace          string   Place of issue for the identification type.                    O               \n                                                                                             O\nissuerCountry        string   Country where the identification type was issued.              O               Enumeration = ISO Country Codes\n                                                                                             O\notherIdDescription   string   Where an ID Type of ‘otherid’ is specified, a description of   O               \n                              the type of identification can be provided in this field.      O\n\n\n# Address Object\n\nThe address object holds the postal address of the subject. Due to variability of address information in a number of mobile money markets, only country is mandatory.\n\n{\n  "addressLine1": "33 Brow Rd",\n  "addressLine2": "Unit 200",\n  "addressLine3": "Paddock",\n  "city": "Huddersfield",\n  "stateProvince": "West Yorkshire",\n  "postalCode": "HD1 4TP",\n  "country": "GB"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME            TYPE     DESCRIPTION                       REFERENCE   VALIDATION\naddressLine1    string   First line of the address.    O               \n                                                       O\naddressLine2    string   Second line of the address.   O               \n                                                       O\naddressLine3    string   Third line of the address.    O               \n                                                       O\ncity            string   City/Town.                    O               \n                                                       O\nstateProvince   string   State or Province.            O               \n                                                       O\npostalCode      string   Postal Code.                  O               \n                                                       O\ncountry         string   Country                       M               Enumeration = ISO Country Codes\n                                                       M\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                       REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         M               Enumeration = Account Identifiers\n                                                               M\nvalue   string   Provides the account identifier type value.   M               \n                                                               M\n\n\n# Quote Object\n\nQuotations can consist of multiple quotes. The fields for a quote are defined in the object.\n\n{\n  "quoteId": "123456789",\n  "receivingAmount": "123.45",\n  "receivingCurrency": "GBP",\n  "sendingAmount": "123.45",\n  "sendingCurrency": "GBP",\n  "deliveryMethod": "personaldelivery",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "fxRate": "1.0000000000",\n  "quoteExpiryTime": "2017-07-21T17:32:28Z",\n  "receivingServiceProvider": "Receiving FSP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nQUOTE OBJECT                                                                                                               \nName                       Type        Description                                                           Reference     Validation\nquoteId                    string      The unique ID for this quote.                                  → NA                 \n                                                                                                      ← M\nreceivingAmount            string      The total amount as it will be received by the receiving end   → NA                 Please refer to API Fundamentals document for amount\n                                       user.                                                          ← M                  validation rules.\nreceivingCurrency          string      The currency of the quote.                                     → NA                 Enumeration = ISO Currency Codes\n                                                                                                      ← M\nsendingAmount              string      Requested quotation amount as supplied by the sender.          → NA                 Please refer to API Fundamentals document for amount\n                                                                                                      ← M                  validation rules.\nsendingCurrency            string      Currency of the requested quotation amount.                    → NA                 Enumeration = ISO Currency Codes\n                                                                                                      ← M\ndeliveryMethod             string      The delivery method that is applicable to the quotation.       → NA                 Enumeration = Delivery Method\n                                                                                                      ← O\nfees                       array       Returns all fees that are applicable to the quote.             → NA   Fees Object   \n                                                                                                      ← O\nfxRate                     string      The conversion rate applicable between the sending and the     → NA                 Please refer to API Fundamentals document for amount\n                                       receiving currency for the requested transaction.              ← O                  validation rules. Note 10 decimal places supported.\nquoteExpiryTime            date-time   The timestamp when the quote will expire.                      → NA                 \n                                                                                                      ← O\nreceivingServiceProvider   string      The name of the receiving service provider, i.e. the           → NA                 \n                                       provider that the quote is associated with.                    ← O\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                   REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  M               \n                                                                 M\nfeeAmount     string   Defines the amount of the fee.            M               Please refer to API Fundamentals document for amount\n                                                                 M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   M               Enumeration = ISO Currency Codes\n                                                                 M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE          DESCRIPTION\ninttransfer   Transfer of funds to a recipient in another country, either\n              directly to/from a mobile wallet or via an international\n              money transfer provider.\nreversal      Reversal of a prior transaction to return funds to the\n              payer.\n\n\n# ID Types\n\nThe ID Types enumeration contains accepted identification types. Due to the wide international variation in accepted types of identification, a catch-all type of ‘otherid’ is included.\n\nID TYPE                DESCRIPTION\npassport               Payment of bill from a business for goods and/or services.\nnationalregistration   National Registration Number.\nothered                Catch-all for IDs not on the list.\ndrivinglicence         Driving Licence Number.\nsocialsecurity         Social Security Number.\nalienregistration      Alien Registration ID.\nnationalidcard         National Identity Card.\nemployer               Employers Identification.\ntaxid                  Tax Identification Number.\nseniorcitizenscard     Senior Citizens ID Card.\nmarriagecertificate    Marriage Certificate.\nbirthcertificate       Birth Certificate.\nhealthcard             Health Card.\nvotersid               Voters Identification.\nvillageelderletter     Letter of confirmation from village elder.\npancard                Credit/debit card number (Primary Account Number).\nofficialletter         Official letter confirming identity.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.\n\n\n# ISO Country Codes\n\nThe two-character alphabetic code for country as defined by ISO 3166 is to be used for all fields specifying a country or nationality. The full list of codes is maintained by the International Organisation for Standardisation. The list can be obtained via the following website - http://www.iso.org/iso/country_codes.\n\n\n# Delivery Method Types\n\nWhen a customer requests a quotation they are able to specify their preferred method of delivery of the transfer to the recipient. Permitted delivery methods are provided below.\n\nDELIVERY METHOD    DESCRIPTION\ndirecttoaccount    The transfer is to be delivered into the account (wallet) of\n                   the recipient.\nagent              The recipient can visit an agent and get the transferred\n                   funds.\npersonaldelivery   a supplementary service where an authorised person can\n                   deliver the funds, in hand, to the receiving end user.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\ninternational transfers can be created and viewed using transactions apis.\n\nthe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction transaction "1" *-- "0..20" metadata transaction "1" *-- "0..2" kyc information transaction "1" *-- "0..1" international transfer information kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name\n\nfigure 2‑1 transaction uml class diagram\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                              \nname                                         type        description                                                           reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                    \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                     \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers              creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                     debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers              debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                     if creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                     enumeration = transaction types\n                                                         the url)                                                       ← m\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                     \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                    \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                     please refer to api fundamentals document for amount\n                                                                                                                        ← m                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                     enumeration = iso currency codes\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                     \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                     \n                                                         was initiated.                                                 ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                     \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                    \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                    \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                    \n                                                         provider                                                       ← o\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                                     \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                         populate additional transaction fields.                        ← o\n\n\n# reversals api\n\nthe reversals api is used to reverse an international transfer. the originating transaction reference must be provided in the path in order to identify the payment to be reversed. for a partial reversal, the amount needs to be supplied.\n\nfor viewing reversals, the transactions api should be used. for performing a reversal without the original transaction reference, use the transactions api.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram credit party identifier "0..10" --* "" reversal debit party identifier "0..10" --* "" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\nfigure 2‑2 reversal uml class diagram\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                          type        description                                                           reference                        validation\ntransactionreference                          string      unique reference for the transaction. this is returned in      → na                                    \n                                                          the response by api provider.                                  ← m\nrequesting organisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                          to be associated with the transaction.                         ← o\noriginaltransactionreference                  string      for reversals and refunds, this field indicates the            → na                                    \n                                                          transaction which is the subject of the reversal.              ← m\ncreditparty                                   array       a series of key/value pairs that enable the credit party to    → o    account identifiers              \n                                                          be identified. keys include msisdn and wallet identifier.      ← o\ndebitparty                                    array       a collection of key/value pairs that enable the debit party    → o    account identifiers              \n                                                          to be identified. keys include msisdn and wallet identifier.   ← o\ntype                                          string      the harmonised transaction type                                → m                                     enumeration = transaction types note that only reversals and\n                                                                                                                         ← m                                     refunds (adjustments) are supported.\nsubtype                                       string      a non-harmonised sub-classification of the type of             → o                                     \n                                                          transaction. values are not fixed, and usage will vary         ← o\n                                                          according to provider.\ntransactionstatus                             string      indicates the status of the transaction as stored by the api   → na                                    \n                                                          provider.                                                      ← m\namount                                        string      the transaction amount.                                        → o                                     please refer to api fundamentals document for amount\n                                                                                                                         ← o                                     validation rules.\ncurrency                                      string      currency of the transaction amount.                            → o                                     enumeration = iso currency codes\n                                                                                                                         ← o\ndescriptiontext                               string      free format text description of the transaction provided by    → o                                     \n                                                          the client. this can be provided as a reference for the        ← o\n                                                          receiver on a notification sms and on an account statement.\nfees                                          array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                          to the transaction.                                            ← o\ngeocode                                       string      indicates the geographic location from where the transaction   → o                                     \n                                                          was initiated.                                                 ← o\nrequestingorganisation                        object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                         ← o\nservicingidentity                             string      the field is used to identify the servicing identity for       → o                                     \n                                                          transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                            string      transaction receipt number as notified to the parties. this    → na                                    \n                                                          may differ from the transaction reference.                     ← o\ncreationdate                                  date-time   date and time when the transaction was created by the api      → na                                    \n                                                          provider.                                                      ← o\nmodificationdate                              date-time   date and time when the transaction was modified by the api     → na                                    \n                                                          provider.                                                      ← o\nrequestdate                                   date-time   the date and time of the transaction request as supplied by    → o                                     \n                                                          the client.                                                    ← o\ncustomdata                                    string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                          provider specific fields.                                      ← o\nmetadata                                      array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                          populate additional properties that describe administrative    ← o\n                                                          information regarding the transaction.\n\n\n# accounts apis\n\nusing account apis, a sending fsp can:\n\n * view transfers for their account.\n * view their account balance.\n\n# identifying an fsp account\n\ntwo methods are provided for identifying an fsp account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifiertype}/{identifier}.\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3}.\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# account transactions api\n\nan fsp should use this api to return a list of payments against their account. one of the following paths can be used:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram id document "0..10" --* "1" kyc information address "0..1" --* "1" kyc information name "0..1" --* "1" kyc information credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction kyc information "0..2" --* "1" transaction metadata "0..20" --* "1" transaction international transferinformation "0..1" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2‑3 account transaction uml class diagram\n\n\n# account balances api\n\nusing the account balances api, an fsp can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the fsp account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram account balance "1" --* "1" account\n\nfigure 2‑4 account balance uml class diagram\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                           reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    → na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    ← o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                → na               please refer to api fundamentals document for amount\n                                                                                           ← o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        → na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    ← o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    → na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       ← o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       → na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← o                validation rules.\ncurrency           string   currency for all returned balances.                            → na               enumeration = iso currency codes\n                                                                                           ← o\n\n\n# quotations api\n\nthe quotations apis are used by the sending fsp to obtain an international transfer quotation from the receiving fsp. the generated quotation can include any fees that will be levied and will include the forex rate.\n\nwhere a sending fsp is connecting via a hub, the hub can generate and return a quotation containing multiple quotes for multiple potential receiving fsps.\n\nthe following paths are permitted:\n\n * creation of a quotation: post /quotations\n * view a quotation: get /quotations/{quotation reference}\n\n# quotation uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" quotation debit party identifier "1..10" --* "1" quotation metadata "0..20" --* "1" quotation quotation "1" *-- "0..2" kyc information quotation "1" *-- "0..1" quote kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name quote "1" *-- "0..20" fee\n\nfigure 2‑5 quotation uml class diagram\n\n# quotation object definition\n\n{\n  "quotationreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "quotationstatus": "completed",\n  "requestamount": "123.45",\n  "requestcurrency": "gbp",\n  "availabledeliverymethod": "directtoaccount",\n  "chosendeliverymethod": "personaldelivery",\n  "origincountry": "gb",\n  "receivingcountry": "ie",\n  "quotes": [\n    {\n      "quoteid": "123456789",\n      "receivingamount": "123.45",\n      "receivingcurrency": "gbp",\n      "sendingamount": "123.45",\n      "sendingcurrency": "gbp"\n    }\n  ],\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "recipientblockingreason": "no supported currency...",\n  "senderblockingreason": "not enough funds...",\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "sendingserviceprovidercountry": "gb",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nquotation object definition                                                                                                                 \nname                            type        description                                                           reference                 validation\nquotationreference              string      unique reference for the quotation as provided by the api      → na                             \n                                            provider.                                                      ← m\ncreditparty                     array       a series of key/value pairs that enable the credit party to    → m    account identifiers       \n                                            be identified. keys include msisdn and wallet identifier.      ← m\ndebitparty                      array       a collection of key/value pairs that enable the debit party    → m    account identifiers       \n                                            to be identified. keys include msisdn and wallet identifier.   ← m\ntype                            string      the transaction type that the quotation has been requested     → o                              enumeration = transaction types\n                                            for.                                                           ← o\nsubtype                         string      the transaction sub-type that the quotation has been           → o                              \n                                            requested for.                                                 ← o\nquotationstatus                 string      indicates the creation state of the quotation.                 → na                             enumeration = pending, rejected, completed\n                                                                                                           ← o\nrequestamount                   string      requested quotation amount.                                    → m                              please refer to api fundamentals document for amount\n                                                                                                           ← m                              validation rules.\nrequestcurrency                 string      currency of the requested quotation amount.                    → m                              enumeration = iso currency codes\n                                                                                                           ← m\navailabledeliverymethod         string      delivery method that is possible for the intended recipient.   → na                             enumeration = delivery method\n                                                                                                           ← o\nchosendeliverymethod            string      the delivery method chosen by the sending end user as the      → o                              enumeration = delivery method\n                                            specific delivery method to be used in the quotes received.    ← o\norigincountry                   string      the originating country of the quotation request, i.e. the     → o                              \n                                            country where the request was initiated.                       ← o\nreceivingcountry                string      destination country of the quotation request, i.e. the         → o                              \n                                            country that the sender wishes to send to.                     ← o\nquotes                          array       a collection of quotes. a quote can be received from a         → na   quotes                    \n                                            single receiving financial service provider or from multiple   ← o\n                                            providers.\nrecipientkyc                    object      a collection of fields detailing the kyc of the transaction    → o    kyc information           \n                                            recipient, typically used for international transfers.         ← o\nsenderkyc                       object      a collection of fields detailing the kyc of the transaction    → o    kyc information           \n                                            sender, typically used for international transfers.            ← o\nrecipientblockingreason         string      the reason for blocking the quotation, based on aml checks     → na                             \n                                            on the recipient.                                              ← o\nsenderblockingreason            string      the reason for blocking the quotation, based on aml checks     → na                             \n                                            on the sender.                                                 ← o\nrequestingorganisation          object      the originating organisation of the request.                   → na   requesting organisation   \n                                                                                                           ← o\nsendingserviceprovidercountry   string      the country of the sending service provider that holds the     → o                              \n                                            account of the sender.                                         ← o\ncreationdate                    date-time   date and time when the quotation was created by the api        → na                             \n                                            provider.                                                      ← o\nmodificationdate                date-time   date and time when the quotation was modified by the api       → na                             \n                                            provider.                                                      ← o\nrequestdate                     date-time   the date and time of the quotation request as supplied by      → o                              \n                                            the client.                                                    ← o\ncustomdata                      string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                            provider specific fields.                                      ← o\nmetadata                        array       a collection of key/value pairs. these can be used to          → o    metadata                  \n                                            populate additional properties that describe administrative    ← o\n                                            information regarding the quotation.\n\n\n# supporting objects\n\n\n# international transfer information object\n\nthe international transfer information object contains details that are specific to international money transfers.\n\n{\n  "quotationreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "quoteid": "123456789",\n  "origincountry": "gb",\n  "deliverymethod": "personaldelivery",\n  "receivingcountry": "ie",\n  "relationshipsender": "household",\n  "recipientblockingreason": "id card is expired...",\n  "senderblockingreason": "address must be provided...",\n  "remittancepurpose": "commission...",\n  "sendingserviceprovidercountry": "gb"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ninternational transfer information object                                                                                              \nname                                        type     description                                                           reference   validation\nquotationreference                          string   reference for the quotation that was provided to the sender.   → o                \n                                                     (refer to quotations api for more information).                ← o\nquoteid                                     string   the specific quote associated with the quotation (refer to     → o                \n                                                     quotes object for more information).                           ← o\norigincountry                               string   the originating country of the transaction, i.e. the country   → m                enumeration = iso country codes.\n                                                     where the transaction was initiated.                           ← m\ndeliverymethod                              string   the recipient delivery method as chosen by the sender.         → o                enumeration = delivery method types\n                                                                                                                    ← o\nreceivingcountry                            string   destination country of the international transfer.             → o                \n                                                                                                                    ← o\nrelationshipsender                          string   indicates the relationship (if any) between the sender and     → o                \n                                                     the receiver.                                                  ← o\nrecipientblockingreason                     string   the reason for blocking the transaction, based on aml checks   → na               \n                                                     on the recipient.                                              ← o\nsenderblockingreason                        string   the reason for blocking the transaction, based on aml checks   → na               \n                                                     on the sender.                                                 ← o\nremittancepurpose                           string   field providing a description of the reason for the            → o                \n                                                     international transfer.                                        ← o\nsendingserviceprovidercountry               string   the country of the sending service provider that holds the     → o                \n                                                     account of the sender.                                         ← o\n\n\n# kyc information object\n\nkyc refers to ‘know your customer’. the kyc object contains a number of fields that enable the identity of subject to be verified. kyc is typically provided for international transfers for the sending identity and the receiving identity. there are no mandatory kyc object fields.\n\n{\n  "birthcountry": "gb",\n  "dateofbirth": "2000-11-20",\n  "contactphone": "+1234567890",\n  "emailaddress": "example@mail.com",\n  "employername": "employer llc",\n  "gender": "m",\n  "iddocument": [\n    {\n      "idtype": "passport",\n      "idnumber": "test123456"\n    }\n  ],\n  "nationality": "gb",\n  "postaladdress": {\n    "addressline1": "33 brow rd",\n    "addressline2": "unit 200",\n    "addressline3": "paddock",\n    "city": "huddersfield",\n    "stateprovince": "west yorkshire",\n    "postalcode": "hd1 4tp",\n    "country": "gb"\n  },\n  "occupation": "manager",\n  "subjectname": {\n    "title": "mr",\n    "firstname": "john",\n    "middlename": "alan",\n    "lastname": "doe",\n    "fullname": "john alan doe",\n    "nativename": "john doe"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname            type     description                                                     reference     validation\nbirthcountry    string   the country of birth of the kyc subject.                    o                 enumeration = iso country codes\n                                                                                     o\ndateofbirth     date     birth date of the kyc subject.                              o                 \n                                                                                     o\ncontactphone    string   contact phone number (mobile or landline) of the kyc        o                 must contain between 6 and 15 consecutive digits\n                         subject.                                                    o                 first character can contain a ‘+’ or digit\n                                                                                                       can contain spaces.\nemailaddress    string   email address of the kyc subject.                           o                 \n                                                                                     o\nemployername    string   employer name of the kyc subject.                           o                 \n                                                                                     o\ngender          string   gender of the kyc object.                                   o                 length=1, enumeration = (m)ale, (f)emale, (u)nspecified\n                                                                                     o\niddocument      array    an array of fields containing the forms of identification   o   id document   \n                         that are associated with the subject.                       o\nnationality     string   nationality of the kyc subject.                             o                 enumeration = iso country codes\n                                                                                     o\npostaladdress   object   a collection of fields that details the postal address of   o   address       \n                         the kyc subject.                                            o\noccupation      string   occupation of the kyc subject.                              o                 \n                                                                                     o\n\n\n# name object\n\nthe name object identifies the name details for the subject identity.\n\n{\n  "title": "mr",\n  "firstname": "john",\n  "middlename": "alan",\n  "lastname": "doe",\n  "fullname": "john alan doe",\n  "nativename": "john doe"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname         type     description                                                        reference   validation\ntitle        string   the given title of the kyc subject, e.g. mr, mrs, dr.          o               \n                                                                                     o\nfirstname    string   first name (also referred to as given name) of the kyc         o               \n                      subject.                                                       o\nmiddlename   string   middle name of the kyc subject.                                o               \n                                                                                     o\nlastname     string   surname (also referred to as last or family name) of the kyc   o               \n                      subject.                                                       o\nfullname     string   the full name of the kyc subject.                              o               \n                                                                                     o\nnativename   string   the full name expressed as in the native language.             o               \n                                                                                     o\n\n\n# id document object\n\nas part of kyc information, identification documentation is normally required. the id document object enables documents pertaining to a subject’s identity to be described.\n\n{\n  "idtype": "passport",\n  "idnumber": "test123456",\n  "issuedate": "2018-11-20",\n  "expirydate ": "2018-11-20",\n  "issuer": "123456789",\n  "issuerplace": "london",\n  "issuercountry": "gb",\n  "otheriddescription": "other id description..."\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                 type     description                                                        reference   validation\nidtype               string   indicates the type of identification for the kyc subject,      m               enumeration = id types\n                              e.g. passport, driving licence etc.                            m\nidnumber             string   reference pertaining to the type of identification for the     o               \n                              kyc subject.                                                   o\nissuedate            date     date of issue for the identification document.                 o               \n                                                                                             o\nexpirydate           date     date of expiry for the identification document.                o               \n                                                                                             o\nissuer               string   indicates the organisation/government entity that issued the   o               \n                              id document.                                                   o\nissuerplace          string   place of issue for the identification type.                    o               \n                                                                                             o\nissuercountry        string   country where the identification type was issued.              o               enumeration = iso country codes\n                                                                                             o\notheriddescription   string   where an id type of ‘otherid’ is specified, a description of   o               \n                              the type of identification can be provided in this field.      o\n\n\n# address object\n\nthe address object holds the postal address of the subject. due to variability of address information in a number of mobile money markets, only country is mandatory.\n\n{\n  "addressline1": "33 brow rd",\n  "addressline2": "unit 200",\n  "addressline3": "paddock",\n  "city": "huddersfield",\n  "stateprovince": "west yorkshire",\n  "postalcode": "hd1 4tp",\n  "country": "gb"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname            type     description                       reference   validation\naddressline1    string   first line of the address.    o               \n                                                       o\naddressline2    string   second line of the address.   o               \n                                                       o\naddressline3    string   third line of the address.    o               \n                                                       o\ncity            string   city/town.                    o               \n                                                       o\nstateprovince   string   state or province.            o               \n                                                       o\npostalcode      string   postal code.                  o               \n                                                       o\ncountry         string   country                       m               enumeration = iso country codes\n                                                       m\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                       reference   validation\nkey     string   provides the account identifier type.         m               enumeration = account identifiers\n                                                               m\nvalue   string   provides the account identifier type value.   m               \n                                                               m\n\n\n# quote object\n\nquotations can consist of multiple quotes. the fields for a quote are defined in the object.\n\n{\n  "quoteid": "123456789",\n  "receivingamount": "123.45",\n  "receivingcurrency": "gbp",\n  "sendingamount": "123.45",\n  "sendingcurrency": "gbp",\n  "deliverymethod": "personaldelivery",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "fxrate": "1.0000000000",\n  "quoteexpirytime": "2017-07-21t17:32:28z",\n  "receivingserviceprovider": "receiving fsp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nquote object                                                                                                               \nname                       type        description                                                           reference     validation\nquoteid                    string      the unique id for this quote.                                  → na                 \n                                                                                                      ← m\nreceivingamount            string      the total amount as it will be received by the receiving end   → na                 please refer to api fundamentals document for amount\n                                       user.                                                          ← m                  validation rules.\nreceivingcurrency          string      the currency of the quote.                                     → na                 enumeration = iso currency codes\n                                                                                                      ← m\nsendingamount              string      requested quotation amount as supplied by the sender.          → na                 please refer to api fundamentals document for amount\n                                                                                                      ← m                  validation rules.\nsendingcurrency            string      currency of the requested quotation amount.                    → na                 enumeration = iso currency codes\n                                                                                                      ← m\ndeliverymethod             string      the delivery method that is applicable to the quotation.       → na                 enumeration = delivery method\n                                                                                                      ← o\nfees                       array       returns all fees that are applicable to the quote.             → na   fees object   \n                                                                                                      ← o\nfxrate                     string      the conversion rate applicable between the sending and the     → na                 please refer to api fundamentals document for amount\n                                       receiving currency for the requested transaction.              ← o                  validation rules. note 10 decimal places supported.\nquoteexpirytime            date-time   the timestamp when the quote will expire.                      → na                 \n                                                                                                      ← o\nreceivingserviceprovider   string      the name of the receiving service provider, i.e. the           → na                 \n                                       provider that the quote is associated with.                    ← o\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                   reference   validation\nfeetype       string   defines the type of fee.                  m               \n                                                                 m\nfeeamount     string   defines the amount of the fee.            m               please refer to api fundamentals document for amount\n                                                                 m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   m               enumeration = iso currency codes\n                                                                 m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode          description\ninttransfer   transfer of funds to a recipient in another country, either\n              directly to/from a mobile wallet or via an international\n              money transfer provider.\nreversal      reversal of a prior transaction to return funds to the\n              payer.\n\n\n# id types\n\nthe id types enumeration contains accepted identification types. due to the wide international variation in accepted types of identification, a catch-all type of ‘otherid’ is included.\n\nid type                description\npassport               payment of bill from a business for goods and/or services.\nnationalregistration   national registration number.\nothered                catch-all for ids not on the list.\ndrivinglicence         driving licence number.\nsocialsecurity         social security number.\nalienregistration      alien registration id.\nnationalidcard         national identity card.\nemployer               employers identification.\ntaxid                  tax identification number.\nseniorcitizenscard     senior citizens id card.\nmarriagecertificate    marriage certificate.\nbirthcertificate       birth certificate.\nhealthcard             health card.\nvotersid               voters identification.\nvillageelderletter     letter of confirmation from village elder.\npancard                credit/debit card number (primary account number).\nofficialletter         official letter confirming identity.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.\n\n\n# iso country codes\n\nthe two-character alphabetic code for country as defined by iso 3166 is to be used for all fields specifying a country or nationality. the full list of codes is maintained by the international organisation for standardisation. the list can be obtained via the following website - http://www.iso.org/iso/country_codes.\n\n\n# delivery method types\n\nwhen a customer requests a quotation they are able to specify their preferred method of delivery of the transfer to the recipient. permitted delivery methods are provided below.\n\ndelivery method    description\ndirecttoaccount    the transfer is to be delivered into the account (wallet) of\n                   the recipient.\nagent              the recipient can visit an agent and get the transferred\n                   funds.\npersonaldelivery   a supplementary service where an authorised person can\n                   deliver the funds, in hand, to the receiving end user.',charsets:{}},{title:"Disbursements - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"Disbursements - Use Case Scenarios"},regularPath:"/use-cases/disbursements/scenarios/scenarios.html",relativePath:"use-cases/disbursements/scenarios/scenarios.md",key:"v-30ac8ad0",path:"/use-cases/disbursements/scenarios/scenarios.html",headers:[{level:2,title:"Individual Disbursement",slug:"individual-disbursement",normalizedTitle:"individual disbursement",charIndex:599},{level:2,title:"Individual Disbursement Failure",slug:"individual-disbursement-failure",normalizedTitle:"individual disbursement failure",charIndex:2454},{level:2,title:"Bulk Disbursement",slug:"bulk-disbursement",normalizedTitle:"bulk disbursement",charIndex:4206},{level:2,title:"Bulk Disbursement Failure",slug:"bulk-disbursement-failure",normalizedTitle:"bulk disbursement failure",charIndex:8219},{level:2,title:"Bulk Disbursement with Maker / Checker",slug:"bulk-disbursement-with-maker-checker",normalizedTitle:"bulk disbursement with maker / checker",charIndex:10741},{level:2,title:"Individual Disbursement Using the Polling Method",slug:"individual-disbursement-using-the-polling-method",normalizedTitle:"individual disbursement using the polling method",charIndex:14780},{level:2,title:"Disbursement Reversal",slug:"disbursement-reversal",normalizedTitle:"disbursement reversal",charIndex:17374},{level:2,title:"Obtain a Disbursement Organisation Balance",slug:"obtain-a-disbursement-organisation-balance",normalizedTitle:"obtain a disbursement organisation balance",charIndex:19100},{level:2,title:"Retrieve Transactions for a Disbursement Organisation",slug:"retrieve-transactions-for-a-disbursement-organisation",normalizedTitle:"retrieve transactions for a disbursement organisation",charIndex:19820},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:21413},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:22407}],headersStr:"Individual Disbursement Individual Disbursement Failure Bulk Disbursement Bulk Disbursement Failure Bulk Disbursement with Maker / Checker Individual Disbursement Using the Polling Method Disbursement Reversal Obtain a Disbursement Organisation Balance Retrieve Transactions for a Disbursement Organisation Check for Service Availability Retrieve a Missing API Response",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# Individual Disbursement\n\nThis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/disbursement\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Individual Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/disbursement\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider\n\n\n# Bulk Disbursement\n\nThis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../batchtransactions\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchTitle": "Batch_Test",\n    "batchDescription": "Testing a Batch",\n    "scheduledStartDate": "2017-07-21T17:32:28Z"\n}\n\n\n \n\n\nGET .../batchtransactions/Place your Batch Id here/completions\n\n\n \n\n\nGET .../batchtransactions/Place your Batch Id here/rejections\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider opt Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (3) The disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Transactions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (4) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Completions Object) Disbursement Organisation->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (5) The disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Bulk Disbursement Failure\n\nIn this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../batchtransactions\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditParty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "RWF",\n            "debitParty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchTitle": "Batch_Test",\n    "batchDescription": "Testing a Batch",\n    "scheduledStartDate": "2017-07-21T17:32:28Z"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Error Object) activate Disbursement Organisation Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider\n\n\n# Bulk Disbursement with Maker / Checker\n\nThis flow allows a bulk request to be processed in two steps. The first step involves the ‘maker’ system loading the request into the mobile money provider. The second step involves the ‘checker’ system approving the request.\n\nsequenceDiagram participant Disbursement Organisation Maker participant Disbursement Organisation Checker participant Mobile Money Provider Disbursement Organisation Maker->>Mobile Money Provider: POST /batchtransactions activate Disbursement Organisation Maker activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation maker submits the batch of\ntransactions for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the batch\nrequest is \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Maker Mobile Money Provider->>Disbursement Organisation Maker: PUT {Callback URL} (Batch Transactions Object) activate Disbursement Organisation Maker Note right of Mobile Money Provider: (2) The MMP informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Maker--\x3e>Mobile Money Provider: HTTP 204 opt Disbursement Organisation Maker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (3) The disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Maker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Maker deactivate Mobile Money Provider Disbursement Organisation Checker->>Mobile Money Provider: PATCH /batchtransactions/{batchId} activate Disbursement Organisation Checker activate Mobile Money Provider Note right of Mobile Money Provider: (4) The disbursement organisation checker submits a request\nto approve the transaction batch. The MMP will return the\nRequest State object to indicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 202 (Request State Object) deactivate Disbursement Organisation Checker Mobile Money Provider->>Disbursement Organisation Checker: PUT {Callback URL} (Success) activate Disbursement Organisation Checker Note right of Mobile Money Provider: (5) The MMP informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. Disbursement Organisation Checker--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider deactivate Disbursement Organisation Checker opt activate Mobile Money Provider activate Disbursement Organisation Checker Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId} Note right of Mobile Money Provider: (6) The disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Transactions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/completions Note right of Mobile Money Provider: (7) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Completions Object) Disbursement Organisation Checker->>Mobile Money Provider: GET /batchtransactions/{batchId}/rejections Note right of Mobile Money Provider: (8) The disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. Mobile Money Provider--\x3e>Disbursement Organisation Checker: HTTP 200 (Batch Rejections Object) end deactivate Disbursement Organisation Checker deactivate Mobile Money Provider\n\n\n# Individual Disbursement Using the Polling Method\n\nIn this diagram, an asynchronous flow is used with the polling method. The client polls against the request state object to determine the outcome of the individual disbursement request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/disbursement\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n \n\n\nGET .../requeststates/Place the Server Correlation Id here\n\n\n \n\n\nGET .../transactions/Place Transaction Reference here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/type/disbursement activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) deactivate Disbursement Organisation loop activate Disbursement Organisation Disbursement Organisation->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The disbursement organisation polls the MMP for the\nRequest State until the transaction is authorised or declied\nor until the polling limit is reached. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The disbursement organisation can use the objectReference\nreturned in the Request State to retrieve a representation of\nthe completed disbursement. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Object) end deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Disbursement Reversal\n\nIn some failure scenarios, a organisation may need to reverse an individual disbursement transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation submits the reversal\nrequest for processing to the MMP - passing the reference\nof the transaction that is to be reversed. The MMP will\nreturn the Request State object to indicate that the request\nis \'pending\'. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 202 (Request State Object) Mobile Money Provider->>Disbursement Organisation: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the The disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. Disbursement Organisation--\x3e>Mobile Money Provider: HTTP 204 deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain a Disbursement Organisation Balance\n\n \n\n\nPOST .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Balance Object) deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Transactions for a Disbursement Organisation\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams: \n{\n    "offset": 0,\n    "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement\norganisation requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Disbursement Organisation->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The disbursement\norganisation requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.sts.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /heartbeat activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) The disbursement organisation requests\nthe availability of the service from the MMP. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Disbursement Organisation participant Mobile Money Provider Disbursement Organisation->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Disbursement Organisation activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the disbursement organisations\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Disbursement Organisation->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. Mobile Money Provider--\x3e>Disbursement Organisation: HTTP 200 (Requested Object) deactivate Disbursement Organisation deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# individual disbursement\n\nthis diagram illustrates an individual disbursement using an asynchronous flow with the notification provided via a callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/disbursement\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has been\nsuccessfully completed by returning the final\nrepresentation of the transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# individual disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/disbursement\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement\norganisation that the disbursement has failed\nand returns the error object datailing the\nreason for failure. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider\n\n\n# bulk disbursement\n\nthis diagram illustrates the flow for a ‘one-shot’ bulk disbursement.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../batchtransactions\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchtitle": "batch_test",\n    "batchdescription": "testing a batch",\n    "scheduledstartdate": "2017-07-21t17:32:28z"\n}\n\n\n \n\n\nget .../batchtransactions/place your batch id here/completions\n\n\n \n\n\nget .../batchtransactions/place your batch id here/rejections\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is \'pending\'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (batch transactions object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has been processed by returning the\nrepresentation of the batch. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider opt disbursement organisation->>mobile money provider: get /batchtransactions/{batchid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (3) the disbursement organisation can optionally retrieve a\nrepresentation of the batch transactions object that will\nconfirm the overall success of the approval request. mobile money provider--\x3e>disbursement organisation: http 200 (batch transactions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (4) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\ncompleted. mobile money provider--\x3e>disbursement organisation: http 200 (batch completions object) disbursement organisation->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (5) the disbursement organisation can optionally request\ndetails of all transactions in the batch that have been\nrejected. mobile money provider--\x3e>disbursement organisation: http 200 (batch rejections object) end deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# bulk disbursement failure\n\nin this example, an asynchronous flow is used with a final callback that contains the reason for failure to process the bulk request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../batchtransactions\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "transactions": [\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ]\n        },\n        {\n            "amount": "200.00",\n            "type": "transfer",\n            "creditparty": [\n                {\n                    "key": "accountid",\n                    "value": "2999"\n                }\n            ],\n            "currency": "rwf",\n            "debitparty": [\n                {\n                    "key": "accountid",\n                    "value": "2000"\n                }\n            ]\n        }        \n    ],\n    "batchtitle": "batch_test",\n    "batchdescription": "testing a batch",\n    "scheduledstartdate": "2017-07-21t17:32:28z"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /batchtransactions activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is \'pending\'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation mobile money provider->>disbursement organisation: put {callback url} (error object) activate disbursement organisation note right of mobile money provider: (2) the mmp informs the disbursement organisation that\nthe request has failed by returning the representation of\nthe error object. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider\n\n\n# bulk disbursement with maker / checker\n\nthis flow allows a bulk request to be processed in two steps. the first step involves the ‘maker’ system loading the request into the mobile money provider. the second step involves the ‘checker’ system approving the request.\n\nsequencediagram participant disbursement organisation maker participant disbursement organisation checker participant mobile money provider disbursement organisation maker->>mobile money provider: post /batchtransactions activate disbursement organisation maker activate mobile money provider note right of mobile money provider: (1) the disbursement organisation maker submits the batch of\ntransactions for processing to the mmp. the mmp will\nreturn the request state object to indicate that the batch\nrequest is \'pending\'. mobile money provider--\x3e>disbursement organisation maker: http 202 (request state object) deactivate disbursement organisation maker mobile money provider->>disbursement organisation maker: put {callback url} (batch transactions object) activate disbursement organisation maker note right of mobile money provider: (2) the mmp informs the disbursement organisation maker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation maker--\x3e>mobile money provider: http 204 opt disbursement organisation maker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (3) the disbursement organisation maker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation maker: http 200 (batch rejections object) end deactivate disbursement organisation maker deactivate mobile money provider disbursement organisation checker->>mobile money provider: patch /batchtransactions/{batchid} activate disbursement organisation checker activate mobile money provider note right of mobile money provider: (4) the disbursement organisation checker submits a request\nto approve the transaction batch. the mmp will return the\nrequest state object to indicate that the request is\n\'pending\'. mobile money provider--\x3e>disbursement organisation checker: http 202 (request state object) deactivate disbursement organisation checker mobile money provider->>disbursement organisation checker: put {callback url} (success) activate disbursement organisation checker note right of mobile money provider: (5) the mmp informs the disbursement organisation checker\nthat the request has been processed by returning the\nrepresentation of the batch. disbursement organisation checker--\x3e>mobile money provider: http 204 deactivate mobile money provider deactivate disbursement organisation checker opt activate mobile money provider activate disbursement organisation checker disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid} note right of mobile money provider: (6) the disbursement organisation checker can optionally\nretrieve a representation of the batch transactions object\nthat will confirm the overall success of the approval\nrequest. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch transactions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/completions note right of mobile money provider: (7) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen completed. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch completions object) disbursement organisation checker->>mobile money provider: get /batchtransactions/{batchid}/rejections note right of mobile money provider: (8) the disbursement organisation checker can optionally\nrequest details of all transactions in the batch that have\nbeen rejected. mobile money provider--\x3e>disbursement organisation checker: http 200 (batch rejections object) end deactivate disbursement organisation checker deactivate mobile money provider\n\n\n# individual disbursement using the polling method\n\nin this diagram, an asynchronous flow is used with the polling method. the client polls against the request state object to determine the outcome of the individual disbursement request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/disbursement\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n \n\n\nget .../requeststates/place the server correlation id here\n\n\n \n\n\nget .../transactions/place transaction reference here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/type/disbursement activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) deactivate disbursement organisation loop activate disbursement organisation disbursement organisation->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the disbursement organisation polls the mmp for the\nrequest state until the transaction is authorised or declied\nor until the polling limit is reached. mobile money provider--\x3e>disbursement organisation: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider disbursement organisation->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the disbursement organisation can use the objectreference\nreturned in the request state to retrieve a representation of\nthe completed disbursement. mobile money provider--\x3e>disbursement organisation: http 200 (transactions object) end deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# disbursement reversal\n\nin some failure scenarios, a organisation may need to reverse an individual disbursement transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: post /transactions/{original transaction reference}/reversals activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation submits the reversal\nrequest for processing to the mmp - passing the reference\nof the transaction that is to be reversed. the mmp will\nreturn the request state object to indicate that the request\nis \'pending\'. mobile money provider--\x3e>disbursement organisation: http 202 (request state object) mobile money provider->>disbursement organisation: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the the disbursement\norganisation that the reversal has been\nsuccessfully completed by returning the final\nrepresentation of the reversal transaction. disbursement organisation--\x3e>mobile money provider: http 204 deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# obtain a disbursement organisation balance\n\n \n\n\npost .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>disbursement organisation: http 200 (balance object) deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve transactions for a disbursement organisation\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a disbursement organisation via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams: \n{\n    "offset": 0,\n    "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement\norganisation requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. disbursement organisation->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the disbursement\norganisation requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (transactions array) (x-records-available-count=40) deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.sts.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /heartbeat activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) the disbursement organisation requests\nthe availability of the service from the mmp. mobile money provider--\x3e>disbursement organisation: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the disbursement organisation to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant disbursement organisation participant mobile money provider disbursement organisation->>mobile money provider: get /responses{clientcorrelationid} activate disbursement organisation activate mobile money provider note right of mobile money provider: (1) using the disbursement organisations\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>disbursement organisation: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. disbursement organisation->>mobile money provider: get /{link} note right of mobile money provider: (3) the disbursement organisation uses\nthe link to obtain a representation of\nthe missing resource. mobile money provider--\x3e>disbursement organisation: http 200 (requested object) deactivate disbursement organisation deactivate mobile money provider\nopen postman collection open postman collection with authentication',charsets:{}},{title:"International Transfers - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"International Transfers - Open OAS UI"},regularPath:"/use-cases/international-transfers/international-transfers-open-oas-ui.html",relativePath:"use-cases/international-transfers/international-transfers-open-oas-ui.md",key:"v-53ba34b8",path:"/use-cases/international-transfers/international-transfers-open-oas-ui.html",headers:[{level:2,title:"International Transfers - Open OAS UI",slug:"international-transfers-open-oas-ui",normalizedTitle:"international transfers - open oas ui",charIndex:0}],headersStr:"International Transfers - Open OAS UI",content:"# International Transfers - Open OAS UI",normalizedContent:"# international transfers - open oas ui",charsets:{}},{title:"International Transfers",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"International Transfers"},regularPath:"/use-cases/international-transfers/",relativePath:"use-cases/international-transfers/index.md",key:"v-28c6e45e",path:"/use-cases/international-transfers/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:514}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nThe International Transfer Mobile Money APIs allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                                       USAGE                                                       ROLE\nFSP - Mobile Money Providers                   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive International transfers from other FSPs.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international transfers to other FSPs.\nFSP – International Remittance Organisations   - To understand how to implement the Mobile Money API to    API Provider\n                                               receive international remittances from Mobile Money\n                                               Providers.\n                                               - To understand how to implement the Mobile Money API to    API Consumer\n                                               send international remittances to Mobile Money Providers.\nInternational Transfer Hubs                    - To understand how to implement the Mobile Money APIs to   API Provider\n                                               receive international transfers from FSPs.\n                                               - To understand how to implement the Mobile Money APIs to   API Consumer\n                                               send international transfers to FSPs.",normalizedContent:"# introduction\n\nthe international transfer mobile money apis allow financial service providers to perform cross-border mobile money transfers, including remittances.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                                       usage                                                       role\nfsp - mobile money providers                   - to understand how to implement the mobile money api to    api provider\n                                               receive international transfers from other fsps.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international transfers to other fsps.\nfsp – international remittance organisations   - to understand how to implement the mobile money api to    api provider\n                                               receive international remittances from mobile money\n                                               providers.\n                                               - to understand how to implement the mobile money api to    api consumer\n                                               send international remittances to mobile money providers.\ninternational transfer hubs                    - to understand how to implement the mobile money apis to   api provider\n                                               receive international transfers from fsps.\n                                               - to understand how to implement the mobile money apis to   api consumer\n                                               send international transfers to fsps.",charsets:{}},{title:"International Transfers - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"International Transfers - Use Case Scenarios"},regularPath:"/use-cases/international-transfers/scenarios/scenarios.html",relativePath:"use-cases/international-transfers/scenarios/scenarios.md",key:"v-413ebbb8",path:"/use-cases/international-transfers/scenarios/scenarios.html",headers:[{level:2,title:"International Transfer via Hub",slug:"international-transfer-via-hub",normalizedTitle:"international transfer via hub",charIndex:599},{level:2,title:"Bilateral International Transfer",slug:"bilateral-international-transfer",normalizedTitle:"bilateral international transfer",charIndex:8025},{level:2,title:"International Transfer Failure",slug:"international-transfer-failure",normalizedTitle:"international transfer failure",charIndex:14358},{level:2,title:"International Transfer Reversal",slug:"international-transfer-reversal",normalizedTitle:"international transfer reversal",charIndex:16089},{level:2,title:"Obtain an FSP Balance",slug:"obtain-an-fsp-balance",normalizedTitle:"obtain an fsp balance",charIndex:17612},{level:2,title:"Retrieve Transactions for an FSP",slug:"retrieve-transactions-for-an-fsp",normalizedTitle:"retrieve transactions for an fsp",charIndex:18219},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:19599},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:20451}],headersStr:"International Transfer via Hub Bilateral International Transfer International Transfer Failure International Transfer Reversal Obtain an FSP Balance Retrieve Transactions for an FSP Check for Service Availability Retrieve a Missing API Response",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# International Transfer via Hub\n\nIn this diagram, a hub is used by the sending FSP to obtain a quotation and perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return the quotation and the confirmation of the transfer.\n\nThis flow can also be used for bilateral international transfers.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../quotations\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestAmount": "75.30",\n    "requestCurrency": "RWF",\n  "requestDate": "2017-07-21T17:32:28Z",\n    "type": "inttransfer",\n    "subType": "abc",\n    "chosenDeliveryMethod": "agent",\n    "senderKyc": {\n        "nationality": "GB",\n        "dateOfBirth": "2000-11-20",\n        "occupation": "Manager",\n        "employerName": "MFX",\n        "contactPhone": "+447125588999",\n        "gender": "m",\n        "emailAddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthCountry": "GB",\n        "idDocument": [\n            {\n                "idType": "nationalidcard",\n                "idNumber": "1234567",\n                "issueDate": "2018-11-20",\n                "expiryDate": "2018-11-20",\n                "issuer": "UKPA",\n                "issuerPlace": "GB",\n                "issuerCountry": "GB",\n                "otherIdDescription": "test"\n            }\n        ],\n        "postalAddress": {\n            "country": "GB",\n            "addressLine1": "111 ABC Street",\n            "city": "New York",\n            "stateProvince": "New York",\n            "postalCode": "ABCD"\n        },\n        "subjectName": {\n            "title": "Mr",\n            "firstName": "Luke",\n            "middleName": "R",\n            "lastName": "Skywalker",\n            "fullName": "Luke R Skywalker",\n            "nativeName": "ABC"\n        }        \n    },    \n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],    \n  "sendingServiceProviderCountry": "AD",\n  "originCountry": "AD",\n  "receivingCountry": "AD"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/inttransfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "100.00",\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "GBP",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationalTransferInformation": {\n        "originCountry": "GB",\n        "quotationReference": "{{quotationReference}}",\n        "quoteId": "{{quoteId}}",\n        "receivingCountry": "RW",\n        "remittancePurpose": "personal",\n        "relationshipSender": "none",\n        "deliveryMethod": "agent",\n        "sendingServiceProviderCountry": "AD"           \n   },    \n    "senderKyc": {\n        "nationality": "GB",\n        "dateOfBirth": "2000-11-20",\n        "occupation": "Manager",\n        "employerName": "MFX",\n        "contactPhone": "+447125588999",\n        "gender": "m",\n        "emailAddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthCountry": "GB",\n        "idDocument": [\n            {\n                "idType": "nationalidcard",\n                "idNumber": "1234567",\n                "issueDate": "2018-11-20",\n                "expiryDate": "2018-11-20",\n                "issuer": "UKPA",\n                "issuerPlace": "GB",\n                "issuerCountry": "GB",\n                "otherIdDescription": "test"\n            }\n        ],\n        "postalAddress": {\n            "country": "GB",\n            "addressLine1": "111 ABC Street",\n            "city": "New York",\n            "stateProvince": "New York",\n            "postalCode": "ABCD"\n        },\n        "subjectName": {\n            "title": "Mr",\n            "firstName": "Luke",\n            "middleName": "R",\n            "lastName": "Skywalker",\n            "fullName": "Luke R Skywalker",\n            "nativeName": "ABC"\n        }        \n     },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "testorganisation"\n  }\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant International Transfer Hub participant Receiving FSP Sending FSP->>International Transfer Hub: POST /quotations activate Sending FSP activate International Transfer Hub activate Receiving FSP Note right of International Transfer Hub: (1) The Sending FSP submits a quotation request to\nthe International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request\nis \'pending\'. International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of International Transfer Hub: (2) The Hub returns the quotation to the Sending FSP. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP Sending FSP->>International Transfer Hub: POST /transactions/type/inttransfer activate International Transfer Hub activate Sending FSP activate Receiving FSP Note right of International Transfer Hub: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the International Remittance Hub. The Hub will return the\nRequest State object to indicate that the request is \'pending\'. International Transfer Hub->>Receiving FSP: POST /transactions/type/inttransfer Note right of Receiving FSP: (4) The Hub in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the\nRequest State object to indicate that the request is\n\'pending\'. Receiving FSP--\x3e>International Transfer Hub: HTTP 202 (Request State Object) International Transfer Hub--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate International Transfer Hub deactivate Sending FSP Receiving FSP->>International Transfer Hub: PUT {Callback URL} (Transactions Object) activate International Transfer Hub activate Sending FSP Note right of Receiving FSP: (5) The FSP informs the Hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. International Transfer Hub--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP International Transfer Hub->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of International Transfer Hub: (6) The Hub in turn informs the Sending FSP that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. Sending FSP--\x3e>International Transfer Hub: HTTP 204 deactivate International Transfer Hub deactivate Sending FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Bilateral International Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to obtain a quotation and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../quotations\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestAmount": "75.30",\n    "requestCurrency": "RWF",\n  "requestDate": "2017-07-21T17:32:28Z",\n    "type": "inttransfer",\n    "subType": "abc",\n    "chosenDeliveryMethod": "agent",\n    "senderKyc": {\n        "nationality": "GB",\n        "dateOfBirth": "2000-11-20",\n        "occupation": "Manager",\n        "employerName": "MFX",\n        "contactPhone": "+447125588999",\n        "gender": "m",\n        "emailAddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthCountry": "GB",\n        "idDocument": [\n            {\n                "idType": "nationalidcard",\n                "idNumber": "1234567",\n                "issueDate": "2018-11-20",\n                "expiryDate": "2018-11-20",\n                "issuer": "UKPA",\n                "issuerPlace": "GB",\n                "issuerCountry": "GB",\n                "otherIdDescription": "test"\n            }\n        ],\n        "postalAddress": {\n            "country": "GB",\n            "addressLine1": "111 ABC Street",\n            "city": "New York",\n            "stateProvince": "New York",\n            "postalCode": "ABCD"\n        },\n        "subjectName": {\n            "title": "Mr",\n            "firstName": "Luke",\n            "middleName": "R",\n            "lastName": "Skywalker",\n            "fullName": "Luke R Skywalker",\n            "nativeName": "ABC"\n        }        \n    },    \n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],    \n  "sendingServiceProviderCountry": "AD",\n  "originCountry": "AD",\n  "receivingCountry": "AD"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/inttransfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "100.00",\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "GBP",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationalTransferInformation": {\n        "originCountry": "GB",\n        "quotationReference": "{{quotationReference}}",\n        "quoteId": "{{quoteId}}",\n        "receivingCountry": "RW",\n        "remittancePurpose": "personal",\n        "relationshipSender": "none",\n        "deliveryMethod": "agent",\n        "sendingServiceProviderCountry": "AD"           \n   },    \n    "senderKyc": {\n        "nationality": "GB",\n        "dateOfBirth": "2000-11-20",\n        "occupation": "Manager",\n        "employerName": "MFX",\n        "contactPhone": "+447125588999",\n        "gender": "m",\n        "emailAddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthCountry": "GB",\n        "idDocument": [\n            {\n                "idType": "nationalidcard",\n                "idNumber": "1234567",\n                "issueDate": "2018-11-20",\n                "expiryDate": "2018-11-20",\n                "issuer": "UKPA",\n                "issuerPlace": "GB",\n                "issuerCountry": "GB",\n                "otherIdDescription": "test"\n            }\n        ],\n        "postalAddress": {\n            "country": "GB",\n            "addressLine1": "111 ABC Street",\n            "city": "New York",\n            "stateProvince": "New York",\n            "postalCode": "ABCD"\n        },\n        "subjectName": {\n            "title": "Mr",\n            "firstName": "Luke",\n            "middleName": "R",\n            "lastName": "Skywalker",\n            "fullName": "Luke R Skywalker",\n            "nativeName": "ABC"\n        }        \n     },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "testorganisation"\n  }\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is \'pending\'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is \'pending\'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transactions Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# International Transfer Failure\n\nThe failure of a transfer is reflected by the return of an error object in the callback from the receiving FSP. The same pattern would also apply to a quotation failure.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /quotations activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits a quotation request to the\nReceiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is \'pending\'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Quotations Object) activate Sending FSP Note right of Receiving FSP: (2) The Receiving FSP returns the quotation to the Sending\nFSP. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/inttransfer activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) Subject to sender confirmation, the Sending FSP submits a transaction\nrequest to the Receiving FSP. The Receiving FSP will return the Request\nState object to indicate that the request is \'pending\'. Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (4) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP\n\n\n# International Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to be reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is "pending". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain an FSP Balance\n\n \n\n\nGET .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/balance activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Obtain the balance of the\nReceiving FSP\'s account with\nthe Sending FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Balance Object) deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending FSP via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests up to 20\ntransactions for their account from\nthe Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Receiving FSP: (2) The Receiving FSP returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Receiving FSP: (3) The Sending FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /heartbeat activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP requests the\navailability of the service from the\nReceiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Heartbeat Object) Note right of Receiving FSP: (2) The Receiving FSP returns the\navailability of the service - available,\nunavailable or degraded. deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP\'s\nclientCorrelationId, a request for the\nmissing API response is sent. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# international transfer via hub\n\nin this diagram, a hub is used by the sending fsp to obtain a quotation and perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return the quotation and the confirmation of the transfer.\n\nthis flow can also be used for bilateral international transfers.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../quotations\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestamount": "75.30",\n    "requestcurrency": "rwf",\n  "requestdate": "2017-07-21t17:32:28z",\n    "type": "inttransfer",\n    "subtype": "abc",\n    "chosendeliverymethod": "agent",\n    "senderkyc": {\n        "nationality": "gb",\n        "dateofbirth": "2000-11-20",\n        "occupation": "manager",\n        "employername": "mfx",\n        "contactphone": "+447125588999",\n        "gender": "m",\n        "emailaddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthcountry": "gb",\n        "iddocument": [\n            {\n                "idtype": "nationalidcard",\n                "idnumber": "1234567",\n                "issuedate": "2018-11-20",\n                "expirydate": "2018-11-20",\n                "issuer": "ukpa",\n                "issuerplace": "gb",\n                "issuercountry": "gb",\n                "otheriddescription": "test"\n            }\n        ],\n        "postaladdress": {\n            "country": "gb",\n            "addressline1": "111 abc street",\n            "city": "new york",\n            "stateprovince": "new york",\n            "postalcode": "abcd"\n        },\n        "subjectname": {\n            "title": "mr",\n            "firstname": "luke",\n            "middlename": "r",\n            "lastname": "skywalker",\n            "fullname": "luke r skywalker",\n            "nativename": "abc"\n        }        \n    },    \n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],    \n  "sendingserviceprovidercountry": "ad",\n  "origincountry": "ad",\n  "receivingcountry": "ad"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/inttransfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "100.00",\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "gbp",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationaltransferinformation": {\n        "origincountry": "gb",\n        "quotationreference": "{{quotationreference}}",\n        "quoteid": "{{quoteid}}",\n        "receivingcountry": "rw",\n        "remittancepurpose": "personal",\n        "relationshipsender": "none",\n        "deliverymethod": "agent",\n        "sendingserviceprovidercountry": "ad"           \n   },    \n    "senderkyc": {\n        "nationality": "gb",\n        "dateofbirth": "2000-11-20",\n        "occupation": "manager",\n        "employername": "mfx",\n        "contactphone": "+447125588999",\n        "gender": "m",\n        "emailaddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthcountry": "gb",\n        "iddocument": [\n            {\n                "idtype": "nationalidcard",\n                "idnumber": "1234567",\n                "issuedate": "2018-11-20",\n                "expirydate": "2018-11-20",\n                "issuer": "ukpa",\n                "issuerplace": "gb",\n                "issuercountry": "gb",\n                "otheriddescription": "test"\n            }\n        ],\n        "postaladdress": {\n            "country": "gb",\n            "addressline1": "111 abc street",\n            "city": "new york",\n            "stateprovince": "new york",\n            "postalcode": "abcd"\n        },\n        "subjectname": {\n            "title": "mr",\n            "firstname": "luke",\n            "middlename": "r",\n            "lastname": "skywalker",\n            "fullname": "luke r skywalker",\n            "nativename": "abc"\n        }        \n     },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "testorganisation"\n  }\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant international transfer hub participant receiving fsp sending fsp->>international transfer hub: post /quotations activate sending fsp activate international transfer hub activate receiving fsp note right of international transfer hub: (1) the sending fsp submits a quotation request to\nthe international remittance hub. the hub will return the\nrequest state object to indicate that the request\nis \'pending\'. international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp international transfer hub->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of international transfer hub: (2) the hub returns the quotation to the sending fsp. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp sending fsp->>international transfer hub: post /transactions/type/inttransfer activate international transfer hub activate sending fsp activate receiving fsp note right of international transfer hub: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the international remittance hub. the hub will return the\nrequest state object to indicate that the request is \'pending\'. international transfer hub->>receiving fsp: post /transactions/type/inttransfer note right of receiving fsp: (4) the hub in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the\nrequest state object to indicate that the request is\n\'pending\'. receiving fsp--\x3e>international transfer hub: http 202 (request state object) international transfer hub--\x3e>sending fsp: http 202 (request state object) deactivate international transfer hub deactivate sending fsp receiving fsp->>international transfer hub: put {callback url} (transactions object) activate international transfer hub activate sending fsp note right of receiving fsp: (5) the fsp informs the hub that the transaction\nhas been successfully completed by returning\nthe final representation of the transaction. international transfer hub--\x3e>receiving fsp: http 204 deactivate receiving fsp international transfer hub->>sending fsp: put {callback url} (transactions object) note right of international transfer hub: (6) the hub in turn informs the sending fsp that the\ntransaction has been successfully completed\nby returning the final representation of the transaction. sending fsp--\x3e>international transfer hub: http 204 deactivate international transfer hub deactivate sending fsp\nopen postman collection open postman collection with authentication\n\n\n# bilateral international transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to obtain a quotation and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../quotations\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestamount": "75.30",\n    "requestcurrency": "rwf",\n  "requestdate": "2017-07-21t17:32:28z",\n    "type": "inttransfer",\n    "subtype": "abc",\n    "chosendeliverymethod": "agent",\n    "senderkyc": {\n        "nationality": "gb",\n        "dateofbirth": "2000-11-20",\n        "occupation": "manager",\n        "employername": "mfx",\n        "contactphone": "+447125588999",\n        "gender": "m",\n        "emailaddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthcountry": "gb",\n        "iddocument": [\n            {\n                "idtype": "nationalidcard",\n                "idnumber": "1234567",\n                "issuedate": "2018-11-20",\n                "expirydate": "2018-11-20",\n                "issuer": "ukpa",\n                "issuerplace": "gb",\n                "issuercountry": "gb",\n                "otheriddescription": "test"\n            }\n        ],\n        "postaladdress": {\n            "country": "gb",\n            "addressline1": "111 abc street",\n            "city": "new york",\n            "stateprovince": "new york",\n            "postalcode": "abcd"\n        },\n        "subjectname": {\n            "title": "mr",\n            "firstname": "luke",\n            "middlename": "r",\n            "lastname": "skywalker",\n            "fullname": "luke r skywalker",\n            "nativename": "abc"\n        }        \n    },    \n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ],    \n  "sendingserviceprovidercountry": "ad",\n  "origincountry": "ad",\n  "receivingcountry": "ad"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/inttransfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "100.00",\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "gbp",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationaltransferinformation": {\n        "origincountry": "gb",\n        "quotationreference": "{{quotationreference}}",\n        "quoteid": "{{quoteid}}",\n        "receivingcountry": "rw",\n        "remittancepurpose": "personal",\n        "relationshipsender": "none",\n        "deliverymethod": "agent",\n        "sendingserviceprovidercountry": "ad"           \n   },    \n    "senderkyc": {\n        "nationality": "gb",\n        "dateofbirth": "2000-11-20",\n        "occupation": "manager",\n        "employername": "mfx",\n        "contactphone": "+447125588999",\n        "gender": "m",\n        "emailaddress": "luke.skywalkeraaabbb@gmail.com",\n        "birthcountry": "gb",\n        "iddocument": [\n            {\n                "idtype": "nationalidcard",\n                "idnumber": "1234567",\n                "issuedate": "2018-11-20",\n                "expirydate": "2018-11-20",\n                "issuer": "ukpa",\n                "issuerplace": "gb",\n                "issuercountry": "gb",\n                "otheriddescription": "test"\n            }\n        ],\n        "postaladdress": {\n            "country": "gb",\n            "addressline1": "111 abc street",\n            "city": "new york",\n            "stateprovince": "new york",\n            "postalcode": "abcd"\n        },\n        "subjectname": {\n            "title": "mr",\n            "firstname": "luke",\n            "middlename": "r",\n            "lastname": "skywalker",\n            "fullname": "luke r skywalker",\n            "nativename": "abc"\n        }        \n     },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "testorganisation"\n  }\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is \'pending\'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is \'pending\'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transactions object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been successfully completed by\nreturning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# international transfer failure\n\nthe failure of a transfer is reflected by the return of an error object in the callback from the receiving fsp. the same pattern would also apply to a quotation failure.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /quotations activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits a quotation request to the\nreceiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is \'pending\'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp receiving fsp->>sending fsp: put {callback url} (quotations object) activate sending fsp note right of receiving fsp: (2) the receiving fsp returns the quotation to the sending\nfsp. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/inttransfer activate sending fsp activate receiving fsp note right of receiving fsp: (3) subject to sender confirmation, the sending fsp submits a transaction\nrequest to the receiving fsp. the receiving fsp will return the request\nstate object to indicate that the request is \'pending\'. receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (4) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp\n\n\n# international transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to be reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is "pending". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# obtain an fsp balance\n\n \n\n\nget .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/balance activate sending fsp activate receiving fsp note right of receiving fsp: (1) obtain the balance of the\nreceiving fsp\'s account with\nthe sending fsp. receiving fsp--\x3e>sending fsp: http 200 (balance object) deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending fsp via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests up to 20\ntransactions for their account from\nthe receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) note right of receiving fsp: (2) the receiving fsp returns an array\nof 20 transactions and indicates via a\nresponse header that there are 40\nrecords available in total. sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of receiving fsp: (3) the sending fsp requests the\nremaining transactions from the\naccount from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (transactions array) (x-records-available-count=40) deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /heartbeat activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp requests the\navailability of the service from the\nreceiving fsp. receiving fsp--\x3e>sending fsp: http 200 (heartbeat object) note right of receiving fsp: (2) the receiving fsp returns the\navailability of the service - available,\nunavailable or degraded. deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp\'s\nclientcorrelationid, a request for the\nmissing api response is sent. receiving fsp--\x3e>sending fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp\nopen postman collection open postman collection with authentication',charsets:{}},{title:"Merchant Payments - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"Merchant Payments - API Service Definition"},regularPath:"/use-cases/merchant-payments/api-service-definition.html",relativePath:"use-cases/merchant-payments/api-service-definition.md",key:"v-55b734ac",path:"/use-cases/merchant-payments/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:3124},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:3381},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:12570},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:13423},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:13650},{level:3,title:"Merchant Accounts APIs",slug:"merchant-accounts-apis",normalizedTitle:"merchant accounts apis",charIndex:22133},{level:4,title:"Identifying a Merchant Account",slug:"identifying-a-merchant-account",normalizedTitle:"identifying a merchant account",charIndex:22272},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:22435},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:22621},{level:3,title:"Account Transactions API",slug:"account-transactions-api",normalizedTitle:"account transactions api",charIndex:23125},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:25246},{level:3,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:25559},{level:4,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:25912},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:26045},{level:3,title:"Authorisation Codes API",slug:"authorisation-codes-api",normalizedTitle:"authorisation codes api",charIndex:28595},{level:4,title:"Authorisation Code UML Class Diagram",slug:"authorisation-code-uml-class-diagram",normalizedTitle:"authorisation code uml class diagram",charIndex:31489},{level:4,title:"Authorisation Code Object Definition",slug:"authorisation-code-object-definition",normalizedTitle:"authorisation code object definition",charIndex:31860},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:37695},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:37718},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:38637},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:39741},{level:3,title:"Transaction Type Object",slug:"transaction-type-object",normalizedTitle:"transaction type object",charIndex:40568},{level:3,title:"Channel Type Object",slug:"channel-type-object",normalizedTitle:"channel type object",charIndex:41483},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:42062},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:42982},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:43874},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:43891},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:44268},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:37718}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Merchant Accounts APIs Identifying a Merchant Account Single Identifier Method Multiple Identifiers Method Account Transactions API Account Transaction UML Class Diagram Account Balances API Account Balance UML Class Diagram Account Balance Object Definition Authorisation Codes API Authorisation Code UML Class Diagram Authorisation Code Object Definition Supporting Objects Account Identifiers Object Metadata Object Custom Data Object Transaction Type Object Channel Type Object Fees Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types Account Identifiers",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nMerchant payments can be created and viewed using Transactions APIs.\n\nThe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \nrequire_once __DIR__ . \'./../bootstrap.php\';\nuse mmpsdk\\Common\\Models\\Transaction;\nuse mmpsdk\\Common\\Exceptions\\MobileMoneyException;\nuse mmpsdk\\MerchantPayment\\MerchantPayment;\n\n$transaction = new Transaction();\n$transaction\n->setAmount(\'16.00\')\n->setCurrency(\'USD\')\n->setCreditParty([\'walletid\' => \'1\'])\n->setDebitParty([\'msisdn\' => \'+44012345678\']);\ntry {\n/**\n* Construct request object and set desired parameters\n*/\n$request = MerchantPayment::createMerchantTransaction($transaction);\n\n    /**\n     * Choose notification method can be either Callback or Polling\n     */\n    $request->setNotificationMethod(NotificationMethod::CALLBACK);\n\n    /**\n     * Get Client Correlation Id that will be sent along with request\n     */\n    $clientCorrelationId = $request->getClientCorrelationId()\n    print_r($clientCorrelationId);\n\n    /**\n     *Execute the request\n     */\n    $repsonse = $request->execute();\n\n    print_r($repsonse);\n} catch (MobileMoneyException $ex) {\nprint_r($ex->getMessage());\nprint_r($ex->getErrorObj());\n}\n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* Transaction\n\nFigure 2-1 Transaction UML Class Diagram\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                              \nName                                         Type        Description                                                           Reference                        Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                     \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers              creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                     debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers              debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                     If creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                     Enumeration = Transaction Types\n                                                         the URL)                                                       ← M\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                     \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                     Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                     Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                     \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                     \n                                                         was initiated.                                                 ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                     \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                         Provider                                                       ← O\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                                     \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                         populate additional transaction fields.                        ← O\n\n\n# Reversals API\n\nThe Reversals API is used to reverse a P2P transfer. The originating transaction reference must be provided in the path to identify the payment to be reversed. For a partial reversal, the amount needs to be supplied.\n\nFor viewing reversals, the Transactions API should be used. For performing a reversal without the original transaction reference, use the Transactions API.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Credit Party Identifier "0..10" --* "" Reversal Debit Party Identifier "0..10" --* "" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                          TYPE        DESCRIPTION                                                           REFERENCE                        VALIDATION\ntransactionReference                          string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                          the response by API provider.                                  ← M\nrequesting OrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                          to be associated with the transaction.                         ← O\noriginalTransactionReference                  string      For reversals and refunds, this field indicates the            → NA                                    \n                                                          transaction which is the subject of the reversal.              ← M\ncreditParty                                   array       A series of key/value pairs that enable the credit party to    → O    Account Identifiers              \n                                                          be identified. Keys include MSISDN and Wallet Identifier.      ← O\ndebitParty                                    array       A collection of key/value pairs that enable the debit party    →  O   Account Identifiers              \n                                                          to be identified. Keys include MSISDN and Wallet Identifier.   ← O\ntype                                          string      The harmonised Transaction Type                                → M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                         ← M                                     Refunds (adjustments) are supported.\nsubType                                       string      A non-harmonised sub-classification of the type of             → O                                     \n                                                          transaction. Values are not fixed, and usage will vary         ← O\n                                                          according to Provider.\ntransactionStatus                             string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                          provider.                                                      ← M\namount                                        string      The transaction Amount.                                        → O                                     Please refer to API Fundamentals document for amount\n                                                                                                                         ← O                                     validation rules.\ncurrency                                      string      Currency of the transaction amount.                            → O                                     Enumeration = ISO Currency Codes\n                                                                                                                         ← O\ndescriptionText                               string      Free format text description of the transaction provided by    → O                                     \n                                                          the client. This can be provided as a reference for the        ← O\n                                                          receiver on a notification SMS and on an account statement.\nfees                                          array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                          to the transaction.                                            ← O\ngeoCode                                       string      Indicates the geographic location from where the transaction   → O                                     \n                                                          was initiated.                                                 ← O\nrequestingOrganisation                        object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                         ← O\nservicingIdentity                             string      The field is used to identify the servicing identity for       → O                                     \n                                                          transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                            string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                          may differ from the Transaction Reference.                     ← O\ncreationDate                                  date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                          Provider.                                                      ← O\nmodificationDate                              date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                          Provider.                                                      ← O\nrequestDate                                   date-time   The date and time of the transaction request as supplied by    → O                                     \n                                                          the client.                                                    ← O\ncustomData                                    string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                          provider specific fields.                                      ← O\nmetadata                                      array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                          populate additional properties that describe administrative    ← O\n                                                          information regarding the transaction.\n\n\n# Merchant Accounts APIs\n\nUsing the mobile money APIs, merchants can:\n\n * View payments for their account.\n * View their account balance.\n\n# Identifying a Merchant Account\n\nTwo methods are provided for identifying a merchant account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifierType}/{identifier} .\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3} .\n\nThe path uses a ‘$’ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by ‘@’.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Account Transactions API\n\nA merchant should use this API to return a list of payments against their account. One of the following paths can be used:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Metadata "0..20" --* "1" Transaction Transaction "0..*" --* "2" Account\n\nFigure 2‑3 Account Transaction UML Class Diagram\n\n\n# Account Balances API\n\nUsing the Account Balances API, an FSP can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the FSP account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram Account Balance "1" --* "1" Account\n\nFigure 2‑4 Account Balance UML Class Diagram\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                           REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    → NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    ← O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                → NA               Please refer to API Fundamentals document for amount\n                                                                                           ← O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        → NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    ← O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    → NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       ← O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       → NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← O                validation rules.\ncurrency           string   Currency for all returned balances.                            → NA               Enumeration = ISO Currency Codes\n                                                                                           ← O\n\n\n# Authorisation Codes API\n\nThe Authorisation Codes APIs allow a payer to generate a payment code which when presented to the payee, can be redeemed for an amount associated with the code.\n\nAuthorisation codes can be set to expire. Note that expiry time can be specified via the API, however the mobile money provider may mandate a common expiry period for all codes.\n\nThe following paths are permitted:\n\n * Generate an Authorisation Code. POST /accounts/{identifierType}/{identifier}/authorisationcodes or POST /accounts/{Account Identifiers}/authorisationcodes\n\n * Cancel an Authorisation Code (codeState = ‘cancelled’). PATCH /accounts/{identifierType}/{identifier}/authorisationcodes/{authorisationCode} or PATCH /accounts/{Account Identifiers}/authorisationcodes/{authorisationCode}.\n\n * View An Authorisation Code for a given account. GET /accounts/{identifierType}/{identifier}/authorisationcodes/{authorisationCode} or GET /accounts/{Requestor Account Identifiers}/authorisationcodes/{authorisationCode}.\n\n * View all Authorisation Codes for a given account. GET /accounts/{identifierType}/{identifier}/authorisationcodes or GET /accounts/{Requestor Account Identifiers}/authorisationcodes.\n\nWhen retrieving authorisation codes, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "codeState": "active"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER      TYPE      FORMAT      DESCRIPTION\nlimit          integer   N/A         Supports pagination. If this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   N/A         Supports pagination. This value will indicate the cursor\n                                     position from where to retrieve the set of records. For\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromDateTime   string    date-time   Indicates the minimum creationDate for which records should\n                                     be returned.\ntoDateTime     string    date-time   Indicates the maximum creationDate for which records should\n                                     be returned.\ncodeState      string    string      Allows filtering on the state of the authorisation code.\n\nTIP\n\nNote 1: For a harmonised behavior, API Providers should make sure that the authorisation codes are returned in descending date created order.\n\nNote 2: HTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Authorisation Code UML Class Diagram\n\nclassDiagram Redemption Account Identifier "0..10" --* "1" Authorisation Code Metadata "0..20" --* "1" Authorisation Code Redemption Channel "0..50" --* "1" Authorisation Code Redemption Transaction Type "0..50" --* "1" Authorisation Code Authorisation Code "0..*" --* "1" Account\n\nFigure 2‑5 Authorisation Code UML Class Diagram\n\n# Authorisation Code Object Definition\n\n{\n  "authorisationCode": "12345",\n  "codeState": "expired",\n  "amount": "123.45",\n  "currency": "GBP",\n  "amountType": "exact",\n  "codeLifetime": 30000,\n  "holdFundsIndicator": true,\n  "redemptionAccountIdentifiers": [\n    {\n      "key":"MSISDN",\n      "value":"+1234567890"\n    }\n  ],\n  "redemptionChannels": "ATM",\n  "redemptionTransactionTypes": {\n    "transactionStatus": "completed",\n    "transactionType": "merchantpay"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nAUTHORISATION CODES OBJECT                                                                                                                  \nName                           Type        Description                                                           Reference                  Validation\nauthorisationCode              string      The code that will be presented to the other party for         → NA                              \n                                           redemption.                                                    ← M\ncodeState                      string      Indicates the state of the Authorisation Code                  → NA                              Enumeration = ‘active’, ‘expired’, ‘cancelled’\n                                                                                                          ← M\namount                         string      Indicates the amount associated with the authorisation code.   → O                               Please refer to API Fundamentals document for amount\n                                           Typically, this is set by the client.                          ← O                               validation rules.\ncurrency                       string      Indicates the amount currency. Must be supplied when an        → O                               Enumeration = ISO Currency Codes\n                                           amount is supplied.                                            ← O\namountType                     string      The amount for the authorisation can be an exact amount or     → O                               Enumeration = ‘exact’, ‘maximum’\n                                           can be a maximum amount, i.e. redemption up to but not         ← O\n                                           higher than the amount specified.\ncodeLifetime                   integer     Indicates the expiry time in seconds of the code. Depending    → O                               If supplied, then must be 1 second or greater.\n                                           upon the use case, this can be set by the client or server.    ← O\nholdFundsIndicator             boolean     Indicates whether funds should be reserved against the         → O                               \n                                           payer’s account where the payer is the requestor.              ← O\nredemptionAccountIdentifiers   array       A series of key/value pairs that identify the account where    → O    Account Identifiers        \n                                           the code must be redeemed. Only needed if the redemption       ← O\n                                           account needs to be explicitly stated.\nredemptionChannels             string      Indicates the channel(s) that the code can be redeemed         → O    Channel Types Object       \n                                           against, e.g. ATM, Merchant, etc..                             ← O\nredemptionTransactionTypes     string      Indicates the Transaction Types(s) that the code can be        → O    Transaction Types Object   \n                                           redeemed against.                                              ← O\nrequestingOrganisation         object      The originating organisation of the request.                   → O    Requesting Organisation    \n                                                                                                          ← O\ncreationDate                   date-time   Indicates when the link was created as recorded by the API     → NA                              \n                                           provider.                                                      ← O\nmodificationDate               date-time   Indicates when the link was modified as recorded by the API    → NA                              \n                                           provider.                                                      ← O\nrequestDate                    date-time   The date and time of the request as provided by the client.    → O                               \n                                                                                                          ← O\ncustomData                     string      A collection of key/value pairs that can be used for           → O    Custom Data Object         \n                                           provider specific fields.                                      ← O\nmetadata                       array       A collection of key/value pairs. These can be used to          → O    Metadata                   \n                                           populate additional properties that describe administrative    ← O\n                                           information regarding the authorisation code\n\n\n# Supporting Objects\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         → M               Enumeration = Account Identifiers\n                                                               ← M\nvalue   string   Provides the account identifier type value.   → M               \n                                                               ← M\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20The metadata object allows additional fields to be specified for the parent object in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Transaction Type Object\n\nThis object enables multiple transaction types to be specified along with paired sub-types. This object is used where multiple transaction types need to be passed in an API.\n\n{\n  "transactionType": "merchantpay",\n  "transactionSubType": "local",\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION TYPE OBJECT                                                                     \nName                      Type     Description                                  Reference   Validation\ntransactionType           string   Identifies the Transaction Type.       → M               Enumeration = Transaction Types\n                                                                          ← M\ntransactionSubType        string   Identifies the Transaction Sub-Type.   → O               \n                                                                          ← O\n\n\n# Channel Type Object\n\nThis object enables multiple channel types to be specified. This object is used where multiple channel types need to be passed in an API.\n\n{\n  "channelType": "ATM"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCHANNEL TYPE OBJECT                                                             \nName                  Type     Description                          Reference   Validation\nchannelType           string   Identifies the Channel Type.   → M               \n                                                              ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                     REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  → M               \n                                                                 ← M\nfeeAmount     string   Defines the amount of the fee.            → M               Please refer to API Fundamentals document for amount\n                                                                 ← M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   → M               Enumeration = ISO Currency Codes\n                                                                 ← M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE          DESCRIPTION\nmerchantpay   Purchases of goods and/or services from shops (payer\n              present) or online (payer not present).\nadjustment    General adjustments to an account via an adjustment\n              transaction (e.g. refunds).\nreversal      Reversal of a prior transaction to return funds to the\n              payer.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\nmerchant payments can be created and viewed using transactions apis.\n\nthe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \nrequire_once __dir__ . \'./../bootstrap.php\';\nuse mmpsdk\\common\\models\\transaction;\nuse mmpsdk\\common\\exceptions\\mobilemoneyexception;\nuse mmpsdk\\merchantpayment\\merchantpayment;\n\n$transaction = new transaction();\n$transaction\n->setamount(\'16.00\')\n->setcurrency(\'usd\')\n->setcreditparty([\'walletid\' => \'1\'])\n->setdebitparty([\'msisdn\' => \'+44012345678\']);\ntry {\n/**\n* construct request object and set desired parameters\n*/\n$request = merchantpayment::createmerchanttransaction($transaction);\n\n    /**\n     * choose notification method can be either callback or polling\n     */\n    $request->setnotificationmethod(notificationmethod::callback);\n\n    /**\n     * get client correlation id that will be sent along with request\n     */\n    $clientcorrelationid = $request->getclientcorrelationid()\n    print_r($clientcorrelationid);\n\n    /**\n     *execute the request\n     */\n    $repsonse = $request->execute();\n\n    print_r($repsonse);\n} catch (mobilemoneyexception $ex) {\nprint_r($ex->getmessage());\nprint_r($ex->geterrorobj());\n}\n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* transaction\n\nfigure 2-1 transaction uml class diagram\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                              \nname                                         type        description                                                           reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                    \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                     \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers              creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                     debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers              debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                     if creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                     enumeration = transaction types\n                                                         the url)                                                       ← m\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                     \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                    \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                     please refer to api fundamentals document for amount\n                                                                                                                        ← m                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                     enumeration = iso currency codes\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                     \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                     \n                                                         was initiated.                                                 ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                     \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                    \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                    \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                    \n                                                         provider                                                       ← o\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                                     \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                         populate additional transaction fields.                        ← o\n\n\n# reversals api\n\nthe reversals api is used to reverse a p2p transfer. the originating transaction reference must be provided in the path to identify the payment to be reversed. for a partial reversal, the amount needs to be supplied.\n\nfor viewing reversals, the transactions api should be used. for performing a reversal without the original transaction reference, use the transactions api.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram credit party identifier "0..10" --* "" reversal debit party identifier "0..10" --* "" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                          type        description                                                           reference                        validation\ntransactionreference                          string      unique reference for the transaction. this is returned in      → na                                    \n                                                          the response by api provider.                                  ← m\nrequesting organisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                          to be associated with the transaction.                         ← o\noriginaltransactionreference                  string      for reversals and refunds, this field indicates the            → na                                    \n                                                          transaction which is the subject of the reversal.              ← m\ncreditparty                                   array       a series of key/value pairs that enable the credit party to    → o    account identifiers              \n                                                          be identified. keys include msisdn and wallet identifier.      ← o\ndebitparty                                    array       a collection of key/value pairs that enable the debit party    →  o   account identifiers              \n                                                          to be identified. keys include msisdn and wallet identifier.   ← o\ntype                                          string      the harmonised transaction type                                → m                                     enumeration = transaction types note that only reversals and\n                                                                                                                         ← m                                     refunds (adjustments) are supported.\nsubtype                                       string      a non-harmonised sub-classification of the type of             → o                                     \n                                                          transaction. values are not fixed, and usage will vary         ← o\n                                                          according to provider.\ntransactionstatus                             string      indicates the status of the transaction as stored by the api   → na                                    \n                                                          provider.                                                      ← m\namount                                        string      the transaction amount.                                        → o                                     please refer to api fundamentals document for amount\n                                                                                                                         ← o                                     validation rules.\ncurrency                                      string      currency of the transaction amount.                            → o                                     enumeration = iso currency codes\n                                                                                                                         ← o\ndescriptiontext                               string      free format text description of the transaction provided by    → o                                     \n                                                          the client. this can be provided as a reference for the        ← o\n                                                          receiver on a notification sms and on an account statement.\nfees                                          array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                          to the transaction.                                            ← o\ngeocode                                       string      indicates the geographic location from where the transaction   → o                                     \n                                                          was initiated.                                                 ← o\nrequestingorganisation                        object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                         ← o\nservicingidentity                             string      the field is used to identify the servicing identity for       → o                                     \n                                                          transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                            string      transaction receipt number as notified to the parties. this    → na                                    \n                                                          may differ from the transaction reference.                     ← o\ncreationdate                                  date-time   date and time when the transaction was created by the api      → na                                    \n                                                          provider.                                                      ← o\nmodificationdate                              date-time   date and time when the transaction was modified by the api     → na                                    \n                                                          provider.                                                      ← o\nrequestdate                                   date-time   the date and time of the transaction request as supplied by    → o                                     \n                                                          the client.                                                    ← o\ncustomdata                                    string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                          provider specific fields.                                      ← o\nmetadata                                      array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                          populate additional properties that describe administrative    ← o\n                                                          information regarding the transaction.\n\n\n# merchant accounts apis\n\nusing the mobile money apis, merchants can:\n\n * view payments for their account.\n * view their account balance.\n\n# identifying a merchant account\n\ntwo methods are provided for identifying a merchant account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifiertype}/{identifier} .\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3} .\n\nthe path uses a ‘$’ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by ‘@’.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# account transactions api\n\na merchant should use this api to return a list of payments against their account. one of the following paths can be used:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction metadata "0..20" --* "1" transaction transaction "0..*" --* "2" account\n\nfigure 2‑3 account transaction uml class diagram\n\n\n# account balances api\n\nusing the account balances api, an fsp can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the fsp account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram account balance "1" --* "1" account\n\nfigure 2‑4 account balance uml class diagram\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                           reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    → na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    ← o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                → na               please refer to api fundamentals document for amount\n                                                                                           ← o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        → na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    ← o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    → na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       ← o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       → na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← o                validation rules.\ncurrency           string   currency for all returned balances.                            → na               enumeration = iso currency codes\n                                                                                           ← o\n\n\n# authorisation codes api\n\nthe authorisation codes apis allow a payer to generate a payment code which when presented to the payee, can be redeemed for an amount associated with the code.\n\nauthorisation codes can be set to expire. note that expiry time can be specified via the api, however the mobile money provider may mandate a common expiry period for all codes.\n\nthe following paths are permitted:\n\n * generate an authorisation code. post /accounts/{identifiertype}/{identifier}/authorisationcodes or post /accounts/{account identifiers}/authorisationcodes\n\n * cancel an authorisation code (codestate = ‘cancelled’). patch /accounts/{identifiertype}/{identifier}/authorisationcodes/{authorisationcode} or patch /accounts/{account identifiers}/authorisationcodes/{authorisationcode}.\n\n * view an authorisation code for a given account. get /accounts/{identifiertype}/{identifier}/authorisationcodes/{authorisationcode} or get /accounts/{requestor account identifiers}/authorisationcodes/{authorisationcode}.\n\n * view all authorisation codes for a given account. get /accounts/{identifiertype}/{identifier}/authorisationcodes or get /accounts/{requestor account identifiers}/authorisationcodes.\n\nwhen retrieving authorisation codes, the following query string parameters can be used to filter the number of records returned:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "codestate": "active"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter      type      format      description\nlimit          integer   n/a         supports pagination. if this is not supplied, then the\n                                     server will apply a limit of 50 records returned for each\n                                     request.\noffset         integer   n/a         supports pagination. this value will indicate the cursor\n                                     position from where to retrieve the set of records. for\n                                     example, a limit of 50 and offset of 10 will return records\n                                     11 to 60.\nfromdatetime   string    date-time   indicates the minimum creationdate for which records should\n                                     be returned.\ntodatetime     string    date-time   indicates the maximum creationdate for which records should\n                                     be returned.\ncodestate      string    string      allows filtering on the state of the authorisation code.\n\ntip\n\nnote 1: for a harmonised behavior, api providers should make sure that the authorisation codes are returned in descending date created order.\n\nnote 2: http response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# authorisation code uml class diagram\n\nclassdiagram redemption account identifier "0..10" --* "1" authorisation code metadata "0..20" --* "1" authorisation code redemption channel "0..50" --* "1" authorisation code redemption transaction type "0..50" --* "1" authorisation code authorisation code "0..*" --* "1" account\n\nfigure 2‑5 authorisation code uml class diagram\n\n# authorisation code object definition\n\n{\n  "authorisationcode": "12345",\n  "codestate": "expired",\n  "amount": "123.45",\n  "currency": "gbp",\n  "amounttype": "exact",\n  "codelifetime": 30000,\n  "holdfundsindicator": true,\n  "redemptionaccountidentifiers": [\n    {\n      "key":"msisdn",\n      "value":"+1234567890"\n    }\n  ],\n  "redemptionchannels": "atm",\n  "redemptiontransactiontypes": {\n    "transactionstatus": "completed",\n    "transactiontype": "merchantpay"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nauthorisation codes object                                                                                                                  \nname                           type        description                                                           reference                  validation\nauthorisationcode              string      the code that will be presented to the other party for         → na                              \n                                           redemption.                                                    ← m\ncodestate                      string      indicates the state of the authorisation code                  → na                              enumeration = ‘active’, ‘expired’, ‘cancelled’\n                                                                                                          ← m\namount                         string      indicates the amount associated with the authorisation code.   → o                               please refer to api fundamentals document for amount\n                                           typically, this is set by the client.                          ← o                               validation rules.\ncurrency                       string      indicates the amount currency. must be supplied when an        → o                               enumeration = iso currency codes\n                                           amount is supplied.                                            ← o\namounttype                     string      the amount for the authorisation can be an exact amount or     → o                               enumeration = ‘exact’, ‘maximum’\n                                           can be a maximum amount, i.e. redemption up to but not         ← o\n                                           higher than the amount specified.\ncodelifetime                   integer     indicates the expiry time in seconds of the code. depending    → o                               if supplied, then must be 1 second or greater.\n                                           upon the use case, this can be set by the client or server.    ← o\nholdfundsindicator             boolean     indicates whether funds should be reserved against the         → o                               \n                                           payer’s account where the payer is the requestor.              ← o\nredemptionaccountidentifiers   array       a series of key/value pairs that identify the account where    → o    account identifiers        \n                                           the code must be redeemed. only needed if the redemption       ← o\n                                           account needs to be explicitly stated.\nredemptionchannels             string      indicates the channel(s) that the code can be redeemed         → o    channel types object       \n                                           against, e.g. atm, merchant, etc..                             ← o\nredemptiontransactiontypes     string      indicates the transaction types(s) that the code can be        → o    transaction types object   \n                                           redeemed against.                                              ← o\nrequestingorganisation         object      the originating organisation of the request.                   → o    requesting organisation    \n                                                                                                          ← o\ncreationdate                   date-time   indicates when the link was created as recorded by the api     → na                              \n                                           provider.                                                      ← o\nmodificationdate               date-time   indicates when the link was modified as recorded by the api    → na                              \n                                           provider.                                                      ← o\nrequestdate                    date-time   the date and time of the request as provided by the client.    → o                               \n                                                                                                          ← o\ncustomdata                     string      a collection of key/value pairs that can be used for           → o    custom data object         \n                                           provider specific fields.                                      ← o\nmetadata                       array       a collection of key/value pairs. these can be used to          → o    metadata                   \n                                           populate additional properties that describe administrative    ← o\n                                           information regarding the authorisation code\n\n\n# supporting objects\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   provides the account identifier type.         → m               enumeration = account identifiers\n                                                               ← m\nvalue   string   provides the account identifier type value.   → m               \n                                                               ← m\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20the metadata object allows additional fields to be specified for the parent object in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# transaction type object\n\nthis object enables multiple transaction types to be specified along with paired sub-types. this object is used where multiple transaction types need to be passed in an api.\n\n{\n  "transactiontype": "merchantpay",\n  "transactionsubtype": "local",\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction type object                                                                     \nname                      type     description                                  reference   validation\ntransactiontype           string   identifies the transaction type.       → m               enumeration = transaction types\n                                                                          ← m\ntransactionsubtype        string   identifies the transaction sub-type.   → o               \n                                                                          ← o\n\n\n# channel type object\n\nthis object enables multiple channel types to be specified. this object is used where multiple channel types need to be passed in an api.\n\n{\n  "channeltype": "atm"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nchannel type object                                                             \nname                  type     description                          reference   validation\nchanneltype           string   identifies the channel type.   → m               \n                                                              ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                     reference   validation\nfeetype       string   defines the type of fee.                  → m               \n                                                                 ← m\nfeeamount     string   defines the amount of the fee.            → m               please refer to api fundamentals document for amount\n                                                                 ← m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   → m               enumeration = iso currency codes\n                                                                 ← m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode          description\nmerchantpay   purchases of goods and/or services from shops (payer\n              present) or online (payer not present).\nadjustment    general adjustments to an account via an adjustment\n              transaction (e.g. refunds).\nreversal      reversal of a prior transaction to return funds to the\n              payer.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.',charsets:{}},{title:"Merchant Payments - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Merchant Payments - Open OAS UI"},regularPath:"/use-cases/merchant-payments/merchant-payments-open-oas-ui.html",relativePath:"use-cases/merchant-payments/merchant-payments-open-oas-ui.md",key:"v-4a5993f8",path:"/use-cases/merchant-payments/merchant-payments-open-oas-ui.html",headers:[{level:2,title:"Merchant Payments - Open OAS UI",slug:"merchant-payments-open-oas-ui",normalizedTitle:"merchant payments - open oas ui",charIndex:0}],headersStr:"Merchant Payments - Open OAS UI",content:"# Merchant Payments - Open OAS UI",normalizedContent:"# merchant payments - open oas ui",charsets:{}},{title:"Merchant Payments",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Merchant Payments"},regularPath:"/use-cases/merchant-payments/",relativePath:"use-cases/merchant-payments/index.md",key:"v-b6e1629e",path:"/use-cases/merchant-payments/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:1329}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nThe Merchant Payment Mobile Money APIs allow merchants to accept payments from mobile money customers. Supported payment mechanisms include:\n\n * Payee-initiated merchant payment. The merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * Payer-initiated merchant payment. The payer initiates the payment by specifying the merchant that is to be paid.\n * Merchant payment via pre-authorised payment code. The payer generates a payment authorisation code up to a maximum payment amount. The merchant then enters or scans (if rendered as a QR code) the payer’s code to perform the payment.\n\nClosed loop and open-loop merchant payments are supported by the Mobile Money API. Closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. Open loop payments occur where the payer and payee accounts reside with different mobile money providers. For further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                    ROLE\nMobile Money Providers   To understand how to implement the Mobile Money API to   API Provider\n                         receive payments from merchants.\nMerchants                To understand how to implement the Mobile Money API to   API Consumer\n                         accept mobile money payments.",normalizedContent:"# introduction\n\nthe merchant payment mobile money apis allow merchants to accept payments from mobile money customers. supported payment mechanisms include:\n\n * payee-initiated merchant payment. the merchant initiates the payment and the payer is requested to authenticate to confirm acceptance by the mobile money provider.\n * payer-initiated merchant payment. the payer initiates the payment by specifying the merchant that is to be paid.\n * merchant payment via pre-authorised payment code. the payer generates a payment authorisation code up to a maximum payment amount. the merchant then enters or scans (if rendered as a qr code) the payer’s code to perform the payment.\n\nclosed loop and open-loop merchant payments are supported by the mobile money api. closed loop merchant payments occur where the payer and payee accounts reside with the same mobile money provider. open loop payments occur where the payer and payee accounts reside with different mobile money providers. for further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                    role\nmobile money providers   to understand how to implement the mobile money api to   api provider\n                         receive payments from merchants.\nmerchants                to understand how to implement the mobile money api to   api consumer\n                         accept mobile money payments.",charsets:{}},{title:"Merchant Payments - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"Merchant Payments - Use Case Scenarios"},regularPath:"/use-cases/merchant-payments/scenarios/scenarios.html",relativePath:"use-cases/merchant-payments/scenarios/scenarios.md",key:"v-15ed1ed0",path:"/use-cases/merchant-payments/scenarios/scenarios.html",headers:[{level:2,title:"Payee-Initiated Merchant Payment",slug:"payee-initiated-merchant-payment",normalizedTitle:"payee-initiated merchant payment",charIndex:599},{level:2,title:"Payee-Initiated Merchant Payment Failure",slug:"payee-initiated-merchant-payment-failure",normalizedTitle:"payee-initiated merchant payment failure",charIndex:2694},{level:2,title:"Payee-Initiated Merchant Payment using the Polling Method",slug:"payee-initiated-merchant-payment-using-the-polling-method",normalizedTitle:"payee-initiated merchant payment using the polling method",charIndex:4673},{level:2,title:"Payer-Initiated Merchant Payment",slug:"payer-initiated-merchant-payment",normalizedTitle:"payer-initiated merchant payment",charIndex:7465},{level:2,title:"Payer-Initiated Merchant Payment Failure",slug:"payer-initiated-merchant-payment-failure",normalizedTitle:"payer-initiated merchant payment failure",charIndex:9396},{level:2,title:"Payee-Initiated Merchant Payment using a Pre-authorised Payment Code",slug:"payee-initiated-merchant-payment-using-a-pre-authorised-payment-code",normalizedTitle:"payee-initiated merchant payment using a pre-authorised payment code",charIndex:11174},{level:2,title:"Merchant Payment Refund",slug:"merchant-payment-refund",normalizedTitle:"merchant payment refund",charIndex:14668},{level:2,title:"Merchant Payment Reversal",slug:"merchant-payment-reversal",normalizedTitle:"merchant payment reversal",charIndex:16425},{level:2,title:"Obtain a Merchant Balance",slug:"obtain-a-merchant-balance",normalizedTitle:"obtain a merchant balance",charIndex:17970},{level:2,title:"Retrieve Payments for a Merchant",slug:"retrieve-payments-for-a-merchant",normalizedTitle:"retrieve payments for a merchant",charIndex:18587},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:19985},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:20873}],headersStr:"Payee-Initiated Merchant Payment Payee-Initiated Merchant Payment Failure Payee-Initiated Merchant Payment using the Polling Method Payer-Initiated Merchant Payment Payer-Initiated Merchant Payment Failure Payee-Initiated Merchant Payment using a Pre-authorised Payment Code Merchant Payment Refund Merchant Payment Reversal Obtain a Merchant Balance Retrieve Payments for a Merchant Check for Service Availability Retrieve a Missing API Response",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# Payee-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The merchant initiates the request and will be credited when the payer approves the request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Payee-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (2) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer authorisation. Payer--\x3e>Mobile Money Provider: (Authorised) deactivate Payer activate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (3) The MMP informs the Merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider\n\n\n# Payee-Initiated Merchant Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n \n\n\nGET .../requeststates/Place the Server Correlation Id here\n\n\n \n\n\nGET .../transactions/Place Transaction Reference here\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider participant Payer Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the payment request for processing\nto the MMP. The MMP will return the Request State object\nto indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant par loop activate Merchant Merchant->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The Merchant polls the MMP for the Request State until the\ntransaction is authorised or declined or until the polling limit\nis reached. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Request State Object) end and Mobile Money Provider->>Payer: Obtain Customer Authorisation activate Payer Note right of Payer: (3) The Payer is requested to the MMP to\nauthorise the payment. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used for Payer\nauthorisation. Payer--\x3e>Mobile Money Provider: (Authorised) end deactivate Merchant deactivate Payer deactivate Mobile Money Provider opt activate Mobile Money Provider activate Merchant Merchant->>Mobile Money Provider: GET /transactions/transactionsReference Note right of Mobile Money Provider: (4) The Merchant can use the objectReference returned in the\nRequest State to retrieve a representation of the complete\npayment transaction. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Object) end deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Payer-Initiated Merchant Payment\n\nIn this example, an asynchronous payment flow is used with a final callback. The payer initiates the request and will be debited upon successful completion of the request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer\'s channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis \'pending\'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (transactions Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer\'s channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has successfully compeleted. deactivate Mobile Money Provider deactivate Merchant\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Payer-Initiated Merchant Payment Failure\n\nIn this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Payer participant Mobile Money Provider participant Merchant Payer->>Mobile Money Provider: POST /transactions/type/merchantpay activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer\'s channel (e.g. Mobile Money App) submits the\npayment request for processing to the MMP. The MMP will\nreturn the Request State object to indicate that the request\nis \'pending\'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) deactivate Payer Mobile Money Provider->>Payer: PUT {Callback URL} (Error Object) activate Payer Note right of Mobile Money Provider: (2) The MMP informs the Payer\'s channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer activate Merchant Mobile Money Provider->>Merchant: Notify Note right of Merchant: (3) The MMP notifies the merchant tha the\npayment has failed. deactivate Mobile Money Provider deactivate Merchant\n\n\n# Payee-Initiated Merchant Payment using a Pre-authorised Payment Code\n\nIn this example the /authorisationcodes API is used to obtain a pre-authorised payment code. This in turn is presented by the payer to the merchant who initiates the payment request. Both flows in the diagram result in a callback. This flow is primarily used for payment on delivery use cases.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/2000/authorisationcodes\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "requestDate": "2017-07-21T17:32:28Z",\n    "currency": "GBP",\n    "amount": "1000.00"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "type": "transfer",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF",\n    "oneTimeCode": "Place your Authorisation Code here"\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Payer participant Merchant participant Mobile Money Provider Payer->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/authorisationcodes activate Payer activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Payer\'s channel (e.g. Mobile Money App) submits\nthe request to generate an authorisation code to the\nMMP. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>Payer: HTTP 202 (Request State Object) Mobile Money Provider->>Payer: PUT {Callback URL} (Authorisation Code Object) Note right of Mobile Money Provider: (2) The MMP informs the Payer\'s channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. Payer--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Mobile Money Provider Note right of Payer: (3) The Payer communicates the code to the merchant. This\ncan be via QR code or by verbally communicating the code. Payer->>Merchant: Communicates Code Verbally or via QR Presentment activate Payer activate Merchant activate Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/merchantpay Note right of Mobile Money Provider: (4) The Merchant submits the payment request for\nprocessing to the MMP. The request will contain the\nauthorisation code. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) deactivate Merchant Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) activate Merchant Note right of Mobile Money Provider: (5) The MMP informs the Merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Payer deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Merchant Payment Refund\n\nMerchants can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/adjustment\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/type/adjustment activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the refund request for processing to\nthe MMP. The MMP will return the Request State object to\nindicate that the request is \'pending\'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Merchant Payment Reversal\n\nIn some failure scenarios, a merchant may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody Parameters:\n{\n    "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant submits the reversal request for processing\nto the MMP - passing the reference of the transaction that\nis to be reversed. The MMP will return the Request State\nobject to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Merchant: HTTP 202 (Request State Object) Mobile Money Provider->>Merchant: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the Merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Merchant--\x3e>Mobile Money Provider: HTTP 204 deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain a Merchant Balance\n\n \n\n\nGET .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Balance Object) deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Payments for a Merchant\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams: \n{\n    "offset": 0,\n    "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests up to\n20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Merchant->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The Merchant requests the\nremaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /heartbeat activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) The Merchant requests the availability\nof the service from the MMP. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the mobile money provider.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Merchant participant Mobile Money Provider Merchant->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Merchant activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the Merchant\'s\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Merchant->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The Merchant uses the link to obtain\na representation of the missing\nresource. Mobile Money Provider--\x3e>Merchant: HTTP 200 (Requested Object) deactivate Merchant deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# payee-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the merchant initiates the request and will be credited when the payer approves the request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is \'pending\'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# payee-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is \'pending\'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (2) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer authorisation. payer--\x3e>mobile money provider: (authorised) deactivate payer activate merchant mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (3) the mmp informs the merchant that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider\n\n\n# payee-initiated merchant payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n \n\n\nget .../requeststates/place the server correlation id here\n\n\n \n\n\nget .../transactions/place transaction reference here\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider participant payer merchant->>mobile money provider: post /transactions/type/merchantpay activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the payment request for processing\nto the mmp. the mmp will return the request state object\nto indicate that the request is \'pending\'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant par loop activate merchant merchant->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the merchant polls the mmp for the request state until the\ntransaction is authorised or declined or until the polling limit\nis reached. mobile money provider--\x3e>merchant: http 200 (request state object) end and mobile money provider->>payer: obtain customer authorisation activate payer note right of payer: (3) the payer is requested to the mmp to\nauthorise the payment. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used for payer\nauthorisation. payer--\x3e>mobile money provider: (authorised) end deactivate merchant deactivate payer deactivate mobile money provider opt activate mobile money provider activate merchant merchant->>mobile money provider: get /transactions/transactionsreference note right of mobile money provider: (4) the merchant can use the objectreference returned in the\nrequest state to retrieve a representation of the complete\npayment transaction. mobile money provider--\x3e>merchant: http 200 (transactions object) end deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# payer-initiated merchant payment\n\nin this example, an asynchronous payment flow is used with a final callback. the payer initiates the request and will be debited upon successful completion of the request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer\'s channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis \'pending\'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (transactions object) activate payer note right of mobile money provider: (2) the mmp informs the payer\'s channel that the\npayment has been successfully completed\nby returning the final representation of the\ntransaction. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has successfully compeleted. deactivate mobile money provider deactivate merchant\nopen postman collection open postman collection with authentication\n\n\n# payer-initiated merchant payment failure\n\nin this example, an asynchronous payment flow is used with a final callback that contains the reason for failure.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant payer participant mobile money provider participant merchant payer->>mobile money provider: post /transactions/type/merchantpay activate payer activate mobile money provider note right of mobile money provider: (1) the payer\'s channel (e.g. mobile money app) submits the\npayment request for processing to the mmp. the mmp will\nreturn the request state object to indicate that the request\nis \'pending\'. mobile money provider--\x3e>payer: http 202 (request state object) deactivate payer mobile money provider->>payer: put {callback url} (error object) activate payer note right of mobile money provider: (2) the mmp informs the payer\'s channel that the\npayment has been failed and returns the error\nobject detailing the reason for failure. payer--\x3e>mobile money provider: http 204 deactivate payer activate merchant mobile money provider->>merchant: notify note right of merchant: (3) the mmp notifies the merchant tha the\npayment has failed. deactivate mobile money provider deactivate merchant\n\n\n# payee-initiated merchant payment using a pre-authorised payment code\n\nin this example the /authorisationcodes api is used to obtain a pre-authorised payment code. this in turn is presented by the payer to the merchant who initiates the payment request. both flows in the diagram result in a callback. this flow is primarily used for payment on delivery use cases.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/2000/authorisationcodes\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "requestdate": "2017-07-21t17:32:28z",\n    "currency": "gbp",\n    "amount": "1000.00"\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "type": "transfer",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf",\n    "onetimecode": "place your authorisation code here"\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant payer participant merchant participant mobile money provider payer->>mobile money provider: post /accounts/{identifiertype}/{identifier}/authorisationcodes activate payer activate mobile money provider note right of mobile money provider: (1) the payer\'s channel (e.g. mobile money app) submits\nthe request to generate an authorisation code to the\nmmp. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>payer: http 202 (request state object) mobile money provider->>payer: put {callback url} (authorisation code object) note right of mobile money provider: (2) the mmp informs the payer\'s channel that the\nrequest has been successfully completed by\nreturing the final representation of the\nauthorisation code. payer--\x3e>mobile money provider: http 204 deactivate payer deactivate mobile money provider note right of payer: (3) the payer communicates the code to the merchant. this\ncan be via qr code or by verbally communicating the code. payer->>merchant: communicates code verbally or via qr presentment activate payer activate merchant activate mobile money provider merchant->>mobile money provider: post /transactions/type/merchantpay note right of mobile money provider: (4) the merchant submits the payment request for\nprocessing to the mmp. the request will contain the\nauthorisation code. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>merchant: http 202 (request state object) deactivate merchant mobile money provider->>merchant: put {callback url} (transactions object) activate merchant note right of mobile money provider: (5) the mmp informs the merchant that the\ntransaction has been successfully completed by\nreturning the final representation of the\ntransaction. merchant--\x3e>mobile money provider: http 204 deactivate payer deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# merchant payment refund\n\nmerchants can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/adjustment\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/type/adjustment activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the refund request for processing to\nthe mmp. the mmp will return the request state object to\nindicate that the request is \'pending\'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the merchant that the\nrefund has been successfully completed by\nreturning the final representation of the refund. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# merchant payment reversal\n\nin some failure scenarios, a merchant may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n    "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: post /transactions/{original transaction reference}/reversals activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant submits the reversal request for processing\nto the mmp - passing the reference of the transaction that\nis to be reversed. the mmp will return the request state\nobject to indicate that the request is \'pending\'. mobile money provider--\x3e>merchant: http 202 (request state object) mobile money provider->>merchant: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the merchant that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. merchant--\x3e>mobile money provider: http 204 deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# obtain a merchant balance\n\n \n\n\nget .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate merchant activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>merchant: http 200 (balance object) deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve payments for a merchant\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a merchant via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams: \n{\n    "offset": 0,\n    "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests up to\n20 transactions for the\naccount from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. merchant->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the merchant requests the\nremaining transactions for\nthe account from the mmp. mobile money provider--\x3e>merchant: http 200 (transactions array) (x-records-available-count=40) deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the mobile money provider is in a state that enables a client to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /heartbeat activate merchant activate mobile money provider note right of mobile money provider: (1) the merchant requests the availability\nof the service from the mmp. mobile money provider--\x3e>merchant: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the merchant to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the mobile money provider.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant merchant participant mobile money provider merchant->>mobile money provider: get /responses{clientcorrelationid} activate merchant activate mobile money provider note right of mobile money provider: (1) using the merchant\'s\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>merchant: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. merchant->>mobile money provider: get /{link} note right of mobile money provider: (3) the merchant uses the link to obtain\na representation of the missing\nresource. mobile money provider--\x3e>merchant: http 200 (requested object) deactivate merchant deactivate mobile money provider\nopen postman collection open postman collection with authentication',charsets:{}},{title:"P2P Transfers",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"P2P Transfers"},regularPath:"/use-cases/p-2-p-transfers/",relativePath:"use-cases/p-2-p-transfers/index.md",key:"v-a1d2b7de",path:"/use-cases/p-2-p-transfers/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0}],headersStr:"Introduction",content:"# Introduction\n\nThe P2P Transfer Mobile Money APIs allow financial service providers (FSPs) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). The API supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. The API supports ‘on-us’ P2P transfers (both accounts held within one FSP) and ‘off-us’ P2P transfers (accounts held in different FSPs). Bilateral and Switch-based transfers can be supported.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.",normalizedContent:"# introduction\n\nthe p2p transfer mobile money apis allow financial service providers (fsps) to transfer funds from an account holding individual to another account holding individual or to a non-account holding individual (known as an unregistered customer). the api supports a wide number of financial service providers including mobile money providers, banks, and micro-finance institutions. the api supports ‘on-us’ p2p transfers (both accounts held within one fsp) and ‘off-us’ p2p transfers (accounts held in different fsps). bilateral and switch-based transfers can be supported.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.",charsets:{}},{title:"P2P Transfers - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"P2P Transfers - API Service Definition"},regularPath:"/use-cases/p-2-p-transfers/api-service-definition.html",relativePath:"use-cases/p-2-p-transfers/api-service-definition.md",key:"v-1f032eec",path:"/use-cases/p-2-p-transfers/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2294},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:2737},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:11623},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:12668},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:12895},{level:3,title:"Accounts APIs",slug:"accounts-apis",normalizedTitle:"accounts apis",charIndex:21246},{level:4,title:"Identifying an FSP Account",slug:"identifying-an-fsp-account",normalizedTitle:"identifying an fsp account",charIndex:21459},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:21614},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:21800},{level:3,title:"Account Transactions API",slug:"account-transactions-api",normalizedTitle:"account transactions api",charIndex:22304},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:24431},{level:3,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:24917},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:25270},{level:3,title:"Account Holder Name API",slug:"account-holder-name-api",normalizedTitle:"account holder name api",charIndex:27794},{level:4,title:"Account Holder Name UML Class Diagram",slug:"account-holder-name-uml-class-diagram",normalizedTitle:"account holder name uml class diagram",charIndex:28197},{level:4,title:"Account Holder Name Object Definition",slug:"account-holder-name-object-definition",normalizedTitle:"account holder name object definition",charIndex:28292},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:28861},{level:3,title:"KYC Information Object",slug:"kyc-information-object",normalizedTitle:"kyc information object",charIndex:28884},{level:3,title:"Name Object",slug:"name-object",normalizedTitle:"name object",charIndex:32177},{level:3,title:"Id Document Object",slug:"id-document-object",normalizedTitle:"id document object",charIndex:33727},{level:3,title:"Address Object",slug:"address-object",normalizedTitle:"address object",charIndex:36049},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:37524},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:38433},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:39275},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:40102},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:41008},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:41900},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:41917},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:42294},{level:3,title:"ID Types",slug:"id-types",normalizedTitle:"id types",charIndex:42561},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:37524},{level:3,title:"ISO Country Codes",slug:"iso-country-codes",normalizedTitle:"iso country codes",charIndex:49458}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Accounts APIs Identifying an FSP Account Single Identifier Method Multiple Identifiers Method Account Transactions API Account Transaction UML Class Diagram Account Balances API Account Balance Object Definition Account Holder Name API Account Holder Name UML Class Diagram Account Holder Name Object Definition Supporting Objects KYC Information Object Name Object Id Document Object Address Object Account Identifiers Object Metadata Object Custom Data Object Fees Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types ID Types Account Identifiers ISO Country Codes",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nP2P Transfers can be created, and viewed and updated using transactions APIs. The following paths are permitted:\n\nPOST /transactions/type/transfer. To create a P2P transfer.\n\nGET /transactions/{transactionReference}. To view a P2P transfer.\n\nThe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Transaction "1" *-- "0..20" Metadata Transaction "1" *-- "0..2" KYC Information Transaction "1" *-- "0..1" International Transfer Information KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                   \nName                                         Type        Description                                                           Reference             Validation\namount                                       string      The transaction amount.                                        M                            Please refer to API Fundamentals document for amount\n                                                                                                                        M                            validation rules.\ncurrency                                     string      Currency of the transaction amount.                            M                            Enumeration = ISO Currency Codes\n                                                                                                                        M\ntype                                         string      The harmonised Transaction Type (not required if passed in     M                            Enumeration = Transaction Types\n                                                         the URL)                                                       M\nsubType                                      string      A non-harmonised sub-classification of the type of             O                            \n                                                         transaction. Values are not fixed, and usage will vary         O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   NA                           \n                                                         provider.                                                      ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                          \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                          \n                                                         the client.                                                    ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                         \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                         \n                                                         Provider                                                       ← O\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                         \n                                                         the response by API provider.                                  ← M\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                         \n                                                         may differ from the Transaction Reference.                     ← O\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                          \n                                                         to be associated with the transaction.                         ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                          \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                          \n                                                         was initiated.                                                 ← O\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers   debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                          If creditParty is supplied, then debitParty is optional.\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers   creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                          debitParty is supplied, then creditParty is optional.\nsenderKyc                                    object      A collection of fields detailing the KYC of the transaction    → O    KYC                   \n                                                         Sender.                                                        ← O\nrecipientKyc                                 object      A collection of fields detailed the KYC of the transaction     → O    KYC                   \n                                                         Recipient.                                                     ← O\noriginalTransactionReference                 string      This field indicates the transaction which is the subject of   → O                          \n                                                         the reversal.                                                  ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                          \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object           \n                                                         to the transaction.                                            ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata              \n                                                         populate additional transaction fields.                        ← O\n\n\n# Reversals API\n\nThe Reversals API is used to reverse a P2P transfer. The originating transaction reference must be provided in the path to identify the payment to be reversed. For a partial reversal, the amount needs to be supplied.\n\nFor viewing reversals, the Transactions API should be used. For performing a reversal without the original transaction reference, use the Transactions API.\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\nTIP\n\nNote that for performing a reversal without the original transaction reference, please use the Transactions API.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nFor viewing or updating reversals, the Transactions API should be used.\n\n# Reversal UML Class Diagram\n\nclassDiagram Credit Party Identifier "0..10" --* "" Reversal Debit Party Identifier "0..10" --* "" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                         TYPE        DESCRIPTION                                                         REFERENCE                        VALIDATION\ntransactionReference                         string      Unique reference for the transaction. This is returned in      NA                                    \n                                                         the response by API provider.                                  M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    O                                     \n                                                         to be associated with the transaction.                         O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            NA                                    \n                                                         transaction which is the subject of the reversal.              M\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    O    Account Identifiers              \n                                                         be identified. Keys include MSISDN and Wallet Identifier.      O\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    O    Account Identifiers              \n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   O\ntype                                         string      The harmonised Transaction Type                                M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                        M                                     Refunds (adjustments) are supported.\nsubType                                      string      A non-harmonised sub-classification of the type of             O                                     \n                                                         transaction. Values are not fixed, and usage will vary         O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   NA                                    \n                                                         provider.                                                      M\namount                                       string      The transaction Amount.                                        O                                     Please refer to API Fundamentals document for amount\n                                                                                                                        O                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            O                                     Enumeration = ISO Currency Codes\n                                                                                                                        O\ndescriptionText                              string      Free format text description of the transaction provided by    O                                     \n                                                         the client. This can be provided as a reference for the        O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     O    Fees Object                      \n                                                         to the transaction.                                            O\ngeoCode                                      string      Indicates the geographic location from where the transaction   O                                     \n                                                         was initiated.                                                 O\nrequestingOrganisation                       object      The originating organisation of the request.                   O    Requesting Organisation Object   \n                                                                                                                        O\nservicingIdentity                            string      The field is used to identify the servicing identity for       O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    NA                                    \n                                                         may differ from the Transaction Reference.                     O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      NA                                    \n                                                         Provider.                                                      O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     NA                                    \n                                                         Provider.                                                      O\nrequestDate                                  date-time   The date and time of the transaction request as supplied by    O                                     \n                                                         the client.                                                    O\ncustomData                                   string      A collection of key/value pairs that can be used for           O    Custom Data Object               \n                                                         provider specific fields.                                      O\nmetadata                                     array       A collection of key/value pairs. These can be used to          O    Metadata                         \n                                                         populate additional properties that describe administrative    O\n                                                         information regarding the transaction.\n\n\n# Accounts APIs\n\nUsing account APIs, an FSP can:\n\n * View transfers for their account with another FSP.\n * View their account balance with another FSP.\n * Return the name of the intended recipient of a transfer.\n\n# Identifying an FSP Account\n\nTwo methods are provided for identifying an FSP account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifierType}/{identifier} .\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3} .\n\nThe path uses a ‘$’ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by ‘@’.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Account Transactions API\n\nAn FSP should use this API to return a list of payments transfers against their account. One of the following paths can be used:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlLimit              integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noOffset             integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram ID Document "0..10" --* "1" KYC Information Address "0..1" --* "1" KYC Information Name "0..1" --* "1" KYC Information Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction KYC Information "0..2" --* "1" Transaction Metadata "0..20" --* "1" Transaction International TransferInformation "0..1" --* "1" Transaction Transaction "0..*" --* "2" Account\n\n\n# Account Balances API\n\nUsing the Account Balances API, an FSP can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the FSP account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                         REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                NA               Please refer to API Fundamentals document for amount\n                                                                                           O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 O                validation rules.\ncurrency           string   Currency for all returned balances.                            NA               Enumeration = ISO Currency Codes\n                                                                                           O\n\n\n# Account Holder Name API\n\nUsing the Account Holder Name API, a sending FSP can retrieve the name of the intended recipient of a transfer. This can then be provided to the sending account holder to confirm the recipient name is correct prior to authorising the transfer.\n\nPermitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/accountname\n\nor GET /accounts/{Account Identifiers}/accountname\n\n# Account Holder Name UML Class Diagram\n\nclassDiagram Account Holder Name "1" --* "1" Account\n\n# Account Holder Name Object Definition\n\n{\n  "name": {\n    "title": "Mr",\n    "firstName": "John",\n    "middleName": "Alan",\n    "lastName": "Doe",\n    "fullName": "John Alan Doe",\n    "nativeName": "John Doe"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME   TYPE        DESCRIPTION                                                     REFERENCE   VALIDATION\nname   Reference   A collection of fields detailing the name of the primary   NA   Name        \n                   account holder.                                            O\n\n\n# Supporting Objects\n\n\n# KYC Information Object\n\nKYC refers to ‘Know your Customer’. The KYC object contains a number of fields that enable the identity of subject to be verified. KYC can be provided with transfers for the sending identity and the receiving identity. There are no mandatory KYC object fields.\n\n{\n  "birthCountry": "GB",\n  "dateOfBirth": "2000-11-20",\n  "contactPhone": "+1234567890",\n  "emailAddress": "example@mail.com",\n  "employerName": "Employer LLC",\n  "gender": "m",\n  "idDocument": [\n    {\n      "idType": "passport",\n      "idNumber": "TEST123456"\n    }\n  ],\n  "nationality": "GB",\n  "postalAddress": {\n    "addressLine1": "33 Brow Rd",\n    "addressLine2": "Unit 200",\n    "addressLine3": "Paddock",\n    "city": "Huddersfield",\n    "stateProvince": "West Yorkshire",\n    "postalCode": "HD1 4TP",\n    "country": "GB"\n  },\n  "occupation": "Manager"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME            TYPE     DESCRIPTION                                                     REFERENCE     VALIDATION\nbirthCountry    string   The country of birth of the KYC subject.                    O                 Enumeration = ISO Country Codes\n                                                                                     O\ndateOfBirth     date     Birth date of the KYC subject.                              O                 \n                                                                                     O\ncontactPhone    string   Contact phone number (mobile or landline) of the KYC        O                 Must contain between 6 and 15 consecutive digits\n                         subject.                                                    O                 First character can contain a ‘+’ or digit\n                                                                                                       Can contain spaces.\nemailAddress    string   Email address of the KYC subject.                           O                 \n                                                                                     O\nemployerName    string   Employer name of the KYC subject.                           O                 \n                                                                                     O\ngender          string   Gender of the KYC Object.                                   O                 Length=1, Enumeration = (m)ale, (f)emale, (u)nspecified\n                                                                                     O\nidDocument      array    An array of fields containing the forms of identification   O   Id Document   \n                         that are associated with the subject.                       O\nnationality     string   Nationality of the KYC subject.                             O                 Enumeration = ISO Country Codes\n                                                                                     O\npostalAddress   object   A collection of fields that details the postal address of   O   Address       \n                         the KYC subject.                                            O\noccupation      string   Occupation of the KYC subject.                              O                 \n                                                                                     O\n\n\n# Name Object\n\nThe name object identifies the name details for the subject identity.\n\n{\n  "title": "Mr",\n  "firstName": "John",\n  "middleName": "Alan",\n  "lastName": "Doe",\n  "fullName": "John Alan Doe",\n  "nativeName": "John Doe"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME         TYPE     DESCRIPTION                                                        REFERENCE   VALIDATION\ntitle        string   The given title of the KYC subject, e.g. Mr, Mrs, Dr.          O               \n                                                                                     O\nfirstName    string   First name (also referred to as given name) of the KYC         O               \n                      subject.                                                       O\nmiddleName   string   Middle Name of the KYC subject.                                O               \n                                                                                     O\nlastName     string   Surname (also referred to as last or family name) of the KYC   O               \n                      subject.                                                       O\nfullName     string   The full name of the KYC subject.                              O               \n                                                                                     O\nnativeName   string   The full name expressed as in the native language.             O               \n                                                                                     O\n\n\n# Id Document Object\n\nAs part of KYC information, identification documentation is normally required. The Id Document Object enables documents pertaining to a subject’s identity to be described.\n\n{\n  "idType": "passport",\n  "idNumber": "TEST123456",\n  "issueDate": "2018-11-20",\n  "expiryDate ": "2018-11-20",\n  "issuer": "123456789",\n  "issuerPlace": "London",\n  "issuerCountry": "GB",\n  "otherIdDescription": "Other ID description..."\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                 TYPE     DESCRIPTION                                                        REFERENCE   VALIDATION\nidType               string   Indicates the type of identification for the KYC subject,      M               Enumeration = ID Types\n                              e.g. passport, driving licence etc.                            M\nidNumber             string   Reference pertaining to the type of identification for the     O               \n                              KYC subject.                                                   O\nissueDate            date     Date of issue for the identification document.                 O               \n                                                                                             O\nexpiryDate           date     Date of expiry for the identification document.                O               \n                                                                                             O\nissuer               string   Indicates the organisation/government entity that issued the   O               \n                              ID document.                                                   O\nissuerPlace          string   Place of issue for the identification type.                    O               \n                                                                                             O\nissuerCountry        string   Country where the identification type was issued.              O               Enumeration = ISO Country Codes\n                                                                                             O\notherIdDescription   string   Where an ID Type of ‘otherid’ is specified, a description of   O               \n                              the type of identification can be provided in this field.      O\n\n\n# Address Object\n\nThe address object holds the postal address of the subject. Due to variability of address information in a number of mobile money markets, only country is mandatory.\n\n{\n  "addressLine1": "33 Brow Rd",\n  "addressLine2": "Unit 200",\n  "addressLine3": "Paddock",\n  "city": "Huddersfield",\n  "stateProvince": "West Yorkshire",\n  "postalCode": "HD1 4TP",\n  "country": "GB"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME            TYPE     DESCRIPTION                       REFERENCE   VALIDATION\naddressLine1    string   First line of the address.    O               \n                                                       O\naddressLine2    string   Second line of the address.   O               \n                                                       O\naddressLine3    string   Third line of the address.    O               \n                                                       O\ncity            string   City/Town.                    O               \n                                                       O\nstateProvince   string   State or Province.            O               \n                                                       O\npostalCode      string   Postal Code.                  O               \n                                                       O\ncountry         string   Country                       M               Enumeration = ISO Country Codes\n                                                       M\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                       REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         M               Enumeration = Account Identifiers\n                                                               M\nvalue   string   Provides the account identifier type value.   M               \n                                                               M\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                   REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  M               \n                                                                 M\nfeeAmount     string   Defines the amount of the fee.            M               Please refer to API Fundamentals document for amount\n                                                                 M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   M               Enumeration = ISO Currency Codes\n                                                                 M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nCODE       DESCRIPTION\ntransfer   Transfer of funds between mobile money provider and another\n           provider or financial institution in the same country.\nreversal   Reversal of a prior transaction to return funds to the\n           payer.\n\n\n# ID Types\n\nThe ID Types enumeration contains accepted identification types. Due to the wide international variation in accepted types of identification, a catch-all type of ‘otherid’ is included.\n\nID TYPE                DESCRIPTION\npassport               Payment of bill from a business for goods and/or services.\nnationalregistration   National Registration Number.\nothered                Catch-all for IDs not on the list.\ndrivinglicence         Driving Licence Number.\nsocialsecurity         Social Security Number.\nalienregistration      Alien Registration ID.\nnationalidcard         National Identity Card.\nemployer               Employers Identification.\ntaxid                  Tax Identification Number.\nseniorcitizenscard     Senior Citizens ID Card.\nmarriagecertificate    Marriage Certificate.\nbirthcertificate       Birth Certificate.\nhealthcard             Health Card.\nvotersid               Voters Identification.\nvillageelderletter     Letter of confirmation from village elder.\npancard                Credit/debit card number (Primary Account Number).\nofficialletter         Official letter confirming identity.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.\n\n\n# ISO Country Codes\n\nThe two-character alphabetic code for country as defined by ISO 3166 is to be used for all fields specifying a country or nationality. The full list of codes is maintained by the International Organisation for Standardisation. The list can be obtained via the following website - http://www.iso.org/iso/country_codes.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\np2p transfers can be created, and viewed and updated using transactions apis. the following paths are permitted:\n\npost /transactions/type/transfer. to create a p2p transfer.\n\nget /transactions/{transactionreference}. to view a p2p transfer.\n\nthe following paths are permitted:\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction transaction "1" *-- "0..20" metadata transaction "1" *-- "0..2" kyc information transaction "1" *-- "0..1" international transfer information kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                   \nname                                         type        description                                                           reference             validation\namount                                       string      the transaction amount.                                        m                            please refer to api fundamentals document for amount\n                                                                                                                        m                            validation rules.\ncurrency                                     string      currency of the transaction amount.                            m                            enumeration = iso currency codes\n                                                                                                                        m\ntype                                         string      the harmonised transaction type (not required if passed in     m                            enumeration = transaction types\n                                                         the url)                                                       m\nsubtype                                      string      a non-harmonised sub-classification of the type of             o                            \n                                                         transaction. values are not fixed, and usage will vary         o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   na                           \n                                                         provider.                                                      ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                          \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                          \n                                                         the client.                                                    ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                         \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                         \n                                                         provider                                                       ← o\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                         \n                                                         the response by api provider.                                  ← m\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                         \n                                                         may differ from the transaction reference.                     ← o\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                          \n                                                         to be associated with the transaction.                         ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                          \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\ngeocode                                      string      indicates the geographic location from where the transaction   → o                          \n                                                         was initiated.                                                 ← o\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers   debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                          if creditparty is supplied, then debitparty is optional.\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers   creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                          debitparty is supplied, then creditparty is optional.\nsenderkyc                                    object      a collection of fields detailing the kyc of the transaction    → o    kyc                   \n                                                         sender.                                                        ← o\nrecipientkyc                                 object      a collection of fields detailed the kyc of the transaction     → o    kyc                   \n                                                         recipient.                                                     ← o\noriginaltransactionreference                 string      this field indicates the transaction which is the subject of   → o                          \n                                                         the reversal.                                                  ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                          \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object           \n                                                         to the transaction.                                            ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata              \n                                                         populate additional transaction fields.                        ← o\n\n\n# reversals api\n\nthe reversals api is used to reverse a p2p transfer. the originating transaction reference must be provided in the path to identify the payment to be reversed. for a partial reversal, the amount needs to be supplied.\n\nfor viewing reversals, the transactions api should be used. for performing a reversal without the original transaction reference, use the transactions api.\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\ntip\n\nnote that for performing a reversal without the original transaction reference, please use the transactions api.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nfor viewing or updating reversals, the transactions api should be used.\n\n# reversal uml class diagram\n\nclassdiagram credit party identifier "0..10" --* "" reversal debit party identifier "0..10" --* "" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                         type        description                                                         reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      na                                    \n                                                         the response by api provider.                                  m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    o                                     \n                                                         to be associated with the transaction.                         o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            na                                    \n                                                         transaction which is the subject of the reversal.              m\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    o    account identifiers              \n                                                         be identified. keys include msisdn and wallet identifier.      o\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    o    account identifiers              \n                                                         to be identified. keys include msisdn and wallet identifier.   o\ntype                                         string      the harmonised transaction type                                m                                     enumeration = transaction types note that only reversals and\n                                                                                                                        m                                     refunds (adjustments) are supported.\nsubtype                                      string      a non-harmonised sub-classification of the type of             o                                     \n                                                         transaction. values are not fixed, and usage will vary         o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   na                                    \n                                                         provider.                                                      m\namount                                       string      the transaction amount.                                        o                                     please refer to api fundamentals document for amount\n                                                                                                                        o                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            o                                     enumeration = iso currency codes\n                                                                                                                        o\ndescriptiontext                              string      free format text description of the transaction provided by    o                                     \n                                                         the client. this can be provided as a reference for the        o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     o    fees object                      \n                                                         to the transaction.                                            o\ngeocode                                      string      indicates the geographic location from where the transaction   o                                     \n                                                         was initiated.                                                 o\nrequestingorganisation                       object      the originating organisation of the request.                   o    requesting organisation object   \n                                                                                                                        o\nservicingidentity                            string      the field is used to identify the servicing identity for       o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    na                                    \n                                                         may differ from the transaction reference.                     o\ncreationdate                                 date-time   date and time when the transaction was created by the api      na                                    \n                                                         provider.                                                      o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     na                                    \n                                                         provider.                                                      o\nrequestdate                                  date-time   the date and time of the transaction request as supplied by    o                                     \n                                                         the client.                                                    o\ncustomdata                                   string      a collection of key/value pairs that can be used for           o    custom data object               \n                                                         provider specific fields.                                      o\nmetadata                                     array       a collection of key/value pairs. these can be used to          o    metadata                         \n                                                         populate additional properties that describe administrative    o\n                                                         information regarding the transaction.\n\n\n# accounts apis\n\nusing account apis, an fsp can:\n\n * view transfers for their account with another fsp.\n * view their account balance with another fsp.\n * return the name of the intended recipient of a transfer.\n\n# identifying an fsp account\n\ntwo methods are provided for identifying an fsp account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifiertype}/{identifier} .\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3} .\n\nthe path uses a ‘$’ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by ‘@’.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# account transactions api\n\nan fsp should use this api to return a list of payments transfers against their account. one of the following paths can be used:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nllimit              integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\nooffset             integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram id document "0..10" --* "1" kyc information address "0..1" --* "1" kyc information name "0..1" --* "1" kyc information credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction kyc information "0..2" --* "1" transaction metadata "0..20" --* "1" transaction international transferinformation "0..1" --* "1" transaction transaction "0..*" --* "2" account\n\n\n# account balances api\n\nusing the account balances api, an fsp can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the fsp account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                         reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                na               please refer to api fundamentals document for amount\n                                                                                           o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 o                validation rules.\ncurrency           string   currency for all returned balances.                            na               enumeration = iso currency codes\n                                                                                           o\n\n\n# account holder name api\n\nusing the account holder name api, a sending fsp can retrieve the name of the intended recipient of a transfer. this can then be provided to the sending account holder to confirm the recipient name is correct prior to authorising the transfer.\n\npermitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/accountname\n\nor get /accounts/{account identifiers}/accountname\n\n# account holder name uml class diagram\n\nclassdiagram account holder name "1" --* "1" account\n\n# account holder name object definition\n\n{\n  "name": {\n    "title": "mr",\n    "firstname": "john",\n    "middlename": "alan",\n    "lastname": "doe",\n    "fullname": "john alan doe",\n    "nativename": "john doe"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname   type        description                                                     reference   validation\nname   reference   a collection of fields detailing the name of the primary   na   name        \n                   account holder.                                            o\n\n\n# supporting objects\n\n\n# kyc information object\n\nkyc refers to ‘know your customer’. the kyc object contains a number of fields that enable the identity of subject to be verified. kyc can be provided with transfers for the sending identity and the receiving identity. there are no mandatory kyc object fields.\n\n{\n  "birthcountry": "gb",\n  "dateofbirth": "2000-11-20",\n  "contactphone": "+1234567890",\n  "emailaddress": "example@mail.com",\n  "employername": "employer llc",\n  "gender": "m",\n  "iddocument": [\n    {\n      "idtype": "passport",\n      "idnumber": "test123456"\n    }\n  ],\n  "nationality": "gb",\n  "postaladdress": {\n    "addressline1": "33 brow rd",\n    "addressline2": "unit 200",\n    "addressline3": "paddock",\n    "city": "huddersfield",\n    "stateprovince": "west yorkshire",\n    "postalcode": "hd1 4tp",\n    "country": "gb"\n  },\n  "occupation": "manager"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname            type     description                                                     reference     validation\nbirthcountry    string   the country of birth of the kyc subject.                    o                 enumeration = iso country codes\n                                                                                     o\ndateofbirth     date     birth date of the kyc subject.                              o                 \n                                                                                     o\ncontactphone    string   contact phone number (mobile or landline) of the kyc        o                 must contain between 6 and 15 consecutive digits\n                         subject.                                                    o                 first character can contain a ‘+’ or digit\n                                                                                                       can contain spaces.\nemailaddress    string   email address of the kyc subject.                           o                 \n                                                                                     o\nemployername    string   employer name of the kyc subject.                           o                 \n                                                                                     o\ngender          string   gender of the kyc object.                                   o                 length=1, enumeration = (m)ale, (f)emale, (u)nspecified\n                                                                                     o\niddocument      array    an array of fields containing the forms of identification   o   id document   \n                         that are associated with the subject.                       o\nnationality     string   nationality of the kyc subject.                             o                 enumeration = iso country codes\n                                                                                     o\npostaladdress   object   a collection of fields that details the postal address of   o   address       \n                         the kyc subject.                                            o\noccupation      string   occupation of the kyc subject.                              o                 \n                                                                                     o\n\n\n# name object\n\nthe name object identifies the name details for the subject identity.\n\n{\n  "title": "mr",\n  "firstname": "john",\n  "middlename": "alan",\n  "lastname": "doe",\n  "fullname": "john alan doe",\n  "nativename": "john doe"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname         type     description                                                        reference   validation\ntitle        string   the given title of the kyc subject, e.g. mr, mrs, dr.          o               \n                                                                                     o\nfirstname    string   first name (also referred to as given name) of the kyc         o               \n                      subject.                                                       o\nmiddlename   string   middle name of the kyc subject.                                o               \n                                                                                     o\nlastname     string   surname (also referred to as last or family name) of the kyc   o               \n                      subject.                                                       o\nfullname     string   the full name of the kyc subject.                              o               \n                                                                                     o\nnativename   string   the full name expressed as in the native language.             o               \n                                                                                     o\n\n\n# id document object\n\nas part of kyc information, identification documentation is normally required. the id document object enables documents pertaining to a subject’s identity to be described.\n\n{\n  "idtype": "passport",\n  "idnumber": "test123456",\n  "issuedate": "2018-11-20",\n  "expirydate ": "2018-11-20",\n  "issuer": "123456789",\n  "issuerplace": "london",\n  "issuercountry": "gb",\n  "otheriddescription": "other id description..."\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                 type     description                                                        reference   validation\nidtype               string   indicates the type of identification for the kyc subject,      m               enumeration = id types\n                              e.g. passport, driving licence etc.                            m\nidnumber             string   reference pertaining to the type of identification for the     o               \n                              kyc subject.                                                   o\nissuedate            date     date of issue for the identification document.                 o               \n                                                                                             o\nexpirydate           date     date of expiry for the identification document.                o               \n                                                                                             o\nissuer               string   indicates the organisation/government entity that issued the   o               \n                              id document.                                                   o\nissuerplace          string   place of issue for the identification type.                    o               \n                                                                                             o\nissuercountry        string   country where the identification type was issued.              o               enumeration = iso country codes\n                                                                                             o\notheriddescription   string   where an id type of ‘otherid’ is specified, a description of   o               \n                              the type of identification can be provided in this field.      o\n\n\n# address object\n\nthe address object holds the postal address of the subject. due to variability of address information in a number of mobile money markets, only country is mandatory.\n\n{\n  "addressline1": "33 brow rd",\n  "addressline2": "unit 200",\n  "addressline3": "paddock",\n  "city": "huddersfield",\n  "stateprovince": "west yorkshire",\n  "postalcode": "hd1 4tp",\n  "country": "gb"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname            type     description                       reference   validation\naddressline1    string   first line of the address.    o               \n                                                       o\naddressline2    string   second line of the address.   o               \n                                                       o\naddressline3    string   third line of the address.    o               \n                                                       o\ncity            string   city/town.                    o               \n                                                       o\nstateprovince   string   state or province.            o               \n                                                       o\npostalcode      string   postal code.                  o               \n                                                       o\ncountry         string   country                       m               enumeration = iso country codes\n                                                       m\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                       reference   validation\nkey     string   provides the account identifier type.         m               enumeration = account identifiers\n                                                               m\nvalue   string   provides the account identifier type value.   m               \n                                                               m\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                   reference   validation\nfeetype       string   defines the type of fee.                  m               \n                                                                 m\nfeeamount     string   defines the amount of the fee.            m               please refer to api fundamentals document for amount\n                                                                 m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   m               enumeration = iso currency codes\n                                                                 m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\ncode       description\ntransfer   transfer of funds between mobile money provider and another\n           provider or financial institution in the same country.\nreversal   reversal of a prior transaction to return funds to the\n           payer.\n\n\n# id types\n\nthe id types enumeration contains accepted identification types. due to the wide international variation in accepted types of identification, a catch-all type of ‘otherid’ is included.\n\nid type                description\npassport               payment of bill from a business for goods and/or services.\nnationalregistration   national registration number.\nothered                catch-all for ids not on the list.\ndrivinglicence         driving licence number.\nsocialsecurity         social security number.\nalienregistration      alien registration id.\nnationalidcard         national identity card.\nemployer               employers identification.\ntaxid                  tax identification number.\nseniorcitizenscard     senior citizens id card.\nmarriagecertificate    marriage certificate.\nbirthcertificate       birth certificate.\nhealthcard             health card.\nvotersid               voters identification.\nvillageelderletter     letter of confirmation from village elder.\npancard                credit/debit card number (primary account number).\nofficialletter         official letter confirming identity.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.\n\n\n# iso country codes\n\nthe two-character alphabetic code for country as defined by iso 3166 is to be used for all fields specifying a country or nationality. the full list of codes is maintained by the international organisation for standardisation. the list can be obtained via the following website - http://www.iso.org/iso/country_codes.',charsets:{}},{title:"P2P Transfers - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"P2P Transfers - Open OAS UI"},regularPath:"/use-cases/p-2-p-transfers/p2p-transfers-open-oas-ui.html",relativePath:"use-cases/p-2-p-transfers/p2p-transfers-open-oas-ui.md",key:"v-dd0cae90",path:"/use-cases/p-2-p-transfers/p2p-transfers-open-oas-ui.html",headers:[{level:2,title:"P2P Transfers - Open OAS UI",slug:"p2p-transfers-open-oas-ui",normalizedTitle:"p2p transfers - open oas ui",charIndex:0}],headersStr:"P2P Transfers - Open OAS UI",content:"# P2P Transfers - Open OAS UI",normalizedContent:"# p2p transfers - open oas ui",charsets:{}},{title:"P2P Transfers - Use Сase Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"P2P Transfers - Use Сase Scenarios"},regularPath:"/use-cases/p-2-p-transfers/scenarios/scenarios.html",relativePath:"use-cases/p-2-p-transfers/scenarios/scenarios.md",key:"v-2f26d510",path:"/use-cases/p-2-p-transfers/scenarios/scenarios.html",headers:[{level:2,title:"P2P Transfer via Switch",slug:"p2p-transfer-via-switch",normalizedTitle:"p2p transfer via switch",charIndex:599},{level:2,title:"Bilateral P2P Transfer",slug:"bilateral-p2p-transfer",normalizedTitle:"bilateral p2p transfer",charIndex:6273},{level:2,title:"‘On-us’ P2P Transfer Initiated by a Third Party Provider",slug:"on-us-p2p-transfer-initiated-by-a-third-party-provider",normalizedTitle:"‘on-us’ p2p transfer initiated by a third party provider",charIndex:8694},{level:2,title:"P2P Transfer Failure",slug:"p2p-transfer-failure",normalizedTitle:"p2p transfer failure",charIndex:13062},{level:2,title:"P2P Transfer Reversal",slug:"p2p-transfer-reversal",normalizedTitle:"p2p transfer reversal",charIndex:14417},{level:2,title:"Obtain an FSP Balance",slug:"obtain-an-fsp-balance",normalizedTitle:"obtain an fsp balance",charIndex:15929},{level:2,title:"Retrieve Transactions for an FSP",slug:"retrieve-transactions-for-an-fsp",normalizedTitle:"retrieve transactions for an fsp",charIndex:16471},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:17769},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:18549}],headersStr:"P2P Transfer via Switch Bilateral P2P Transfer ‘On-us’ P2P Transfer Initiated by a Third Party Provider P2P Transfer Failure P2P Transfer Reversal Obtain an FSP Balance Retrieve Transactions for an FSP Check for Service Availability Retrieve a Missing API Response",content:'# About Use Сase Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# P2P Transfer via Switch\n\nIn this diagram, a switch is used by the sending FSP to (1) confirm the recipient name, (2) request a quotation and and to(3) perform the transfer with the receiving FSP. A callback is provided by the receiving FSP to return confirmation of the transfer.\n\n \n\n\nGET .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../quotations\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestAmount": "75.30",\n    "requestCurrency": "RWF",\n  "requestDate": "2017-07-21T17:32:28Z",\n    "type": "transfer",\n    "subType": "abc",\n    "chosenDeliveryMethod": "directtoaccount",\n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/transfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "100.00",\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "GBP",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationalTransferInformation": {\n        "originCountry": "AD",\n        "quotationReference": "{{quotationReference}}",\n        "quoteId": "{{quoteId}}",\n        "remittancePurpose": "personal",\n        "deliveryMethod": "agent"\n   },    \n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "testorganisation"\n  }\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Switch participant Receiving FSP Sending FSP->>Switch: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (1) The Sending FSP retrieves the name of the intended\nrecipient from the Receiving FSP via the Switch. Switch->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname Receiving FSP--\x3e>Switch: HTTP 200 (Account Holder Name Object) Switch--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Sending FSP deactivate Switch deactivate Receiving FSP Sending FSP->>Switch: POST /quotations activate Sending FSP activate Switch activate Receiving FSP Note right of Switch: (2) Subject to sender confirmation of the name returned in step 1, the Sending FSP\nsubmits a quotation request to the Switch. The Switch will return the Request\nState object to indicate that the request is \'pending\'. Switch->>Receiving FSP: POST /quotations Note right of Receiving FSP: (3) The Swith in turn submits the quotation request to the\nReceiving FSP. The Receiving FSP will return the\nRequest State object to indicate that the request is\n\'pending\'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Switch Receiving FSP->>Switch: PUT {Callback URL} (Quotations Object) activate Switch activate Sending FSP Note right of Receiving FSP: (4) The FSP informs the Switch that the quotation\nhas been successfully created by returning the\nfinal representation of the quotation. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Quotations Object) Note right of Switch: (5) The Swith in turn informs the Sending FSP that the quotation\nhas successfully created by returning the final representation\nof the quotation. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP Sending FSP->>Switch: POST /transactions/type/transfer activate Switch activate Sending FSP activate Receiving FSP Note right of Switch: (6) Subject to sender confirmation, the Sending FSP submits a transfer\nrequest to the Swith. The Switch will return the Request State object to\nindicate that the request is \'pending\'. Switch->>Receiving FSP: POST /transactions/type/transfer Note right of Receiving FSP: (7) The Switch in turn submits the transaction request to the\nReceiving FSP. The Receiving FSP will return the\nRequest State object to indicate that the request is\n\'pending\'. Receiving FSP--\x3e>Switch: HTTP 202 (Request State Object) Switch--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Switch deactivate Sending FSP Receiving FSP->>Switch: PUT {Callback URL} (Transactions Object) activate Switch activate Sending FSP Note right of Receiving FSP: (8) The FSP informs the Switch that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Switch--\x3e>Receiving FSP: HTTP 204 deactivate Receiving FSP Switch->>Sending FSP: PUT {Callback URL} (Transactions Object) Note right of Switch: (9) The Swith in turn informs the Sending FSP that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Sending FSP--\x3e>Switch: HTTP 204 deactivate Switch deactivate Sending FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Bilateral P2P Transfer\n\nIn this diagram, the sending FSP connects directly with the receiving FSP to confirm the recipient name and to perform the transfer. A callback is provided by the receiving FSP to return confirmation of the transfer. In this example, a quotation is not requested.\n\n \n\n\nGET .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/transfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "100.00",\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "GBP",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "testorganisation"\n  }\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is "pending". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Transaction Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been succesfully completed by\nreturning the final representation of the transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# ‘On-us’ P2P Transfer Initiated by a Third Party Provider\n\nIn this diagram, A third party provider enables a sender to transfer money to a recipient in the same FSP. The third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the FSP. A callback is provided by the FSP to return confirmation of the transfer.\n\n \n\n\nGET .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../quotations\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestAmount": "75.30",\n    "requestCurrency": "RWF",\n  "requestDate": "2017-07-21T17:32:28Z",\n    "type": "transfer",\n    "subType": "abc",\n    "chosenDeliveryMethod": "directtoaccount",\n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/transfer\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "100.00",\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "GBP",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationalTransferInformation": {\n        "originCountry": "AD",\n        "quotationReference": "{{quotationReference}}",\n        "quoteId": "{{quoteId}}",\n        "remittancePurpose": "personal",\n        "deliveryMethod": "agent"\n   },    \n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "testorganisation"\n  }\n}\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Third Party Provider participant FSP Third Party Provider->>FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Third Party Provider activate FSP Note right of FSP: (1) The Third Party Provider retrieves the name of the\nintended recipient from the FSP. FSP--\x3e>Third Party Provider: HTTP 200 (Account Holder Name Object) deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /quotations activate Third Party Provider activate FSP Note right of FSP: (2) Subject to sender confirmation, the Third Party Provider\nsubmits a quotation request. The FSP will return the\nRequest State object to indicate that the request is\n\'pending\'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Quotations Object) activate Third Party Provider activate FSP Note right of FSP: (3) The FSP in turn informs the Third Party Provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP Third Party Provider->>FSP: POST /transactions/type/transfer activate Third Party Provider activate FSP Note right of FSP: (4) Subject to sender confirmation, the Third Party Provider\nsubmits a transfer request. The FSP will return the\nRequest State object to indicate that the request is\n\'pending\'. Third Party Provider--\x3e>FSP: HTTP 202 (Request State Object) deactivate Third Party Provider deactivate FSP FSP->>Third Party Provider: PUT {Callback URL} (Transactions Object) activate Third Party Provider activate FSP Note right of FSP: (5) The FSP in turn informs the Third Party Provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. Third Party Provider--\x3e>FSP: HTTP 204 deactivate Third Party Provider deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# P2P Transfer Failure\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /accounts/{identifierType}/{identifier}/accountname activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP retrieves the name of the\nintended recipient from the Receiving FSP. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Account Holder Name Object) deactivate Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/type/transfer activate Receiving FSP Note right of Receiving FSP: (2) Subject to sender confirmation, the Sending FSP\nsubmits a transfer request. The Receiving FSP will\nreturn the Request State object to indicate that the\nrequest is "pending". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) deactivate Sending FSP deactivate Receiving FSP Receiving FSP->>Sending FSP: PUT {Callback URL} (Error Object) activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (3) The FSP in turn informs the Sending FSP that the\ntransation has been failed by returning an Error\nobject containing the reason for failure. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP\n\n\n# P2P Transfer Reversal\n\nIn some failure scenarios, a transfer may need to be reversed. This diagram illustrates an reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: POST /transactions/{original transaction reference}/reversals activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) The Sending FSP submits the reversal request for\nprocessing to the Receiving FSP - passing the reference of\nthe transaction that is to bve reversed. The Receiving FSP\nwill return the Request State object to indicate the the\nrequest is "pending". Receiving FSP--\x3e>Sending FSP: HTTP 202 (Request State Object) Receiving FSP->>Sending FSP: PUT {Callback URL} (Reversal Object) Note right of Receiving FSP: (2) The Receiving FSP informs the Sending FSP\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. Sending FSP--\x3e>Receiving FSP: HTTP 204 deactivate Sending FSP deactivate Receiving FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain an FSP Balance\n\n \n\n\nGET .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/balance activate Requesting FSP activate FSP Note right of FSP: (1) Obtain the balance of the\nRequesting FSP\'s account. FSP--\x3e>Requesting FSP: HTTP 200 (Balance Object) deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Transactions for an FSP\n\nThis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting FSP via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests up to\n20 transactions for their account\nfrom the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of FSP: (2) The FSP returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. Requesting FSP->>FSP: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of FSP: (3) The Requesting FSP requests the\nremaining transactions from the\naccount from the Receiving FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Requesting FSP participant FSP Requesting FSP->>FSP: GET /heartbeat activate Requesting FSP activate FSP Note right of FSP: (1) The Requesting FSP requests the\navailability of the service from the FSP. FSP--\x3e>Requesting FSP: HTTP 200 (Heartbeat Object) Note right of FSP: (2) The FSP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Requesting FSP deactivate FSP\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the sending FSP to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the receiving FSP.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nsequenceDiagram participant Sending FSP participant Receiving FSP Sending FSP->>Receiving FSP: GET /responses{clientCorrelationId} activate Sending FSP activate Receiving FSP Note right of Receiving FSP: (1) Using the Sending FSP\'s\nclientCorrelationId, a request for the\nmissing API response is sent. Sending FSP--\x3e>Receiving FSP: HTTP 200 (Responses Object) Note right of Receiving FSP: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Sending FSP->>Receiving FSP: GET /{link} Note right of Receiving FSP: (3) The Sending FSP uses the link to\nobtain a representation of the missing\nresource. Receiving FSP--\x3e>Sending FSP: HTTP 200 (Requested Object) deactivate Receiving FSP deactivate Sending FSP\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use сase scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# p2p transfer via switch\n\nin this diagram, a switch is used by the sending fsp to (1) confirm the recipient name, (2) request a quotation and and to(3) perform the transfer with the receiving fsp. a callback is provided by the receiving fsp to return confirmation of the transfer.\n\n \n\n\nget .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../quotations\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestamount": "75.30",\n    "requestcurrency": "rwf",\n  "requestdate": "2017-07-21t17:32:28z",\n    "type": "transfer",\n    "subtype": "abc",\n    "chosendeliverymethod": "directtoaccount",\n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/transfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "100.00",\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "gbp",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationaltransferinformation": {\n        "origincountry": "ad",\n        "quotationreference": "{{quotationreference}}",\n        "quoteid": "{{quoteid}}",\n        "remittancepurpose": "personal",\n        "deliverymethod": "agent"\n   },    \n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "testorganisation"\n  }\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant switch participant receiving fsp sending fsp->>switch: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate switch activate receiving fsp note right of switch: (1) the sending fsp retrieves the name of the intended\nrecipient from the receiving fsp via the switch. switch->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname receiving fsp--\x3e>switch: http 200 (account holder name object) switch--\x3e>sending fsp: http 200 (account holder name object) deactivate sending fsp deactivate switch deactivate receiving fsp sending fsp->>switch: post /quotations activate sending fsp activate switch activate receiving fsp note right of switch: (2) subject to sender confirmation of the name returned in step 1, the sending fsp\nsubmits a quotation request to the switch. the switch will return the request\nstate object to indicate that the request is \'pending\'. switch->>receiving fsp: post /quotations note right of receiving fsp: (3) the swith in turn submits the quotation request to the\nreceiving fsp. the receiving fsp will return the\nrequest state object to indicate that the request is\n\'pending\'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate switch receiving fsp->>switch: put {callback url} (quotations object) activate switch activate sending fsp note right of receiving fsp: (4) the fsp informs the switch that the quotation\nhas been successfully created by returning the\nfinal representation of the quotation. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (quotations object) note right of switch: (5) the swith in turn informs the sending fsp that the quotation\nhas successfully created by returning the final representation\nof the quotation. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp sending fsp->>switch: post /transactions/type/transfer activate switch activate sending fsp activate receiving fsp note right of switch: (6) subject to sender confirmation, the sending fsp submits a transfer\nrequest to the swith. the switch will return the request state object to\nindicate that the request is \'pending\'. switch->>receiving fsp: post /transactions/type/transfer note right of receiving fsp: (7) the switch in turn submits the transaction request to the\nreceiving fsp. the receiving fsp will return the\nrequest state object to indicate that the request is\n\'pending\'. receiving fsp--\x3e>switch: http 202 (request state object) switch--\x3e>sending fsp: http 202 (request state object) deactivate switch deactivate sending fsp receiving fsp->>switch: put {callback url} (transactions object) activate switch activate sending fsp note right of receiving fsp: (8) the fsp informs the switch that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. switch--\x3e>receiving fsp: http 204 deactivate receiving fsp switch->>sending fsp: put {callback url} (transactions object) note right of switch: (9) the swith in turn informs the sending fsp that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. sending fsp--\x3e>switch: http 204 deactivate switch deactivate sending fsp\nopen postman collection open postman collection with authentication\n\n\n# bilateral p2p transfer\n\nin this diagram, the sending fsp connects directly with the receiving fsp to confirm the recipient name and to perform the transfer. a callback is provided by the receiving fsp to return confirmation of the transfer. in this example, a quotation is not requested.\n\n \n\n\nget .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/transfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "100.00",\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "gbp",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "testorganisation"\n  }\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is "pending". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (transaction object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been succesfully completed by\nreturning the final representation of the transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# ‘on-us’ p2p transfer initiated by a third party provider\n\nin this diagram, a third party provider enables a sender to transfer money to a recipient in the same fsp. the third party provider (1) confirms the recipient name, (2) requests a quotation and (3) performs the transfer with the fsp. a callback is provided by the fsp to return confirmation of the transfer.\n\n \n\n\nget .../accounts/accountid/2000/accountname\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../quotations\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "requestamount": "75.30",\n    "requestcurrency": "rwf",\n  "requestdate": "2017-07-21t17:32:28z",\n    "type": "transfer",\n    "subtype": "abc",\n    "chosendeliverymethod": "directtoaccount",\n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]\n}\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/transfer\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "100.00",\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2000"\n        }\n    ],\n    "currency": "gbp",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "internationaltransferinformation": {\n        "origincountry": "ad",\n        "quotationreference": "{{quotationreference}}",\n        "quoteid": "{{quoteid}}",\n        "remittancepurpose": "personal",\n        "deliverymethod": "agent"\n   },    \n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "testorganisation"\n  }\n}\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant third party provider participant fsp third party provider->>fsp: get /accounts/{identifiertype}/{identifier}/accountname activate third party provider activate fsp note right of fsp: (1) the third party provider retrieves the name of the\nintended recipient from the fsp. fsp--\x3e>third party provider: http 200 (account holder name object) deactivate third party provider deactivate fsp third party provider->>fsp: post /quotations activate third party provider activate fsp note right of fsp: (2) subject to sender confirmation, the third party provider\nsubmits a quotation request. the fsp will return the\nrequest state object to indicate that the request is\n\'pending\'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (quotations object) activate third party provider activate fsp note right of fsp: (3) the fsp in turn informs the third party provider that\nthe quotation has been successfully completed by\nreturning the final representation of the quotation. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp third party provider->>fsp: post /transactions/type/transfer activate third party provider activate fsp note right of fsp: (4) subject to sender confirmation, the third party provider\nsubmits a transfer request. the fsp will return the\nrequest state object to indicate that the request is\n\'pending\'. third party provider--\x3e>fsp: http 202 (request state object) deactivate third party provider deactivate fsp fsp->>third party provider: put {callback url} (transactions object) activate third party provider activate fsp note right of fsp: (5) the fsp in turn informs the third party provider that\nthe transaction has been successfully completed by\nreturning the final representation of the transaction. third party provider--\x3e>fsp: http 204 deactivate third party provider deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# p2p transfer failure\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /accounts/{identifiertype}/{identifier}/accountname activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp retrieves the name of the\nintended recipient from the receiving fsp. receiving fsp--\x3e>sending fsp: http 200 (account holder name object) deactivate receiving fsp sending fsp->>receiving fsp: post /transactions/type/transfer activate receiving fsp note right of receiving fsp: (2) subject to sender confirmation, the sending fsp\nsubmits a transfer request. the receiving fsp will\nreturn the request state object to indicate that the\nrequest is "pending". receiving fsp--\x3e>sending fsp: http 202 (request state object) deactivate sending fsp deactivate receiving fsp receiving fsp->>sending fsp: put {callback url} (error object) activate sending fsp activate receiving fsp note right of receiving fsp: (3) the fsp in turn informs the sending fsp that the\ntransation has been failed by returning an error\nobject containing the reason for failure. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp\n\n\n# p2p transfer reversal\n\nin some failure scenarios, a transfer may need to be reversed. this diagram illustrates an reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: post /transactions/{original transaction reference}/reversals activate sending fsp activate receiving fsp note right of receiving fsp: (1) the sending fsp submits the reversal request for\nprocessing to the receiving fsp - passing the reference of\nthe transaction that is to bve reversed. the receiving fsp\nwill return the request state object to indicate the the\nrequest is "pending". receiving fsp--\x3e>sending fsp: http 202 (request state object) receiving fsp->>sending fsp: put {callback url} (reversal object) note right of receiving fsp: (2) the receiving fsp informs the sending fsp\nthat the reversal has been successully\ncompleted by returning the final representation\nof the reversal transaction. sending fsp--\x3e>receiving fsp: http 204 deactivate sending fsp deactivate receiving fsp\nopen postman collection open postman collection with authentication\n\n\n# obtain an fsp balance\n\n \n\n\nget .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/balance activate requesting fsp activate fsp note right of fsp: (1) obtain the balance of the\nrequesting fsp\'s account. fsp--\x3e>requesting fsp: http 200 (balance object) deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# retrieve transactions for an fsp\n\nthis diagram illustrates use of a cursor mechanism to retrieve all transactions for a sending requesting fsp via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests up to\n20 transactions for their account\nfrom the fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) note right of fsp: (2) the fsp returns an array of 20\ntransactions and indicates via a\nresponse header that there are 40\nrecords available in total. requesting fsp->>fsp: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of fsp: (3) the requesting fsp requests the\nremaining transactions from the\naccount from the receiving fsp. fsp--\x3e>requesting fsp: http 200 (transactions array) (x-records-available-count=40) deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant requesting fsp participant fsp requesting fsp->>fsp: get /heartbeat activate requesting fsp activate fsp note right of fsp: (1) the requesting fsp requests the\navailability of the service from the fsp. fsp--\x3e>requesting fsp: http 200 (heartbeat object) note right of fsp: (2) the fsp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate requesting fsp deactivate fsp\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the sending fsp to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the receiving fsp.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nsequencediagram participant sending fsp participant receiving fsp sending fsp->>receiving fsp: get /responses{clientcorrelationid} activate sending fsp activate receiving fsp note right of receiving fsp: (1) using the sending fsp\'s\nclientcorrelationid, a request for the\nmissing api response is sent. sending fsp--\x3e>receiving fsp: http 200 (responses object) note right of receiving fsp: (2) a responses object is returned\ncontaining a link to the missing\nresource. sending fsp->>receiving fsp: get /{link} note right of receiving fsp: (3) the sending fsp uses the link to\nobtain a representation of the missing\nresource. receiving fsp--\x3e>sending fsp: http 200 (requested object) deactivate receiving fsp deactivate sending fsp\nopen postman collection open postman collection with authentication',charsets:{cyrillic:!0}},{title:"Recurring Payments - API Service Definition",frontmatter:{pageClass:"api-page has-code-panel",title:"Recurring Payments - API Service Definition"},regularPath:"/use-cases/recurring-payments/api-service-definition.html",relativePath:"use-cases/recurring-payments/api-service-definition.md",key:"v-7d05d150",path:"/use-cases/recurring-payments/api-service-definition.html",headers:[{level:2,title:"API Endpoints",slug:"api-endpoints",normalizedTitle:"api endpoints",charIndex:27},{level:3,title:"Transactions API",slug:"transactions-api",normalizedTitle:"transactions api",charIndex:817},{level:4,title:"Transaction UML Class Diagram",slug:"transaction-uml-class-diagram",normalizedTitle:"transaction uml class diagram",charIndex:2570},{level:4,title:"Transaction Object Definition",slug:"transaction-object-definition",normalizedTitle:"transaction object definition",charIndex:3013},{level:3,title:"Reversals API",slug:"reversals-api",normalizedTitle:"reversals api",charIndex:12303},{level:4,title:"Reversal UML Class Diagram",slug:"reversal-uml-class-diagram",normalizedTitle:"reversal uml class diagram",charIndex:13189},{level:4,title:"Reversal Object Definition",slug:"reversal-object-definition",normalizedTitle:"reversal object definition",charIndex:13416},{level:3,title:"Accounts APIs",slug:"accounts-apis",normalizedTitle:"accounts apis",charIndex:21813},{level:4,title:"Identifying a Service Provider Account",slug:"identifying-a-service-provider-account",normalizedTitle:"identifying a service provider account",charIndex:21951},{level:5,title:"Single Identifier Method",slug:"single-identifier-method",normalizedTitle:"single identifier method",charIndex:22130},{level:5,title:"Multiple Identifiers Method",slug:"multiple-identifiers-method",normalizedTitle:"multiple identifiers method",charIndex:22315},{level:3,title:"Account Transactions API",slug:"account-transactions-api",normalizedTitle:"account transactions api",charIndex:22814},{level:4,title:"Account Transaction UML Class Diagram",slug:"account-transaction-uml-class-diagram",normalizedTitle:"account transaction uml class diagram",charIndex:24943},{level:3,title:"Account Balances API",slug:"account-balances-api",normalizedTitle:"account balances api",charIndex:25429},{level:4,title:"Account Balance UML Class Diagram",slug:"account-balance-uml-class-diagram",normalizedTitle:"account balance uml class diagram",charIndex:25782},{level:4,title:"Account Balance Object Definition",slug:"account-balance-object-definition",normalizedTitle:"account balance object definition",charIndex:25869},{level:3,title:"Debit Mandates API",slug:"debit-mandates-api",normalizedTitle:"debit mandates api",charIndex:28419},{level:4,title:"Debit Mandate UML Class Diagram",slug:"debit-mandate-uml-class-diagram",normalizedTitle:"debit mandate uml class diagram",charIndex:29974},{level:4,title:"Debit Mandate Object Definition",slug:"debit-mandate-object-definition",normalizedTitle:"debit mandate object definition",charIndex:30156},{level:2,title:"Supporting Objects",slug:"supporting-objects",normalizedTitle:"supporting objects",charIndex:34816},{level:3,title:"Account Identifiers Object",slug:"account-identifiers-object",normalizedTitle:"account identifiers object",charIndex:34839},{level:3,title:"Metadata Object",slug:"metadata-object",normalizedTitle:"metadata object",charIndex:35748},{level:3,title:"Custom Data Object",slug:"custom-data-object",normalizedTitle:"custom data object",charIndex:36591},{level:3,title:"Fees Object",slug:"fees-object",normalizedTitle:"fees object",charIndex:37418},{level:3,title:"Requesting Organisation Object",slug:"requesting-organisation-object",normalizedTitle:"requesting organisation object",charIndex:38324},{level:2,title:"Enumerations",slug:"enumerations",normalizedTitle:"enumerations",charIndex:39216},{level:3,title:"ISO Currency Codes",slug:"iso-currency-codes",normalizedTitle:"iso currency codes",charIndex:39233},{level:3,title:"Transaction Types",slug:"transaction-types",normalizedTitle:"transaction types",charIndex:39610},{level:3,title:"Account Identifiers",slug:"account-identifiers",normalizedTitle:"account identifiers",charIndex:34839},{level:3,title:"Frequency Type",slug:"frequency-type",normalizedTitle:"frequency type",charIndex:45813}],headersStr:"API Endpoints Transactions API Transaction UML Class Diagram Transaction Object Definition Reversals API Reversal UML Class Diagram Reversal Object Definition Accounts APIs Identifying a Service Provider Account Single Identifier Method Multiple Identifiers Method Account Transactions API Account Transaction UML Class Diagram Account Balances API Account Balance UML Class Diagram Account Balance Object Definition Debit Mandates API Debit Mandate UML Class Diagram Debit Mandate Object Definition Supporting Objects Account Identifiers Object Metadata Object Custom Data Object Fees Object Requesting Organisation Object Enumerations ISO Currency Codes Transaction Types Account Identifiers Frequency Type",content:'# API Service Definition\n\n\n# API Endpoints\n\nAPI endpoint fields are described in this specification as follows:\n\n * The field name.\n * The field type.\n * Description of the field.\n * Optionality of the field, i.e. whether the field must be supplied. Optionality is identified as per follows:\n\n→  Request optionality\n\n←  Response optionality\n\nO  Field is optional\n\nM  Field is mandatory\n\nC  Field is conditional\n\nNA  Field does not need to be supplied. If supplied, it will be ignored.\n\n\n * Reference where the fields is a acollection/n array and/or is defined by another object.\n * Validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\nTIP\n\nPlease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# Transactions API\n\nThe transaction APIs can be used by the service provider to take a payment from a payer’s account. The payer will have previously provided authorisation for payments to be taken as per an agreed payment mandate.\n\nThe following paths are permitted:\n\n * POST /transactions/type/merchantpay. To take a payment from a payer’s account.\n * POST /transactions/type/adjustment. To issue a refund to the payer.\n * GET /transactions/{transactionReference}. To view a payment.\n\nTransactions fields that are not applicable for recurring payments have been omitted.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nBody Parameters:\n{\n  "amount":"5.00",\n  "currency":"GBP",\n  "debitParty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditParty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nGET .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\nPATCH .../transactions/36125b528237\n---\nBody Parameters:\n{\n  "transactionStatus":"completed"\n}\n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nOPERATION   PATH                                         DESCRIPTION\nCreate      POST /transactions/type/{transactiontype}    To be used for transaction creation when the provider’s API\n                                                         Gateway requires that the transaction type be identified in\n                                                         the URL.\nView        GET /transactions/{transactionReference}     To view a transaction.\nUpdate      PATCH /transactions/{transactionReference}   To update the transactionStatus of a transaction.\n\n# Transaction UML Class Diagram\n\nclassDiagram Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction Transaction "1" *-- "0..20" Metadata Transaction "1" *-- "0..2" KYC Information Transaction "1" *-- "0..1" International Transfer Information KYC Information "1" *-- "0..10" ID Document KYC Information "1" *-- "0..1" Address KYC Information "1" *-- "0..1" Name\n\n# Transaction Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nTRANSACTION OBJECT                                                                                                                                              \nName                                         Type        Description                                                           Reference                        Validation\ntransactionReference                         string      Unique reference for the transaction. This is returned in      → NA                                    \n                                                         the response by API provider.                                  ← M\nrequestingOrganisationTransactionReference   string      A reference provided by the requesting organisation that is    → O                                     \n                                                         to be associated with the transaction.                         ← O\noriginalTransactionReference                 string      For reversals and refunds, this field indicates the            → O                                     \n                                                         transaction which is the subject of the reversal.              ← O\ncreditParty                                  array       A series of key/value pairs that enable the credit party to    → C    Account Identifiers              creditParty must be supplied if debitParty is omitted. If\n                                                         be identified. Keys include MSISDN and Wallet Identifier.      ← C                                     debitParty is supplied, then creditParty is optional.\ndebitParty                                   array       A collection of key/value pairs that enable the debit party    → C    Account Identifiers              debitParty must be supplied if creditParty is omitted.\n                                                         to be identified. Keys include MSISDN and Wallet Identifier.   ← C                                     If creditParty is supplied, then debitParty is optional.\ntype                                         string      The harmonised Transaction Type (not required if passed in     → M                                     Enumeration = Transaction Types\n                                                         the URL)                                                       ← M\nsubType                                      string      A non-harmonised sub-classification of the type of             → O                                     \n                                                         transaction. Values are not fixed, and usage will vary         ← O\n                                                         according to Provider.\ntransactionStatus                            string      Indicates the status of the transaction as stored by the API   → NA                                    \n                                                         provider.                                                      ← M\namount                                       string      The transaction amount.                                        → M                                     Please refer to API Fundamentals document for amount\n                                                                                                                        ← M                                     validation rules.\ncurrency                                     string      Currency of the transaction amount.                            → M                                     Enumeration = ISO Currency Codes\n                                                                                                                        ← M\ndescriptionText                              string      Free format text description of the transaction provided by    → O                                     \n                                                         the client. This can be provided as a reference for the        ← O\n                                                         receiver on a notification SMS and on an account statement.\nfees                                         array       Allows the passing and/or returning of all fees pertaining     → O    Fees Object                      \n                                                         to the transaction.                                            ← O\ngeoCode                                      string      Indicates the geographic location from where the transaction   → O                                     \n                                                         was initiated.                                                 ← O\noneTimeCode                                  string      A one-time code that can be supplied in the request or can     → O                                     \n                                                         be generated in the response depending upon the use case. An   ← O\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingOrganisation                       object      The originating organisation of the request.                   → O    Requesting Organisation Object   \n                                                                                                                        ← O\nservicingIdentity                            string      The field is used to identify the servicing identity for       → O                                     \n                                                         transactions, e.g. till, POS ID, assistant ID.                 ← O\ntransactionReceipt                           string      Transaction receipt number as notified to the parties. This    → NA                                    \n                                                         may differ from the Transaction Reference.                     ← O\ncreationDate                                 date-time   Date and time when the transaction was created by the API      → NA                                    \n                                                         Provider                                                       ← O\nmodificationDate                             date-time   Date and time when the transaction was modified by the API     → NA                                    \n                                                         Provider                                                       ← O\nrequestDate                                  date-time   The creation date and time of the transaction as supplied by   → O                                     \n                                                         the client.                                                    ← O\ncustomData                                   string      A collection of key/value pairs that can be used for           → O    Custom Data Object               \n                                                         provider specific fields.                                      ← O\nmetadata                                     array       A collection of key/value pairs. These can be used to          → O    Metadata                         \n                                                         populate additional transaction fields.                        ← O\n\nTIP\n\nTo take a payment against a debit mandate, use mandatereference as the account identifier key.\n\n\n# Reversals API\n\nThe Reversals API is used to reverse, adjust, or refund a recurring payment. The originating transaction reference must be provided in the path in order to identify the payment to be reversed. For a partial reversal, the amount needs to be supplied.\n\nFor viewing reversals, the Transactions API should be used. For performing a reversal without the original transaction reference, use the Transactions API.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php\n  //some PHP code here\n?>\n\n\nThe supported path is POST /transactions/{originalTransactionReference}/reversals.\n\n# Reversal UML Class Diagram\n\nclassDiagram Credit Party Identifier "0..10" --* "" Reversal Debit Party Identifier "0..10" --* "" Reversal Fee "0..20" --* "1" Reversal Metadata "0..20" --* "1" Reversal Reversal --\x3e Transaction\n\n# Reversal Object Definition\n\n{\n  "transactionReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingOrganisationTransactionReference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originalTransactionReference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditParty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitParty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subType": "my custom sub type",\n  "transactionStatus": "completed",\n  "amount": "123.45",\n  "currency": "GBP",\n  "descriptionText": "Client\'s transaction description",\n  "fees": [\n    {\n      "feeType": "addition",\n      "feeAmount": "2",\n      "feeCurrency": "GBP"\n    }\n  ],\n  "geoCode": "GB",\n  "internationalTransferInformation": {\n    "originCountry": "GBP"\n  },\n  "oneTimeCode": "12345",\n  "recipientKyc": {\n    "nationality": "GBP",\n    "emailAddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderKyc": {\n    "nationality": "GBP",\n    "emailAddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "servicingIdentity": "0123-456-789",\n  "transactionReceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  },\n  "metadata": [\n    {\n      "customKey01": "customValue01",\n      "customKey02": "customValue02"\n    },\n  ]\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                          TYPE        DESCRIPTION                                                         REFERENCE                        VALIDATION\ntransactionReference                          string      Unique reference for the transaction. This is returned in      NA                                    \n                                                          the response by API provider.                                  M\nrequesting OrganisationTransactionReference   string      A reference provided by the requesting organisation that is    O                                     \n                                                          to be associated with the transaction.                         O\noriginalTransactionReference                  string      For reversals and refunds, this field indicates the            NA                                    \n                                                          transaction which is the subject of the reversal.              M\ncreditParty                                   array       A series of key/value pairs that enable the credit party to    O    Account Identifiers              \n                                                          be identified. Keys include MSISDN and Wallet Identifier.      O\ndebitParty                                    array       A collection of key/value pairs that enable the debit party    O    Account Identifiers              \n                                                          to be identified. Keys include MSISDN and Wallet Identifier.   O\ntype                                          string      The harmonised Transaction Type                                M                                     Enumeration = Transaction Types Note that only Reversals and\n                                                                                                                         M                                     Refunds (adjustments) are supported.\nsubType                                       string      A non-harmonised sub-classification of the type of             O                                     \n                                                          transaction. Values are not fixed, and usage will vary         O\n                                                          according to Provider.\ntransactionStatus                             string      Indicates the status of the transaction as stored by the API   NA                                    \n                                                          provider.                                                      M\namount                                        string      The transaction Amount.                                        O                                     Please refer to API Fundamentals document for amount\n                                                                                                                         O                                     validation rules.\ncurrency                                      string      Currency of the transaction amount.                            O                                     Enumeration = ISO Currency Codes\n                                                                                                                         O\ndescriptionText                               string      Free format text description of the transaction provided by    O                                     \n                                                          the client. This can be provided as a reference for the        O\n                                                          receiver on a notification SMS and on an account statement.\nfees                                          array       Allows the passing and/or returning of all fees pertaining     O    Fees Object                      \n                                                          to the transaction.                                            O\ngeoCode                                       string      Indicates the geographic location from where the transaction   O                                     \n                                                          was initiated.                                                 O\nrequestingOrganisation                        object      The originating organisation of the request.                   O    Requesting Organisation Object   \n                                                                                                                         O\nservicingIdentity                             string      The field is used to identify the servicing identity for       O                                     \n                                                          transactions, e.g. till, POS ID, assistant ID.                 O\ntransactionReceipt                            string      Transaction receipt number as notified to the parties. This    NA                                    \n                                                          may differ from the Transaction Reference.                     O\ncreationDate                                  date-time   Date and time when the transaction was created by the API      NA                                    \n                                                          Provider.                                                      O\nmodificationDate                              date-time   Date and time when the transaction was modified by the API     NA                                    \n                                                          Provider.                                                      O\nrequestDate                                   date-time   The date and time of the transaction request as supplied by    O                                     \n                                                          the client.                                                    O\ncustomData                                    string      A collection of key/value pairs that can be used for           O    Custom Data Object               \n                                                          provider specific fields.                                      O\nmetadata                                      array       A collection of key/value pairs. These can be used to          O    Metadata                         \n                                                          populate additional properties that describe administrative    O\n                                                          information regarding the transaction.\n\n\n# Accounts APIs\n\nUsing the mobile money APIs, service providers can:\n\n * View payments for their account.\n * View their account balance.\n\n# Identifying a Service Provider Account\n\nTwo methods are provided for identifying a service provider account, the single identifier method, and the multiple identifiers method.\n\n# Single Identifier Method\n\nIn the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifierType}/{identifier}.\n\n# Multiple Identifiers Method\n\nWhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountIdentifier1}@{value1}${accountIdentifier2}@{value2}${accountIdentifier3}@{value3}.\n\nThe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. Each key/value is delimited by @.\n\nThe list of permitted account identifiers supported by the Mobile Money API can be found in the Account Identifiers section.\n\n\n# Account Transactions API\n\nA service provider should use this API to return a list of payments against their account. One of the following paths can be used:\n\nGET /accounts/{identifierType}/{identifier}/transactions\n\nor GET /accounts/{Account Identifiers}/transactions\n\nTo filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromDateTime": "2017-07-21T17:32:28Z",\n  "toDateTime": "2017-07-21T17:32:28Z",\n  "transactionStatus": "completed",\n  "transactionType": "merchantpay"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nPARAMETER           TYPE      FORMAT      DESCRIPTION\nlimit               integer   N/A         Supports pagination. If this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   N/A         Supports pagination. This value will indicate the cursor\n                                          position from where to retrieve the set of records. For\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromDateTime        string    date-time   Indicates the minimum date creationDate for which records\n                                          should be returned.\ntoDateTime          string    date-time   Indicates the maximum date creationDate for which records\n                                          should be returned.\ntransactionStatus   string    N/A         Indicates the status of the transactions to be returned.\ntransactionType     string    N/A         Indicates the type of the transactions to be returned.\n\nNote 1:\n\nFor a harmonised behavior, API Providers should make sure that the transactions are returned in descending date created order.\n\nNote 2:\n\nHTTP response headers are returned with each response indicating the total number of records available (X-Records-Available-Count) and total number of records returned (X-Records-Returned-Count).\n\n# Account Transaction UML Class Diagram\n\nclassDiagram ID Document "0..10" --* "1" KYC Information Address "0..1" --* "1" KYC Information Name "0..1" --* "1" KYC Information Credit Party Identifier "1..10" --* "1" Transaction Debit Party Identifier "1..10" --* "1" Transaction Fee "0..20" --* "1" Transaction KYC Information "0..2" --* "1" Transaction Metadata "0..20" --* "1" Transaction International TransferInformation "0..1" --* "1" Transaction Transaction "0..*" --* "2" Account\n\n\n# Account Balances API\n\nUsing the Account Balances API, an FSP can check their balance. Permitted paths are:\n\nGET /accounts/{identifierType}/{identifier}/balance\n\nor GET /accounts/{Account Identifiers}/balance\n\nA ‘self’ version is also available where the calling API client is the FSP account holder. Path for the ‘self’ version is /accounts/balance.\n\n# Account Balance UML Class Diagram\n\nclassDiagram Account Balance "1" --* "1" Account\n\n# Account Balance Object Definition\n\n{\n  "accountStatus": "available",\n  "currentBalance": "123.45",\n  "availableBalance": "100.00",\n  "reservedBalance": "20.45",\n  "unClearedBalance": "3.00",\n  "currency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME               TYPE     DESCRIPTION                                                           REFERENCE   VALIDATION\naccountStatus      string   Indicates a harmonised representation of the account state.    → NA               Enumeration = available, unavailable, unregistered\n                            This will be shown as ‘available’ or ‘unavailable’. A state    ← O\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. Unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentBalance     string   The current outstanding balance on the account.                → NA               Please refer to API Fundamentals document for amount\n                                                                                           ← O                validation rules.\navailableBalance   string   Indicates the balance that is able to be debited for an        → NA               Please refer to API Fundamentals document for amount\n                            account. This balance is only provided on some API provider    ← O                validation rules.\n                            systems.\nreservedBalance    string   Indicates the portion of the balance that is reserved, i.e.    → NA               Please refer to API Fundamentals document for amount\n                            intended to be debited. This balance is only provided on       ← O                validation rules.\n                            some API provider systems.\nunClearedBalance   string   Indicates the sum of uncleared funds in an account, i.e.       → NA               Please refer to API Fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← O                validation rules.\ncurrency           string   Currency for all returned balances.                            → NA               Enumeration = ISO Currency Codes\n                                                                                           ← O\n\n\n# Debit Mandates API\n\nThe Debit Mandates APIs allows a mobile money customer to provide prior approval for payments to be taken from their account by a requesting service providerpayee. If the amount limit field is not supplied, the mandate is considered open, i.e. the payee would will be able to take any amount. Mandates can be open-ended or can be constrained by a quantified number of payments for a given frequency.\n\nMandates can be created, changed, and inactivatedviewed and modified. The request to create a debit mandate will be typically initiated by the service provider (payee) but can also be requested by the customer (payer).\n\nThe permitted paths are as follows. Note that the payer account is identified in the path whereas the payee account is identified in the request body.\n\n * Creation: POST /accounts/{identifierType}/{identifier}/debitmandates or POST /accounts/{Account Identifiers}/debitmandates.\n * Update: To update a debit mandate, a HTTP PATCH is used. Format is: PATCH /accounts/{identifierType}/{identifier}/debitmandates/{mandateReference} or PATCH /accounts/{Account Identifiers}/debitmandates/{mandateReference}\n * Read. GET /accounts/{identifierType}/{identifier}/debitmandates/{mandateReference}or GET /accounts/{Account Identifiers}/debitmandates/{mandateReference}.\n\nSynchronous and asynchronous modes are supported for the POST and PATCH methods whereas only synchronous mode is supported for the GET method.\n\nThe following fields are modifiable: mandateStatus, startDate, endDate, frequencyType, numberOfPayments.\n\n# Debit Mandate UML Class Diagram\n\nclassDiagram Payee Identifiers "0..10" --* "1" Debit Mandate Payer Identifiers "0..10" --* "1" Debit Mandate Debit Mandate "0..*" --* "1" Account\n\n# Debit Mandate Object Definition\n\n{\n  "mandateReference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "payee": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "mandateStatus": "active",\n  "startDate": "2018-11-20",\n  "amountLimit": "123.45",\n  "currency": "GBP",\n  "endDate": "2018-11-20",\n  "frequencyType": "weekly",\n  "numberOfPayments": 50,\n  "requestingOrganisation": {\n    "requestingOrganisationIdentifierType": "organisationid",\n    "requestingOrganisationIdentifier": "987654321"\n  },\n  "creationDate": "2017-07-21T17:32:28Z",\n  "modificationDate": "2017-07-21T17:32:28Z",\n  "requestDate": "2017-07-21T17:32:28Z",\n  "customData": {\n    "customKey01": "customValue01",\n    "customKey02": "customValue02"\n  }\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nDEBIT MANDATE OBJECT                                                                                                                 \nName                     Type        Description                                                           Reference                 Validation\nmandateReference         string      Unique reference provided by the API Provider for the Debit    → NA                             \n                                     Mandate.                                                       ← M\npayee                    array       A series of key/value pairs that enable the payee to be        → O    Account Identifiers       \n                                     identified. Keys include MSISDN and Wallet Identifier.         ← O\nmandateStatus            string      Indicates the status of the Debit Mandate as held in the API   → O                              Enumeration = active, inactive\n                                     Provider system.                                               ← O\nstartDate                date        Date on which the mandate starts. If a frequencyType is        → M                              \n                                     specified, this will also be the date on which the first       ← M\n                                     payment is to be taken.\namountLimit              string      The maximum amount that can be taken by the Payee on a         → O                              Please refer to API Fundamentals document for amount\n                                     payment request.                                               ← O                              validation rules.\ncurrency                 string      Currency of the amount limit.                                  → O                              Enumeration = ISO Currency Codes\n                                                                                                    ← O\nendDate                  date        Date on which the Debit Mandate ends.                          → O                              \n                                                                                                    ← O\nfrequencyType            string      Indicates the frequency for which payments will be taken       → O                              Enumeration = Frequency\n                                     from the payers account.                                       ← O\nnumberOfPayments         number      Indicates the number of consecutive payments that are to be    → O                              \n                                     taken.                                                         ← O\nrequestingOrganisation   object      The originating organisation of the request.                   → O    Requesting Organisation   \n                                                                                                    ← O\ncreationDate             date-time   Date and time when the Debit Mandate was created by the API    → NA                             \n                                     Provider.                                                      ← O\nmodificationDate         date-time   Date and time when the Debit Mandate was modified by the API   → NA                             \n                                     Provider.                                                      ← O\nrequestDate              date-time   The date and time of the debit mandate request as supplied     → O                              \n                                     by the client.                                                 ← O\ncustomData               string      A collection of key/value pairs that can be used for           → O    Custom Data Object        \n                                     provider specific fields.                                      ← O\n\n\n# Supporting Objects\n\n\n# Account Identifiers Object\n\nThe Account Identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                       REFERENCE   VALIDATION\nkey     string   Provides the account identifier type.         M               Enumeration = Account Identifiers\n                                                               M\nvalue   string   Provides the account identifier type value.   M               \n                                                               M\n\n\n# Metadata Object\n\nThe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                         REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       M               \n                                                                 M\nvalue   string   Identifies the value of the additional field.   M               \n                                                                 M\n\n\n# Custom Data Object\n\nThe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. Additional fields should only be used where no suitable defined field match can be found. The number of key/value pairs is limited to 20.\n\n{\n  "customKey01": "customValue01",\n  "customKey02": "customValue02"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME    TYPE     DESCRIPTION                                           REFERENCE   VALIDATION\nkey     string   Identifies the type of additional fields.       → M               \n                                                                 ← M\nvalue   string   Identifies the value of the additional field.   → M               \n                                                                 ← M\n\n\n# Fees Object\n\nAn object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feeType": "addition",\n  "feeAmount": "2",\n  "feeCurrency": "GBP"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME          TYPE     DESCRIPTION                                   REFERENCE   VALIDATION\nfeeType       string   Defines the type of fee.                  M               \n                                                                 M\nfeeAmount     string   Defines the amount of the fee.            M               Please refer to API Fundamentals document for amount\n                                                                 M               validation rules.\nfeeCurrency   string   Defines the currency for the given fee.   M               Enumeration = ISO Currency Codes\n                                                                 M\n\n\n# Requesting Organisation Object\n\nAn object that details the originating organisation of the request.\n\n{\n  "requestingOrganisationIdentifierType": "organisationid",\n  "requestingOrganisationIdentifier": "987654321"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nNAME                                   TYPE     DESCRIPTION                                              REFERENCE   VALIDATION\nrequestingOrganisationIdentifierType   string   Identifies the identifier type of the requesting   → M               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← M\nrequestingOrganisationIdentifier       string   Contains the requesting organisation identifier.   → M               \n                                                                                                   ← M\n\n\n# Enumerations\n\n\n# ISO Currency Codes\n\nThe three-character alphabetic code for currency as defined by ISO 4217 is to be used for all currency fields. The full list of codes is maintained by Swiss Interbank Clearing on behalf of the International Organisation for Standardisation. This list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# Transaction Types\n\nA transaction type is used to classify the nature of a transaction.\n\nCODE          DESCRIPTION\nmerchantpay   Purchases of goods and/or services from shops (payer\n              present) or online (payer not present).\nadjustment    General adjustments to an account via an adjustment\n              transaction (e.g. refunds).\nreversal      Reversal of a prior transaction to return funds to the\n              payer.\n\n\n# Account Identifiers\n\nThe Account Identifier enumeration lists all possible means to identify a target account. Identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"GB24BKEN10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"BARCGB22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceProvider",\n  "storeid":"9999999999",\n  "bankname":"Barclays",\n  "bankaccounttitle":"Debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some JavaScript code here \n\n\n<?php \n  //some PHP code here \n?>\n\n\nCODE               SHORT DESCRIPTION                 TYPE     DESCRIPTION\naccountcategory    Account Category                  string   Can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      Bank Account Number               string   Financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        Account Rank                      string   Is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      Identity Alias                    string   An alias for the identity, e.g. short code for an agent\n                                                              till.\niban               IBAN                              string   Internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. Can contain up to\n                                                              34 alphanumeric characters.\naccountid          Account Holder Identity           string   Identifier for the account holder.\nmsisdn             MSISDN                            string   Must contain between 6 and 15 consecutive digits\n                                                              First character can contain a ‘+’ or digit\n                                                              Can contain spaces.\nswiftbic           SWIFTBIC                          string   A bank identifier code (BIC) is a unique identifier for a\n                                                              specific financial institution. A BIC is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. BICs are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. Please refer to ISO 9362\n                                                              for further information.\nsortcode           Bank Sort Code                    string   Sort code to identify the financial institution holding the\n                                                              account.\norganisationid     Organisation Account Identifier   string   Used to identify the organisation for which a payment is to\n                                                              be made.\nusername           Username                          string   Used to identify target account via an associated username.\nwalletid           Wallet Identifier                 string   A means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an MSISDN.\n                                                              typically used in conjunction with MSISDN or identity alias\n                                                              to identify a particular wallet.\nlinkref            Link Reference                    string   A means to uniquely identify an account via an account to\n                                                              account link. E.g. wallet account link to bank account.\nconsumerno         Consumer Number                   String   Identifies the consumer associated with the account.\nserviceprovider    Service Provider                  String   Provides a reference for a Service Provider.\nstoreid            Store ID                          String   Identifies the transacting store / retail outlet.\nbankname           Bank Name                         String   Name of the bank.\nbankaccounttitle   Bank Account Title                String   The title of the bank account.\nemailaddress       Email Address                     String   emailaddress of the party.\nmandatereference   Debit Mandate Reference           String   A means to identify an account via a debit mandate\n                                                              reference.\n\n\n# Frequency Type\n\nWhen requesting a debit mandate, the API client is able to specify the frequency of which the payment should be taken. Valid values are defined in the table below.\n\nFREQUENCY TYPE        DESCRIPTION\nweekly                Payment will be taken weekly.\nfortnight             Payment will be taken every two weeks.\nmonthspecificdate     Payment to be taken on a specific date every month.\ntwomonths             Payment to be taken every two months.\nthreemonths           Payment to be taken every three months.\nfourmonths            Payment to be taken every four months.\nsixmonths             Payment to be taken every six months.\nyearly                Payment to be taken yearly.\nlastdaymonth          Payment to be taken on the last calendar day of the month.\nlastdaymonthworking   Payment to be taken on the last working day of the month\n                      according to working days as per the resident country of the\n                      account.\nlastmonday            Payment to be taken on the last Monday of the month.\nlasttuesday           Payment to be taken on the last Tuesday of the month.\nlastwednesday         Payment to be taken on the last Wednesday of the month.\nlastthursday          Payment to be taken on the last Thursday of the month.\nlastfriday            Payment to be taken on the last Friday of the month.\nlastsaturday          Payment to be taken on the last Saturday of the month.\nlastsunday            Payment to be taken on the last Sunday of the month.\nspecificdaymonthly    Payment to be taken on a specific day of the month.',normalizedContent:'# api service definition\n\n\n# api endpoints\n\napi endpoint fields are described in this specification as follows:\n\n * the field name.\n * the field type.\n * description of the field.\n * optionality of the field, i.e. whether the field must be supplied. optionality is identified as per follows:\n\n→  request optionality\n\n←  response optionality\n\no  field is optional\n\nm  field is mandatory\n\nc  field is conditional\n\nna  field does not need to be supplied. if supplied, it will be ignored.\n\n\n * reference where the fields is a acollection/n array and/or is defined by another object.\n * validation applied to the field, including enumeration, field length and use of regular expressions to validate format.\n\ntip\n\nplease note that string fields have a default maximum length of 256 characters unless specified otherwise.\n\n\n# transactions api\n\nthe transaction apis can be used by the service provider to take a payment from a payer’s account. the payer will have previously provided authorisation for payments to be taken as per an agreed payment mandate.\n\nthe following paths are permitted:\n\n * post /transactions/type/merchantpay. to take a payment from a payer’s account.\n * post /transactions/type/adjustment. to issue a refund to the payer.\n * get /transactions/{transactionreference}. to view a payment.\n\ntransactions fields that are not applicable for recurring payments have been omitted.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nbody parameters:\n{\n  "amount":"5.00",\n  "currency":"gbp",\n  "debitparty":[\n  {\n    "key":"msisdn",\n    "value":"+447911123456"\n  }\n  ],\n  "creditparty":[\n  {\n    "key":"accountid",\n    "value":"12"\n  }\n  ]\n}\n\n\n \n\n\nget .../transactions/36125b528237\n\n\n \n\n\n\n\n\n\n\npatch .../transactions/36125b528237\n---\nbody parameters:\n{\n  "transactionstatus":"completed"\n}\n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\noperation   path                                         description\ncreate      post /transactions/type/{transactiontype}    to be used for transaction creation when the provider’s api\n                                                         gateway requires that the transaction type be identified in\n                                                         the url.\nview        get /transactions/{transactionreference}     to view a transaction.\nupdate      patch /transactions/{transactionreference}   to update the transactionstatus of a transaction.\n\n# transaction uml class diagram\n\nclassdiagram credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction transaction "1" *-- "0..20" metadata transaction "1" *-- "0..2" kyc information transaction "1" *-- "0..1" international transfer information kyc information "1" *-- "0..10" id document kyc information "1" *-- "0..1" address kyc information "1" *-- "0..1" name\n\n# transaction object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ntransaction object                                                                                                                                              \nname                                         type        description                                                           reference                        validation\ntransactionreference                         string      unique reference for the transaction. this is returned in      → na                                    \n                                                         the response by api provider.                                  ← m\nrequestingorganisationtransactionreference   string      a reference provided by the requesting organisation that is    → o                                     \n                                                         to be associated with the transaction.                         ← o\noriginaltransactionreference                 string      for reversals and refunds, this field indicates the            → o                                     \n                                                         transaction which is the subject of the reversal.              ← o\ncreditparty                                  array       a series of key/value pairs that enable the credit party to    → c    account identifiers              creditparty must be supplied if debitparty is omitted. if\n                                                         be identified. keys include msisdn and wallet identifier.      ← c                                     debitparty is supplied, then creditparty is optional.\ndebitparty                                   array       a collection of key/value pairs that enable the debit party    → c    account identifiers              debitparty must be supplied if creditparty is omitted.\n                                                         to be identified. keys include msisdn and wallet identifier.   ← c                                     if creditparty is supplied, then debitparty is optional.\ntype                                         string      the harmonised transaction type (not required if passed in     → m                                     enumeration = transaction types\n                                                         the url)                                                       ← m\nsubtype                                      string      a non-harmonised sub-classification of the type of             → o                                     \n                                                         transaction. values are not fixed, and usage will vary         ← o\n                                                         according to provider.\ntransactionstatus                            string      indicates the status of the transaction as stored by the api   → na                                    \n                                                         provider.                                                      ← m\namount                                       string      the transaction amount.                                        → m                                     please refer to api fundamentals document for amount\n                                                                                                                        ← m                                     validation rules.\ncurrency                                     string      currency of the transaction amount.                            → m                                     enumeration = iso currency codes\n                                                                                                                        ← m\ndescriptiontext                              string      free format text description of the transaction provided by    → o                                     \n                                                         the client. this can be provided as a reference for the        ← o\n                                                         receiver on a notification sms and on an account statement.\nfees                                         array       allows the passing and/or returning of all fees pertaining     → o    fees object                      \n                                                         to the transaction.                                            ← o\ngeocode                                      string      indicates the geographic location from where the transaction   → o                                     \n                                                         was initiated.                                                 ← o\nonetimecode                                  string      a one-time code that can be supplied in the request or can     → o                                     \n                                                         be generated in the response depending upon the use case. an   ← o\n                                                         authorisation code can be supplied in this field for\n                                                         requests that have been pre-authorised.\nrequestingorganisation                       object      the originating organisation of the request.                   → o    requesting organisation object   \n                                                                                                                        ← o\nservicingidentity                            string      the field is used to identify the servicing identity for       → o                                     \n                                                         transactions, e.g. till, pos id, assistant id.                 ← o\ntransactionreceipt                           string      transaction receipt number as notified to the parties. this    → na                                    \n                                                         may differ from the transaction reference.                     ← o\ncreationdate                                 date-time   date and time when the transaction was created by the api      → na                                    \n                                                         provider                                                       ← o\nmodificationdate                             date-time   date and time when the transaction was modified by the api     → na                                    \n                                                         provider                                                       ← o\nrequestdate                                  date-time   the creation date and time of the transaction as supplied by   → o                                     \n                                                         the client.                                                    ← o\ncustomdata                                   string      a collection of key/value pairs that can be used for           → o    custom data object               \n                                                         provider specific fields.                                      ← o\nmetadata                                     array       a collection of key/value pairs. these can be used to          → o    metadata                         \n                                                         populate additional transaction fields.                        ← o\n\ntip\n\nto take a payment against a debit mandate, use mandatereference as the account identifier key.\n\n\n# reversals api\n\nthe reversals api is used to reverse, adjust, or refund a recurring payment. the originating transaction reference must be provided in the path in order to identify the payment to be reversed. for a partial reversal, the amount needs to be supplied.\n\nfor viewing reversals, the transactions api should be used. for performing a reversal without the original transaction reference, use the transactions api.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters:\n{\n  "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php\n  //some php code here\n?>\n\n\nthe supported path is post /transactions/{originaltransactionreference}/reversals.\n\n# reversal uml class diagram\n\nclassdiagram credit party identifier "0..10" --* "" reversal debit party identifier "0..10" --* "" reversal fee "0..20" --* "1" reversal metadata "0..20" --* "1" reversal reversal --\x3e transaction\n\n# reversal object definition\n\n{\n  "transactionreference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "requestingorganisationtransactionreference": "c66e56ed-a5c2-4080-b34d-ad84d04065d4",\n  "originaltransactionreference": "a7d9e363-46ed-48be-a0e0-1d2d2971b86c",\n  "creditparty": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "debitparty": [\n    {\n      "key":"msisdn",\n      "value":"+447911123456"\n    }\n  ],\n  "type": "merchantpay",\n  "subtype": "my custom sub type",\n  "transactionstatus": "completed",\n  "amount": "123.45",\n  "currency": "gbp",\n  "descriptiontext": "client\'s transaction description",\n  "fees": [\n    {\n      "feetype": "addition",\n      "feeamount": "2",\n      "feecurrency": "gbp"\n    }\n  ],\n  "geocode": "gb",\n  "internationaltransferinformation": {\n    "origincountry": "gbp"\n  },\n  "onetimecode": "12345",\n  "recipientkyc": {\n    "nationality": "gbp",\n    "emailaddress": "example@mail.com",\n    "gender": "m"\n  },\n  "senderkyc": {\n    "nationality": "gbp",\n    "emailaddress": "email@dot.com",\n    "gender": "f"\n  },\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "servicingidentity": "0123-456-789",\n  "transactionreceipt": "f2d184b3-ae08-4d99-9e67-8d7490e0103e",\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  },\n  "metadata": [\n    {\n      "customkey01": "customvalue01",\n      "customkey02": "customvalue02"\n    },\n  ]\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                          type        description                                                         reference                        validation\ntransactionreference                          string      unique reference for the transaction. this is returned in      na                                    \n                                                          the response by api provider.                                  m\nrequesting organisationtransactionreference   string      a reference provided by the requesting organisation that is    o                                     \n                                                          to be associated with the transaction.                         o\noriginaltransactionreference                  string      for reversals and refunds, this field indicates the            na                                    \n                                                          transaction which is the subject of the reversal.              m\ncreditparty                                   array       a series of key/value pairs that enable the credit party to    o    account identifiers              \n                                                          be identified. keys include msisdn and wallet identifier.      o\ndebitparty                                    array       a collection of key/value pairs that enable the debit party    o    account identifiers              \n                                                          to be identified. keys include msisdn and wallet identifier.   o\ntype                                          string      the harmonised transaction type                                m                                     enumeration = transaction types note that only reversals and\n                                                                                                                         m                                     refunds (adjustments) are supported.\nsubtype                                       string      a non-harmonised sub-classification of the type of             o                                     \n                                                          transaction. values are not fixed, and usage will vary         o\n                                                          according to provider.\ntransactionstatus                             string      indicates the status of the transaction as stored by the api   na                                    \n                                                          provider.                                                      m\namount                                        string      the transaction amount.                                        o                                     please refer to api fundamentals document for amount\n                                                                                                                         o                                     validation rules.\ncurrency                                      string      currency of the transaction amount.                            o                                     enumeration = iso currency codes\n                                                                                                                         o\ndescriptiontext                               string      free format text description of the transaction provided by    o                                     \n                                                          the client. this can be provided as a reference for the        o\n                                                          receiver on a notification sms and on an account statement.\nfees                                          array       allows the passing and/or returning of all fees pertaining     o    fees object                      \n                                                          to the transaction.                                            o\ngeocode                                       string      indicates the geographic location from where the transaction   o                                     \n                                                          was initiated.                                                 o\nrequestingorganisation                        object      the originating organisation of the request.                   o    requesting organisation object   \n                                                                                                                         o\nservicingidentity                             string      the field is used to identify the servicing identity for       o                                     \n                                                          transactions, e.g. till, pos id, assistant id.                 o\ntransactionreceipt                            string      transaction receipt number as notified to the parties. this    na                                    \n                                                          may differ from the transaction reference.                     o\ncreationdate                                  date-time   date and time when the transaction was created by the api      na                                    \n                                                          provider.                                                      o\nmodificationdate                              date-time   date and time when the transaction was modified by the api     na                                    \n                                                          provider.                                                      o\nrequestdate                                   date-time   the date and time of the transaction request as supplied by    o                                     \n                                                          the client.                                                    o\ncustomdata                                    string      a collection of key/value pairs that can be used for           o    custom data object               \n                                                          provider specific fields.                                      o\nmetadata                                      array       a collection of key/value pairs. these can be used to          o    metadata                         \n                                                          populate additional properties that describe administrative    o\n                                                          information regarding the transaction.\n\n\n# accounts apis\n\nusing the mobile money apis, service providers can:\n\n * view payments for their account.\n * view their account balance.\n\n# identifying a service provider account\n\ntwo methods are provided for identifying a service provider account, the single identifier method, and the multiple identifiers method.\n\n# single identifier method\n\nin the scenario where one identifier suffices to uniquely identify an account, the following path is to be used:\n\n\n/accounts/{identifiertype}/{identifier}.\n\n# multiple identifiers method\n\nwhere a single identifier is not sufficient to identify an account, the following path is to be used:\n\n/accounts/{accountidentifier1}@{value1}${accountidentifier2}@{value2}${accountidentifier3}@{value3}.\n\nthe path uses a $ delimiter to separate each identifier, up to a limit of three account identifiers. each key/value is delimited by @.\n\nthe list of permitted account identifiers supported by the mobile money api can be found in the account identifiers section.\n\n\n# account transactions api\n\na service provider should use this api to return a list of payments against their account. one of the following paths can be used:\n\nget /accounts/{identifiertype}/{identifier}/transactions\n\nor get /accounts/{account identifiers}/transactions\n\nto filter the number of records returned, the following query strings can be used:\n\n{\n  "limit": 50,\n  "offset": 10,\n  "fromdatetime": "2017-07-21t17:32:28z",\n  "todatetime": "2017-07-21t17:32:28z",\n  "transactionstatus": "completed",\n  "transactiontype": "merchantpay"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nparameter           type      format      description\nlimit               integer   n/a         supports pagination. if this is not supplied, then the\n                                          server will apply a limit of 50 records returned for each\n                                          request.\noffset              integer   n/a         supports pagination. this value will indicate the cursor\n                                          position from where to retrieve the set of records. for\n                                          example, a limit of 50 and offset of 10 will return records\n                                          11 to 60.\nfromdatetime        string    date-time   indicates the minimum date creationdate for which records\n                                          should be returned.\ntodatetime          string    date-time   indicates the maximum date creationdate for which records\n                                          should be returned.\ntransactionstatus   string    n/a         indicates the status of the transactions to be returned.\ntransactiontype     string    n/a         indicates the type of the transactions to be returned.\n\nnote 1:\n\nfor a harmonised behavior, api providers should make sure that the transactions are returned in descending date created order.\n\nnote 2:\n\nhttp response headers are returned with each response indicating the total number of records available (x-records-available-count) and total number of records returned (x-records-returned-count).\n\n# account transaction uml class diagram\n\nclassdiagram id document "0..10" --* "1" kyc information address "0..1" --* "1" kyc information name "0..1" --* "1" kyc information credit party identifier "1..10" --* "1" transaction debit party identifier "1..10" --* "1" transaction fee "0..20" --* "1" transaction kyc information "0..2" --* "1" transaction metadata "0..20" --* "1" transaction international transferinformation "0..1" --* "1" transaction transaction "0..*" --* "2" account\n\n\n# account balances api\n\nusing the account balances api, an fsp can check their balance. permitted paths are:\n\nget /accounts/{identifiertype}/{identifier}/balance\n\nor get /accounts/{account identifiers}/balance\n\na ‘self’ version is also available where the calling api client is the fsp account holder. path for the ‘self’ version is /accounts/balance.\n\n# account balance uml class diagram\n\nclassdiagram account balance "1" --* "1" account\n\n# account balance object definition\n\n{\n  "accountstatus": "available",\n  "currentbalance": "123.45",\n  "availablebalance": "100.00",\n  "reservedbalance": "20.45",\n  "unclearedbalance": "3.00",\n  "currency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname               type     description                                                           reference   validation\naccountstatus      string   indicates a harmonised representation of the account state.    → na               enumeration = available, unavailable, unregistered\n                            this will be shown as ‘available’ or ‘unavailable’. a state    ← o\n                            of ‘unavailable’ means that the account is in a state that\n                            does not allow posting of transactions. unregistered\n                            indicates that although not available, a transaction created\n                            with the account identifier(s) will result in an\n                            unregistered voucher creation.\ncurrentbalance     string   the current outstanding balance on the account.                → na               please refer to api fundamentals document for amount\n                                                                                           ← o                validation rules.\navailablebalance   string   indicates the balance that is able to be debited for an        → na               please refer to api fundamentals document for amount\n                            account. this balance is only provided on some api provider    ← o                validation rules.\n                            systems.\nreservedbalance    string   indicates the portion of the balance that is reserved, i.e.    → na               please refer to api fundamentals document for amount\n                            intended to be debited. this balance is only provided on       ← o                validation rules.\n                            some api provider systems.\nunclearedbalance   string   indicates the sum of uncleared funds in an account, i.e.       → na               please refer to api fundamentals document for amount\n                            those that are awaiting a credit confirmation.                 ← o                validation rules.\ncurrency           string   currency for all returned balances.                            → na               enumeration = iso currency codes\n                                                                                           ← o\n\n\n# debit mandates api\n\nthe debit mandates apis allows a mobile money customer to provide prior approval for payments to be taken from their account by a requesting service providerpayee. if the amount limit field is not supplied, the mandate is considered open, i.e. the payee would will be able to take any amount. mandates can be open-ended or can be constrained by a quantified number of payments for a given frequency.\n\nmandates can be created, changed, and inactivatedviewed and modified. the request to create a debit mandate will be typically initiated by the service provider (payee) but can also be requested by the customer (payer).\n\nthe permitted paths are as follows. note that the payer account is identified in the path whereas the payee account is identified in the request body.\n\n * creation: post /accounts/{identifiertype}/{identifier}/debitmandates or post /accounts/{account identifiers}/debitmandates.\n * update: to update a debit mandate, a http patch is used. format is: patch /accounts/{identifiertype}/{identifier}/debitmandates/{mandatereference} or patch /accounts/{account identifiers}/debitmandates/{mandatereference}\n * read. get /accounts/{identifiertype}/{identifier}/debitmandates/{mandatereference}or get /accounts/{account identifiers}/debitmandates/{mandatereference}.\n\nsynchronous and asynchronous modes are supported for the post and patch methods whereas only synchronous mode is supported for the get method.\n\nthe following fields are modifiable: mandatestatus, startdate, enddate, frequencytype, numberofpayments.\n\n# debit mandate uml class diagram\n\nclassdiagram payee identifiers "0..10" --* "1" debit mandate payer identifiers "0..10" --* "1" debit mandate debit mandate "0..*" --* "1" account\n\n# debit mandate object definition\n\n{\n  "mandatereference": "dd82cc6a-159a-4ddf-bea7-23bae38e72c5",\n  "payee": [\n    {\n      "key":"accountid",\n      "value":"12"\n    }\n  ],\n  "mandatestatus": "active",\n  "startdate": "2018-11-20",\n  "amountlimit": "123.45",\n  "currency": "gbp",\n  "enddate": "2018-11-20",\n  "frequencytype": "weekly",\n  "numberofpayments": 50,\n  "requestingorganisation": {\n    "requestingorganisationidentifiertype": "organisationid",\n    "requestingorganisationidentifier": "987654321"\n  },\n  "creationdate": "2017-07-21t17:32:28z",\n  "modificationdate": "2017-07-21t17:32:28z",\n  "requestdate": "2017-07-21t17:32:28z",\n  "customdata": {\n    "customkey01": "customvalue01",\n    "customkey02": "customvalue02"\n  }\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ndebit mandate object                                                                                                                 \nname                     type        description                                                           reference                 validation\nmandatereference         string      unique reference provided by the api provider for the debit    → na                             \n                                     mandate.                                                       ← m\npayee                    array       a series of key/value pairs that enable the payee to be        → o    account identifiers       \n                                     identified. keys include msisdn and wallet identifier.         ← o\nmandatestatus            string      indicates the status of the debit mandate as held in the api   → o                              enumeration = active, inactive\n                                     provider system.                                               ← o\nstartdate                date        date on which the mandate starts. if a frequencytype is        → m                              \n                                     specified, this will also be the date on which the first       ← m\n                                     payment is to be taken.\namountlimit              string      the maximum amount that can be taken by the payee on a         → o                              please refer to api fundamentals document for amount\n                                     payment request.                                               ← o                              validation rules.\ncurrency                 string      currency of the amount limit.                                  → o                              enumeration = iso currency codes\n                                                                                                    ← o\nenddate                  date        date on which the debit mandate ends.                          → o                              \n                                                                                                    ← o\nfrequencytype            string      indicates the frequency for which payments will be taken       → o                              enumeration = frequency\n                                     from the payers account.                                       ← o\nnumberofpayments         number      indicates the number of consecutive payments that are to be    → o                              \n                                     taken.                                                         ← o\nrequestingorganisation   object      the originating organisation of the request.                   → o    requesting organisation   \n                                                                                                    ← o\ncreationdate             date-time   date and time when the debit mandate was created by the api    → na                             \n                                     provider.                                                      ← o\nmodificationdate         date-time   date and time when the debit mandate was modified by the api   → na                             \n                                     provider.                                                      ← o\nrequestdate              date-time   the date and time of the debit mandate request as supplied     → o                              \n                                     by the client.                                                 ← o\ncustomdata               string      a collection of key/value pairs that can be used for           → o    custom data object        \n                                     provider specific fields.                                      ← o\n\n\n# supporting objects\n\n\n# account identifiers object\n\nthe account identifier object enables one or multiple identifiers to be provided to enable the recipient system to resolve the account/party.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                       reference   validation\nkey     string   provides the account identifier type.         m               enumeration = account identifiers\n                                                               m\nvalue   string   provides the account identifier type value.   m               \n                                                               m\n\n\n# metadata object\n\nthe metadata object allows fields to be specified to convey administrative information regarding the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                         reference   validation\nkey     string   identifies the type of additional fields.       m               \n                                                                 m\nvalue   string   identifies the value of the additional field.   m               \n                                                                 m\n\n\n# custom data object\n\nthe custom data object allows additional fields to be specified for the associated resource in the form of key/value pairs. additional fields should only be used where no suitable defined field match can be found. the number of key/value pairs is limited to 20.\n\n{\n  "customkey01": "customvalue01",\n  "customkey02": "customvalue02"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname    type     description                                           reference   validation\nkey     string   identifies the type of additional fields.       → m               \n                                                                 ← m\nvalue   string   identifies the value of the additional field.   → m               \n                                                                 ← m\n\n\n# fees object\n\nan object that enables fees that are differentiated by type to be provided and/or returned.\n\n{\n  "feetype": "addition",\n  "feeamount": "2",\n  "feecurrency": "gbp"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname          type     description                                   reference   validation\nfeetype       string   defines the type of fee.                  m               \n                                                                 m\nfeeamount     string   defines the amount of the fee.            m               please refer to api fundamentals document for amount\n                                                                 m               validation rules.\nfeecurrency   string   defines the currency for the given fee.   m               enumeration = iso currency codes\n                                                                 m\n\n\n# requesting organisation object\n\nan object that details the originating organisation of the request.\n\n{\n  "requestingorganisationidentifiertype": "organisationid",\n  "requestingorganisationidentifier": "987654321"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\nname                                   type     description                                              reference   validation\nrequestingorganisationidentifiertype   string   identifies the identifier type of the requesting   → m               ‘swiftbic’, ‘lei’, ‘organisationid\n                                                organisation.                                      ← m\nrequestingorganisationidentifier       string   contains the requesting organisation identifier.   → m               \n                                                                                                   ← m\n\n\n# enumerations\n\n\n# iso currency codes\n\nthe three-character alphabetic code for currency as defined by iso 4217 is to be used for all currency fields. the full list of codes is maintained by swiss interbank clearing on behalf of the international organisation for standardisation. this list can be obtained via the following website - http://www.currency-iso.org/en/home/tables/table-a1.html.\n\n\n# transaction types\n\na transaction type is used to classify the nature of a transaction.\n\ncode          description\nmerchantpay   purchases of goods and/or services from shops (payer\n              present) or online (payer not present).\nadjustment    general adjustments to an account via an adjustment\n              transaction (e.g. refunds).\nreversal      reversal of a prior transaction to return funds to the\n              payer.\n\n\n# account identifiers\n\nthe account identifier enumeration lists all possible means to identify a target account. identifiers can be combined if necessary, to provide a unique identifier for the target account.\n\n{\n  "accountcategory":"default",\n  "bankaccountno":"1234567890",\n  "accountrank":"high",\n  "identityalias":"12345",\n  "iban":"gb24bken10000031510604",\n  "accountid":"31510604",\n  "msisdn":"+1234567890",\n  "swiftbic":"barcgb22",\n  "sortcode":"100000",\n  "organisationid":"987654321",\n  "username":"johndoe",\n  "walletid":"11111111111",\n  "linkref":"899fa8a7-7ea7-4880-87c2-e873fc22baf7",\n  "consumerno":"1122334455",\n  "serviceprovider":"serviceprovider",\n  "storeid":"9999999999",\n  "bankname":"barclays",\n  "bankaccounttitle":"debit",\n  "emailaddress":"example@email.com",\n  "mandatereference":"85f6196e-0557-42bd-b3c5-c4a7d5433815"\n}\n\n\n//some javascript code here \n\n\n<?php \n  //some php code here \n?>\n\n\ncode               short description                 type     description\naccountcategory    account category                  string   can be used to identify the sources of funds category where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nbankaccountno      bank account number               string   financial institution account number that is typically known\n                                                              by the account holder.\naccountrank        account rank                      string   is used to identify the rank of the source of funds where\n                                                              there are multiple accounts (wallets) held against an\n                                                              account holder.\nidentityalias      identity alias                    string   an alias for the identity, e.g. short code for an agent\n                                                              till.\niban               iban                              string   internationally agreed system of identifying bank accounts\n                                                              across national borders to facilitate the communication and\n                                                              processing of cross border transactions. can contain up to\n                                                              34 alphanumeric characters.\naccountid          account holder identity           string   identifier for the account holder.\nmsisdn             msisdn                            string   must contain between 6 and 15 consecutive digits\n                                                              first character can contain a ‘+’ or digit\n                                                              can contain spaces.\nswiftbic           swiftbic                          string   a bank identifier code (bic) is a unique identifier for a\n                                                              specific financial institution. a bic is composed of a\n                                                              4-character bank code, a 2-character country code, a\n                                                              2-character location code and an optional 3-character branch\n                                                              code. bics are used by financial institutions for letters of\n                                                              credit, payments and securities transactions and other\n                                                              business messages between banks. please refer to iso 9362\n                                                              for further information.\nsortcode           bank sort code                    string   sort code to identify the financial institution holding the\n                                                              account.\norganisationid     organisation account identifier   string   used to identify the organisation for which a payment is to\n                                                              be made.\nusername           username                          string   used to identify target account via an associated username.\nwalletid           wallet identifier                 string   a means to identify a mobile money wallet, particularly\n                                                              where multiple wallets can be held against an msisdn.\n                                                              typically used in conjunction with msisdn or identity alias\n                                                              to identify a particular wallet.\nlinkref            link reference                    string   a means to uniquely identify an account via an account to\n                                                              account link. e.g. wallet account link to bank account.\nconsumerno         consumer number                   string   identifies the consumer associated with the account.\nserviceprovider    service provider                  string   provides a reference for a service provider.\nstoreid            store id                          string   identifies the transacting store / retail outlet.\nbankname           bank name                         string   name of the bank.\nbankaccounttitle   bank account title                string   the title of the bank account.\nemailaddress       email address                     string   emailaddress of the party.\nmandatereference   debit mandate reference           string   a means to identify an account via a debit mandate\n                                                              reference.\n\n\n# frequency type\n\nwhen requesting a debit mandate, the api client is able to specify the frequency of which the payment should be taken. valid values are defined in the table below.\n\nfrequency type        description\nweekly                payment will be taken weekly.\nfortnight             payment will be taken every two weeks.\nmonthspecificdate     payment to be taken on a specific date every month.\ntwomonths             payment to be taken every two months.\nthreemonths           payment to be taken every three months.\nfourmonths            payment to be taken every four months.\nsixmonths             payment to be taken every six months.\nyearly                payment to be taken yearly.\nlastdaymonth          payment to be taken on the last calendar day of the month.\nlastdaymonthworking   payment to be taken on the last working day of the month\n                      according to working days as per the resident country of the\n                      account.\nlastmonday            payment to be taken on the last monday of the month.\nlasttuesday           payment to be taken on the last tuesday of the month.\nlastwednesday         payment to be taken on the last wednesday of the month.\nlastthursday          payment to be taken on the last thursday of the month.\nlastfriday            payment to be taken on the last friday of the month.\nlastsaturday          payment to be taken on the last saturday of the month.\nlastsunday            payment to be taken on the last sunday of the month.\nspecificdaymonthly    payment to be taken on a specific day of the month.',charsets:{}},{title:"Recurring Payments - Open OAS UI",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Recurring Payments - Open OAS UI"},regularPath:"/use-cases/recurring-payments/recurring-payments-open-oas-ui.html",relativePath:"use-cases/recurring-payments/recurring-payments-open-oas-ui.md",key:"v-55c31810",path:"/use-cases/recurring-payments/recurring-payments-open-oas-ui.html",headers:[{level:2,title:"Recurring Payments - Open OAS UI",slug:"recurring-payments-open-oas-ui",normalizedTitle:"recurring payments - open oas ui",charIndex:0}],headersStr:"Recurring Payments - Open OAS UI",content:"# Recurring Payments - Open OAS UI",normalizedContent:"# recurring payments - open oas ui",charsets:{}},{title:"Recurring Payments - Use Case Scenarios",frontmatter:{sidebarDepth:1,pageClass:"api-page has-code-panel",title:"Recurring Payments - Use Case Scenarios"},regularPath:"/use-cases/recurring-payments/scenarios/scenarios.html",relativePath:"use-cases/recurring-payments/scenarios/scenarios.md",key:"v-54383596",path:"/use-cases/recurring-payments/scenarios/scenarios.html",headers:[{level:2,title:"Setup a Recurring Payment",slug:"setup-a-recurring-payment",normalizedTitle:"setup a recurring payment",charIndex:599},{level:2,title:"Setup a Recurring Payment Failure",slug:"setup-a-recurring-payment-failure",normalizedTitle:"setup a recurring payment failure",charIndex:3057},{level:2,title:"Take a Recurring Payment",slug:"take-a-recurring-payment",normalizedTitle:"take a recurring payment",charIndex:4463},{level:2,title:"Take a Recurring Payment Failure",slug:"take-a-recurring-payment-failure",normalizedTitle:"take a recurring payment failure",charIndex:6331},{level:2,title:"Take a Recurring Payment using the Polling Method",slug:"take-a-recurring-payment-using-the-polling-method",normalizedTitle:"take a recurring payment using the polling method",charIndex:7572},{level:2,title:"Recurring Payment Refund",slug:"recurring-payment-refund",normalizedTitle:"recurring payment refund",charIndex:10126},{level:2,title:"Recurring Payment Reversal",slug:"recurring-payment-reversal",normalizedTitle:"recurring payment reversal",charIndex:12001},{level:2,title:"Payer sets up a Recurring Payment using MMP Channel",slug:"payer-sets-up-a-recurring-payment-using-mmp-channel",normalizedTitle:"payer sets up a recurring payment using mmp channel",charIndex:13628},{level:2,title:"Obtain a Service Provider Balance",slug:"obtain-a-service-provider-balance",normalizedTitle:"obtain a service provider balance",charIndex:15702},{level:2,title:"Retrieve Payments for a Service Provider",slug:"retrieve-payments-for-a-service-provider",normalizedTitle:"retrieve payments for a service provider",charIndex:16367},{level:2,title:"Check for Service Availability",slug:"check-for-service-availability",normalizedTitle:"check for service availability",charIndex:17848},{level:2,title:"Retrieve a Missing API Response",slug:"retrieve-a-missing-api-response",normalizedTitle:"retrieve a missing api response",charIndex:18766}],headersStr:"Setup a Recurring Payment Setup a Recurring Payment Failure Take a Recurring Payment Take a Recurring Payment Failure Take a Recurring Payment using the Polling Method Recurring Payment Refund Recurring Payment Reversal Payer sets up a Recurring Payment using MMP Channel Obtain a Service Provider Balance Retrieve Payments for a Service Provider Check for Service Availability Retrieve a Missing API Response",content:'# About Use Case Scenarios\n\nThe GSMA Simulator for the Mobile Money API is a simulated API implementation developed by the GSMA to facilitate API adoption and testing, thereby decreasing implementation effort and time to market for Mobile Money Providers and ecosystem Service Providers. Developers can navigate through Use Case Scenarios providing access to a set of pre-defined Postman Collections for the Simulator to try out some of the most common mobile money API use cases, or directly access the OAS interface for the API Specification and use the API Try It Out functionality from there.\n\n\n# Setup a Recurring Payment\n\nThis diagram illustrates the setting-up of a recurring payment via a debit mandate. The service provider initiates the request which is authorised by the account holding customer. In this diagram, an asynchronous flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/2000/debitmandates\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n   "payee": [\n    {\n      "key": "accountid",\n      "value": "2999"\n    }\n  ],\n    "requestDate": "2017-07-21T17:32:28Z",\n    "startDate": "2018-11-20",\n    "currency": "GBP",\n    "amountLimit": "1000.00",\n    "endDate": "2018-11-20",\n    "numberOfPayments": "2",\n    "frequencyType": "sixmonths",\n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]        \n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer is requested to the MMP to\nauthorise the mandate. This can be\nachieved through a number of means\nincluding USSD Push and One Time Code.\nOpenId can also be used to secure\ncustomer authorisation. Account Holder--\x3e>Mobile Money Provider: (Authorised) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Setup a Recurring Payment Failure\n\nIn this diagram, the account holder declines to provide authorisation to setup the recurring payment. The service provider receives a callback containing an error object detailing the reason for failure.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider participant Account Holder Service Provider->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Account Holder: Obtain Customer Authorisation activate Account Holder Note right of Account Holder: (2) The customer declines the request by the\nMMP to accept the debit mandate. Account Holder--\x3e>Mobile Money Provider: (Declined) deactivate Account Holder Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) Note right of Mobile Money Provider: (3) The MMP informs the service provider that the\ndebit mandate has been declined by returning\nan error object. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\n\n\n# Take a Recurring Payment\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "mandatereference",\n            "value": "Place your Mandate Reference here"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Take a Recurring Payment Failure\n\nIn this diagram, the service provider initiates a payment request to the FSP to debit the account-holders account as per the debit mandate. The FSP is unable to process the payment and returns a callback containing the error object.\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider Mobile Money Provider->>Service Provider: PUT {Callback URL} (Error Object) activate Service Provider Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\n\n\n# Take a Recurring Payment using the Polling Method\n\nIn this example, an asynchronous payment flow is used with the polling method. The client polls against the request state object to determine the outcome of the payment request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/merchantpay\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "mandatereference",\n            "value": "Place your Mandate Reference here"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n \n\n\nGET .../requeststates/Place the Server Correlation Id here\n\n\n \n\n\nGET .../transactions/Place Transaction Reference here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/merchantpay activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the payment request for\nprocessing to the MMP, ensuring that a mandate reference\nis provided for the payment. The MMP will return the\nRequest State object to indicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) deactivate Service Provider loop activate Service Provider Service Provider->>Mobile Money Provider: GET /requeststates/{serverCorrelationId} Note right of Mobile Money Provider: (2) The service provider polls the MMP for the Request State\nuntil the transaction is authorised or declied or until the\npolling limit is reached. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Request State Object) end deactivate Mobile Money Provider opt activate Mobile Money Provider Service Provider->>Mobile Money Provider: GET /transactions/transactionReference Note right of Mobile Money Provider: (3) The service provider can use the objectReference returned in\nthe Request State to retrieve a representation of the\ncompleted payment. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Object) end deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Recurring Payment Refund\n\nService Providers can issue a refund to payers. In this diagram, the refund is not linked to the original transaction and hence the /transactions API is used. Where a refund needs to be linked to the original transaction, the /reversals API must be used to perform the refund.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/type/adjustment\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "amount": "200.00",\n    "debitParty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditParty": [\n        {\n            "key": "mandateReference",\n            "value": "Place your Mandate Reference here"\n        }\n    ],\n    "currency": "RWF"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/type/adjustment activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the refund request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Transactions Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Recurring Payment Reversal\n\nIn some failure scenarios, a service provider may need to reverse a transaction. This diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../transactions/Place Reference of Txn to be Reversed here/reversals\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n    "type": "reversal"\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: POST /transactions/{original transaction reference}/reversals activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider submits the reversal request for\nprocessing to the MMP - passing the reference of the\ntransaction that is to be reversed. The MMP will return the\nRequest State object to indicate that the request is\n\'pending\'. Mobile Money Provider--\x3e>Service Provider: HTTP 202 (Request State Object) Mobile Money Provider->>Service Provider: PUT {Callback URL} (Reversal Object) Note right of Mobile Money Provider: (2) The MMP informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. Service Provider--\x3e>Mobile Money Provider: HTTP 204 deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Payer sets up a Recurring Payment using MMP Channel\n\nThis diagram illustrates how the MM API can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOST .../accounts/accountid/2000/debitmandates\n---\nHeaders:\n{\n   "X-CorrelationID": ["Please enter your UUID here"],\n   "X-Callback-URL": ["Please enter your callback URL here"],\n   "Content-Type": ["application/json"]\n}\n---\nBody parameters: \n{\n   "payee": [\n    {\n      "key": "accountid",\n      "value": "2999"\n    }\n  ],\n    "requestDate": "2017-07-21T17:32:28Z",\n    "startDate": "2018-11-20",\n    "currency": "GBP",\n    "amountLimit": "1000.00",\n    "endDate": "2018-11-20",\n    "numberOfPayments": "2",\n    "frequencyType": "sixmonths",\n    "customData": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]        \n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Mobile Money Provider Channel participant Mobile Money Provider Mobile Money Provider Channel->>Mobile Money Provider: POST /accounts/{identifierType}/{identifier}/debitmandates activate Mobile Money Provider Channel activate Mobile Money Provider Note right of Mobile Money Provider: (1) The MMP Channel submits the debit mandate request for\nprocessing to the MMP. The MMP will return the Request\nState object to indicate that the request is \'pending\'. Mobile Money Provider--\x3e>Mobile Money Provider Channel: HTTP 202 (Request State Object) Mobile Money Provider->>Mobile Money Provider Channel: PUT {Callback URL} (Debit Mandates Object) Note right of Mobile Money Provider: (2) The MMP informs the MMP Channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. Mobile Money Provider Channel--\x3e>Mobile Money Provider: HTTP 204 deactivate Mobile Money Provider Channel deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Obtain a Service Provider Balance\n\n \n\n\nGET .../accounts/accountid/2000/balance\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/balance activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Obtain the balance of the\nrequested account. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Balance Object) deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve Payments for a Service Provider\n\nThis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\n \n\n\n\n\n\n\n\n\nGET .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nParams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=0&limit=20 activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests\nup to 20 transactions for the\naccount from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) Note right of Mobile Money Provider: (2) The MMP returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. Service Provider->>Mobile Money Provider: GET /accounts/{identifierType}/{identifier}/transactions?offset=20&limit=20 Note right of Mobile Money Provider: (3) The service provider requests\nthe remaining transactions for\nthe account from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Transactions Array) (X-Records-Available-Count=40) deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Check for Service Availability\n\nThe Heartbeat API is used for monitoring purposes and establishes whether the FSP is in a state that enables a client to submit a request for processing.\n\n \n\n\nGET .../heartbeat\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /heartbeat activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) The service provider requests the\navailability of the service from the MMP. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Heartbeat Object) Note right of Mobile Money Provider: (2) The MMP returns the availability of\nthe service - available, unavailable\nor degraded. deactivate Service Provider deactivate Mobile Money Provider\nOpen Postman Collection Open Postman Collection with Authentication\n\n\n# Retrieve a Missing API Response\n\nThis API can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. Use this API when a callback is not received from the FSP.\n\n \n\n\nGET .../responses/Please enter your UUID here\n\n\n//some JavaScript code here\n\n\n<?php \n  //some PHP code here \n?>\n\n\nsequenceDiagram participant Service Provider participant Mobile Money Provider Service Provider->>Mobile Money Provider: GET /responses{clientCorrelationId} activate Service Provider activate Mobile Money Provider Note right of Mobile Money Provider: (1) Using the service provider\'s\nclientCorrelationId, a request for the\nmissing API response is sent. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Responses Object) Note right of Mobile Money Provider: (2) A Responses object is returned\ncontaining a link to the missing\nresource. Service Provider->>Mobile Money Provider: GET /{link} Note right of Mobile Money Provider: (3) The service provider uses the link to\nobtain a representation of the missing\nresource. Mobile Money Provider--\x3e>Service Provider: HTTP 200 (Requested Object) deactivate Mobile Money Provider deactivate Service Provider\nOpen Postman Collection Open Postman Collection with Authentication',normalizedContent:'# about use case scenarios\n\nthe gsma simulator for the mobile money api is a simulated api implementation developed by the gsma to facilitate api adoption and testing, thereby decreasing implementation effort and time to market for mobile money providers and ecosystem service providers. developers can navigate through use case scenarios providing access to a set of pre-defined postman collections for the simulator to try out some of the most common mobile money api use cases, or directly access the oas interface for the api specification and use the api try it out functionality from there.\n\n\n# setup a recurring payment\n\nthis diagram illustrates the setting-up of a recurring payment via a debit mandate. the service provider initiates the request which is authorised by the account holding customer. in this diagram, an asynchronous flow is used with a final callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/2000/debitmandates\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n   "payee": [\n    {\n      "key": "accountid",\n      "value": "2999"\n    }\n  ],\n    "requestdate": "2017-07-21t17:32:28z",\n    "startdate": "2018-11-20",\n    "currency": "gbp",\n    "amountlimit": "1000.00",\n    "enddate": "2018-11-20",\n    "numberofpayments": "2",\n    "frequencytype": "sixmonths",\n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]        \n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer is requested to the mmp to\nauthorise the mandate. this can be\nachieved through a number of means\nincluding ussd push and one time code.\nopenid can also be used to secure\ncustomer authorisation. account holder--\x3e>mobile money provider: (authorised) deactivate account holder mobile money provider->>service provider: put {callback url} (debit mandates object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# setup a recurring payment failure\n\nin this diagram, the account holder declines to provide authorisation to setup the recurring payment. the service provider receives a callback containing an error object detailing the reason for failure.\n\nsequencediagram participant service provider participant mobile money provider participant account holder service provider->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>account holder: obtain customer authorisation activate account holder note right of account holder: (2) the customer declines the request by the\nmmp to accept the debit mandate. account holder--\x3e>mobile money provider: (declined) deactivate account holder mobile money provider->>service provider: put {callback url} (error object) note right of mobile money provider: (3) the mmp informs the service provider that the\ndebit mandate has been declined by returning\nan error object. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider\n\n\n# take a recurring payment\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "mandatereference",\n            "value": "place your mandate reference here"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n\'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (transactions object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\ntransaction has been successfully completed\nby returning the final representation of the\ntransaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# take a recurring payment failure\n\nin this diagram, the service provider initiates a payment request to the fsp to debit the account-holders account as per the debit mandate. the fsp is unable to process the payment and returns a callback containing the error object.\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n\'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider mobile money provider->>service provider: put {callback url} (error object) activate service provider note right of mobile money provider: (2) the mmp informs the service provider that the\npayment has failed and returns the error\nobject detailing the reason for failure. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider\n\n\n# take a recurring payment using the polling method\n\nin this example, an asynchronous payment flow is used with the polling method. the client polls against the request state object to determine the outcome of the payment request.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/merchantpay\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "mandatereference",\n            "value": "place your mandate reference here"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n \n\n\nget .../requeststates/place the server correlation id here\n\n\n \n\n\nget .../transactions/place transaction reference here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/merchantpay activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the payment request for\nprocessing to the mmp, ensuring that a mandate reference\nis provided for the payment. the mmp will return the\nrequest state object to indicate that the request is\n\'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) deactivate service provider loop activate service provider service provider->>mobile money provider: get /requeststates/{servercorrelationid} note right of mobile money provider: (2) the service provider polls the mmp for the request state\nuntil the transaction is authorised or declied or until the\npolling limit is reached. mobile money provider--\x3e>service provider: http 200 (request state object) end deactivate mobile money provider opt activate mobile money provider service provider->>mobile money provider: get /transactions/transactionreference note right of mobile money provider: (3) the service provider can use the objectreference returned in\nthe request state to retrieve a representation of the\ncompleted payment. mobile money provider--\x3e>service provider: http 200 (transactions object) end deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# recurring payment refund\n\nservice providers can issue a refund to payers. in this diagram, the refund is not linked to the original transaction and hence the /transactions api is used. where a refund needs to be linked to the original transaction, the /reversals api must be used to perform the refund.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/type/adjustment\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "amount": "200.00",\n    "debitparty": [\n        {\n            "key": "accountid",\n            "value": "2999"\n        }\n    ],\n    "creditparty": [\n        {\n            "key": "mandatereference",\n            "value": "place your mandate reference here"\n        }\n    ],\n    "currency": "rwf"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/type/adjustment activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the refund request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (transactions object) note right of mobile money provider: (2) the mmp informs the service provider that the\nrefund has been successfully completed by\nreturning the final representation of the refund. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# recurring payment reversal\n\nin some failure scenarios, a service provider may need to reverse a transaction. this diagram illustrates a reversal with the final result communicated via the callback.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../transactions/place reference of txn to be reversed here/reversals\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n    "type": "reversal"\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: post /transactions/{original transaction reference}/reversals activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider submits the reversal request for\nprocessing to the mmp - passing the reference of the\ntransaction that is to be reversed. the mmp will return the\nrequest state object to indicate that the request is\n\'pending\'. mobile money provider--\x3e>service provider: http 202 (request state object) mobile money provider->>service provider: put {callback url} (reversal object) note right of mobile money provider: (2) the mmp informs the service provider that the\nreversal has been successfully completed by\nreturning the final representation of the\nreversal transaction. service provider--\x3e>mobile money provider: http 204 deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# payer sets up a recurring payment using mmp channel\n\nthis diagram illustrates how the mm api can be used by a mobile money provider to allow a payer to setup a recurring payment using a channel provided by the provider, for example, a mobile money app.\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npost .../accounts/accountid/2000/debitmandates\n---\nheaders:\n{\n   "x-correlationid": ["please enter your uuid here"],\n   "x-callback-url": ["please enter your callback url here"],\n   "content-type": ["application/json"]\n}\n---\nbody parameters: \n{\n   "payee": [\n    {\n      "key": "accountid",\n      "value": "2999"\n    }\n  ],\n    "requestdate": "2017-07-21t17:32:28z",\n    "startdate": "2018-11-20",\n    "currency": "gbp",\n    "amountlimit": "1000.00",\n    "enddate": "2018-11-20",\n    "numberofpayments": "2",\n    "frequencytype": "sixmonths",\n    "customdata": [\n        {\n        "key": "keytest",\n        "value": "keyvalue"\n        }\n    ]        \n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant mobile money provider channel participant mobile money provider mobile money provider channel->>mobile money provider: post /accounts/{identifiertype}/{identifier}/debitmandates activate mobile money provider channel activate mobile money provider note right of mobile money provider: (1) the mmp channel submits the debit mandate request for\nprocessing to the mmp. the mmp will return the request\nstate object to indicate that the request is \'pending\'. mobile money provider--\x3e>mobile money provider channel: http 202 (request state object) mobile money provider->>mobile money provider channel: put {callback url} (debit mandates object) note right of mobile money provider: (2) the mmp informs the mmp channel that the\ndebit mandate has been successfully created\nby returning the final representation of the\ndebit mandate. mobile money provider channel--\x3e>mobile money provider: http 204 deactivate mobile money provider channel deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# obtain a service provider balance\n\n \n\n\nget .../accounts/accountid/2000/balance\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/balance activate service provider activate mobile money provider note right of mobile money provider: (1) obtain the balance of the\nrequested account. mobile money provider--\x3e>service provider: http 200 (balance object) deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve payments for a service provider\n\nthis diagram illustrates use of a cursor mechanism to retrieve all payments for a service provider via multiple requests.\n\n \n\n\n\n\n\n\n\n\nget .../accounts/accountid/2000/transactions?offset=0&limit=20\n---\nparams:\n{\n  "offset": 0,\n  "limit": 20\n}\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=0&limit=20 activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests\nup to 20 transactions for the\naccount from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) note right of mobile money provider: (2) the mmp returns an array of\n20 transactions and indicates\nvia a response header that\nthere are 40 records\navailable in total. service provider->>mobile money provider: get /accounts/{identifiertype}/{identifier}/transactions?offset=20&limit=20 note right of mobile money provider: (3) the service provider requests\nthe remaining transactions for\nthe account from the mmp. mobile money provider--\x3e>service provider: http 200 (transactions array) (x-records-available-count=40) deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# check for service availability\n\nthe heartbeat api is used for monitoring purposes and establishes whether the fsp is in a state that enables a client to submit a request for processing.\n\n \n\n\nget .../heartbeat\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /heartbeat activate service provider activate mobile money provider note right of mobile money provider: (1) the service provider requests the\navailability of the service from the mmp. mobile money provider--\x3e>service provider: http 200 (heartbeat object) note right of mobile money provider: (2) the mmp returns the availability of\nthe service - available, unavailable\nor degraded. deactivate service provider deactivate mobile money provider\nopen postman collection open postman collection with authentication\n\n\n# retrieve a missing api response\n\nthis api can be used by the service provider to retrieve a link to the final representation of the resource for which it attempted to create. use this api when a callback is not received from the fsp.\n\n \n\n\nget .../responses/please enter your uuid here\n\n\n//some javascript code here\n\n\n<?php \n  //some php code here \n?>\n\n\nsequencediagram participant service provider participant mobile money provider service provider->>mobile money provider: get /responses{clientcorrelationid} activate service provider activate mobile money provider note right of mobile money provider: (1) using the service provider\'s\nclientcorrelationid, a request for the\nmissing api response is sent. mobile money provider--\x3e>service provider: http 200 (responses object) note right of mobile money provider: (2) a responses object is returned\ncontaining a link to the missing\nresource. service provider->>mobile money provider: get /{link} note right of mobile money provider: (3) the service provider uses the link to\nobtain a representation of the missing\nresource. mobile money provider--\x3e>service provider: http 200 (requested object) deactivate mobile money provider deactivate service provider\nopen postman collection open postman collection with authentication',charsets:{}},{title:"Recurring Payments",frontmatter:{sidebarDepth:0,pageClass:"api-page",title:"Recurring Payments"},regularPath:"/use-cases/recurring-payments/",relativePath:"use-cases/recurring-payments/index.md",key:"v-c8b409ce",path:"/use-cases/recurring-payments/",headers:[{level:2,title:"Introduction",slug:"introduction",normalizedTitle:"introduction",charIndex:0},{level:2,title:"Intended Audience",slug:"intended-audience",normalizedTitle:"intended audience",charIndex:541}],headersStr:"Introduction Intended Audience",content:"# Introduction\n\nThe Recurring Payments Mobile Money APIs allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nFor further reading, please refer to the following:\n\n * Getting Started. Specifies the design principles, behaviours, and error handling of the Mobile Money API.\n * API Service Definition. Documents all Mobile Money API endpoints, fields, objects, and enumerations.\n\nAll documentation can be found on the GSMA Mobile Money API Developer Portal.\n\n\n# Intended Audience\n\nAUDIENCE                 USAGE                                                        ROLE\nMobile Money Providers   - To understand how to implement the Mobile Money API to     API Provider\n                         receive recurring payment requests from service providers.\n                         - To understand how to implement the Mobile Money API to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nService Providers        To understand how to implement the Mobile Money API to       API Consumer\n                         request recurring payment mandates against mobile money\n                         accounts.",normalizedContent:"# introduction\n\nthe recurring payments mobile money apis allow service providers to setup electronic payment mandates for mobile money customers and initiate payments against payment mandates.\n\nfor further reading, please refer to the following:\n\n * getting started. specifies the design principles, behaviours, and error handling of the mobile money api.\n * api service definition. documents all mobile money api endpoints, fields, objects, and enumerations.\n\nall documentation can be found on the gsma mobile money api developer portal.\n\n\n# intended audience\n\naudience                 usage                                                        role\nmobile money providers   - to understand how to implement the mobile money api to     api provider\n                         receive recurring payment requests from service providers.\n                         - to understand how to implement the mobile money api to\n                         create recurring payment requests initiated by customers\n                         using a channel (e.g. app) provided by the mobile money\n                         provider.\nservice providers        to understand how to implement the mobile money api to       api consumer\n                         request recurring payment mandates against mobile money\n                         accounts.",charsets:{}}],themeConfig:{repo:"",editLinks:!1,docsDir:"",editLinkText:"",lastUpdated:!1,logo:"/images/logo-small.svg",nav:[{text:"About",items:[{text:"About GSMA",link:"https://www.gsma.com/aboutus/",target:"_blank"},{text:"Mobile for Development",link:"https://www.gsma.com/mobilefordevelopment/mobile-money/",target:"_blank"},{text:"Inclusive Tech Lab",link:"https://www.gsma.com/mobilefordevelopment/mobile-money/gsma-inclusive-tech-lab/",target:"_blank"}]},{text:"Business",items:[{text:"Mobile Money Providers",link:"/mobile-money-providers/"},{text:"Merchants & Service Providers",link:"/merchants-and-service-providers/"},{text:"Governments",link:"/governments/"},{text:"Humanitarian Agencies",link:"/humanitarian-agencies/"},{text:"International Transfer Organisations",link:"/international-transfer-organisations/"},{text:"Payment Service Providers & Payment Aggregators",link:"/payment-service-providers-and-payment-aggregators/"},{text:"Banks & Microfinance Institutions",link:"/banks-microfinance-institutions/"},{text:"FinTech Providers (Insurance Savings Loans)",link:"/fintech-providers/"},{text:"Employers",link:"/employers/"},{text:"Energy & Utilities & AgriTech",link:"/energy-utilities-agritech/"},{text:"Education & Health",link:"/education-and-health/"},{text:"Mobile Money Agents",link:"/mobile-money-agents/"}]},{text:"API",items:[{text:"Version 1.2",items:[{text:"Home",link:"/api-versions-1.2/"},{text:"Highlights",link:"/api-versions-1.2/resources/highlights"},{text:"Change list",link:"/api-versions-1.2/resources/change-list"}]},{text:"Version 1.1",link:"/api-versions-1.1/"},{text:"Version 1.0",link:"/api-versions-1.0/"}]},{text:"SDKs",items:[{text:"Getting Started",link:"/sdks/getting-started/introduction"},{text:"Authentication",link:"/sdks/auth/client-authentication"},{text:"Android",link:"/sdks/android/introduction"},{text:"NodeJs",link:"/sdks/nodejs/introduction"},{text:"PHP",link:"/sdks/php/introduction"},{text:"JavaScript",link:"/sdks/javascript/introduction"},{text:"Java",link:"/sdks/java/introduction"}]},{text:"Resources",items:[{text:"Security",link:"/security/"},{text:"Glossary",link:"/glossary/"},{text:"FAQ",link:"/faq/"}]},{text:"Support",link:"/support/"}],footer:[{text:"Contact GSMA",link:"https://www.gsma.com/aboutus/worldwide-offices",target:"_blank"},{text:"Legal",link:"https://www.gsma.com/aboutus/legal",target:"_blank"},{text:"Email Preference Centre",link:"https://www.gsma.com/aboutus/legal/email-preference-centre",target:"_blank"}],sidebar:{"/examples/":[{title:"Examples",collapsable:!1,children:["#introduction","swagger-page"]}],"/api-versions-1.2/":[{title:"API version 1.2",collapsable:!1,sidebarDepth:2,backLink:{title:"API version  1.2",path:"/api-versions-1.2/"},children:[{title:"Get started",sidebarDepth:2,children:[{title:"Getting started",path:"/api-versions-1.2/get-started",sidebarDepth:2}]},{title:"Resources",sidebarDepth:2,children:[{title:"API Service Definition",path:"/api-versions-1.2/resources/api-service-definition",collapsable:!0,sidebarDepth:2},{title:"Open OAS3 UI",path:"/api-versions-1.2/resources/open-oas3-ui",collapsable:!0,sidebarDepth:2},{title:"Change list",path:"/api-versions-1.2/resources/change-list",collapsable:!0,sidebarDepth:2},{title:"Highlights",path:"/api-versions-1.2/resources/highlights",collapsable:!0,sidebarDepth:2}]},{title:"Use cases",sidebarDepth:2,children:[{title:"About",path:"/api-versions-1.2/use-cases-about.md",sidebarDepth:2,collapsable:!0},{title:"Merchant payments",path:"/use-cases/merchant-payments/",sidebarDepth:2,collapsable:!0},{title:"Disbursements",path:"/use-cases/disbursements/",sidebarDepth:2,collapsable:!0},{title:"International transfers",path:"/use-cases/international-transfers/",sidebarDepth:2,collapsable:!0},{title:"P2P transfers",path:"/use-cases/p-2-p-transfers/",sidebarDepth:2,collapsable:!0},{title:"Recurring payments",path:"/use-cases/recurring-payments/",sidebarDepth:2,collapsable:!0},{title:"Account linking",path:"/use-cases/account-linking/",sidebarDepth:2,collapsable:!0},{title:"Bill payments",path:"/use-cases/bill-payments/",sidebarDepth:2,collapsable:!0},{title:"Agent Services",path:"/use-cases/agent-services/",sidebarDepth:2,collapsable:!0}]}]}],"/sdks/":[{title:"SDKs",collapsable:!1,sidebarDepth:2,children:[{title:"Getting Started",sidebarDepth:2,children:[{title:"Introduction",path:"/sdks/getting-started/introduction",sidebarDepth:2},{title:"SDKs",path:"/sdks/getting-started/sdks",sidebarDepth:2},{title:"GitHub",path:"https://github.com/gsmainclusivetechlab/mmapi-sdk-docs",sidebarDepth:2,collapsable:!0}]},{title:"Authentication",sidebarDepth:2,children:[{title:"Client Authentication",path:"/sdks/auth/client-authentication",sidebarDepth:2},{title:"API Authorisation",path:"/sdks/auth/api-authorization",collapsable:!0,sidebarDepth:2}]},{title:"Android",sidebarDepth:2,children:[{title:"Introduction",path:"/sdks/android/introduction",sidebarDepth:2,collapsable:!0},{title:"System Requirements",path:"/sdks/android/system-requirements",sidebarDepth:2,collapsable:!0},{title:"SDK Initialisation",path:"/sdks/android/sdk-initialization",sidebarDepth:2,collapsable:!0},{title:"Downloads",path:"/sdks/android/downloads",sidebarDepth:2,collapsable:!0},{title:"GitHub",path:"https://github.com/gsmainclusivetechlab/mmapi-android-sdk/tree/develop#readme",sidebarDepth:2,collapsable:!0}]},{title:"NodeJs",sidebarDepth:2,children:[{title:"Introduction",path:"/sdks/nodejs/introduction",sidebarDepth:2,collapsable:!0},{title:"System Requirements",path:"/sdks/nodejs/system-requirements",sidebarDepth:2,collapsable:!0},{title:"SDK Initialisation",path:"/sdks/nodejs/sdk-initialization",sidebarDepth:2,collapsable:!0},{title:"Downloads",path:"/sdks/nodejs/downloads",sidebarDepth:2,collapsable:!0},{title:"GitHub",path:"https://github.com/gsmainclusivetechlab/mmapi-nodejs-sdk/tree/develop#readme",sidebarDepth:2,collapsable:!0}]},{title:"PHP",sidebarDepth:2,children:[{title:"Introduction",path:"/sdks/php/introduction",sidebarDepth:2,collapsable:!0},{title:"System Requirements",path:"/sdks/php/system-requirements",sidebarDepth:2,collapsable:!0},{title:"SDK Initialisation",path:"/sdks/php/sdk-initialization",sidebarDepth:2,collapsable:!0},{title:"Downloads",path:"/sdks/php/downloads",sidebarDepth:2,collapsable:!0},{title:"GitHub",path:"https://github.com/gsmainclusivetechlab/mmapi-php-sdk/tree/develop#readme",sidebarDepth:2,collapsable:!0}]},{title:"JavaScript",sidebarDepth:2,children:[{title:"Introduction",path:"/sdks/javascript/introduction",sidebarDepth:2,collapsable:!0},{title:"System Requirements",path:"/sdks/javascript/system-requirements",sidebarDepth:2,collapsable:!0},{title:"SDK Initialisation",path:"/sdks/javascript/sdk-initialization",sidebarDepth:2,collapsable:!0},{title:"Downloads",path:"/sdks/javascript/downloads",sidebarDepth:2,collapsable:!0},{title:"GitHub",path:"https://github.com/gsmainclusivetechlab/mmapi-javascript-sdk/tree/development#readme",sidebarDepth:2,collapsable:!0}]},{title:"Java",sidebarDepth:2,children:[{title:"Introduction",path:"/sdks/java/introduction",sidebarDepth:2,collapsable:!0},{title:"System Requirements",path:"/sdks/java/system-requirements",sidebarDepth:2,collapsable:!0},{title:"SDK Initialisation",path:"/sdks/java/sdk-initialization",sidebarDepth:2,collapsable:!0},{title:"Downloads",path:"/sdks/java/downloads",sidebarDepth:2,collapsable:!0},{title:"GitHub",path:"https://github.com/gsmainclusivetechlab/mmapi-java-sdk/tree/develop#readme",sidebarDepth:2,collapsable:!0}]}]}],"/use-cases/merchant-payments/":[{title:"Merchant Payments",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"Merchant Payments",path:"/use-cases/merchant-payments/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About Merchant Payments Scenarios",path:"/use-cases/merchant-payments/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/merchant-payments/api-service-definition"}]},{title:"Merchant Payments Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"Merchant Payments Open OAS UI",path:"/use-cases/merchant-payments/merchant-payments-open-oas-ui"}]}]}],"/use-cases/disbursements/":[{title:"Disbursements",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"Disbursements",path:"/use-cases/disbursements/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About Disbursements Scenarios",path:"/use-cases/disbursements/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/disbursements/api-service-definition"}]},{title:"Disbursements Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"Disbursements Open OAS UI",path:"/use-cases/disbursements/disbursements-open-oas-ui"}]}]}],"/use-cases/international-transfers/":[{title:"International transfers",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"International Transfers",path:"/use-cases/international-transfers/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About International Transfers Scenarios",path:"/use-cases/international-transfers/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/international-transfers/api-service-definition"}]},{title:"International Transfers Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"International Transfers Open OAS UI",path:"/use-cases/international-transfers/international-transfers-open-oas-ui"}]}]}],"/use-cases/p-2-p-transfers/":[{title:"P2P Transfers",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"P2P Transfers",path:"/use-cases/p-2-p-transfers/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About P2P Transfers Scenarios",path:"/use-cases/p-2-p-transfers/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/p-2-p-transfers/api-service-definition"}]},{title:"P2P Transfers Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"P2P Transfers Open OAS UI",path:"/use-cases/p-2-p-transfers/p2p-transfers-open-oas-ui"}]}]}],"/use-cases/recurring-payments/":[{title:"Recurring Payments",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"Recurring Payments",path:"/use-cases/recurring-payments/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About Recurring Payments Scenarios",path:"/use-cases/recurring-payments/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/recurring-payments/api-service-definition"}]},{title:"Recurring Payments Open OAS UI",Recurring:!0,sidebarDepth:2,children:[{title:"Recurring Payments Open OAS UI",path:"/use-cases/recurring-payments/recurring-payments-open-oas-ui"}]}]}],"/use-cases/account-linking/":[{title:"Account linking",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"Account Linking",path:"/use-cases/account-linking/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About Account Linking Scenarios",path:"/use-cases/account-linking/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/account-linking/api-service-definition"}]},{title:"Account Linking Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"Account Linking Open OAS UI",path:"/use-cases/account-linking/account-linking-open-oas-ui"}]}]}],"/use-cases/bill-payments/":[{title:"Bill payments",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"Bill Payments",path:"/use-cases/bill-payments/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About Bill Payments Scenarios",path:"/use-cases/bill-payments/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/bill-payments/api-service-definition"}]},{title:"Bill Payments Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"Bill Payments Open OAS UI",path:"/use-cases/bill-payments/bill-payments-open-oas-ui"}]}]}],"/use-cases/agent-services/":[{title:"Agent Services",collapsable:!1,sidebarDepth:2,backLink:{title:"API version 1.2",path:"/api-versions-1.2/"},children:[{title:"Overview",collapsable:!0,sidebarDepth:2,children:[{title:"Agent Services",path:"/use-cases/agent-services/"}]},{title:"Use case scenarios",collapsable:!0,sidebarDepth:2,children:[{title:"About Agent Services Scenarios",path:"/use-cases/agent-services/scenarios/scenarios"}]},{title:"API Service Definition",collapsable:!0,sidebarDepth:2,children:[{title:"API Service Definition",path:"/use-cases/agent-services/api-service-definition"}]},{title:"Agent Services Open OAS UI",collapsable:!0,sidebarDepth:2,children:[{title:"Agent Services Open OAS UI",path:"/use-cases/agent-services/agent-services-open-oas-ui"}]}]}]},smoothScroll:!0,searchMaxSuggestions:10}},Nt=(n(358),n(360),n(218)),Ht=n.n(Nt),Ut=(n(361),n(240),n(233),n(135),function(){return(Ut=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)});function _t(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function Bt(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Lt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function zt(e){return e!=e}function Gt(e){return null==e}var $t=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)};function Vt(e){return""!==e&&!Gt(e)}function Kt(e){return"function"==typeof e}function Yt(e){return Kt(e)&&!!e.__locatorRef}function Jt(e,t){var n=Array.isArray(e)?e:Wt(e);if(Kt(n.findIndex))return n.findIndex(t);for(var i=0;i<n.length;i++)if(t(n[i],i))return i;return-1}function Xt(e,t){return-1!==e.indexOf(t)}function Wt(e){return Kt(Array.from)?Array.from(e):function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}(e)}function Zt(e){return Kt(Object.values)?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Qt(e,t){return Object.keys(t).forEach((function(n){if($t(t[n]))return e[n]||(e[n]={}),void Qt(e[n],t[n]);e[n]=t[n]})),e}function en(e,t,n){return void 0===t&&(t=0),void 0===n&&(n={cancelled:!1}),0===t?e:function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=function(){i=void 0,n.cancelled||e.apply(void 0,r)};clearTimeout(i),i=setTimeout(o,t)};var i}function tn(e,t){return e.replace(/{([^}]+)}/g,(function(e,n){return n in t?t[n]:"{"+n+"}"}))}var nn={};var rn=function(){function e(){}return e.extend=function(e,t){var n=function(e){var t;return(null===(t=e.params)||void 0===t?void 0:t.length)&&(e.params=e.params.map((function(e){return"string"==typeof e?{name:e}:e}))),e}(t);nn[e]?nn[e]=Qt(nn[e],t):nn[e]=Ut({lazy:!1,computesRequired:!1},n)},e.isLazy=function(e){var t;return!!(null===(t=nn[e])||void 0===t?void 0:t.lazy)},e.isRequireRule=function(e){var t;return!!(null===(t=nn[e])||void 0===t?void 0:t.computesRequired)},e.getRuleDefinition=function(e){return nn[e]},e}();function an(e,t){!function(e,t){if(Kt(t))return;if(Kt(t.validate))return;if(rn.getRuleDefinition(e))return;throw new Error("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.")}(e,t),"object"!=typeof t?rn.extend(e,{validate:t}):rn.extend(e,t)}var on=Ut({},{defaultMessage:"{_field_} is not valid.",skipOptional:!0,classes:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"},bails:!0,mode:"aggressive",useConstraintAttrs:!0}),sn=function(){return on};function cn(e){var t,n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?$t(e)&&e._$$isNormalized?e:$t(e)?Object.keys(e).reduce((function(t,n){var i=[];return i=!0===e[n]?[]:Array.isArray(e[n])||$t(e[n])?e[n]:[e[n]],!1!==e[n]&&(t[n]=dn(n,i)),t}),n):"string"!=typeof e?(t="rules must be either a string or an object.",console.warn("[vee-validate] "+t),n):e.split("|").reduce((function(e,t){var n=ln(t);return n.name?(e[n.name]=dn(n.name,n.params),e):e}),n):n}function dn(e,t){var n=rn.getRuleDefinition(e);if(!n)return t;var i,r,a={};if(!n.params&&!Array.isArray(t))throw new Error("You provided an object params to a rule that has no defined schema.");if(Array.isArray(t)&&!n.params)return t;!n.params||n.params.length<t.length&&Array.isArray(t)?i=t.map((function(e,t){var i,a=null===(i=n.params)||void 0===i?void 0:i[t];return r=a||r,a||(a=r),a})):i=n.params;for(var o=0;o<i.length;o++){var s=i[o],c=s.default;Array.isArray(t)?o in t&&(c=t[o]):s.name in t?c=t[s.name]:1===i.length&&(c=t),s.isTarget&&(c=un(c,s.cast)),"string"==typeof c&&"@"===c[0]&&(c=un(c.slice(1),s.cast)),!Yt(c)&&s.cast&&(c=s.cast(c)),a[s.name]?(a[s.name]=Array.isArray(a[s.name])?a[s.name]:[a[s.name]],a[s.name].push(c)):a[s.name]=c}return a}var ln=function(e){var t=[],n=e.split(":")[0];return Xt(e,":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function un(e,t){var n=function(n){var i=n[e];return t?t(i):i};return n.__locatorRef=e,n}function hn(e,t,n){return void 0===n&&(n={}),_t(this,void 0,void 0,(function(){var i,r,a,o,s,c;return Bt(this,(function(d){switch(d.label){case 0:return i=null==n?void 0:n.bails,r=null==n?void 0:n.skipIfEmpty,[4,pn({name:(null==n?void 0:n.name)||"{field}",rules:cn(t),bails:null==i||i,skipIfEmpty:null==r||r,forceRequired:!1,crossTable:(null==n?void 0:n.values)||{},names:(null==n?void 0:n.names)||{},customMessages:(null==n?void 0:n.customMessages)||{}},e,n)];case 1:return a=d.sent(),o=[],s={},c={},a.errors.forEach((function(e){var t=e.msg();o.push(t),s[e.rule]=t,c[e.rule]=e.msg})),[2,{valid:a.valid,required:a.required,errors:o,failedRules:s,regenerateMap:c}]}}))}))}function pn(e,t,n){var i=(void 0===n?{}:n).isInitial,r=void 0!==i&&i;return _t(this,void 0,void 0,(function(){var n,i,a,o,s,c,d,l,u;return Bt(this,(function(h){switch(h.label){case 0:return[4,mn(e,t)];case 1:if(n=h.sent(),i=n.shouldSkip,a=n.required,o=n.errors,i)return[2,{valid:!o.length,required:a,errors:o}];s=Object.keys(e.rules).filter((function(e){return!rn.isRequireRule(e)})),c=s.length,d=0,h.label=2;case 2:return d<c?r&&rn.isLazy(s[d])?[3,4]:(l=s[d],[4,fn(e,t,{name:l,params:e.rules[l]})]):[3,5];case 3:if(!(u=h.sent()).valid&&u.error&&(o.push(u.error),e.bails))return[2,{valid:!1,required:a,errors:o}];h.label=4;case 4:return d++,[3,2];case 5:return[2,{valid:!o.length,required:a,errors:o}]}}))}))}function mn(e,t){return _t(this,void 0,void 0,(function(){var n,i,r,a,o,s,c,d,l;return Bt(this,(function(u){switch(u.label){case 0:n=Object.keys(e.rules).filter(rn.isRequireRule),i=n.length,r=[],a=Gt(t)||""===t||(h=t,Array.isArray(h)&&0===h.length),o=a&&e.skipIfEmpty,c=0,u.label=1;case 1:return c<i?(d=n[c],[4,fn(e,t,{name:d,params:e.rules[d]})]):[3,4];case 2:if(l=u.sent(),!$t(l))throw new Error("Require rules has to return an object (see docs)");if(void 0!==l.required&&(s=l.required),!l.valid&&l.error&&(r.push(l.error),e.bails))return[2,{shouldSkip:!0,required:l.required,errors:r}];u.label=3;case 3:return c++,[3,1];case 4:return(!a||s||e.skipIfEmpty)&&(e.bails||o)?[2,{shouldSkip:!s&&a,required:s,errors:r}]:[2,{shouldSkip:!1,required:s,errors:r}]}var h}))}))}function fn(e,t,n){return _t(this,void 0,void 0,(function(){var i,r,a,o,s;return Bt(this,(function(c){switch(c.label){case 0:if(!(i=rn.getRuleDefinition(n.name))||!i.validate)throw new Error("No such validator '"+n.name+"' exists.");return r=i.castValue?i.castValue(t):t,a=function(e,t){if(Array.isArray(e))return e.map((function(e){var n="string"==typeof e&&"@"===e[0]?e.slice(1):e;return n in t?t[n]:e}));var n={};return Object.keys(e).forEach((function(i){n[i]=function(e){if(Yt(e))return e(t);return e}(e[i])})),n}(n.params,e.crossTable),[4,i.validate(r,a)];case 1:return"string"==typeof(o=c.sent())?(s=Ut(Ut({},a||{}),{_field_:e.name,_value_:t,_rule_:n.name}),[2,{valid:!1,error:{rule:n.name,msg:function(){return tn(o,s)}}}]):($t(o)||(o={valid:o}),[2,{valid:o.valid,required:o.required,error:o.valid?void 0:vn(e,t,i,n.name,a)}])}}))}))}function vn(e,t,n,i,r){var a,o=null!==(a=e.customMessages[i])&&void 0!==a?a:n.message,s=function(e,t,n){var i=t.params;if(!i)return{};if(i.filter((function(e){return e.isTarget})).length<=0)return{};var r={},a=e.rules[n];!Array.isArray(a)&&$t(a)&&(a=i.map((function(e){return a[e.name]})));for(var o=0;o<i.length;o++){var s=i[o],c=a[o];if(Yt(c)){c=c.__locatorRef;var d=e.names[c]||c;r[s.name]=d,r["_"+s.name+"_"]=e.crossTable[c]}}return r}(e,n,i),c=function(e,t,n,i){var r={},a=e.rules[n],o=t.params||[];if(!a)return{};return Object.keys(a).forEach((function(t,n){var i=a[t];if(!Yt(i))return{};var s=o[n];if(!s)return{};var c=i.__locatorRef;r[s.name]=e.names[c]||c,r["_"+s.name+"_"]=e.crossTable[c]})),{userTargets:r,userMessage:i}}(e,n,i,o),d=c.userTargets,l=c.userMessage,u=Ut(Ut(Ut(Ut({},r||{}),{_field_:e.name,_value_:t,_rule_:i}),s),d);return{msg:function(){return function(e,t,n){if("function"==typeof e)return e(t,n);return tn(e,Ut(Ut({},n),{_field_:t}))}(l||sn().defaultMessage,e.name,u)},rule:i}}var bn={aggressive:function(){return{on:["input","blur"]}},eager:function(e){return e.errors.length?{on:["input","change"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change","blur"]}}},gn=new r.default;!function(){function e(e,t){this.container={},this.locale=e,this.merge(t)}e.prototype.resolve=function(e,t,n){return this.format(this.locale,e,t,n)},e.prototype.format=function(e,t,n,i){var r,a,o,s,c,d,l,u,h,p=null===(o=null===(a=null===(r=this.container[e])||void 0===r?void 0:r.fields)||void 0===a?void 0:a[t])||void 0===o?void 0:o[n],m=null===(c=null===(s=this.container[e])||void 0===s?void 0:s.messages)||void 0===c?void 0:c[n];return(h=p||m||"")||(h="{_field_} is not valid"),t=null!==(u=null===(l=null===(d=this.container[e])||void 0===d?void 0:d.names)||void 0===l?void 0:l[t])&&void 0!==u?u:t,Kt(h)?h(t,i):tn(h,Ut(Ut({},i),{_field_:t}))},e.prototype.merge=function(e){Qt(this.container,e)},e.prototype.hasRule=function(e){var t,n;return!!(null===(n=null===(t=this.container[this.locale])||void 0===t?void 0:t.messages)||void 0===n?void 0:n[e])}}();var yn=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!=r--;){var o=a[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n};function Pn(e){var t,n,i;if(!(i=e)||!("undefined"!=typeof Event&&Kt(Event)&&i instanceof Event||i&&i.srcElement))return e;var r=e.target;if("file"===r.type&&r.files)return Wt(r.files);if(null===(t=r._vModifiers)||void 0===t?void 0:t.number){var a=parseFloat(r.value);return zt(a)?r.value:a}return(null===(n=r._vModifiers)||void 0===n?void 0:n.trim)&&"string"==typeof r.value?r.value.trim():r.value}var Tn=function(e){var t,n=(null===(t=e.data)||void 0===t?void 0:t.attrs)||e.elm;return!("input"!==e.tag||n&&n.type)||("textarea"===e.tag||Xt(["text","password","search","email","tel","url","number"],null==n?void 0:n.type))};function Mn(e){if(e.data){var t,n,i,r,a=e.data;if("model"in a)return a.model;if(e.data.directives)return t=e.data.directives,n=function(e){return"model"===e.name},i=Array.isArray(t)?t:Wt(t),-1===(r=Jt(i,n))?void 0:i[r]}}function Sn(e){var t,n,i=Mn(e);if(i)return{value:i.value};var r=qn(e),a=(null==r?void 0:r.prop)||"value";return(null===(t=e.componentOptions)||void 0===t?void 0:t.propsData)&&a in e.componentOptions.propsData?{value:e.componentOptions.propsData[a]}:(null===(n=e.data)||void 0===n?void 0:n.domProps)&&"value"in e.data.domProps?{value:e.data.domProps.value}:void 0}function wn(e){return Array.isArray(e)||void 0===Sn(e)?function(e){return Array.isArray(e)?e:Array.isArray(e.children)?e.children:e.componentOptions&&Array.isArray(e.componentOptions.children)?e.componentOptions.children:[]}(e).reduce((function(e,t){var n=wn(t);return n.length&&e.push.apply(e,n),e}),[]):[e]}function qn(e){return e.componentOptions?e.componentOptions.Ctor.options.model:null}function An(e,t,n){if(Gt(e[t]))e[t]=[n];else{if(Kt(e[t])&&e[t].fns){var i=e[t];return i.fns=Array.isArray(i.fns)?i.fns:[i.fns],void(Xt(i.fns,n)||i.fns.push(n))}if(Kt(e[t])){var r=e[t];e[t]=[r]}Array.isArray(e[t])&&!Xt(e[t],n)&&e[t].push(n)}}function kn(e,t,n){e.componentOptions?function(e,t,n){e.componentOptions&&(e.componentOptions.listeners||(e.componentOptions.listeners={}),An(e.componentOptions.listeners,t,n))}(e,t,n):function(e,t,n){e.data||(e.data={}),Gt(e.data.on)&&(e.data.on={}),An(e.data.on,t,n)}(e,t,n)}function jn(e,t){var n;return e.componentOptions?(qn(e)||{event:"input"}).event:(null===(n=null==t?void 0:t.modifiers)||void 0===n?void 0:n.lazy)?"change":Tn(e)?"input":"change"}function In(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.attrs;if(!Xt(["input","select","textarea"],e.tag)||!n)return{};var i={};return"required"in n&&!1!==n.required&&rn.getRuleDefinition("required")&&(i.required="checkbox"!==n.type||[!0]),Tn(e)?cn(Ut(Ut({},i),function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.attrs,i={};return n?("email"===n.type&&rn.getRuleDefinition("email")&&(i.email=["multiple"in n]),n.pattern&&rn.getRuleDefinition("regex")&&(i.regex=n.pattern),n.maxlength>=0&&rn.getRuleDefinition("max")&&(i.max=n.maxlength),n.minlength>=0&&rn.getRuleDefinition("min")&&(i.min=n.minlength),"number"===n.type&&(Vt(n.min)&&rn.getRuleDefinition("min_value")&&(i.min_value=Number(n.min)),Vt(n.max)&&rn.getRuleDefinition("max_value")&&(i.max_value=Number(n.max))),i):i}(e))):cn(i)}function On(e,t){return e.$scopedSlots.default?e.$scopedSlots.default(t)||[]:e.$slots.default||[]}function xn(e,t){return!(e._ignoreImmediate||!e.immediate)||(n=e.value,i=t,!(zt(n)&&zt(i)||n===i||!e.normalizedEvents.length)||(!!e._needsValidation||!e.initialized&&void 0===t));var n,i}function Rn(e){return Ut(Ut({},e.flags),{errors:e.errors,classes:e.classes,failedRules:e.failedRules,reset:function(){return e.reset()},validate:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.validate.apply(e,t)},ariaInput:{"aria-invalid":e.flags.invalid?"true":"false","aria-required":e.isRequired?"true":"false","aria-errormessage":"vee_"+e.id},ariaMsg:{id:"vee_"+e.id,"aria-live":e.errors.length?"assertive":"off"}})}function Cn(e,t){e.initialized||(e.initialValue=t);var n=xn(e,t);if(e._needsValidation=!1,e.value=t,e._ignoreImmediate=!0,n){var i=function(){if(e.immediate||e.flags.validated)return Dn(e);e.validateSilent()};e.initialized?i():e.$once("hook:mounted",(function(){return i()}))}}function Fn(e){return(Kt(e.mode)?e.mode:bn[e.mode])(e)}function Dn(e){var t=e.validateSilent();return e._pendingValidation=t,t.then((function(n){return t===e._pendingValidation&&(e.applyResult(n),e._pendingValidation=void 0),n}))}function En(e){e.$veeOnInput||(e.$veeOnInput=function(t){e.syncValue(t),e.setFlags({dirty:!0,pristine:!1})});var t=e.$veeOnInput;e.$veeOnBlur||(e.$veeOnBlur=function(){e.setFlags({touched:!0,untouched:!1})});var n=e.$veeOnBlur,i=e.$veeHandler,r=Fn(e);return i&&e.$veeDebounce===e.debounce||(i=en((function(){e.$nextTick((function(){e._pendingReset||Dn(e),e._pendingReset=!1}))}),r.debounce||e.debounce),e.$veeHandler=i,e.$veeDebounce=e.debounce),{onInput:t,onBlur:n,onValidate:i}}var Nn=0;var Hn=r.default.extend({name:"ValidationProvider",inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},observe:function(e){this.refs[e.id]=e},unobserve:function(e){delete this.refs[e]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:String,default:""},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return sn().mode}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return sn().bails}},skipIfEmpty:{type:Boolean,default:function(){return sn().skipOptional}},debounce:{type:Number,default:0},tag:{type:String,default:"span"},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},customMessages:{type:Object,default:function(){return{}}},detectInput:{type:Boolean,default:!0}},watch:{rules:{deep:!0,handler:function(e,t){this._needsValidation=!yn(e,t)}}},data:function(){return{errors:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1},failedRules:{},isActive:!0,fieldName:"",id:""}},computed:{fieldDeps:function(){var e=this;return Object.keys(this.normalizedRules).reduce((function(t,n){var i=function(e){return Array.isArray(e)?e.filter((function(e){return Yt(e)||"string"==typeof e&&"@"===e[0]})):Object.keys(e).filter((function(t){return Yt(e[t])})).map((function(t){return e[t]}))}(e.normalizedRules[n]).map((function(e){return Yt(e)?e.__locatorRef:e.slice(1)}));return t.push.apply(t,i),i.forEach((function(t){!function e(t,n,i){void 0===i&&(i=!0);var r=t.$_veeObserver.refs;t._veeWatchers||(t._veeWatchers={});if(!r[n]&&i)return t.$once("hook:mounted",(function(){e(t,n,!1)}));!Kt(t._veeWatchers[n])&&r[n]&&(t._veeWatchers[n]=r[n].$watch("value",(function(){var e=t.checkComputesRequiredState();t.flags.validated&&(t._needsValidation=!0,t.validate()),e&&!t.flags.validated&&t.validateSilent()})))}(e,t)})),t}),[])},normalizedEvents:function(){var e=this;return(Fn(this).on||[]).map((function(t){return"input"===t?e._inputEventName:t}))},isRequired:function(){var e=Ut(Ut({},this._resolvedRules),this.normalizedRules),t=Object.keys(e).some(rn.isRequireRule);return this.flags.required=!!t,t},classes:function(){return function(e,t){for(var n={},i=Object.keys(t),r=i.length,a=function(r){var a=i[r],o=e&&e[a]||a,s=t[a];return Gt(s)?"continue":"valid"!==a&&"invalid"!==a||t.validated?void("string"==typeof o?n[o]=s:Array.isArray(o)&&o.forEach((function(e){n[e]=s}))):"continue"},o=0;o<r;o++)a(o);return n}(sn().classes,this.flags)},normalizedRules:function(){return cn(this.rules)}},mounted:function(){var e=this,t=function(){if(e.flags.validated){var t=e._regenerateMap;if(t){var n=[],i={};return Object.keys(t).forEach((function(e){var r=t[e]();n.push(r),i[e]=r})),void e.applyResult({errors:n,failedRules:i,regenerateMap:t})}e.validate()}};gn.$on("change:locale",t),this.$on("hook:beforeDestroy",(function(){gn.$off("change:locale",t)}))},render:function(e){var t=this;this.registerField();var n=On(this,Rn(this));if(this.detectInput){var i=wn(n);i.length&&i.forEach((function(e,n){var i,r,a,o,s,c;if(Xt(["checkbox","radio"],null===(r=null===(i=e.data)||void 0===i?void 0:i.attrs)||void 0===r?void 0:r.type)||!(n>0)){var d=sn().useConstraintAttrs?In(e):{};yn(t._resolvedRules,d)||(t._needsValidation=!0),Xt(["input","select","textarea"],e.tag)&&(t.fieldName=(null===(o=null===(a=e.data)||void 0===a?void 0:a.attrs)||void 0===o?void 0:o.name)||(null===(c=null===(s=e.data)||void 0===s?void 0:s.attrs)||void 0===c?void 0:c.id)),t._resolvedRules=d,function(e,t){var n=Sn(t);e._inputEventName=e._inputEventName||jn(t,Mn(t)),Cn(e,null==n?void 0:n.value);var i=En(e),r=i.onInput,a=i.onBlur,o=i.onValidate;kn(t,e._inputEventName,r),kn(t,"blur",a),e.normalizedEvents.forEach((function(e){kn(t,e,o)})),e.initialized=!0}(t,e)}}))}return this.slim&&n.length<=1?n[0]:e(this.tag,n)},beforeDestroy:function(){this.$_veeObserver.unobserve(this.id)},activated:function(){this.isActive=!0},deactivated:function(){this.isActive=!1},methods:{setFlags:function(e){var t=this;Object.keys(e).forEach((function(n){t.flags[n]=e[n]}))},syncValue:function(e){var t=Pn(e);this.value=t,this.flags.changed=!yn(this.initialValue,t)},reset:function(){var e=this;this.errors=[],this.initialValue=this.value;var t={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1};t.required=this.isRequired,this.setFlags(t),this.failedRules={},this.validateSilent(),this._pendingValidation=void 0,this._pendingReset=!0,setTimeout((function(){e._pendingReset=!1}),this.debounce)},validate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _t(this,void 0,void 0,(function(){return Bt(this,(function(t){return e.length>0&&this.syncValue(e[0]),[2,Dn(this)]}))}))},validateSilent:function(){return _t(this,void 0,void 0,(function(){var e,t;return Bt(this,(function(n){switch(n.label){case 0:return this.setFlags({pending:!0}),e=Ut(Ut({},this._resolvedRules),this.normalizedRules),Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),[4,hn(this.value,e,Ut(Ut({name:this.name||this.fieldName},(i=this,r=i.$_veeObserver.refs,{names:{},values:{}},i.fieldDeps.reduce((function(e,t){return r[t]?(e.values[t]=r[t].value,e.names[t]=r[t].name,e):e}),{names:{},values:{}}))),{bails:this.bails,skipIfEmpty:this.skipIfEmpty,isInitial:!this.initialized,customMessages:this.customMessages}))];case 1:return t=n.sent(),this.setFlags({pending:!1,valid:t.valid,invalid:!t.valid}),void 0!==t.required&&this.setFlags({required:t.required}),[2,t]}var i,r}))}))},setErrors:function(e){this.applyResult({errors:e,failedRules:{}})},applyResult:function(e){var t=e.errors,n=e.failedRules,i=e.regenerateMap;this.errors=t,this._regenerateMap=i,this.failedRules=Ut({},n||{}),this.setFlags({valid:!t.length,passed:!t.length,invalid:!!t.length,failed:!!t.length,validated:!0,changed:!yn(this.value,this.initialValue)})},registerField:function(){!function(e){var t=function(e){if(e.vid)return e.vid;if(e.name)return e.name;if(e.id)return e.id;if(e.fieldName)return e.fieldName;return"_vee_"+ ++Nn}(e),n=e.id;if(!e.isActive||n===t&&e.$_veeObserver.refs[n])return;n!==t&&e.$_veeObserver.refs[n]===e&&e.$_veeObserver.unobserve(n);e.id=t,e.$_veeObserver.observe(e)}(this)},checkComputesRequiredState:function(){var e=Ut(Ut({},this._resolvedRules),this.normalizedRules);return Object.keys(e).some(rn.isRequireRule)}}});var Un=[["pristine","every"],["dirty","some"],["touched","some"],["untouched","every"],["valid","every"],["invalid","some"],["pending","some"],["validated","every"],["changed","some"],["passed","every"],["failed","some"]],_n=0;var Bn=r.default.extend({name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"},vid:{type:String,default:function(){return"obs_"+_n++}},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{id:"",refs:{},observers:[],errors:{},flags:Gn(),fields:{}}},created:function(){var e=this;this.id=this.vid,zn(this);var t=en((function(t){var n=t.errors,i=t.flags,r=t.fields;e.errors=n,e.flags=i,e.fields=r}),16);this.$watch($n,t)},activated:function(){zn(this)},deactivated:function(){Ln(this)},beforeDestroy:function(){Ln(this)},render:function(e){var t,n=On(this,Ut(Ut({},(t=this).flags),{errors:t.errors,fields:t.fields,validate:t.validate,validateWithInfo:t.validateWithInfo,passes:t.handleSubmit,handleSubmit:t.handleSubmit,reset:t.reset}));return this.slim&&n.length<=1?n[0]:e(this.tag,{on:this.$listeners},n)},methods:{observe:function(e,t){var n;void 0===t&&(t="provider"),"observer"!==t?this.refs=Ut(Ut({},this.refs),((n={})[e.id]=e,n)):this.observers.push(e)},unobserve:function(e,t){if(void 0===t&&(t="provider"),"provider"!==t){var n=Jt(this.observers,(function(t){return t.id===e}));-1!==n&&this.observers.splice(n,1)}else{if(!this.refs[e])return;this.$delete(this.refs,e)}},validateWithInfo:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return _t(this,void 0,void 0,(function(){var e,t,i,r,a,o;return Bt(this,(function(s){switch(s.label){case 0:return[4,Promise.all(Lt(Zt(this.refs).filter((function(e){return!e.disabled})).map((function(e){return e[n?"validateSilent":"validate"]().then((function(e){return e.valid}))})),this.observers.filter((function(e){return!e.disabled})).map((function(e){return e.validate({silent:n})}))))];case 1:return e=s.sent(),t=e.every((function(e){return e})),i=$n.call(this),r=i.errors,a=i.flags,o=i.fields,this.errors=r,this.flags=a,this.fields=o,[2,{errors:r,flags:a,fields:o,isValid:t}]}}))}))},validate:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return _t(this,void 0,void 0,(function(){return Bt(this,(function(e){switch(e.label){case 0:return[4,this.validateWithInfo({silent:n})];case 1:return[2,e.sent().isValid]}}))}))},handleSubmit:function(e){return _t(this,void 0,void 0,(function(){return Bt(this,(function(t){switch(t.label){case 0:return[4,this.validate()];case 1:return t.sent()&&e?[2,e()]:[2]}}))}))},reset:function(){return Lt(Zt(this.refs),this.observers).forEach((function(e){return e.reset()}))},setErrors:function(e){var t=this;Object.keys(e).forEach((function(n){var i=t.refs[n];if(i){var r=e[n]||[];r="string"==typeof r?[r]:r,i.setErrors(r)}})),this.observers.forEach((function(t){t.setErrors(e)}))}}});function Ln(e){e.$_veeObserver&&e.$_veeObserver.unobserve(e.id,"observer")}function zn(e){e.$_veeObserver&&e.$_veeObserver.observe(e,"observer")}function Gn(){return Ut(Ut({},{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1}),{valid:!0,invalid:!1})}function $n(){for(var e=Lt(Zt(this.refs),this.observers.filter((function(e){return!e.disabled}))),t={},n=Gn(),i={},r=e.length,a=0;a<r;a++){var o=e[a];Array.isArray(o.errors)?(t[o.id]=o.errors,i[o.id]=Ut({id:o.id,name:o.name,failedRules:o.failedRules},o.flags)):(t=Ut(Ut({},t),o.errors),i=Ut(Ut({},i),o.fields))}return Un.forEach((function(t){var i=t[0],r=t[1];n[i]=e[r]((function(e){return e.flags[i]}))})),{errors:t,flags:n,fields:i}}var Vn={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ro:/^[A-ZĂÂÎŞŢ]*$/i,ru:/^[А-ЯЁ]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,el:/^[Α-ώ]*$/i,ja:/^[A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF]*$/i,he:/^[A-Z\u05D0-\u05EA']*$/i},Kn=function(e,t){var n=(void 0===t?{}:t).locale,i=void 0===n?"":n;return Array.isArray(e)?e.every((function(e){return Kn(e,{locale:i})})):i?(Vn[i]||Vn.en).test(e):Object.keys(Vn).some((function(t){return Vn[t].test(e)}))},Yn={validate:Kn,params:[{name:"locale"}]},Jn={validate:function(e,t){var n=t.target;return String(e)===String(n)},params:[{name:"target",isTarget:!0}]},Xn={validate:function(e,t){var n=(void 0===t?{}:t).multiple,i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n&&!Array.isArray(e)&&(e=String(e).split(",").map((function(e){return e.trim()}))),Array.isArray(e)?e.every((function(e){return i.test(String(e))})):i.test(String(e))},params:[{name:"multiple",default:!1}]};
/**
  * vee-validate v3.4.11
  * (c) 2021 Abdelrahman Awad
  * @license MIT
  */function Wn(e){return null==e}function Zn(e){return Array.isArray(e)&&0===e.length}var Qn=function(e,t){var n=t.length;return!Wn(e)&&(Array.isArray(e)?e.every((function(e){return Qn(e,{length:n})})):String(e).length>=n)},ei={validate:Qn,params:[{name:"length",cast:function(e){return Number(e)}}]},ti={validate:function(e,t){var n=(void 0===t?{allowFalse:!0}:t).allowFalse,i={valid:!1,required:!0};return Wn(e)||Zn(e)?i:!1!==e||n?(i.valid=!!String(e).trim().length,i):i},params:[{name:"allowFalse",default:!0}],computesRequired:!0};an("email",Object(At.a)(Object(At.a)({},Xn),{},{message:"Email is not valid"})),an("confirmed",Object(At.a)(Object(At.a)({},Jn),{},{message:"The password confirmation does not match"})),an("required",Object(At.a)(Object(At.a)({},ti),{},{message:"This field is required"})),an("alpha_with_dash",{validate:function(e){return new RegExp(/^[A-Z-]*$/i).test(e)},message:"This field may only contain alphabetic characters and dash"}),an("alpha",Object(At.a)(Object(At.a)({},Yn),{},{message:"This field may only contain alphabetic characters"})),an("min",Object(At.a)(Object(At.a)({},ei),{},{message:function(e,t){return"This field must be at least ".concat(t.length," characters")},params:["length"]})),an("verify_password",{message:"The password must contain at least: 1 uppercase letter, 1 lowercase letter, 1 number, and one special character",validate:function(e){return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])").test(e)}}),an("without_space",{validate:function(e){return new RegExp("^[^\\s]+$").test(e)},message:"The field cannot contain spaces"}),an("check_same_name",{validate:function(e,t){return!t.some((function(t){return t.appName===e}))},message:"The application with the same name already exists"});
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var ni="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,ii=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(ni&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var ri=ni&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),ii))}};function ai(e){return e&&"[object Function]"==={}.toString.call(e)}function oi(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function si(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function ci(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=oi(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:ci(si(e))}function di(e){return e&&e.referenceNode?e.referenceNode:e}var li=ni&&!(!window.MSInputMethodContext||!document.documentMode),ui=ni&&/MSIE 10/.test(navigator.userAgent);function hi(e){return 11===e?li:10===e?ui:li||ui}function pi(e){if(!e)return document.documentElement;for(var t=hi(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===oi(n,"position")?pi(n):n:e?e.ownerDocument.documentElement:document.documentElement}function mi(e){return null!==e.parentNode?mi(e.parentNode):e}function fi(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,a=document.createRange();a.setStart(i,0),a.setEnd(r,0);var o,s,c=a.commonAncestorContainer;if(e!==c&&t!==c||i.contains(r))return"BODY"===(s=(o=c).nodeName)||"HTML"!==s&&pi(o.firstElementChild)!==o?pi(c):c;var d=mi(e);return d.host?fi(d.host,t):fi(e,mi(t).host)}function vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||r;return a[n]}return e[n]}function bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=vi(t,"top"),r=vi(t,"left"),a=n?-1:1;return e.top+=i*a,e.bottom+=i*a,e.left+=r*a,e.right+=r*a,e}function gi(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function yi(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],hi(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function Pi(e){var t=e.body,n=e.documentElement,i=hi(10)&&getComputedStyle(n);return{height:yi("Height",t,n,i),width:yi("Width",t,n,i)}}var Ti=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Mi=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Si=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function qi(e){return wi({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Ai(e){var t={};try{if(hi(10)){t=e.getBoundingClientRect();var n=vi(e,"top"),i=vi(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?Pi(e.ownerDocument):{},o=a.width||e.clientWidth||r.width,s=a.height||e.clientHeight||r.height,c=e.offsetWidth-o,d=e.offsetHeight-s;if(c||d){var l=oi(e);c-=gi(l,"x"),d-=gi(l,"y"),r.width-=c,r.height-=d}return qi(r)}function ki(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=hi(10),r="HTML"===t.nodeName,a=Ai(e),o=Ai(t),s=ci(e),c=oi(t),d=parseFloat(c.borderTopWidth),l=parseFloat(c.borderLeftWidth);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var u=qi({top:a.top-o.top-d,left:a.left-o.left-l,width:a.width,height:a.height});if(u.marginTop=0,u.marginLeft=0,!i&&r){var h=parseFloat(c.marginTop),p=parseFloat(c.marginLeft);u.top-=d-h,u.bottom-=d-h,u.left-=l-p,u.right-=l-p,u.marginTop=h,u.marginLeft=p}return(i&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(u=bi(u,t)),u}function ji(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=ki(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:vi(n),s=t?0:vi(n,"left"),c={top:o-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:a};return qi(c)}function Ii(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===oi(e,"position"))return!0;var n=si(e);return!!n&&Ii(n)}function Oi(e){if(!e||!e.parentElement||hi())return document.documentElement;for(var t=e.parentElement;t&&"none"===oi(t,"transform");)t=t.parentElement;return t||document.documentElement}function xi(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=r?Oi(e):fi(e,di(t));if("viewport"===i)a=ji(o,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=ci(si(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var c=ki(s,o,r);if("HTML"!==s.nodeName||Ii(o))a=c;else{var d=Pi(e.ownerDocument),l=d.height,u=d.width;a.top+=c.top-c.marginTop,a.bottom=l+c.top,a.left+=c.left-c.marginLeft,a.right=u+c.left}}var h="number"==typeof(n=n||0);return a.left+=h?n:n.left||0,a.top+=h?n:n.top||0,a.right-=h?n:n.right||0,a.bottom-=h?n:n.bottom||0,a}function Ri(e){return e.width*e.height}function Ci(e,t,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=xi(n,i,a,r),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(s).map((function(e){return wi({key:e},s[e],{area:Ri(s[e])})})).sort((function(e,t){return t.area-e.area})),d=c.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),l=d.length>0?d[0].key:c[0].key,u=e.split("-")[1];return l+(u?"-"+u:"")}function Fi(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?Oi(t):fi(t,di(n));return ki(n,r,i)}function Di(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function Ei(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Ni(e,t,n){n=n.split("-")[0];var i=Di(e),r={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",c=a?"height":"width",d=a?"width":"height";return r[o]=t[o]+t[c]/2-i[c]/2,r[s]=n===s?t[s]-i[d]:t[Ei(s)],r}function Hi(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ui(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=Hi(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&ai(n)&&(t.offsets.popper=qi(t.offsets.popper),t.offsets.reference=qi(t.offsets.reference),t=n(t,e))})),t}function _i(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Fi(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Ci(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ni(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ui(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Bi(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Li(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],a=r?""+r+n:e;if(void 0!==document.body.style[a])return a}return null}function zi(){return this.state.isDestroyed=!0,Bi(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Li("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Gi(e){var t=e.ownerDocument;return t?t.defaultView:window}function $i(e,t,n,i){n.updateBound=i,Gi(e).addEventListener("resize",n.updateBound,{passive:!0});var r=ci(e);return function e(t,n,i,r){var a="BODY"===t.nodeName,o=a?t.ownerDocument.defaultView:t;o.addEventListener(n,i,{passive:!0}),a||e(ci(o.parentNode),n,i,r),r.push(o)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function Vi(){this.state.eventsEnabled||(this.state=$i(this.reference,this.options,this.state,this.scheduleUpdate))}function Ki(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Gi(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Yi(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ji(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Yi(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var Xi=ni&&/Firefox/i.test(navigator.userAgent);function Wi(e,t,n){var i=Hi(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}var Zi=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Qi=Zi.slice(3);function er(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Qi.indexOf(e),i=Qi.slice(n+1).concat(Qi.slice(0,n));return t?i.reverse():i}var tr="flip",nr="clockwise",ir="counterclockwise";function rr(e,t,n,i){var r=[0,0],a=-1!==["right","left"].indexOf(i),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(Hi(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,d=-1!==s?[o.slice(0,s).concat([o[s].split(c)[0]]),[o[s].split(c)[1]].concat(o.slice(s+1))]:[o];return(d=d.map((function(e,i){var r=(1===i?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],o=r[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=i}return qi(s)[t]/100*a}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){Yi(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var ar={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,a=r.reference,o=r.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",d=s?"width":"height",l={start:Si({},c,a[c]),end:Si({},c,a[c]+a[d]-o[d])};e.offsets.popper=wi({},o,l[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,a=r.popper,o=r.reference,s=i.split("-")[0],c=void 0;return c=Yi(+n)?[+n,0]:rr(n,a,o,s),"left"===s?(a.top+=c[0],a.left-=c[1]):"right"===s?(a.top+=c[0],a.left+=c[1]):"top"===s?(a.left+=c[0],a.top-=c[1]):"bottom"===s&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||pi(e.instance.popper);e.instance.reference===n&&(n=pi(n));var i=Li("transform"),r=e.instance.popper.style,a=r.top,o=r.left,s=r[i];r.top="",r.left="",r[i]="";var c=xi(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=a,r.left=o,r[i]=s,t.boundaries=c;var d=t.priority,l=e.offsets.popper,u={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),Si({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(i=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),Si({},n,i)}};return d.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=wi({},l,u[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(r),s=o?"right":"bottom",c=o?"left":"top",d=o?"width":"height";return n[s]<a(i[c])&&(e.offsets.popper[c]=a(i[c])-n[d]),n[c]>a(i[s])&&(e.offsets.popper[c]=a(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Wi(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,c=-1!==["left","right"].indexOf(r),d=c?"height":"width",l=c?"Top":"Left",u=l.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",m=Di(i)[d];s[p]-m<o[u]&&(e.offsets.popper[u]-=o[u]-(s[p]-m)),s[u]+m>o[p]&&(e.offsets.popper[u]+=s[u]+m-o[p]),e.offsets.popper=qi(e.offsets.popper);var f=s[u]+s[d]/2-m/2,v=oi(e.instance.popper),b=parseFloat(v["margin"+l]),g=parseFloat(v["border"+l+"Width"]),y=f-e.offsets.popper[u]-b-g;return y=Math.max(Math.min(o[d]-m,y),0),e.arrowElement=i,e.offsets.arrow=(Si(n={},u,Math.round(y)),Si(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Bi(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=xi(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=Ei(i),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case tr:o=[i,r];break;case nr:o=er(i);break;case ir:o=er(i,!0);break;default:o=t.behavior}return o.forEach((function(s,c){if(i!==s||o.length===c+1)return e;i=e.placement.split("-")[0],r=Ei(i);var d=e.offsets.popper,l=e.offsets.reference,u=Math.floor,h="left"===i&&u(d.right)>u(l.left)||"right"===i&&u(d.left)<u(l.right)||"top"===i&&u(d.bottom)>u(l.top)||"bottom"===i&&u(d.top)<u(l.bottom),p=u(d.left)<u(n.left),m=u(d.right)>u(n.right),f=u(d.top)<u(n.top),v=u(d.bottom)>u(n.bottom),b="left"===i&&p||"right"===i&&m||"top"===i&&f||"bottom"===i&&v,g=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(g&&"start"===a&&p||g&&"end"===a&&m||!g&&"start"===a&&f||!g&&"end"===a&&v),P=!!t.flipVariationsByContent&&(g&&"start"===a&&m||g&&"end"===a&&p||!g&&"start"===a&&v||!g&&"end"===a&&f),T=y||P;(h||b||T)&&(e.flipped=!0,(h||b)&&(i=o[c+1]),T&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=i+(a?"-"+a:""),e.offsets.popper=wi({},e.offsets.popper,Ni(e.instance.popper,e.offsets.reference,e.placement)),e=Ui(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,a=i.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=a[n]-(s?r[o?"width":"height"]:0),e.placement=Ei(t),e.offsets.popper=qi(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Wi(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Hi(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,a=Hi(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=pi(e.instance.popper),c=Ai(s),d={position:r.position},l=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},c=a(r.width),d=a(i.width),l=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),h=t?l||u||c%2==d%2?a:o:s,p=t?a:s;return{left:h(c%2==1&&d%2==1&&!u&&t?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:h(i.right)}}(e,window.devicePixelRatio<2||!Xi),u="bottom"===n?"top":"bottom",h="right"===i?"left":"right",p=Li("transform"),m=void 0,f=void 0;if(f="bottom"===u?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,o&&p)d[p]="translate3d("+m+"px, "+f+"px, 0)",d[u]=0,d[h]=0,d.willChange="transform";else{var v="bottom"===u?-1:1,b="right"===h?-1:1;d[u]=f*v,d[h]=m*b,d.willChange=u+", "+h}var g={"x-placement":e.placement};return e.attributes=wi({},g,e.attributes),e.styles=wi({},d,e.styles),e.arrowStyles=wi({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Ji(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ji(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var a=Fi(r,t,e,n.positionFixed),o=Ci(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),Ji(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},or=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ti(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ri(this.update.bind(this)),this.options=wi({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(wi({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){i.options.modifiers[t]=wi({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return wi({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&ai(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Mi(e,[{key:"update",value:function(){return _i.call(this)}},{key:"destroy",value:function(){return zi.call(this)}},{key:"enableEventListeners",value:function(){return Vi.call(this)}},{key:"disableEventListeners",value:function(){return Ki.call(this)}}]),e}();or.Utils=("undefined"!=typeof window?window:global).PopperUtils,or.placements=Zi,or.Defaults=ar;function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var cr="undefined"!=typeof window&&"undefined"!=typeof document,dr=cr?navigator.userAgent:"",lr=/MSIE |Trident\//.test(dr),ur=/UCBrowser\//.test(dr),hr=cr&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,pr={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},mr=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],fr=cr?Element.prototype:{},vr=fr.matches||fr.matchesSelector||fr.webkitMatchesSelector||fr.mozMatchesSelector||fr.msMatchesSelector;function br(e){return[].slice.call(e)}function gr(e,t){return yr(e,(function(e){return vr.call(e,t)}))}function yr(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}var Pr={passive:!0},Tr=".".concat("tippy-popper"),Mr=".".concat("tippy-tooltip"),Sr=".".concat("tippy-content"),wr=".".concat("tippy-backdrop"),qr=".".concat("tippy-arrow"),Ar=".".concat("tippy-roundarrow"),kr=!1;function jr(){kr||(kr=!0,hr&&document.body.classList.add("tippy-iOS"),window.performance&&document.addEventListener("mousemove",Or))}var Ir=0;function Or(){var e=performance.now();e-Ir<20&&(kr=!1,document.removeEventListener("mousemove",Or),hr||document.body.classList.remove("tippy-iOS")),Ir=e}function xr(){var e=document.activeElement;e&&e.blur&&e._tippy&&e.blur()}var Rr=Object.keys(pr);function Cr(e){return!!e._tippy&&!vr.call(e,Tr)}function Fr(e,t){return{}.hasOwnProperty.call(e,t)}function Dr(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?n:i}return e}function Er(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function Nr(e,t){return e&&e.modifiers&&e.modifiers[t]}function Hr(e,t){return e.indexOf(t)>-1}function Ur(e){return e instanceof Element}function _r(e){return!(!e||!Fr(e,"isVirtual"))||Ur(e)}function Br(e,t){return"function"==typeof e?e.apply(null,t):e}function Lr(e,t){e.filter((function(e){return"flip"===e.name}))[0].enabled=t}function zr(){return document.createElement("div")}function Gr(e,t){e.forEach((function(e){e&&(e.style.transitionDuration="".concat(t,"ms"))}))}function $r(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Vr(e,t){var n=sr({},t,{content:Br(t.content,[e])},t.ignoreAttributes?{}:function(e){return Rr.reduce((function(t,n){var i=(e.getAttribute("data-tippy-".concat(n))||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e));return(n.arrow||ur)&&(n.animateFill=!1),n}function Kr(e,t){Object.keys(e).forEach((function(e){if(!Fr(t,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))}))}function Yr(e,t){e.innerHTML=Ur(t)?t.innerHTML:t}function Jr(e,t){if(Ur(t.content))Yr(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function Xr(e){return{tooltip:e.querySelector(Mr),backdrop:e.querySelector(wr),content:e.querySelector(Sr),arrow:e.querySelector(qr)||e.querySelector(Ar)}}function Wr(e){e.setAttribute("data-inertia","")}function Zr(e){var t=zr();return"round"===e?(t.className="tippy-roundarrow",Yr(t,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):t.className="tippy-arrow",t}function Qr(){var e=zr();return e.className="tippy-backdrop",e.setAttribute("data-state","hidden"),e}function ea(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")}function ta(e,t,n){var i=ur&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](i,n)}function na(e){var t=e.getAttribute("x-placement");return t?t.split("-")[0]:""}function ia(e,t,n){n.split(" ").forEach((function(n){e.classList[t](n+"-theme")}))}function ra(e,t){var n=zr();n.className="tippy-popper",n.id="tippy-".concat(e),n.style.zIndex=""+t.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",t.role&&n.setAttribute("role",t.role);var i=zr();i.className="tippy-tooltip",i.style.maxWidth=t.maxWidth+("number"==typeof t.maxWidth?"px":""),i.setAttribute("data-size",t.size),i.setAttribute("data-animation",t.animation),i.setAttribute("data-state","hidden"),ia(i,"add",t.theme);var r=zr();return r.className="tippy-content",r.setAttribute("data-state","hidden"),t.interactive&&ea(n,i),t.arrow&&i.appendChild(Zr(t.arrowType)),t.animateFill&&(i.appendChild(Qr()),i.setAttribute("data-animatefill","")),t.inertia&&Wr(i),Jr(r,t),i.appendChild(r),n.appendChild(i),n}function aa(e,t,n){var i=Xr(e),r=i.tooltip,a=i.content,o=i.backdrop,s=i.arrow;e.style.zIndex=""+n.zIndex,r.setAttribute("data-size",n.size),r.setAttribute("data-animation",n.animation),r.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),n.role?e.setAttribute("role",n.role):e.removeAttribute("role"),t.content!==n.content&&Jr(a,n),!t.animateFill&&n.animateFill?(r.appendChild(Qr()),r.setAttribute("data-animatefill","")):t.animateFill&&!n.animateFill&&(r.removeChild(o),r.removeAttribute("data-animatefill")),!t.arrow&&n.arrow?r.appendChild(Zr(n.arrowType)):t.arrow&&!n.arrow&&r.removeChild(s),t.arrow&&n.arrow&&t.arrowType!==n.arrowType&&r.replaceChild(Zr(n.arrowType),s),!t.interactive&&n.interactive?ea(e,r):t.interactive&&!n.interactive&&function(e,t){e.removeAttribute("tabindex"),t.removeAttribute("data-interactive")}(e,r),!t.inertia&&n.inertia?Wr(r):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(r),t.theme!==n.theme&&(ia(r,"remove",t.theme),ia(r,"add",n.theme))}var oa=1,sa=[];function ca(e,t){var n,i,r,a,o,s=Vr(e,t);if(!s.multiple&&e._tippy)return null;var c,d,l,u,h,p=!1,m=!1,f=!1,v=!1,b=[],g=Er(U,s.interactiveDebounce),y=oa++,P=ra(y,s),T=Xr(P),M={id:y,reference:e,popper:P,popperChildren:T,popperInstance:null,props:s,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:W,set:Z,setContent:function(e){Z({content:e})},show:Q,hide:ee,enable:function(){M.state.isEnabled=!0},disable:function(){M.state.isEnabled=!1},destroy:function(t){if(M.state.isDestroyed)return;m=!0,M.state.isMounted&&ee(0);E(),delete e._tippy;var n=M.props.target;n&&t&&Ur(e)&&br(e.querySelectorAll(n)).forEach((function(e){e._tippy&&e._tippy.destroy()}));M.popperInstance&&M.popperInstance.destroy();m=!1,M.state.isDestroyed=!0}};return e._tippy=M,P._tippy=M,D(),s.lazy||V(),s.showOnInit&&Y(),!s.a11y||s.target||(!Ur(h=q())||vr.call(h,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!h.hasAttribute("disabled"))||q().setAttribute("tabindex","0"),P.addEventListener("mouseenter",(function(e){M.props.interactive&&M.state.isVisible&&"mouseenter"===n&&Y(e,!0)})),P.addEventListener("mouseleave",(function(){M.props.interactive&&"mouseenter"===n&&document.addEventListener("mousemove",g)})),M;function S(){document.removeEventListener("mousemove",N)}function w(){document.body.removeEventListener("mouseleave",J),document.removeEventListener("mousemove",g),sa=sa.filter((function(e){return e!==g}))}function q(){return M.props.triggerTarget||e}function A(){document.addEventListener("click",X,!0)}function k(){document.removeEventListener("click",X,!0)}function j(){return[M.popperChildren.tooltip,M.popperChildren.backdrop,M.popperChildren.content]}function I(){var e=M.props.followCursor;return e&&"focus"!==n||kr&&"initial"===e}function O(){Gr([P],lr?0:M.props.updateDuration);var t=e.getBoundingClientRect();!function n(){var i=e.getBoundingClientRect();t.top===i.top&&t.right===i.right&&t.bottom===i.bottom&&t.left===i.left||M.popperInstance.scheduleUpdate(),t=i,M.state.isMounted&&requestAnimationFrame(n)}()}function x(e,t){C(e,(function(){!M.state.isVisible&&P.parentNode&&P.parentNode.contains(P)&&t()}))}function R(e,t){C(e,t)}function C(e,t){var n=M.popperChildren.tooltip;function i(e){e.target===n&&(ta(n,"remove",i),t())}if(0===e)return t();ta(n,"remove",l),ta(n,"add",i),l=i}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];q().addEventListener(e,t,n),b.push({eventType:e,handler:t,options:n})}function D(){M.props.touchHold&&!M.props.target&&(F("touchstart",H,Pr),F("touchend",_,Pr)),M.props.trigger.trim().split(" ").forEach((function(e){if("manual"!==e)if(M.props.target)switch(e){case"mouseenter":F("mouseover",L),F("mouseout",z);break;case"focus":F("focusin",L),F("focusout",z);break;case"click":F(e,L)}else switch(F(e,H),e){case"mouseenter":F("mouseleave",_);break;case"focus":F(lr?"focusout":"blur",B)}}))}function E(){b.forEach((function(e){var t=e.eventType,n=e.handler,i=e.options;q().removeEventListener(t,n,i)})),b=[]}function N(t){var n=i=t,r=n.clientX,a=n.clientY;if(u){var o=yr(t.target,(function(t){return t===e})),s=e.getBoundingClientRect(),c=M.props.followCursor,d="horizontal"===c,l="vertical"===c,h=Hr(["top","bottom"],na(P)),p=P.getAttribute("x-placement"),m=!!p&&!!p.split("-")[1],f=h?P.offsetWidth:P.offsetHeight,v=f/2,b=h?0:m?f:v,g=h?m?f:v:0;!o&&M.props.interactive||(M.popperInstance.reference=sr({},M.popperInstance.reference,{referenceNode:e,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:h?f:0,height:h?0:f,top:(d?s.top:a)-b,bottom:(d?s.bottom:a)+b,left:(l?s.left:r)-g,right:(l?s.right:r)+g}}}),M.popperInstance.update()),"initial"===c&&M.state.isVisible&&S()}}function H(e){M.state.isEnabled&&!G(e)&&(M.state.isVisible||(n=e.type,e instanceof MouseEvent&&(i=e,sa.forEach((function(t){return t(e)})))),"click"===e.type&&!1!==M.props.hideOnClick&&M.state.isVisible?J():Y(e))}function U(t){var n=gr(t.target,Tr)===P,i=yr(t.target,(function(t){return t===e}));n||i||function(e,t,n,i){if(!e)return!0;var r=n.clientX,a=n.clientY,o=i.interactiveBorder,s=i.distance,c=t.top-a>("top"===e?o+s:o),d=a-t.bottom>("bottom"===e?o+s:o),l=t.left-r>("left"===e?o+s:o),u=r-t.right>("right"===e?o+s:o);return c||d||l||u}(na(P),P.getBoundingClientRect(),t,M.props)&&(w(),J())}function _(e){if(!G(e))return M.props.interactive?(document.body.addEventListener("mouseleave",J),document.addEventListener("mousemove",g),void sa.push(g)):void J()}function B(e){e.target===q()&&(M.props.interactive&&e.relatedTarget&&P.contains(e.relatedTarget)||J())}function L(e){gr(e.target,M.props.target)&&Y(e)}function z(e){gr(e.target,M.props.target)&&J()}function G(e){var t="ontouchstart"in window,n=Hr(e.type,"touch"),i=M.props.touchHold;return t&&kr&&i&&!n||kr&&!i&&n}function $(){!v&&d&&(v=!0,function(e){e.offsetHeight}(P),d())}function V(){var t=M.props.popperOptions,n=M.popperChildren,i=n.tooltip,r=n.arrow,a=Nr(t,"preventOverflow");function o(e){M.props.flip&&!M.props.flipOnUpdate&&(e.flipped&&(M.popperInstance.options.placement=e.placement),Lr(M.popperInstance.modifiers,!1)),i.setAttribute("x-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?i.setAttribute("x-out-of-boundaries",""):i.removeAttribute("x-out-of-boundaries"),c&&c!==e.placement&&f&&(i.style.transition="none",requestAnimationFrame((function(){i.style.transition=""}))),c=e.placement,f=M.state.isVisible;var t=na(P),n=i.style;n.top=n.bottom=n.left=n.right="",n[t]=-(M.props.distance-10)+"px";var r=a&&void 0!==a.padding?a.padding:4,o="number"==typeof r,s=sr({top:o?r:r.top,bottom:o?r:r.bottom,left:o?r:r.left,right:o?r:r.right},!o&&r);s[t]=o?r+M.props.distance:(r[t]||0)+M.props.distance,M.popperInstance.modifiers.filter((function(e){return"preventOverflow"===e.name}))[0].padding=s,u=s}var s=sr({eventsEnabled:!1,placement:M.props.placement},t,{modifiers:sr({},t?t.modifiers:{},{preventOverflow:sr({boundariesElement:M.props.boundary,padding:4},a),arrow:sr({element:r,enabled:!!r},Nr(t,"arrow")),flip:sr({enabled:M.props.flip,padding:M.props.distance+4,behavior:M.props.flipBehavior},Nr(t,"flip")),offset:sr({offset:M.props.offset},Nr(t,"offset"))}),onCreate:function(e){o(e),$(),t&&t.onCreate&&t.onCreate(e)},onUpdate:function(e){o(e),$(),t&&t.onUpdate&&t.onUpdate(e)}});M.popperInstance=new or(e,P,s)}function K(){v=!1;var t=I();M.popperInstance?(Lr(M.popperInstance.modifiers,M.props.flip),t||(M.popperInstance.reference=e,M.popperInstance.enableEventListeners()),M.popperInstance.scheduleUpdate()):(V(),t||M.popperInstance.enableEventListeners());var n=M.props.appendTo,i="parent"===n?e.parentNode:Br(n,[e]);i.contains(P)||(i.appendChild(P),M.props.onMount(M),M.state.isMounted=!0)}function Y(e,n){if(W(),!M.state.isVisible){if(M.props.target)return function(e){if(e){var n=gr(e.target,M.props.target);n&&!n._tippy&&ca(n,sr({},M.props,{content:Br(t.content,[n]),appendTo:t.appendTo,target:"",showOnInit:!0}))}}(e);if(p=!0,e&&!n&&M.props.onTrigger(M,e),M.props.wait)return M.props.wait(M,e);I()&&!M.state.isMounted&&(M.popperInstance||V(),document.addEventListener("mousemove",N)),A();var i=Dr(M.props.delay,0,pr.delay);i?r=setTimeout((function(){Q()}),i):Q()}}function J(){if(W(),!M.state.isVisible)return S(),void k();p=!1;var e=Dr(M.props.delay,1,pr.delay);e?a=setTimeout((function(){M.state.isVisible&&ee()}),e):o=requestAnimationFrame((function(){ee()}))}function X(e){if(!M.props.interactive||!P.contains(e.target)){if(q().contains(e.target)){if(kr)return;if(M.state.isVisible&&Hr(M.props.trigger,"click"))return}!0===M.props.hideOnClick&&(W(),ee())}}function W(){clearTimeout(r),clearTimeout(a),cancelAnimationFrame(o)}function Z(t){Kr(t=t||{},pr),E();var n=M.props,r=Vr(e,sr({},M.props,{},t,{ignoreAttributes:!0}));r.ignoreAttributes=Fr(t,"ignoreAttributes")?t.ignoreAttributes||!1:n.ignoreAttributes,M.props=r,D(),w(),g=Er(U,r.interactiveDebounce),aa(P,n,r),M.popperChildren=Xr(P),M.popperInstance&&(mr.some((function(e){return Fr(t,e)&&t[e]!==n[e]}))?(M.popperInstance.destroy(),V(),M.state.isVisible&&M.popperInstance.enableEventListeners(),M.props.followCursor&&i&&N(i)):M.popperInstance.update())}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr(M.props.duration,0,pr.duration[1]);if(!M.state.isDestroyed&&M.state.isEnabled&&(!kr||M.props.touch)&&!q().hasAttribute("disabled")&&!1!==M.props.onShow(M)){A(),P.style.visibility="visible",M.state.isVisible=!0,M.props.interactive&&q().classList.add("tippy-active");var t=j();Gr(t.concat(P),0),d=function(){if(M.state.isVisible){var n=I();n&&i?N(i):n||M.popperInstance.update(),M.popperChildren.backdrop&&(M.popperChildren.content.style.transitionDelay=Math.round(e/12)+"ms"),M.props.sticky&&O(),Gr([P],M.props.updateDuration),Gr(t,e),$r(t,"visible"),R(e,(function(){M.props.aria&&q().setAttribute("aria-".concat(M.props.aria),P.id),M.props.onShown(M),M.state.isShown=!0}))}},K()}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr(M.props.duration,1,pr.duration[1]);if(!M.state.isDestroyed&&(M.state.isEnabled||m)&&(!1!==M.props.onHide(M)||m)){k(),P.style.visibility="hidden",M.state.isVisible=!1,M.state.isShown=!1,f=!1,M.props.interactive&&q().classList.remove("tippy-active");var t=j();Gr(t,e),$r(t,"hidden"),x(e,(function(){p||S(),M.props.aria&&q().removeAttribute("aria-".concat(M.props.aria)),M.popperInstance.disableEventListeners(),M.popperInstance.options.placement=M.props.placement,P.parentNode.removeChild(P),M.props.onHidden(M),M.state.isMounted=!1}))}}}var da=!1;function la(e,t){Kr(t||{},pr),da||(document.addEventListener("touchstart",jr,Pr),window.addEventListener("blur",xr),da=!0);var n,i=sr({},pr,{},t);n=e,"[object Object]"!=={}.toString.call(n)||n.addEventListener||function(e){var t={isVirtual:!0,attributes:e.attributes||{},contains:function(){},setAttribute:function(t,n){e.attributes[t]=n},getAttribute:function(t){return e.attributes[t]},removeAttribute:function(t){delete e.attributes[t]},hasAttribute:function(t){return t in e.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(t){e.classList.classNames[t]=!0},remove:function(t){delete e.classList.classNames[t]},contains:function(t){return t in e.classList.classNames}}};for(var n in t)e[n]=t[n]}(e);var r=function(e){if(_r(e))return[e];if(e instanceof NodeList)return br(e);if(Array.isArray(e))return e;try{return br(document.querySelectorAll(e))}catch(e){return[]}}(e).reduce((function(e,t){var n=t&&ca(t,i);return n&&e.push(n),e}),[]);return _r(e)?r[0]:r}la.version="4.3.5",la.defaults=pr,la.setDefaults=function(e){Object.keys(e).forEach((function(t){pr[t]=e[t]}))},la.hideAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exclude,n=e.duration;br(document.querySelectorAll(Tr)).forEach((function(e){var i=e._tippy;if(i){var r=!1;t&&(r=Cr(t)?i.reference===t:e===t.popper),r||i.hide(n)}}))},la.group=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=void 0===n?e[0].props.delay:n,r=t.duration,a=void 0===r?0:r,o=!1;function s(e){o=e,u()}function c(t){t._originalProps.onShow(t),e.forEach((function(e){e.set({duration:a}),e.state.isVisible&&e.hide()})),s(!0)}function d(e){e._originalProps.onHide(e),s(!1)}function l(e){e._originalProps.onShown(e),e.set({duration:e._originalProps.duration})}function u(){e.forEach((function(e){e.set({onShow:c,onShown:l,onHide:d,delay:o?[0,Array.isArray(i)?i[1]:i]:i,duration:o?a:e._originalProps.duration})}))}e.forEach((function(e){e._originalProps?e.set(e._originalProps):e._originalProps=sr({},e.props)})),u()},cr&&setTimeout((function(){br(document.querySelectorAll("[data-tippy]")).forEach((function(e){var t=e.getAttribute("data-tippy");t&&la(e,{content:t})}))})),function(e){if(cr){var t=document.createElement("style");t.type="text/css",t.textContent=e,t.setAttribute("data-tippy-stylesheet","");var n=document.head,i=n.querySelector("style,link");i?n.insertBefore(t,i):n.appendChild(t)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');var ua="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var ha=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(t){var n=function(e,t,i){if(!c(t)||l(t)||u(t)||h(t)||s(t))return t;var r,a=0,o=0;if(d(t))for(r=[],o=t.length;a<o;a++)r.push(n(e,t[a],i));else for(var p in r={},t)Object.prototype.hasOwnProperty.call(t,p)&&(r[e(p,i)]=n(e,t[p],i));return r},i=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},r=function(e){var t=i(e);return t.substr(0,1).toUpperCase()+t.substr(1)},a=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",i=t.split||/(?=[A-Z])/;return e.split(i).join(n)}(e,t).toLowerCase()},o=Object.prototype.toString,s=function(e){return"function"==typeof e},c=function(e){return e===Object(e)},d=function(e){return"[object Array]"==o.call(e)},l=function(e){return"[object Date]"==o.call(e)},u=function(e){return"[object RegExp]"==o.call(e)},h=function(e){return"[object Boolean]"==o.call(e)},p=function(e){return(e-=0)==e},m=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,i){return n(t,e,i)}},f={camelize:i,decamelize:a,pascalize:r,depascalize:a,camelizeKeys:function(e,t){return n(m(i,t),e)},decamelizeKeys:function(e,t){return n(m(a,t),e,t)},pascalizeKeys:function(e,t){return n(m(r,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=f:t.humps=f}(ua)}));function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var fa={a11y:!0,allowHTML:!0,animateFill:!0,arrow:!1,flip:!0,flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,lazy:!0,multiple:!1,showOnInit:!1,sticky:!1,touch:!0,touchHold:!1},va=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flipBehavior:"flip",interactiveBorder:2,interactiveDebounce:0,maxWidth:350,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},placement:"top",popperOptions:{},role:"tooltip",size:"regular",target:"",theme:"dark",trigger:"mouseenter focus",updateDuration:0,wait:null,zIndex:9999},fa);var ba=function(e,t,n,i,r,a,o,s,c,d){"boolean"!=typeof o&&(c=s,s=o,o=!1);var l,u="function"==typeof n?n.options:n;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),i&&(u._scopeId=i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=l):t&&(l=o?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),l)if(u.functional){var h=u.render;u.render=function(e,t){return l.call(t),h(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return n},ga={props:["to","toSelector","toElement","content","enabled","visible","triggerTarget"],data:function(){return{tip:null,options:{}}},mounted:function(){this.init()},watch:{content:function(){this.tip&&this.tip.set(this.getOptions())},enabled:function(e){this.tip&&(e?this.tip.enable():(this.tip.hide(),this.tip.disable()))},visible:function(e){this.tip&&(e?this.tip.show():this.tip.hide())}},updated:function(){this.tip&&!this.content&&this.tip.set(this.getOptions())},beforeDestroy:function(){this.tip&&this.tip.destroy()},computed:{isManualTrigger:function(){return"manual"===this.options.trigger}},methods:{init:function(){if(this.tip){try{this.tip.destroy()}catch(e){}this.tip=null}var e=this.toElement;if(null==e&&(e=this.to?document.querySelector("[name='".concat(this.to,"']")):this.toSelector?document.querySelector(this.toSelector):this.$refs.trigger&&this.$refs.trigger.childElementCount>0?this.$refs.trigger:this.$el.parentElement),e){var t=la(e,this.getOptions());if(t){if(Array.isArray(t)){if(!(t.length>0))return;this.tip=t[0]}this.tip=t,this.$emit("onCreate",this.tip),this.$emit("init",this.tip),!1===this.enabled&&this.tip.disable(),this.isManualTrigger&&!0===this.visible&&this.tip.show()}}},tippy:function(){return this.tip},filterOptions:function(){for(var e=function(e,t){if(fa.hasOwnProperty(e)){if(""===t)return!0;if("false"===t)return!1;if("true"===t)return!0}return t},t=0,n=Object.keys(this.options);t<n.length;t++){var i=n[t];va.hasOwnProperty(i)?this.options[i]=e(i,this.options[i]):delete this.options[i]}return this.options},getOptions:function(){var e=this;return this.options.content=this.content?this.content:this.$refs.content,Object.assign(this.options,ha.camelizeKeys(this.$attrs)),this.filterOptions(),!this.options.onShow&&this.$listeners&&this.$listeners.show&&(this.options.onShow=function(){var t;return(t=e.$listeners.show).fns.apply(t,arguments)}),!this.options.onShow&&this.$listeners&&this.$listeners.shown&&(this.options.onShown=function(){var t;return(t=e.$listeners.shown).fns.apply(t,arguments)}),!this.options.onHidden&&this.$listeners&&this.$listeners.hidden&&(this.options.onHidden=function(){var t;return(t=e.$listeners.hidden).fns.apply(t,arguments)}),!this.options.onHide&&this.$listeners&&this.$listeners.hide&&(this.options.onHide=function(){var t;return(t=e.$listeners.hide).fns.apply(t,arguments)}),!this.options.onMount&&this.$listeners&&this.$listeners.mount&&(this.options.onMount=function(){var t;return(t=e.$listeners.mount).fns.apply(t,arguments)}),this.options.triggerTarget=this.triggerTarget,this.options}}},ya=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"trigger"},[this._t("trigger")],2),this._v(" "),t("div",{ref:"content"},[this._t("default")],2)])};ya._withStripped=!0;var Pa=ba({render:ya,staticRenderFns:[]},void 0,ga,void 0,!1,void 0,void 0,void 0),Ta="tippy",Ma={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(n,r,a){var o=a.data&&a.data.on||a.componentOptions&&a.componentOptions.listeners,s=i(r),c=Object.keys(r.modifiers||{}),d=c.find((function(e){return"arrow"!==e})),l=-1!==c.findIndex((function(e){return"arrow"===e}));s=Object.assign({},t,s),d&&(s.placement=s.placement||d),l&&(s.arrow=void 0===s.arrow||s.arrow),o&&o.show&&(s.onShow=function(){var e;return(e=o.show).fns.apply(e,arguments)}),o&&o.shown&&(s.onShown=function(){var e;(e=o.shown).fns.apply(e,arguments)}),o&&o.hidden&&(s.onHidden=function(){var e;(e=o.hidden).fns.apply(e,arguments)}),o&&o.hide&&(s.onHide=function(){var e;return(e=o.hide).fns.apply(e,arguments)}),o&&o.mount&&(s.onMount=function(){var e;(e=o.mount).fns.apply(e,arguments)}),n.getAttribute("title")&&!s.content&&(s.content=n.getAttribute("title"),n.removeAttribute("title")),n.getAttribute("content")&&!s.content&&(s.content=n.getAttribute("content")),la(n,s),s.showOnLoad&&n._tippy.show(),e.nextTick((function(){o&&o.init&&o.init.fns(n._tippy,n)}))}function i(e){return"string"==typeof e.value?{content:e.value}:e.value||{}}Ta=t.directive||"tippy",la.setDefaults(t||{}),e.directive(Ta,{inserted:function(t,i,r){e.nextTick((function(){n(t,i,r)}))},unbind:function(e){e._tippy&&e._tippy.destroy()},componentUpdated:function(e,t,n){if(e._tippy){var r=i(t);e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),e._tippy.set(r)}}})}};"undefined"!=typeof window&&window.Vue&&(window.Vue.use(Ma),window.Vue.component("tippy",Pa));var Sa,wa,qa,Aa,ka,ja,Ia,Oa,xa,Ra,Ca,Fa,Da,Ea,Na,Ha=Ma,Ua=(n(362),n(363),n(364),n(365),n(221)),_a=n(220),Ba=n(97),La=n(2),za=n(11),Ga=n(14),$a=n(9),Va=n(3),Ka=function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"getApps",value:function(e,t){return $a.a.setHeadersForOneRequest({paginationToken:t||""}).get(Va.c.replace("{userName}",e))}},{key:"postApp",value:function(e){return $a.a.post(Va.g,e)}},{key:"updateAppById",value:function(e,t,n){return $a.a.put(Va.d.replace("{userName}",n).replace("{appId}",e),t)}},{key:"deleteAppById",value:function(e,t){return $a.a.delete(Va.d.replace("{userName}",t).replace("{appId}",e))}}]),e}(),Ya=n(4),Ja=n(12),Xa=n(7),Wa=n(6),Za=n(13),Qa=(Sa={},Object(La.a)(Sa,Xa.b,(function(e){return Object(i.a)(regeneratorRuntime.mark((function t(){var n,i,r,a,o,s,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,i=e.state,r=e.rootGetters,t.prev=1,a=r[Object(Ja.a)(Ya.h,Za.j)],t.next=5,Ka.getApps(a);case 5:o=t.sent,s=o.data,n(Wa.f,s.appData),i.selectedApplication&&n(Wa.h,i.selectedApplication.appId),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),"No App Data present"===(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.description)&&n(Wa.f,[]);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()})),Object(La.a)(Sa,Xa.e,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,r=e.rootGetters,a=r[Object(Ja.a)(Ya.h,Za.j)],o=r[Object(Ja.a)(Ya.h,Za.k)],s=Object(At.a)(Object(At.a)({},t),{},{userName:a}),n.prev=4,n.next=7,Ka.postApp(s);case 7:return n.next=9,i(Xa.b);case 9:if("admin"!==o&&"superadmin"!==o){n.next=12;break}return n.next=12,i(Object(Ja.a)(Ya.a,Xa.b),null,{root:!0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),console.log(n.t0);case 17:return n.abrupt("return",Promise.resolve(!0));case 18:case"end":return n.stop()}}),n,null,[[4,14]])})))()})),Object(La.a)(Sa,Xa.i,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,r=e.state,a=e.rootGetters,o=r.selectedApplication.appId,s=a[Object(Ja.a)(Ya.h,Za.j)],n.prev=3,n.next=6,Ka.updateAppById(o,t,s);case 6:return n.next=8,i(Xa.b);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:return n.abrupt("return",Promise.resolve());case 14:case"end":return n.stop()}}),n,null,[[3,10]])})))()})),Object(La.a)(Sa,Xa.f,(function(e){return Object(i.a)(regeneratorRuntime.mark((function t(){var n,i,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,i=e.state,r=e.rootGetters,a=i.selectedApplication.appId,o=r[Object(Ja.a)(Ya.h,Za.j)],t.prev=3,t.next=6,Ka.deleteAppById(a,o);case 6:return t.next=8,n(Xa.b);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:return t.abrupt("return",Promise.resolve());case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()})),Sa),eo=(n(79),{namespaced:!0,state:{data:[],selectedApplication:null},mutations:(wa={},Object(La.a)(wa,Wa.f,(function(e,t){e.data=t})),Object(La.a)(wa,Wa.h,(function(e,t){e.selectedApplication=e.data.find((function(e){return e.appId===t}))})),Object(La.a)(wa,Wa.b,(function(e){e.selectedApplication=null})),wa),actions:Qa,getters:Object(La.a)({},Za.b,(function(e){return e.data.map((function(e){return{appName:e.appName,appId:e.appId,keyIssued:e.keyIssued}}))}))}),to=(n(386),function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"get",value:function(e){return $a.a.setHeadersForOneRequest({paginationToken:e||""}).get(Va.g)}},{key:"getWithSearch",value:function(e,t){return $a.a.get(Va.b.replace("{field}",e).replace("{value}",t))}},{key:"deleteById",value:function(e,t){return $a.a.delete(Va.d.replace("{userName}",e).replace("{appId}",t))}}]),e}()),no=n(37),io=n(210),ro=n.n(io),ao=(qa={},Object(La.a)(qa,Xa.b,(function(e){return Object(i.a)(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,to.get();case 4:i=t.sent,r=i.data,n(Wa.f,r.appData),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()})),Object(La.a)(qa,Xa.c,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e.commit;try{r=[to.getWithSearch("appName",t),to.getWithSearch("userName",t),to.getWithSearch("companyName",t),to.getWithSearch("keyIssued",t)],a=[],Promise.allSettled(r).then((function(e){e.forEach((function(e){"fulfilled"===e.status&&a.push.apply(a,Object(Je.a)(e.value.data))})),i(Wa.f,ro.a.uniqBy(a,"appId"))}))}catch(e){console.log(e)}case 2:case"end":return n.stop()}}),n)})))()})),Object(La.a)(qa,Xa.f,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,r=t.userName,a=t.appId,n.prev=2,n.next=5,no.a.openDialog();case 5:if(!n.sent){n.next=13;break}return n.next=9,to.deleteById(r,a);case 9:return n.next=11,i(Xa.b);case 11:return n.next=13,i(Object(Ja.a)(Ya.f,Xa.b),null,{root:!0});case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[2,15]])})))()})),qa),oo={namespaced:!0,state:{data:[]},mutations:Object(La.a)({},Wa.f,(function(e,t){e.data=t})),actions:ao,getters:Object(La.a)({},Za.a,(function(e,t,n,i){return e.data.map((function(e){var t,r=n[Ya.b].usagePlans;return Object(At.a)(Object(At.a)({},e),{},{company:i[Object(Ja.a)(Ya.c,Za.d)](e.userName),usagePlan:r.length&&(null===(t=r.find((function(t){return t.id===e.usagePlan})))||void 0===t?void 0:t.name)||""})}))}))},so=(n(137),function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"get",value:function(e){return $a.a.setHeadersForOneRequest({paginationToken:e||""}).get(Va.i)}},{key:"updateRole",value:function(e,t){return $a.a.put(Va.z.replace("{userName}",e),t)}},{key:"setUserStatus",value:function(e,t){return $a.a.post(Va.x.replace("{userName}",e),{disableUser:t})}},{key:"deleteByUsername",value:function(e){return $a.a.delete(Va.h.replace("{userName}",e))}}]),e}()),co=(Aa={},Object(La.a)(Aa,Xa.b,(function(e){return Object(i.a)(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,so.get();case 4:i=t.sent,r=i.data,n(Wa.f,r.users),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:return t.abrupt("return",Promise.resolve());case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()})),Object(La.a)(Aa,Xa.j,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a,o,s,c,d,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,r=e.state,a=r.data.find((function(e){return e.userId===t})),o=a.role,s=a.userName,d=(c=["user","admin"]).indexOf(o)+1,l={role:c[d]?c[d]:c[0]},n.prev=5,n.next=8,no.a.openDialog();case 8:if(!n.sent){n.next=14;break}return n.next=12,so.updateRole(s,l);case 12:return n.next=14,i(Xa.b);case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(5),console.log(n.t0);case 19:return n.abrupt("return",Promise.resolve());case 20:case"end":return n.stop()}}),n,null,[[5,16]])})))()})),Object(La.a)(Aa,Xa.g,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,r=e.state,n.prev=1,n.next=4,no.a.openDialog();case 4:if(!n.sent){n.next=11;break}return a=r.data.find((function(e){return e.userName===t})),o=a.userEnabled,n.next=9,so.setUserStatus(t,o);case 9:return n.next=11,i(Xa.b);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()})),Object(La.a)(Aa,Xa.f,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,n.prev=1,n.next=4,no.a.openDialog();case 4:if(!n.sent){n.next=10;break}return n.next=8,so.deleteByUsername(t);case 8:return n.next=10,i(Xa.b);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()})),Aa),lo={namespaced:!0,state:{data:[]},mutations:Object(La.a)({},Wa.f,(function(e,t){e.data=t})),actions:co,getters:(ka={},Object(La.a)(ka,Za.d,(function(e){return function(t){var n;return null===(n=e.data.find((function(e){return e.userName.toLowerCase()===t.toLowerCase()})))||void 0===n?void 0:n.companyName}})),Object(La.a)(ka,Za.c,(function(e){return e.data.map((function(e){var t=e.userEnabled?e.userStatus===Va.f?"Active":"Inactive":"Blocked";return Object(At.a)(Object(At.a)({},e),{},{status:t})}))})),ka)},uo=n(102),ho=n(19),po=(ja={},Object(La.a)(ja,Xa.h,(function(e,t){var n=e.dispatch,i=e.commit;return new Promise((function(e,r){uo.a.signIn(t).then((function(t){var r=t.data,a=r.x_user_token,o=r.id_token,s=r.expires_in,c=r.refresh_token;return ho.a.setValueWithExpires(Va.D,a,s),ho.a.setValueWithExpires(Va.l,o,s),ho.a.setValueWithExpires(Va.s,c,0,30),$a.a.setTokens(),i(Wa.g,!0),n(Object(Ja.a)(Ya.h,Xa.b),null,{root:!0}),e(!0)})).catch((function(e){return r(e)}))}))})),Object(La.a)(ja,Xa.d,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.commit,n.prev=1,n.next=4,no.a.openDialog();case 4:if(!n.sent){n.next=13;break}return n.next=8,uo.a.logOut(t);case 8:ho.a.removeValues(Va.D,Va.l,Va.s),$a.a.removeTokens(),i(Wa.g,!1),i(Object(Ja.a)(Ya.h,Wa.c),null,{root:!0}),window.location.replace("/login/");case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[1,15]])})))()})),ja),mo={namespaced:!0,state:{isLoggedUser:!1},mutations:Object(La.a)({},Wa.g,(function(e,t){e.isLoggedUser=t})),actions:po},fo={namespaced:!0,state:{activeCodeBlock:""},mutations:Object(La.a)({},Wa.d,(function(e,t){e.activeCodeBlock=t}))},vo=function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"updateData",value:function(e,t){return $a.a.put(Va.A.replace("{userName}",t),e)}}]),e}(),bo=function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"getProfile",value:function(){return $a.a.get(Va.a)}}]),e}(),go=(Ia={},Object(La.a)(Ia,Xa.b,(function(e){var t=e.commit,n=e.dispatch;bo.getProfile().then((function(e){var i=e.data;t(Wa.f,i),t(Object(Ja.a)(Ya.d,Wa.g),!0,{root:!0}),"admin"!==i.role&&"superadmin"!==i.role||(n(Object(Ja.a)(Ya.a,Xa.b),null,{root:!0}),n(Object(Ja.a)(Ya.c,Xa.b),null,{root:!0})),n(Object(Ja.a)(Ya.b,Xa.b),null,{root:!0}),n(Object(Ja.a)(Ya.f,Xa.b),null,{root:!0})})).catch(console.log)})),Object(La.a)(Ia,Xa.k,(function(e,t){var n=e.commit,i=e.rootGetters[Object(Ja.a)(Ya.h,Za.j)];return new Promise((function(e){vo.updateData(t,i).then((function(t){var i=t.data;return n(Wa.f,i),e(!0)})).catch(console.log)}))})),Ia),yo={namespaced:!0,state:{userData:{userName:"",timeZone:"",firstName:"",lastName:"",email:"",userId:"",companyName:"",role:""}},mutations:(Oa={},Object(La.a)(Oa,Wa.f,(function(e,t){e.userData=Object(At.a)(Object(At.a)({},e.userData),t)})),Object(La.a)(Oa,Wa.c,(function(e){e.userData={userName:"",timeZone:"",firstName:"",lastName:"",email:"",userId:"",companyName:""}})),Oa),actions:go,getters:(xa={},Object(La.a)(xa,Za.j,(function(e){return e.userData.userName})),Object(La.a)(xa,Za.k,(function(e){return e.userData.role})),xa)},Po=function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"getPlans",value:function(){return $a.a.get(Va.o)}}]),e}(),To=function(){function e(){Object(za.a)(this,e)}return Object(Ga.a)(e,null,[{key:"updateStateById",value:function(e){return $a.a.post(Va.r,e)}},{key:"getPlansWithSearch",value:function(e){return $a.a.get(Va.p.replace("{value}",e))}}]),e}(),Mo=(Ra={},Object(La.a)(Ra,Xa.b,(function(e){return Object(i.a)(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Po.getPlans();case 4:i=t.sent,r=i.data,n(Wa.f,r.planData),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:return t.abrupt("return",Promise.resolve());case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()})),Object(La.a)(Ra,Xa.c,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.commit,n.prev=1,n.next=4,To.getPlansWithSearch(t);case 4:r=n.sent,a=r.data,i(Wa.f,a),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()})),Object(La.a)(Ra,Xa.a,(function(e,t){return Object(i.a)(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.dispatch,r=t.planId,a=t.published,n.prev=2,n.next=5,no.a.openDialog();case 5:if(!n.sent){n.next=11;break}return n.next=9,To.updateStateById({planId:r,published:!a});case 9:return n.next=11,i(Xa.b);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0);case 16:return n.abrupt("return",Promise.resolve());case 17:case"end":return n.stop()}}),n,null,[[2,13]])})))()})),Ra),So=Object(La.a)({},Wa.f,(function(e,t){e.usagePlans=t})),wo=(n(231),{namespaced:!0,state:{usagePlans:[]},mutations:So,actions:Mo,getters:(Ca={},Object(La.a)(Ca,Za.g,(function(e){return e.usagePlans.filter((function(e){return e.published})).map((function(e){return{value:e.id,label:e.name}})).sort((function(e,t){return e.label.localeCompare(t.label,[],{numeric:!0,caseFirst:"upper"})}))})),Object(La.a)(Ca,Za.f,(function(e){return e.usagePlans.map((function(e){var t=e.published?"Publish":"Unpublish";return Object(At.a)(Object(At.a)({},e),{},{state:t})}))})),Ca)}),qo=(Fa={},Object(La.a)(Fa,Wa.a,(function(e,t){var n=t.token;e[t.module].tokens.push(n)})),Object(La.a)(Fa,Wa.e,(function(e,t){var n=t.page;e[t.module].currentPage=n})),Fa),Ao={namespaced:!0,state:(Da={},Object(La.a)(Da,Ya.a,{currentPage:1,tokens:[null]}),Object(La.a)(Da,Ya.c,{currentPage:1,tokens:[null]}),Object(La.a)(Da,Ya.b,{currentPage:1,tokens:[null]}),Object(La.a)(Da,Ya.f,{currentPage:1,tokens:[null]}),Da),mutations:qo,getters:(Ea={},Object(La.a)(Ea,Za.h,(function(e){return function(t){return e[t].tokens[e[t].currentPage]}})),Object(La.a)(Ea,Za.i,(function(e){return function(t){return 1===e[t].currentPage?null:e[t].tokens[e[t].currentPage-2]}})),Object(La.a)(Ea,Za.e,(function(e){return function(t){return e[t].currentPage}})),Ea)},ko=(Na={},Object(La.a)(Na,Ya.f,eo),Object(La.a)(Na,Ya.a,oo),Object(La.a)(Na,Ya.c,lo),Object(La.a)(Na,Ya.b,wo),Object(La.a)(Na,Ya.d,mo),Object(La.a)(Na,Ya.e,fo),Object(La.a)(Na,Ya.h,yo),Object(La.a)(Na,Ya.g,Ao),Na);r.default.use(Ba.a);var jo=new Ba.a.Store({modules:ko}),Io=function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(t){var i,r,a,o,s,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.Vue,t.options,r=t.router,t.siteData,a=t.isServer,i.mixin({store:jo}),i.component("ValidationProvider",Hn),i.component("ValidationObserver",Bn),i.component("v-select",Ht.a),i.component("CodeBlock",Ua.default),i.component("CodeGroup",_a.default),i.use(Ha),i.component("tippy",Pa),o=0,s=Object.entries(We);o<s.length;o++)c=Object(ft.a)(s[o],2),d=c[0],l=c[1],i.component(d,l);if(a){e.next=15;break}return e.next=13,n.e(44).then(n.t.bind(null,501,7)).then((function(e){i.use(e.default,{name:"v-touch"})}));case 13:r.beforeEach((function(e,t,n){"/dashboard/"!==e.path||ho.a.getValue(Va.D)||ho.a.getValue(Va.s)?n():window.location.replace("/login/")})),(ho.a.getValue(Va.D)||ho.a.getValue(Va.s))&&jo.dispatch(Object(Ja.a)(Ya.h,Xa.b));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(387);r.default.component("CodeMainGroup",(function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,521))})),r.default.component("Example",(function(){return n.e(45).then(n.bind(null,522))})),r.default.component("IframeComponent",(function(){return n.e(46).then(n.bind(null,523))})),r.default.component("Mermaid",(function(){return n.e(48).then(n.bind(null,524))})),r.default.component("IndustryHeroSection",(function(){return n.e(47).then(n.bind(null,525))})),r.default.component("TabSection",(function(){return n.e(50).then(n.bind(null,397))})),r.default.component("SwaggerComponent",(function(){return Promise.all([n.e(0),n.e(34),n.e(49)]).then(n.bind(null,526))})),r.default.component("case-study",(function(){return n.e(51).then(n.bind(null,527))})),r.default.component("confirmation-modal",(function(){return Promise.resolve().then(n.bind(null,222))})),r.default.component("contact-us-form",(function(){return n.e(29).then(n.bind(null,528))})),r.default.component("contact-us-modal",(function(){return n.e(52).then(n.bind(null,446))})),r.default.component("copy-btn",(function(){return n.e(53).then(n.bind(null,529))})),r.default.component("cta-2-col",(function(){return n.e(54).then(n.bind(null,530))})),r.default.component("dashboard-content",(function(){return Promise.all([n.e(2),n.e(3),n.e(7)]).then(n.bind(null,531))})),r.default.component("dashboard-modal",(function(){return n.e(35).then(n.bind(null,405))})),r.default.component("demo-component",(function(){return n.e(59).then(n.bind(null,532))})),r.default.component("forgot-password-confirmation",(function(){return n.e(37).then(n.bind(null,533))})),r.default.component("forgot-password-section",(function(){return n.e(38).then(n.bind(null,534))})),r.default.component("glossary-container",(function(){return n.e(60).then(n.bind(null,444))})),r.default.component("glossary-item",(function(){return n.e(61).then(n.bind(null,443))})),r.default.component("home-hero-section",(function(){return n.e(42).then(n.bind(null,535))})),r.default.component("login-section",(function(){return n.e(39).then(n.bind(null,536))})),r.default.component("search-section",(function(){return n.e(63).then(n.bind(null,414))})),r.default.component("set-new-password",(function(){return n.e(40).then(n.bind(null,537))})),r.default.component("side-code-panel",(function(){return n.e(64).then(n.bind(null,538))})),r.default.component("signup-section",(function(){return n.e(41).then(n.bind(null,539))})),r.default.component("sort-by-block",(function(){return n.e(67).then(n.bind(null,416))})),r.default.component("testimonials-carousel",(function(){return Promise.all([n.e(0),n.e(1),n.e(68)]).then(n.bind(null,540))})),r.default.component("testimonials-slide",(function(){return n.e(69).then(n.bind(null,541))})),r.default.component("use-case-card",(function(){return n.e(70).then(n.bind(null,445))})),r.default.component("user-options-block",(function(){return n.e(71).then(n.bind(null,406))})),r.default.component("view-link",(function(){return n.e(72).then(n.bind(null,542))})),r.default.component("dashboard-DashboardCopyButton",(function(){return n.e(57).then(n.bind(null,415))})),r.default.component("dashboard-applications-child",(function(){return n.e(30).then(n.bind(null,450))})),r.default.component("dashboard-all-users-tab",(function(){return Promise.all([n.e(2),n.e(3)]).then(n.bind(null,497))})),r.default.component("dashboard-all-applications-tab",(function(){return Promise.all([n.e(2),n.e(22)]).then(n.bind(null,451))})),r.default.component("dashboard-applications-tab",(function(){return n.e(21).then(n.bind(null,448))})),r.default.component("dashboard-dashboard-tab",(function(){return n.e(26).then(n.bind(null,447))})),r.default.component("dashboard-myAccount-tab",(function(){return n.e(36).then(n.bind(null,449))})),r.default.component("dashboard-plans-tab",(function(){return Promise.all([n.e(2),n.e(23)]).then(n.bind(null,453))})),r.default.component("dashboard-card-links-section",(function(){return n.e(58).then(n.bind(null,409))})),r.default.component("dashboard-table-dashboard-cell",(function(){return n.e(55).then(n.bind(null,407))})),r.default.component("dashboard-table-dashboard-table-bottom",(function(){return n.e(56).then(n.bind(null,412))})),r.default.component("dashboard-table-dashboard-table-top",(function(){return n.e(8).then(n.bind(null,452))})),r.default.component("dashboard-table-index",(function(){return n.e(2).then(n.bind(null,413))})),r.default.component("helpers-spinner-component",(function(){return n.e(62).then(n.bind(null,396))})),r.default.component("simple-accordion-accordion-item",(function(){return n.e(65).then(n.bind(null,395))})),r.default.component("simple-accordion-accordion",(function(){return n.e(66).then(n.bind(null,394))})),r.default.component("CodeGroup",(function(){return Promise.resolve().then(n.bind(null,220))})),r.default.component("CodeBlock",(function(){return Promise.resolve().then(n.bind(null,221))})),r.default.component("Badge",(function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,622))})),r.default.component("CodeBlock",(function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,543))})),r.default.component("CodeGroup",(function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,544))}));n(388),n(389);var Oo=[Io,{},function(e){e.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{},function(e){e.Vue.component("CodeCopy",It)},function(e){var t=e.Vue;e.router.options.scrollBehavior=function(e,n,i){if(i)return window.scrollTo({top:i.y,behavior:"smooth"});if(e.hash){if(t.$vuepress.$get("disableScrollBehavior"))return!1;var r=document.querySelector(e.hash);return!!r&&window.scrollTo({top:(a=r,o=document.documentElement,s=o.getBoundingClientRect(),c=a.getBoundingClientRect(),{x:c.left-s.left,y:c.top-s.top}).y,behavior:"smooth"})}return window.scrollTo({top:0,behavior:"smooth"});var a,o,s,c}}],xo=[];n(211);function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(212);function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fo=n(219),Do=n.n(Fo);function Eo(e,t){return!t||"object"!==Do()(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Co(e);if(t){var r=Co(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Eo(this,n)}}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(n,e);var t=No(n);function n(){return Object(za.a)(this,n),t.apply(this,arguments)}return n}(function(){function e(){Object(za.a)(this,e),this.store=new r.default({data:{state:{}}})}return Object(Ga.a)(e,[{key:"$get",value:function(e){return this.store.state[e]}},{key:"$set",value:function(e,t){r.default.set(this.store.state,e,t)}},{key:"$emit",value:function(){var e;(e=this.store).$emit.apply(e,arguments)}},{key:"$on",value:function(){var e;(e=this.store).$on.apply(e,arguments)}}]),e}());Object.assign(Ho.prototype,{getPageAsyncComponent:lt,getLayoutAsyncComponent:ut,getAsyncComponent:ht,getVueComponent:pt});var Uo={install:function(e){var t=new Ho;e.$vuepress=t,e.prototype.$vuepress=t}};function _o(e){e.beforeEach((function(t,n,i){if(Bo(e,t.path))i();else if(/(\/|\.html)$/.test(t.path))if(/\/$/.test(t.path)){var r=t.path.replace(/\/$/,"")+".html";Bo(e,r)?i(r):i()}else i();else{var a=t.path+"/",o=t.path+".html";Bo(e,o)?i(o):Bo(e,a)?i(a):i()}}))}function Bo(e,t){var n=t.toLowerCase();return e.options.routes.some((function(e){return e.path.toLowerCase()===n}))}var Lo={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(e){var t,n,i=this.pageKey||this.$parent.$page.key;return t="pageKey",n=i,"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[t]=n),r.default.component(i)||r.default.component(i,lt(i)),r.default.component(i)?e(i):e("")}},zo={functional:!0,props:{slotKey:String,required:!0},render:function(e,t){var n=t.props,i=t.slots;return e("div",{class:["content__".concat(n.slotKey)]},i()[n.slotKey])}},Go={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},$o=(n(391),n(392),Object(jt.a)(Go,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[t("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),t("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),t("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function Vo(){return(Vo=Object(i.a)(regeneratorRuntime.mark((function e(t){var n,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:Et.routerBase||Et.base,_o(i=new Ke({base:n,mode:"history",fallback:!1,routes:Dt,scrollBehavior:function(e,t,n){return n||(e.hash?!r.default.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(e.hash)}:{x:0,y:0})}})),a={},e.prev=4,e.next=7,Promise.all(Oo.filter((function(e){return"function"==typeof e})).map((function(e){return e({Vue:r.default,options:a,router:i,siteData:Et,isServer:t})})));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0);case 12:return o=new r.default(Object.assign(a,{router:i,render:function(e){return e("div",{attrs:{id:"app"}},[e("RouterView",{ref:"layout"}),e("div",{class:"global-ui"},xo.map((function(t){return e(t)})))])}})),e.abrupt("return",{app:o,router:i});case 14:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}r.default.config.productionTip=!1,r.default.use(Ke),r.default.use(Uo),r.default.mixin(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default;Ye(t),n.$vuepress.$set("siteData",t);var i=e(n.$vuepress.$get("siteData")),a=new i,o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),s={};return Object.keys(o).reduce((function(e,t){return t.startsWith("$")&&(e[t]=o[t].get),e}),s),{computed:s}}((function(e){return function(){function t(){Object(za.a)(this,t)}return Object(Ga.a)(t,[{key:"setPage",value:function(e){this.__page=e}},{key:"$site",get:function(){return e}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var e,t,n=this.$site.locales,i=void 0===n?{}:n;for(var r in i)"/"===r?t=i[r]:0===this.$page.path.indexOf(r)&&(e=i[r]);return e||t||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var e=this.$page.frontmatter.canonicalUrl;return"string"==typeof e&&e}},{key:"$title",get:function(){var e=this.$page,t=this.$page.frontmatter.metaTitle;if("string"==typeof t)return t;var n=this.$siteTitle,i=e.frontmatter.home?null:e.frontmatter.title||e.title;return n?i?i+" | "+n:n:i||"VuePress"}},{key:"$description",get:function(){var e=function(e){if(e){var t=e.filter((function(e){return"description"===e.name}))[0];if(t)return t.content}}(this.$page.frontmatter.meta);return e||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.path.toLowerCase()===t.toLowerCase())return i}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),t}()}),Et)),r.default.component("Content",Lo),r.default.component("ContentSlotsDistributor",zo),r.default.component("OutboundLink",$o),r.default.component("ClientOnly",{functional:!0,render:function(e,t){var n=t.parent,i=t.children;if(n._isMounted)return i;n.$once("hook:mounted",(function(){n.$forceUpdate()}))}}),r.default.component("Layout",ut("Layout")),r.default.component("NotFound",ut("NotFound")),r.default.prototype.$withBase=function(e){var t=this.$site.base;return"/"===e.charAt(0)?t+e.slice(1):e},window.__VUEPRESS__={version:"1.8.2",hash:"d8567d4f"},function(e){return Vo.apply(this,arguments)}(!1).then((function(e){var t=e.app;e.router.onReady((function(){t.$mount("#app")}))}))}]);